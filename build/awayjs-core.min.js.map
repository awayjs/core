{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "awayjs-core.js",
    "awayjs-core/lib/attributes/AttributesBuffer.ts",
    "awayjs-core/lib/attributes/AttributesView.ts",
    "awayjs-core/lib/attributes/Byte1Attributes.ts",
    "awayjs-core/lib/attributes/Byte2Attributes.ts",
    "awayjs-core/lib/attributes/Byte3Attributes.ts",
    "awayjs-core/lib/attributes/Byte4Attributes.ts",
    "awayjs-core/lib/attributes/Float1Attributes.ts",
    "awayjs-core/lib/attributes/Float2Attributes.ts",
    "awayjs-core/lib/attributes/Float3Attributes.ts",
    "awayjs-core/lib/attributes/Float4Attributes.ts",
    "awayjs-core/lib/attributes/Short2Attributes.ts",
    "awayjs-core/lib/attributes/Short3Attributes.ts",
    "awayjs-core/lib/audio/WaveAudio.ts",
    "awayjs-core/lib/errors/AbstractMethodError.ts",
    "awayjs-core/lib/errors/ArgumentError.ts",
    "awayjs-core/lib/errors/DocumentError.ts",
    "awayjs-core/lib/errors/ErrorBase.ts",
    "awayjs-core/lib/errors/PartialImplementationError.ts",
    "awayjs-core/lib/errors/RangeError.ts",
    "awayjs-core/lib/events/AssetEvent.ts",
    "awayjs-core/lib/events/EventBase.ts",
    "awayjs-core/lib/events/EventDispatcher.ts",
    "awayjs-core/lib/events/LoaderEvent.ts",
    "awayjs-core/lib/events/ParserEvent.ts",
    "awayjs-core/lib/events/ProjectionEvent.ts",
    "awayjs-core/lib/events/TimerEvent.ts",
    "awayjs-core/lib/events/URLLoaderEvent.ts",
    "awayjs-core/lib/geom/Box.ts",
    "awayjs-core/lib/geom/ColorTransform.ts",
    "awayjs-core/lib/geom/MathConsts.ts",
    "awayjs-core/lib/geom/Matrix3DUtils.ts",
    "awayjs-core/lib/geom/Matrix3D.ts",
    "awayjs-core/lib/geom/Matrix.ts",
    "awayjs-core/lib/geom/Orientation3D.ts",
    "awayjs-core/lib/geom/PerspectiveProjection.ts",
    "awayjs-core/lib/geom/Plane3D.ts",
    "awayjs-core/lib/geom/PlaneClassification.ts",
    "awayjs-core/lib/geom/Point.ts",
    "awayjs-core/lib/geom/PoissonLookup.ts",
    "awayjs-core/lib/geom/Quaternion.ts",
    "awayjs-core/lib/geom/Rectangle.ts",
    "awayjs-core/lib/geom/Sphere.ts",
    "awayjs-core/lib/geom/Vector3D.ts",
    "awayjs-core/lib/image/BitmapImage2D.ts",
    "awayjs-core/lib/image/BitmapImageChannel.ts",
    "awayjs-core/lib/image/BitmapImageCube.ts",
    "awayjs-core/lib/image/BlendMode.ts",
    "awayjs-core/lib/image/CPUCanvas.ts",
    "awayjs-core/lib/image/CPURenderingContext2D.ts",
    "awayjs-core/lib/image/Image2D.ts",
    "awayjs-core/lib/image/ImageBase.ts",
    "awayjs-core/lib/image/ImageCube.ts",
    "awayjs-core/lib/image/ImageData.ts",
    "awayjs-core/lib/image/Sampler2D.ts",
    "awayjs-core/lib/image/SamplerBase.ts",
    "awayjs-core/lib/image/SamplerCube.ts",
    "awayjs-core/lib/image/SpecularImage2D.ts",
    "awayjs-core/lib/library/AbstractionBase.ts",
    "awayjs-core/lib/library/AssetBase.ts",
    "awayjs-core/lib/library/AssetLibraryBundle.ts",
    "awayjs-core/lib/library/AssetLibraryIterator.ts",
    "awayjs-core/lib/library/AssetLibrary.ts",
    "awayjs-core/lib/library/ConflictPrecedence.ts",
    "awayjs-core/lib/library/ConflictStrategyBase.ts",
    "awayjs-core/lib/library/ConflictStrategy.ts",
    "awayjs-core/lib/library/ErrorConflictStrategy.ts",
    "awayjs-core/lib/library/IDUtil.ts",
    "awayjs-core/lib/library/IgnoreConflictStrategy.ts",
    "awayjs-core/lib/library/LoaderContext.ts",
    "awayjs-core/lib/library/LoaderInfo.ts",
    "awayjs-core/lib/library/Loader.ts",
    "awayjs-core/lib/library/NumSuffixConflictStrategy.ts",
    "awayjs-core/lib/managers/AudioChannel.ts",
    "awayjs-core/lib/managers/AudioManager.ts",
    "awayjs-core/lib/managers/EventAudioChannel.ts",
    "awayjs-core/lib/managers/StreamingAudioChannel.ts",
    "awayjs-core/lib/managers/WebAudioChannel.ts",
    "awayjs-core/lib/net/CrossDomainPolicy.ts",
    "awayjs-core/lib/net/URLLoaderDataFormat.ts",
    "awayjs-core/lib/net/URLLoader.ts",
    "awayjs-core/lib/net/URLRequestMethod.ts",
    "awayjs-core/lib/net/URLRequest.ts",
    "awayjs-core/lib/net/URLVariables.ts",
    "awayjs-core/lib/parsers/Image2DParser.ts",
    "awayjs-core/lib/parsers/ImageCubeParser.ts",
    "awayjs-core/lib/parsers/ParserBase.ts",
    "awayjs-core/lib/parsers/ParserDataFormat.ts",
    "awayjs-core/lib/parsers/ParserUtils.ts",
    "awayjs-core/lib/parsers/ResourceDependency.ts",
    "awayjs-core/lib/parsers/TextureAtlasParser.ts",
    "awayjs-core/lib/parsers/WaveAudioParser.ts",
    "awayjs-core/lib/projections/CoordinateSystem.ts",
    "awayjs-core/lib/projections/FreeMatrixProjection.ts",
    "awayjs-core/lib/projections/ObliqueNearPlaneProjection.ts",
    "awayjs-core/lib/projections/OrthographicOffCenterProjection.ts",
    "awayjs-core/lib/projections/OrthographicProjection.ts",
    "awayjs-core/lib/projections/PerspectiveProjection.ts",
    "awayjs-core/lib/projections/ProjectionBase.ts",
    "awayjs-core/lib/ui/Keyboard.ts",
    "awayjs-core/lib/utils/BitmapImageUtils.ts",
    "awayjs-core/lib/utils/ByteArrayBase.ts",
    "awayjs-core/lib/utils/ByteArrayBuffer.ts",
    "awayjs-core/lib/utils/ByteArray.ts",
    "awayjs-core/lib/utils/CSS.ts",
    "awayjs-core/lib/utils/ColorUtils.ts",
    "awayjs-core/lib/utils/Debug.ts",
    "awayjs-core/lib/utils/Extensions.ts",
    "awayjs-core/lib/utils/ImageUtils.ts",
    "awayjs-core/lib/utils/MipmapGenerator.ts",
    "awayjs-core/lib/utils/RequestAnimationFrame.ts",
    "awayjs-core/lib/utils/Timer.ts",
    "awayjs-core/lib/utils/XmlUtils.ts",
    "awayjs-core/lib/utils/getTimer.ts"
  ],
  "names": [
    "require",
    "e",
    "t",
    "n",
    "r",
    "s",
    "o",
    "u",
    "a",
    "i",
    "f",
    "Error",
    "code",
    "l",
    "exports",
    "call",
    "length",
    "awayjs-core/lib/attributes/AttributesBuffer",
    "module",
    "__extends",
    "this",
    "d",
    "b",
    "p",
    "hasOwnProperty",
    "__",
    "constructor",
    "prototype",
    "AssetBase",
    "AttributesBuffer",
    "_super",
    "stride",
    "count",
    "_count",
    "_stride",
    "_newStride",
    "_viewVOs",
    "Array",
    "_buffer",
    "ArrayBuffer",
    "_bufferView",
    "Uint8Array",
    "byteLength",
    "Object",
    "defineProperty",
    "get",
    "assetType",
    "enumerable",
    "configurable",
    "_lengthDirty",
    "_updateLength",
    "set",
    "value",
    "resize",
    "_contentDirty",
    "buffer",
    "invalidate",
    "clear",
    "clone",
    "attributesBuffer",
    "bufferView",
    "len",
    "view",
    "_internalClone",
    "getView",
    "index",
    "_setAttributes",
    "viewIndex",
    "arrayBufferView",
    "offset",
    "array",
    "viewVO",
    "vLength",
    "vOffset",
    "vCount",
    "subarray",
    "_getLocalArrayBuffer",
    "localBuffer",
    "localBufferView",
    "_addView",
    "ViewVO",
    "push",
    "_index",
    "_removeView",
    "splice",
    "dispose",
    "_getOffset",
    "j",
    "newLength",
    "newBuffer",
    "newView",
    "vOldOffset",
    "oldOffset",
    "Math",
    "min",
    "size",
    "dimensions",
    "awayjs-core/lib/library/AssetBase",
    "awayjs-core/lib/attributes/AttributesView",
    "AttributesView",
    "arrayClass",
    "attributesBufferCount",
    "unsigned",
    "_arrayClass",
    "_size",
    "BYTES_PER_ELEMENT",
    "_dimensions",
    "_attributesBuffer",
    "_unsigned",
    "values",
    "_localArrayBuffer",
    "_cloneCache",
    "cloneCache",
    "awayjs-core/lib/attributes/Byte1Attributes",
    "Byte1Attributes",
    "attributesBufferLength",
    "Int8Array",
    "awayjs-core/lib/attributes/Byte2Attributes",
    "Byte2Attributes",
    "awayjs-core/lib/attributes/Byte3Attributes",
    "Byte3Attributes",
    "awayjs-core/lib/attributes/Byte4Attributes",
    "Byte4Attributes",
    "awayjs-core/lib/attributes/Float1Attributes",
    "Float1Attributes",
    "Float32Array",
    "awayjs-core/lib/attributes/Float2Attributes",
    "Float2Attributes",
    "awayjs-core/lib/attributes/Float3Attributes",
    "Float3Attributes",
    "awayjs-core/lib/attributes/Float4Attributes",
    "Float4Attributes",
    "awayjs-core/lib/attributes/Short2Attributes",
    "Short2Attributes",
    "Uint16Array",
    "Int16Array",
    "awayjs-core/lib/attributes/Short3Attributes",
    "Short3Attributes",
    "awayjs-core/lib/audio/WaveAudio",
    "AudioManager",
    "WaveAudio",
    "_volume",
    "_audioChannel",
    "volume",
    "currentTime",
    "duration",
    "stop",
    "play",
    "loop",
    "getChannel",
    "id",
    "newInstance",
    "name",
    "awayjs-core/lib/managers/AudioManager",
    "awayjs-core/lib/errors/AbstractMethodError",
    "ErrorBase",
    "AbstractMethodError",
    "message",
    "awayjs-core/lib/errors/ErrorBase",
    "awayjs-core/lib/errors/ArgumentError",
    "ArgumentError",
    "awayjs-core/lib/errors/DocumentError",
    "DocumentError",
    "DOCUMENT_DOES_NOT_EXIST",
    "_name",
    "_errorID",
    "_messsage",
    "awayjs-core/lib/errors/PartialImplementationError",
    "PartialImplementationError",
    "dependency",
    "awayjs-core/lib/errors/RangeError",
    "RangeError",
    "awayjs-core/lib/events/AssetEvent",
    "EventBase",
    "AssetEvent",
    "type",
    "asset",
    "prevName",
    "_asset",
    "_prevName",
    "INVALIDATE",
    "DISPOSE",
    "CLEAR",
    "RENAME",
    "ENTER_FRAME",
    "EXIT_FRAME",
    "ASSET_CONFLICT_RESOLVED",
    "ASSET_COMPLETE",
    "TEXTURE_SIZE_ERROR",
    "awayjs-core/lib/events/EventBase",
    "undefined",
    "target",
    "awayjs-core/lib/events/EventDispatcher",
    "EventDispatcher",
    "listenerObjects",
    "addEventListener",
    "listener",
    "ListenerObject",
    "removeEventListener",
    "numListeners",
    "dispatchEvent",
    "event",
    "hasEventListener",
    "getEventListenerIndex",
    "listeners",
    "awayjs-core/lib/events/IEventDispatcher",
    "awayjs-core/lib/events/LoaderEvent",
    "LoaderEvent",
    "url",
    "content",
    "assets",
    "_url",
    "_content",
    "_assets",
    "LOAD_COMPLETE",
    "awayjs-core/lib/events/ParserEvent",
    "ParserEvent",
    "_message",
    "PARSE_COMPLETE",
    "PARSE_ERROR",
    "READY_FOR_DEPENDENCIES",
    "awayjs-core/lib/events/ProjectionEvent",
    "ProjectionEvent",
    "projection",
    "_projection",
    "MATRIX_CHANGED",
    "awayjs-core/lib/events/TimerEvent",
    "TimerEvent",
    "TIMER",
    "TIMER_COMPLETE",
    "awayjs-core/lib/events/URLLoaderEvent",
    "URLLoaderEvent",
    "urlLoader",
    "_urlLoader",
    "HTTP_STATUS",
    "LOAD_ERROR",
    "LOAD_PROGRESS",
    "LOAD_START",
    "awayjs-core/lib/geom/Box",
    "Vector3D",
    "Box",
    "x",
    "y",
    "z",
    "width",
    "height",
    "depth",
    "val",
    "_bottomRightBack",
    "_topLeftFront",
    "contains",
    "containsPoint",
    "position",
    "containsBox",
    "box",
    "copyFrom",
    "sourceBox",
    "equals",
    "toCompare",
    "inflate",
    "dx",
    "dy",
    "dz",
    "inflatePoint",
    "delta",
    "intersection",
    "toIntersect",
    "intersects",
    "rayIntersection",
    "direction",
    "targetNormal",
    "halfExtentsX",
    "halfExtentsY",
    "halfExtentsZ",
    "centerX",
    "centerY",
    "centerZ",
    "px",
    "py",
    "pz",
    "vx",
    "vy",
    "vz",
    "ix",
    "iy",
    "iz",
    "rayEntryDistance",
    "closestPointToPoint",
    "point",
    "isEmpty",
    "offsetPosition",
    "setEmpty",
    "setBoundIdentity",
    "Number",
    "MAX_VALUE",
    "setTo",
    "xa",
    "ya",
    "za",
    "widtha",
    "heighta",
    "deptha",
    "toString",
    "union",
    "toUnion",
    "awayjs-core/lib/geom/Vector3D",
    "awayjs-core/lib/geom/ColorTransform",
    "ColorUtils",
    "ColorTransform",
    "redMultiplier",
    "greenMultiplier",
    "blueMultiplier",
    "alphaMultiplier",
    "redOffset",
    "greenOffset",
    "blueOffset",
    "alphaOffset",
    "argb",
    "float32ColorToARGB",
    "source",
    "copyTo",
    "destination",
    "prepend",
    "ct",
    "awayjs-core/lib/utils/ColorUtils",
    "awayjs-core/lib/geom/MathConsts",
    "MathConsts",
    "RADIANS_TO_DEGREES",
    "PI",
    "DEGREES_TO_RADIANS",
    "awayjs-core/lib/geom/Matrix3DUtils",
    "Matrix3D",
    "Matrix3DUtils",
    "quaternion2matrix",
    "quarternion",
    "m",
    "w",
    "xx",
    "xy",
    "xz",
    "xw",
    "yy",
    "yz",
    "yw",
    "zz",
    "zw",
    "raw",
    "RAW_DATA_CONTAINER",
    "copyRawDataFrom",
    "getForward",
    "v",
    "copyColumnTo",
    "normalize",
    "getUp",
    "getRight",
    "compare",
    "m1",
    "m2",
    "r1",
    "r2",
    "rawData",
    "copyRawDataTo",
    "lookAt",
    "matrix",
    "pos",
    "dir",
    "up",
    "dirN",
    "upN",
    "lftN",
    "crossProduct",
    "dotProduct",
    "reflection",
    "plane",
    "c",
    "ab2",
    "ac2",
    "bc2",
    "transformVector",
    "vector",
    "result",
    "g",
    "k",
    "h",
    "deltaTransformVector",
    "getTranslation",
    "transform",
    "deltaTransformVectors",
    "vin",
    "vout",
    "outIndex",
    "CALCULATION_MATRIX",
    "awayjs-core/lib/geom/Matrix3D",
    "Orientation3D",
    "_position",
    "_positionDirty",
    "identity",
    "append",
    "lhs",
    "lrd",
    "m111",
    "m112",
    "m113",
    "m114",
    "m121",
    "m122",
    "m123",
    "m124",
    "m131",
    "m132",
    "m133",
    "m134",
    "m141",
    "m142",
    "m143",
    "m144",
    "m211",
    "m212",
    "m213",
    "m214",
    "m221",
    "m222",
    "m223",
    "m224",
    "m231",
    "m232",
    "m233",
    "m234",
    "m241",
    "m242",
    "m243",
    "m244",
    "appendRotation",
    "degrees",
    "axis",
    "getAxisRotation",
    "appendSkew",
    "xSkew",
    "ySkew",
    "zSkew",
    "tempRawData",
    "tempMatrix",
    "appendScale",
    "xScale",
    "yScale",
    "zScale",
    "appendTranslation",
    "copyColumnFrom",
    "column",
    "vector3D",
    "sourceRaw",
    "targetRaw",
    "transpose",
    "copyRowFrom",
    "row",
    "copyRowTo",
    "decompose",
    "orientationStyle",
    "q",
    "_components",
    "colX",
    "colY",
    "colZ",
    "scale",
    "skew",
    "scaleBy",
    "combine",
    "rot",
    "AXIS_ANGLE",
    "acos",
    "sqrt",
    "QUATERNION",
    "tr",
    "EULER_ANGLES",
    "asin",
    "atan2",
    "interpolate",
    "thisMat",
    "toMat",
    "percent",
    "interpolateTo",
    "invert",
    "determinant",
    "invertable",
    "abs",
    "m11",
    "m12",
    "m13",
    "m14",
    "m21",
    "m22",
    "m23",
    "m24",
    "m31",
    "m32",
    "m33",
    "m34",
    "m41",
    "m42",
    "m43",
    "m44",
    "rhs",
    "prependRotation",
    "prependScale",
    "prependTranslation",
    "recompose",
    "components",
    "sin",
    "cos",
    "rotation",
    "angle",
    "transformBox",
    "minX",
    "minY",
    "minZ",
    "maxX",
    "maxY",
    "maxZ",
    "transformVectors",
    "rad",
    "tmp1",
    "tmp2",
    "invalidatePosition",
    "toFixed",
    "decimalPlace",
    "magnitude",
    "pow",
    "round",
    "awayjs-core/lib/geom/Orientation3D",
    "awayjs-core/lib/geom/Matrix",
    "Point",
    "Matrix",
    "tx",
    "ty",
    "concat",
    "a1",
    "c1",
    "tx1",
    "sourceMatrix",
    "createBox",
    "scaleX",
    "scaleY",
    "createGradientBox",
    "deltaTransformPoint",
    "norm",
    "multiply",
    "rotate",
    "sx",
    "sy",
    "transformPoint",
    "translate",
    "awayjs-core/lib/geom/Point",
    "awayjs-core/lib/geom/PerspectiveProjection",
    "PerspectiveProjection",
    "toMatrix3D",
    "_matrix3D",
    "awayjs-core/lib/geom/Plane3D",
    "PlaneClassification",
    "Plane3D",
    "_iAlignment",
    "ALIGN_XY_AXIS",
    "ALIGN_YZ_AXIS",
    "ALIGN_XZ_AXIS",
    "ALIGN_ANY",
    "fromPoints",
    "p0",
    "p1",
    "p2",
    "d1x",
    "d1y",
    "d1z",
    "d2x",
    "d2y",
    "d2z",
    "fromNormalAndPoint",
    "normal",
    "distance",
    "classifyPoint",
    "epsilon",
    "FRONT",
    "BACK",
    "INTERSECT",
    "awayjs-core/lib/geom/PlaneClassification",
    "IN",
    "OUT",
    "add",
    "sourcePoint",
    "thickness",
    "invLength",
    "subtract",
    "pt1",
    "pt2",
    "polar",
    "awayjs-core/lib/geom/PoissonLookup",
    "PoissonLookup",
    "initDistributions",
    "_distributions",
    "getDistribution",
    "awayjs-core/lib/geom/Quaternion",
    "Quaternion",
    "qa",
    "qb",
    "w1",
    "x1",
    "y1",
    "z1",
    "w2",
    "x2",
    "y2",
    "z2",
    "multiplyVector",
    "fromAxisAngle",
    "sin_a",
    "cos_a",
    "slerp",
    "dot",
    "s1",
    "s2",
    "lerp",
    "fromEulerAngles",
    "ax",
    "ay",
    "az",
    "halfX",
    "halfY",
    "halfZ",
    "cosX",
    "sinX",
    "cosY",
    "sinY",
    "cosZ",
    "sinZ",
    "toEulerAngles",
    "mag",
    "xy2",
    "xz2",
    "xw2",
    "yz2",
    "yw2",
    "zw2",
    "ww",
    "fromMatrix",
    "toRawData",
    "exclude4thRow",
    "rotatePoint",
    "awayjs-core/lib/geom/Rectangle",
    "Rectangle",
    "_bottomRight",
    "_topLeft",
    "containsRect",
    "rect",
    "sourceRect",
    "offsetPoint",
    "awayjs-core/lib/geom/Sphere",
    "Sphere",
    "radius",
    "det",
    "sqrtDet",
    "lengthSquared",
    "angleBetween",
    "ascl",
    "bscl",
    "src",
    "decrementBy",
    "allFour",
    "incrementBy",
    "nearEquals",
    "tolerance",
    "negate",
    "project",
    "X_AXIS",
    "Y_AXIS",
    "Z_AXIS",
    "awayjs-core/lib/image/BitmapImage2D",
    "Image2D",
    "BitmapImageUtils",
    "CPUCanvas",
    "BitmapImage2D",
    "transparent",
    "fillColor",
    "powerOfTwo",
    "_locked",
    "_transparent",
    "document",
    "_imageCanvas",
    "createElement",
    "_context",
    "getContext",
    "fillRect",
    "_rect",
    "draw",
    "colorTransform",
    "_imageData",
    "getImageData",
    "data",
    "putImageData",
    "copyChannel",
    "sourceBitmap",
    "destPoint",
    "sourceChannel",
    "destChannel",
    "imageData",
    "sourceData",
    "destData",
    "sourceOffset",
    "log",
    "destOffset",
    "sourceIndex",
    "destIndex",
    "copyPixels",
    "destRect",
    "getCanvas",
    "_copyPixels",
    "blendMode",
    "clipRect",
    "smoothing",
    "_draw",
    "color",
    "_fillRect",
    "getPixel",
    "pixelData",
    "getPixel32",
    "lock",
    "setArray",
    "inputArray",
    "setPixel",
    "setPixel32",
    "setPixels",
    "inputByteArray",
    "readUnsignedInt",
    "unlock",
    "_setSize",
    "awayjs-core/lib/image/CPUCanvas",
    "awayjs-core/lib/image/Image2D",
    "awayjs-core/lib/utils/BitmapImageUtils",
    "awayjs-core/lib/image/BitmapImageChannel",
    "BitmapImageChannel",
    "ALPHA",
    "BLUE",
    "GREEN",
    "RED",
    "awayjs-core/lib/image/BitmapImageCube",
    "ImageCube",
    "BitmapImageCube",
    "side",
    "posX",
    "negX",
    "posY",
    "negY",
    "posZ",
    "negZ",
    "awayjs-core/lib/image/ImageCube",
    "awayjs-core/lib/image/BlendMode",
    "BlendMode",
    "ADD",
    "DARKEN",
    "DIFFERENCE",
    "ERASE",
    "HARDLIGHT",
    "INVERT",
    "LAYER",
    "LIGHTEN",
    "MULTIPLY",
    "NORMAL",
    "OVERLAY",
    "SCREEN",
    "SHADER",
    "SUBTRACT",
    "CPURenderingContext2D",
    "ImageData",
    "reset",
    "contextId",
    "awayjs-core/lib/image/CPURenderingContext2D",
    "awayjs-core/lib/image/ImageData",
    "cpuCanvas",
    "point2",
    "restore",
    "setTransform",
    "save",
    "arc",
    "startAngle",
    "endAngle",
    "anticlockwise",
    "measureText",
    "text",
    "isPointInPath",
    "fillRule",
    "quadraticCurveTo",
    "cpx",
    "cpy",
    "imagedata",
    "dirtyX",
    "dirtyY",
    "dirtyWidth",
    "dirtyHeight",
    "fillText",
    "maxWidth",
    "createRadialGradient",
    "x0",
    "y0",
    "r0",
    "lineTo",
    "getLineDash",
    "fill",
    "createImageData",
    "imageDataOrSw",
    "sh",
    "createPattern",
    "image",
    "repetition",
    "closePath",
    "clip",
    "clearRect",
    "moveTo",
    "sw",
    "applyPixel32",
    "floor",
    "copyPixel32",
    "fromX",
    "fromY",
    "fromIndex",
    "fillStyle",
    "parsedFillStyle",
    "colorStrings",
    "substring",
    "lastIndexOf",
    "split",
    "parsedA",
    "parseFloat",
    "parsedR",
    "parseInt",
    "parsedG",
    "parsedB",
    "bezierCurveTo",
    "cp1x",
    "cp1y",
    "cp2x",
    "cp2y",
    "drawImage",
    "offsetX",
    "offsetY",
    "canvasOffsetX",
    "canvasOffsetY",
    "canvasImageWidth",
    "canvasImageHeight",
    "indexOf",
    "bitmap",
    "drawBitmap",
    "htmlImage",
    "htmlCanvas",
    "htmlContext",
    "htmlImageData",
    "resultBitmap",
    "passBitmap",
    "canvas",
    "canvasImageData",
    "sampleBilinear",
    "sampleBox",
    "sample",
    "stroke",
    "strokeRect",
    "setLineDash",
    "segments",
    "strokeText",
    "beginPath",
    "arcTo",
    "createLinearGradient",
    "texture",
    "texelSizeX",
    "texelSizeY",
    "color00",
    "color10",
    "color01",
    "color11",
    "interColor0",
    "interpolateColor",
    "interColor1",
    "area",
    "xsize",
    "ysize",
    "toY",
    "ceil",
    "max",
    "toX",
    "awayjs-core/lib/image/IImageCanvas",
    "ImageBase",
    "ImageUtils",
    "_powerOfTwo",
    "_testDimensions",
    "isDimensionValid",
    "awayjs-core/lib/image/ImageBase",
    "awayjs-core/lib/utils/ImageUtils",
    "_pFormat",
    "awayjs-core/lib/image/Sampler2D",
    "SamplerBase",
    "Sampler2D",
    "repeat",
    "smooth",
    "mipmap",
    "_repeat",
    "_updateRect",
    "_imageRect",
    "_frameRect",
    "awayjs-core/lib/image/SamplerBase",
    "_smooth",
    "_mipmap",
    "awayjs-core/lib/image/SamplerCube",
    "SamplerCube",
    "awayjs-core/lib/image/SpecularImage2D",
    "SpecularImage2D",
    "specularSource",
    "glossSource",
    "_specularSource",
    "_glossSource",
    "_output",
    "_testSize",
    "origin",
    "awayjs-core/lib/library/AbstractionBase",
    "AbstractionBase",
    "pool",
    "_this",
    "_invalid",
    "_pool",
    "_onClearDelegate",
    "onClear",
    "_onInvalidateDelegate",
    "onInvalidate",
    "clearAbstraction",
    "_id",
    "ID_COUNT",
    "_originalName",
    "updateFullPath",
    "prev",
    "_namespace",
    "_full_path",
    "assetPathEquals",
    "ns",
    "isAsset",
    "assetClass",
    "resetAssetPath",
    "overrideOriginal",
    "DEFAULT_NAMESPACE",
    "awayjs-core/lib/library/AssetLibraryBundle",
    "AssetLibraryIterator",
    "Loader",
    "ConflictPrecedence",
    "ConflictStrategy",
    "AssetLibraryBundle",
    "_loaderSessionsGarbage",
    "_assetDictionary",
    "_loaderSessions",
    "conflictStrategy",
    "IGNORE",
    "create",
    "conflictPrecedence",
    "FAVOR_NEW",
    "_onAssetRenameDelegate",
    "onAssetRename",
    "_onAssetConflictResolvedDelegate",
    "onAssetConflictResolved",
    "_onResourceCompleteDelegate",
    "onResourceComplete",
    "_onTextureSizeErrorDelegate",
    "onTextureSizeError",
    "_onAssetCompleteDelegate",
    "onAssetComplete",
    "_onLoadErrorDelegate",
    "onLoadError",
    "_onParseErrorDelegate",
    "onParseError",
    "getInstance",
    "key",
    "_iInstances",
    "enableParser",
    "parserClass",
    "enableParsers",
    "parserClasses",
    "_strategy",
    "_strategyPreference",
    "createIterator",
    "assetTypeFilter",
    "namespaceFilter",
    "filterFunc",
    "load",
    "req",
    "context",
    "parser",
    "getLoader",
    "loadData",
    "loader",
    "_iAddErrorHandler",
    "_iAddParseErrorHandler",
    "disposeLoader",
    "_gcTimeoutIID",
    "setTimeout",
    "loaderSessionGC",
    "getAsset",
    "_assetDictDirty",
    "rehashAssetDict",
    "getAllAssets",
    "addAsset",
    "old",
    "assetNamespace",
    "resolveConflict",
    "removeAsset",
    "idx",
    "removeAssetFromDict",
    "removeAssetByName",
    "removeAllAssets",
    "removeNamespaceAssets",
    "old_assets",
    "autoRemoveEmptyNamespace",
    "empty",
    "stopAllLoaders",
    "killloaderSession",
    "pop",
    "clearTimeout",
    "dict",
    "awayjs-core/lib/library/AssetLibraryIterator",
    "awayjs-core/lib/library/ConflictPrecedence",
    "awayjs-core/lib/library/ConflictStrategy",
    "awayjs-core/lib/library/Loader",
    "filter",
    "_idx",
    "_filtered",
    "next",
    "setIndex",
    "awayjs-core/lib/library/AssetLibrary",
    "AssetLibrary",
    "getBundle",
    "stopLoad",
    "FAVOR_OLD",
    "awayjs-core/lib/library/ConflictStrategyBase",
    "ConflictStrategyBase",
    "changedAsset",
    "oldAsset",
    "assetsDictionary",
    "precedence",
    "_pUpdateNames",
    "nonConflictingName",
    "newAsset",
    "loser_prev_name",
    "winner",
    "loser",
    "ErrorConflictStrategy",
    "IgnoreConflictStrategy",
    "NumSuffixConflictStrategy",
    "include",
    "APPEND_NUM_SUFFIX",
    "THROW_ERROR",
    "awayjs-core/lib/library/ErrorConflictStrategy",
    "awayjs-core/lib/library/IgnoreConflictStrategy",
    "awayjs-core/lib/library/NumSuffixConflictStrategy",
    "assetFullPath",
    "awayjs-core/lib/library/IAbstractionPool",
    "awayjs-core/lib/library/IAssetClass",
    "awayjs-core/lib/library/IAsset",
    "awayjs-core/lib/library/IDUtil",
    "IDUtil",
    "createUID",
    "uid",
    "ALPHA_CHAR_CODES",
    "random",
    "time",
    "Date",
    "getTime",
    "timeString",
    "toUpperCase",
    "substr",
    "charCodeAt",
    "String",
    "fromCharCode",
    "apply",
    "awayjs-core/lib/library/LoaderContext",
    "LoaderContext",
    "includeDependencies",
    "dependencyBaseUrl",
    "_includeDependencies",
    "_dependencyBaseUrl",
    "_embeddedDataByUrl",
    "_remappedUrls",
    "_materialMode",
    "UNDEFINED",
    "materialMode",
    "_overrideAbsPath",
    "_overrideFullUrls",
    "mapUrl",
    "originalUrl",
    "newUrl",
    "mapUrlToData",
    "_iHasDataForUrl",
    "_iGetDataForUrl",
    "_iHasMappingForUrl",
    "_iGetRemappedUrl",
    "SINGLEPASS_MATERIALS",
    "MULTIPASS_MATERIALS",
    "awayjs-core/lib/library/LoaderInfo",
    "LoaderInfo",
    "arguments",
    "_bytes",
    "_bytesLoaded",
    "_bytesTotal",
    "_contentType",
    "_loader",
    "URLLoader",
    "URLLoaderDataFormat",
    "Image2DParser",
    "ImageCubeParser",
    "TextureAtlasParser",
    "ResourceDependency",
    "WaveAudioParser",
    "_stack",
    "_errorHandlers",
    "_parseErrorHandlers",
    "_onReadyForDependenciesDelegate",
    "onReadyForDependencies",
    "_onParseCompleteDelegate",
    "onParseComplete",
    "_onLoadCompleteDelegate",
    "onLoadComplete",
    "_parsers",
    "parsers",
    "_baseDependency",
    "_loaderInfo",
    "_uri",
    "replace",
    "retrieveDependency",
    "retrieveNext",
    "_currentDependency",
    "dependencies",
    "parsingPaused",
    "_iResumeParsing",
    "_iSuccess",
    "resolve",
    "_iLoader",
    "addEventListeners",
    "request",
    "Function",
    "_iSetData",
    "retrieveAsRawData",
    "parseDependency",
    "resolveDependencyUrl",
    "dataFormat",
    "BINARY",
    "_iSetParser",
    "getParserFromSuffix",
    "joinUrl",
    "base",
    "end",
    "charAt",
    "scheme_re",
    "RegExp",
    "overrideAbsolutePaths",
    "test",
    "overrideFullURLs",
    "noscheme_url",
    "retrieveParserDependencies",
    "parserDependancies",
    "resolveParserDependencies",
    "handled",
    "isDependency",
    "removeEventListeners",
    "resolveFailure",
    "suppresAssetEvents",
    "resolveName",
    "handler",
    "getParserFromData",
    "supportsData",
    "_iFileName",
    "parseAsync",
    "fileExtension",
    "toLowerCase",
    "supportsType",
    "awayjs-core/lib/net/URLLoader",
    "awayjs-core/lib/net/URLLoaderDataFormat",
    "awayjs-core/lib/parsers/Image2DParser",
    "awayjs-core/lib/parsers/ImageCubeParser",
    "awayjs-core/lib/parsers/ResourceDependency",
    "awayjs-core/lib/parsers/TextureAtlasParser",
    "awayjs-core/lib/parsers/WaveAudioParser",
    "separator",
    "_separator",
    "_next_suffix",
    "orig",
    "new_name",
    "suffix",
    "isNaN",
    "awayjs-core/lib/managers/AudioChannel",
    "AudioChannel",
    "_isPlaying",
    "_isLooping",
    "_audioCtx",
    "window",
    "_gainNode",
    "createGain",
    "connect",
    "_audio",
    "Audio",
    "onended",
    "_onEnded",
    "createMediaElementSource",
    "gain",
    "isPlaying",
    "isLooping",
    "isDecoding",
    "pause",
    "maxChannels",
    "_channels",
    "StreamingAudioChannel",
    "WebAudioChannel",
    "channelClass",
    "channel",
    "awayjs-core/lib/managers/StreamingAudioChannel",
    "awayjs-core/lib/managers/WebAudioChannel",
    "awayjs-core/lib/managers/EventAudioChannel",
    "ParserUtils",
    "EventAudioChannel",
    "_startTime",
    "ontimeupdate",
    "_onTimeUpdate",
    "_duration",
    "_base64Cache",
    "arrayBufferToBase64",
    "awayjs-core/lib/parsers/ParserUtils",
    "awayjs-core/lib/managers/IAudioChannelClass",
    "awayjs-core/lib/managers/IAudioChannel",
    "_sourceOpenDelegate",
    "_sourceOpen",
    "_updateEndDelegate",
    "_updateEnd",
    "_updateSource",
    "_sourceDirty",
    "_offset",
    "_isQueuing",
    "_isOpening",
    "_queueBuffer",
    "_mediaSource",
    "activeSourceBuffers",
    "console",
    "_sourceBuffer",
    "addSourceBuffer",
    "timestampOffset",
    "appendBuffer",
    "endOfStream",
    "_disposeSource",
    "MediaSource",
    "_urlString",
    "URL",
    "createObjectURL",
    "remove",
    "removeSourceBuffer",
    "revokeObjectURL",
    "_isDecoding",
    "_onEndedDelegate",
    "_currentTime",
    "_decodeCache",
    "_onDecodeComplete",
    "_errorCache",
    "decodeAudioData",
    "_onError",
    "_source",
    "createBufferSource",
    "start",
    "error",
    "disconnect",
    "awayjs-core/lib/net/CrossDomainPolicy",
    "CrossDomainPolicy",
    "ANONYMOUS",
    "USE_CREDENTIALS",
    "TEXT",
    "VARIABLES",
    "BLOB",
    "ARRAY_BUFFER",
    "URLRequestMethod",
    "URLVariables",
    "_dataFormat",
    "_loadError",
    "_request",
    "_data",
    "format",
    "initXHR",
    "method",
    "POST",
    "postRequest",
    "getRequest",
    "isSupported",
    "close",
    "_XHR",
    "abort",
    "disposeXHR",
    "setResponseType",
    "xhr",
    "responseType",
    "open",
    "async",
    "send",
    "handleXmlHttpRequestException",
    "urlVars",
    "formData",
    "XMLHttpRequest",
    "onloadstart",
    "onLoadStart",
    "onprogress",
    "onProgress",
    "onabort",
    "onAbort",
    "onerror",
    "onload",
    "ontimeout",
    "onTimeOut",
    "onloadend",
    "onLoadEnd",
    "onreadystatechange",
    "onReadyStateChange",
    "decodeURLVariables",
    "join",
    "tokens",
    "re",
    "exec",
    "decodeURIComponent",
    "readyState",
    "_status",
    "status",
    "_loadErrorEvent",
    "_statusEvent",
    "total",
    "loaded",
    "_progressEvent",
    "_loadStartEvent",
    "responseText",
    "response",
    "_loadCompleteEvent",
    "awayjs-core/lib/net/URLRequestMethod",
    "awayjs-core/lib/net/URLVariables",
    "GET",
    "awayjs-core/lib/net/URLRequest",
    "URLRequest",
    "_variables",
    "decode",
    "obj",
    "fd",
    "FormData",
    "ParserBase",
    "ByteArray",
    "extension",
    "HTMLImageElement",
    "ba",
    "readUnsignedShort",
    "readShort",
    "readUTFBytes",
    "readByte",
    "_pProceedParsing",
    "sizeError",
    "_loadingImage",
    "MORE_TO_PARSE",
    "_htmlImageElement",
    "imageToBitmapImage2D",
    "_pFinalizeAsset",
    "htmlImageElement",
    "byteArrayToImage",
    "complete",
    "arrayBufferToImage",
    "Blob",
    "blobToImage",
    "_pContent",
    "PARSING_DONE",
    "awayjs-core/lib/parsers/ParserBase",
    "awayjs-core/lib/utils/ByteArray",
    "JSON",
    "parse",
    "_iResolveDependency",
    "resourceDependency",
    "_iResolveDependencyFailure",
    "_imgDependencyDictionary",
    "_getBitmapImage2D",
    "json",
    "rec",
    "_pDieWithError",
    "_pAddDependency",
    "_validateCubeData",
    "_pPauseAndRetrieveDependencies",
    "Timer",
    "getTimer",
    "_dependencies",
    "_pOnIntervalDelegate",
    "_pOnInterval",
    "isBitmapImage2DValid",
    "bitmapImage2D",
    "isValid",
    "isImage2DValid",
    "_parsingFailure",
    "_parsingPaused",
    "_parsingComplete",
    "newMaterialMode",
    "frameLimit",
    "_pStartParsing",
    "_iResolveDependencyName",
    "_timer",
    "_isParsing",
    "type_event",
    "type_name",
    "suppressErrorEvents",
    "sub_id",
    "_pPauseParsing",
    "_pHasTime",
    "_lastFrameTime",
    "_frameLimit",
    "_pFinishParsing",
    "_pGetTextData",
    "_pGetByteData",
    "toByteArray",
    "_pGetData",
    "awayjs-core/lib/utils/Timer",
    "awayjs-core/lib/utils/getTimer",
    "awayjs-core/lib/parsers/ParserDataFormat",
    "ParserDataFormat",
    "PLAIN_TEXT",
    "IMAGE",
    "mimeType",
    "byteStr",
    "bytes",
    "base64Image",
    "btoa",
    "arrayBufferToAudio",
    "fileType",
    "str",
    "audio",
    "img",
    "Image",
    "arraybytes",
    "byteArrayToAudio",
    "filetype",
    "URLObj",
    "blobToAudio",
    "bitmapData",
    "setArrayBuffer",
    "getBytesAvailable",
    "parentParser",
    "suppressAssetEvents",
    "_sub_id",
    "_parser",
    "_parentParser",
    "_retrieveAsRawData",
    "_suppressAssetEvents",
    "XmlUtils",
    "_parseState",
    "TextureAtlasParserState",
    "PARSE_SUBTEXTURES",
    "nodes",
    "PARSE_XML",
    "_doc",
    "getChildrenWithTag",
    "strToXml",
    "_imagePath",
    "readAttributeValue",
    "_subTextureNodes",
    "PARSE_IMAGE",
    "sampler",
    "element",
    "imageRect",
    "frameRect",
    "awayjs-core/lib/utils/XmlUtils",
    "parseFileType",
    "awayjs-core/lib/projections/CoordinateSystem",
    "CoordinateSystem",
    "LEFT_HANDED",
    "RIGHT_HANDED",
    "awayjs-core/lib/projections/FreeMatrixProjection",
    "ProjectionBase",
    "FreeMatrixProjection",
    "_pMatrix",
    "_pNear",
    "_pFar",
    "_pAspectRatio",
    "pInvalidateMatrix",
    "pUpdateMatrix",
    "_pMatrixInvalid",
    "awayjs-core/lib/projections/PerspectiveProjection",
    "awayjs-core/lib/projections/ProjectionBase",
    "awayjs-core/lib/projections/IProjection",
    "awayjs-core/lib/projections/ObliqueNearPlaneProjection",
    "ObliqueNearPlaneProjection",
    "baseProjection",
    "_onProjectionMatrixChangedDelegate",
    "onProjectionMatrixChanged",
    "_baseProjection",
    "frustumCorners",
    "near",
    "far",
    "_iAspectRatio",
    "_plane",
    "cx",
    "cy",
    "cz",
    "cw",
    "signX",
    "signY",
    "inverse",
    "awayjs-core/lib/projections/OrthographicOffCenterProjection",
    "OrthographicOffCenterProjection",
    "_minX",
    "_maxX",
    "_minY",
    "_maxY",
    "unproject",
    "nX",
    "nY",
    "sZ",
    "unprojectionMatrix",
    "_pFrustumCorners",
    "awayjs-core/lib/projections/OrthographicProjection",
    "OrthographicProjection",
    "projectionHeight",
    "_projectionHeight",
    "_yMax",
    "_xMax",
    "left",
    "right",
    "top",
    "bottom",
    "_pScissorRect",
    "_pViewPort",
    "xWidth",
    "yHgt",
    "center",
    "middle",
    "fieldOfView",
    "coordinateSystem",
    "_fieldOfView",
    "_focalLength",
    "_hFieldOfView",
    "_hFocalLength",
    "_preserveAspectRatio",
    "_preserveFocalLength",
    "tan",
    "_pCoordinateSystem",
    "atan",
    "tanMinX",
    "_pOriginX",
    "tanMaxX",
    "tanMinY",
    "_pOriginY",
    "tanMaxY",
    "_unprojectionInvalid",
    "point3d",
    "_unprojection",
    "_iUpdateScissorRect",
    "_iUpdateViewport",
    "awayjs-core/lib/ui/Keyboard",
    "Keyboard",
    "A",
    "ALTERNATE",
    "AUDIO",
    "B",
    "BACKQUOTE",
    "BACKSLASH",
    "BACKSPACE",
    "C",
    "CAPS_LOCK",
    "CHANNEL_DOWN",
    "CHANNEL_UP",
    "COMMA",
    "COMMAND",
    "CONTROL",
    "D",
    "DELETE",
    "DOWN",
    "DVR",
    "E",
    "END",
    "ENTER",
    "EQUAL",
    "ESCAPE",
    "EXIT",
    "F",
    "F1",
    "F10",
    "F11",
    "F12",
    "F13",
    "F14",
    "F15",
    "F2",
    "F3",
    "F4",
    "F5",
    "F6",
    "F7",
    "F8",
    "F9",
    "FAST_FORWARD",
    "G",
    "GUIDE",
    "H",
    "HELP",
    "HOME",
    "I",
    "INFO",
    "INPUT",
    "INSERT",
    "J",
    "K",
    "KEYNAME_BEGIN",
    "KEYNAME_BREAK",
    "KEYNAME_CLEARDISPLAY",
    "KEYNAME_CLEARLINE",
    "KEYNAME_DELETE",
    "KEYNAME_DELETECHAR",
    "KEYNAME_DELETELINE",
    "KEYNAME_DOWNARROW",
    "KEYNAME_END",
    "KEYNAME_EXECUTE",
    "KEYNAME_F1",
    "KEYNAME_F10",
    "KEYNAME_F11",
    "KEYNAME_F12",
    "KEYNAME_F13",
    "KEYNAME_F14",
    "KEYNAME_F15",
    "KEYNAME_F16",
    "KEYNAME_F17",
    "KEYNAME_F18",
    "KEYNAME_F19",
    "KEYNAME_F2",
    "KEYNAME_F20",
    "KEYNAME_F21",
    "KEYNAME_F22",
    "KEYNAME_F23",
    "KEYNAME_F24",
    "KEYNAME_F25",
    "KEYNAME_F26",
    "KEYNAME_F27",
    "KEYNAME_F28",
    "KEYNAME_F29",
    "KEYNAME_F3",
    "KEYNAME_F30",
    "KEYNAME_F31",
    "KEYNAME_F32",
    "KEYNAME_F33",
    "KEYNAME_F34",
    "KEYNAME_F35",
    "KEYNAME_F4",
    "KEYNAME_F5",
    "KEYNAME_F6",
    "KEYNAME_F7",
    "KEYNAME_F8",
    "KEYNAME_F9",
    "KEYNAME_FIND",
    "KEYNAME_HELP",
    "KEYNAME_HOME",
    "KEYNAME_INSERT",
    "KEYNAME_INSERTCHAR",
    "KEYNAME_INSERTLINE",
    "KEYNAME_LEFTARROW",
    "KEYNAME_MENU",
    "KEYNAME_MODESWITCH",
    "KEYNAME_NEXT",
    "KEYNAME_PAGEDOWN",
    "KEYNAME_PAGEUP",
    "KEYNAME_PAUSE",
    "KEYNAME_PREV",
    "KEYNAME_PRINT",
    "KEYNAME_PRINTSCREEN",
    "KEYNAME_REDO",
    "KEYNAME_RESET",
    "KEYNAME_RIGHTARROW",
    "KEYNAME_SCROLLLOCK",
    "KEYNAME_SELECT",
    "KEYNAME_STOP",
    "KEYNAME_SYSREQ",
    "KEYNAME_SYSTEM",
    "KEYNAME_UNDO",
    "KEYNAME_UPARROW",
    "KEYNAME_USER",
    "L",
    "LAST",
    "LEFT",
    "LEFTBRACKET",
    "LIVE",
    "M",
    "MASTER_SHELL",
    "MENU",
    "MINUS",
    "N",
    "NEXT",
    "NUMBER_0",
    "NUMBER_1",
    "NUMBER_2",
    "NUMBER_3",
    "NUMBER_4",
    "NUMBER_5",
    "NUMBER_6",
    "NUMBER_7",
    "NUMBER_8",
    "NUMBER_9",
    "NUMPAD",
    "NUMPAD_0",
    "NUMPAD_1",
    "NUMPAD_2",
    "NUMPAD_3",
    "NUMPAD_4",
    "NUMPAD_5",
    "NUMPAD_6",
    "NUMPAD_7",
    "NUMPAD_8",
    "NUMPAD_9",
    "NUMPAD_ADD",
    "NUMPAD_DECIMAL",
    "NUMPAD_DIVIDE",
    "NUMPAD_ENTER",
    "NUMPAD_MULTIPLY",
    "NUMPAD_SUBTRACT",
    "O",
    "P",
    "PAGE_DOWN",
    "PAGE_UP",
    "PAUSE",
    "PERIOD",
    "PLAY",
    "PREVIOUS",
    "Q",
    "QUOTE",
    "R",
    "RECORD",
    "REWIND",
    "RIGHT",
    "RIGHTBRACKET",
    "S",
    "SEARCH",
    "SEMICOLON",
    "SETUP",
    "SHIFT",
    "SKIP_BACKWARD",
    "SKIP_FORWARD",
    "SLASH",
    "SPACE",
    "STOP",
    "SUBTITLE",
    "T",
    "TAB",
    "U",
    "UP",
    "V",
    "VOD",
    "W",
    "X",
    "Y",
    "YELLOW",
    "Z",
    "bmpd",
    "awayjs-core/lib/utils/ByteArrayBase",
    "ByteArrayBase",
    "_mode",
    "writeByte",
    "writeUnsignedByte",
    "readUnsignedByte",
    "writeUnsignedShort",
    "writeUnsignedInt",
    "writeFloat",
    "toFloatBits",
    "readFloat",
    "fromFloatBits",
    "compareEqual",
    "other",
    "co0",
    "c0",
    "writeBase64String",
    "dumpToConsole",
    "oldpos",
    "nstep",
    "asHexString",
    "digits",
    "lut",
    "readBase64String",
    "internalGetBase64String",
    "getUnsignedByteFunc",
    "self",
    "b0",
    "b1",
    "b2",
    "enc1",
    "enc2",
    "enc3",
    "enc4",
    "base64Key",
    "Base64Key",
    "awayjs-core/lib/utils/ByteArrayBuffer",
    "ByteArrayBuffer",
    "bi",
    "sign",
    "exponent",
    "mantissa",
    "maxlength",
    "unalignedarraybytestemp",
    "ensureWriteableSpace",
    "ensureSpace",
    "aBuffer",
    "inInt8AView",
    "localInt8View",
    "newmaxlength",
    "newarraybuffer",
    "newview",
    "readBytes",
    "byteView",
    "localByteView",
    "view2",
    "view3",
    "DataView",
    "getUint8",
    "c2",
    "c3",
    "readInt",
    "int",
    "getInt32",
    "short",
    "getInt16",
    "readDouble",
    "double",
    "getFloat64",
    "pa",
    "Uint32Array",
    "awayjs-core/lib/utils/CSS",
    "CSS",
    "setElementSize",
    "style",
    "setElementWidth",
    "setElementHeight",
    "setElementX",
    "setElementY",
    "getElementVisibility",
    "visibility",
    "setElementVisibility",
    "visible",
    "setElementAlpha",
    "alpha",
    "HTMLCanvasElement",
    "globalAlpha",
    "setElementPosition",
    "absolute",
    "float32Color",
    "ARGBtoFloat32",
    "componentToHex",
    "hex",
    "RGBToHexString",
    "ARGBToHexString",
    "awayjs-core/lib/utils/Debug",
    "Debug",
    "breakpoint",
    "throwPIROnKeyWordOnly",
    "enable",
    "keyword",
    "throwPIR",
    "clss",
    "fnc",
    "msg",
    "logPIR",
    "THROW_ERRORS",
    "LOG_PI_ERRORS",
    "args",
    "_i",
    "ENABLE_LOG",
    "awayjs-core/lib/utils/Extensions",
    "Extensions",
    "SIMD",
    "Boolean",
    "awayjs-core/lib/utils/IArrayBufferViewClass",
    "image2D",
    "isHTMLImageElementValid",
    "MAX_SIZE",
    "isPowerOfTwo",
    "getBestPowerOf2",
    "awayjs-core/lib/utils/MipmapGenerator",
    "MipmapGenerator",
    "_generateMipMaps",
    "output",
    "_getMipmapHolder",
    "_matrix",
    "bitmapImage",
    "downsampleImage",
    "mipMapHolder",
    "newW",
    "newH",
    "_freeMipMapHolder",
    "_mipMaps",
    "_mipMapUses",
    "holderWidth",
    "holderHeight",
    "destBitmap",
    "BoxFilter",
    "xkernel",
    "PolyphaseKernel",
    "ykernel",
    "tempBitmap",
    "iscale",
    "kernelLength",
    "kernelWidth",
    "kernelWindowSize",
    "sumR",
    "sumG",
    "sumB",
    "sumA",
    "windowSize",
    "colorR",
    "colorG",
    "colorB",
    "colorA",
    "valueAt",
    "srcLength",
    "dstLength",
    "samples",
    "sum",
    "isamples",
    "evaluate",
    "awayjs-core/lib/utils/RequestAnimationFrame",
    "RequestAnimationFrame",
    "callback",
    "callbackContext",
    "_active",
    "_argsArray",
    "_getTimer",
    "setCallback",
    "_rafUpdateFunction",
    "_tick",
    "_dt",
    "_callback",
    "_callbackContext",
    "_prevTime",
    "requestAnimationFrame",
    "delay",
    "repeatCount",
    "_repeatCount",
    "_currentCount",
    "_running",
    "_delay",
    "clearInterval",
    "_iid",
    "setInterval",
    "tick",
    "node",
    "tag",
    "fragment",
    "createDocumentFragment",
    "num",
    "childNodes",
    "child",
    "nodeName",
    "appendChild",
    "filterListByParam",
    "paramName",
    "paramValue",
    "attributes",
    "getNamedItem",
    "DOMParser",
    "parseFromString",
    "nodeToString",
    "XMLSerializer",
    "serializeToString",
    "attrName",
    "attrs",
    "attribute",
    "writeAttributeValue",
    "attrValue",
    "Attr",
    "setNamedItem",
    "hasAttribute",
    "now"
  ],
  "mappings": "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",
  "file": "awayjs-core.min.js",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    null,
    "import AttributesView\t\t\t= require(\"awayjs-core/lib/attributes/AttributesView\");\nimport AssetEvent\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport AssetBase\t\t\t\t= require(\"awayjs-core/lib/library/AssetBase\");\n\nclass AttributesBuffer extends AssetBase\n{\n\tpublic static assetType:string = \"[assets AttributesBuffer]\";\n\t\n\tprivate _count:number = 0;\n\tprivate _stride:number = 0;\n\tprivate _newStride:number = 0;\n\n\tprivate _buffer:ArrayBuffer;\n\tprivate _bufferView:Uint8Array;\n\tprivate _contentDirty:boolean;\n\tprivate _lengthDirty:boolean;\n\tprivate _viewVOs:Array<ViewVO> = new Array<ViewVO>();\n\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn AttributesBuffer.assetType;\n\t}\n\n\tpublic get stride():number\n\t{\n\t\tif (this._lengthDirty)\n\t\t\tthis._updateLength();\n\n\t\treturn this._stride;\n\t}\n\n\tpublic set stride(value:number)\n\t{\n\t\tif (this._newStride == value)\n\t\t\treturn;\n\n\t\tthis._newStride = value;\n\n\t\tthis.resize();\n\t}\n\t\n\tpublic get count():number\n\t{\n\t\treturn this._count;\n\t}\n\t\n\tpublic set count(value:number)\n\t{\n\t\tif (this._count == value)\n\t\t\treturn;\n\t\t\n\t\tthis._count = value;\n\t\t\n\t\tthis.resize();\n\t}\n\n\n\tpublic get buffer():ArrayBuffer\n\t{\n\t\tif (this._lengthDirty)\n\t\t\tthis._updateLength();\n\n\t\tthis._contentDirty = false;\n\n\t\treturn this._buffer;\n\t}\n\n\n\tpublic get bufferView():Uint8Array\n\t{\n\t\tif (this._lengthDirty)\n\t\t\tthis._updateLength();\n\n\t\tthis._contentDirty = false;\n\n\t\treturn this._bufferView;\n\t}\n\n\tpublic set bufferView(value:Uint8Array)\n\t{\n\t\tthis._bufferView = value;\n\t\tthis._buffer = this._bufferView.buffer;\n\t}\n\n\tpublic get length()\n\t{\n\t\treturn this._count*this.stride;\n\t}\n\t\n\t/**\n\t *\n\t */\n\tconstructor(stride:number = 0, count:number = 0)\n\t{\n\t\tsuper();\n\n\t\tthis._stride = this._newStride = stride;\n\t\tthis._count = count;\n\n\t\tthis._buffer = new ArrayBuffer(this._stride*this._count);\n\t\tthis._bufferView = new Uint8Array(this._buffer, 0, this._buffer.byteLength);\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic invalidate():void\n\t{\n\t\tif (this._contentDirty)\n\t\t\treturn;\n\n\t\tsuper.invalidate();\n\n\t\tthis._contentDirty = true;\n\t}\n\n\t/**\n\t *\n\t * @private\n\t */\n\tpublic resize():void\n\t{\n\t\tif (this._lengthDirty)\n\t\t\treturn;\n\n\t\tthis.clear();\n\n\t\tthis._lengthDirty = true;\n\n\t\t//dispose buffer if stride is 0\n\t\tif (!this._newStride) {\n\t\t\tthis._buffer = null;\n\t\t\tthis._bufferView = null;\n\t\t}\n\t}\n\n\tpublic clone():AttributesBuffer\n\t{\n\t\tvar attributesBuffer:AttributesBuffer = new AttributesBuffer(this._stride, this._count);\n\t\tattributesBuffer.bufferView.set(this.bufferView);\n\n\t\tvar len:number = this._viewVOs.length;\n\t\tfor (var i:number = 0; i < len; i++)\n\t\t\tthis._viewVOs[i].view._internalClone(attributesBuffer);\n\n\t\treturn attributesBuffer;\n\t}\n\n\tpublic getView(index:number):AttributesView\n\t{\n\t\tif (index < this._viewVOs.length)\n\t\t\treturn this._viewVOs[index].view;\n\n\t\treturn null;\n\t}\n\n\tpublic _setAttributes(viewIndex:number, arrayBufferView:ArrayBufferView, offset:number = 0)\n\t{\n\t\tvar array:Uint8Array = (arrayBufferView instanceof Uint8Array)? <Uint8Array> arrayBufferView : new Uint8Array(arrayBufferView.buffer);\n\n\t\tvar viewVO:ViewVO = this._viewVOs[viewIndex];\n\t\tvar vLength:number = viewVO.length;\n\t\tvar vOffset:number = viewVO.offset;\n\t\tvar vCount:number = array.length/vLength;\n\n\t\t//make sure there is enough space in the buffer\n\t\tif (this.count < vCount + offset)\n\t\t\tthis.count = vCount + offset;\n\n\t\tif (this._lengthDirty)\n\t\t\tthis._updateLength();\n\n\t\t//fast path for separate buffers\n\t\tif (this._viewVOs.length == 1) {\n\t\t\tthis._bufferView.set(array);\n\t\t} else {\n\t\t\tfor (var i:number = 0; i < vCount; i++)\n\t\t\t\tthis._bufferView.set(array.subarray(i*vLength, (i+1)*vLength), (i+offset)*this._stride + vOffset);\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\tpublic _getLocalArrayBuffer(viewIndex:number):ArrayBuffer\n\t{\n\t\tvar viewVO:ViewVO = this._viewVOs[viewIndex];\n\t\tvar vLength:number = viewVO.length;\n\t\tvar vOffset:number = viewVO.offset;\n\n\t\tif (this._lengthDirty)\n\t\t\tthis._updateLength();\n\n\t\t//fast path for separate buffers\n\t\tif (this._viewVOs.length == 1)\n\t\t\treturn this._buffer;\n\n\t\tvar localBuffer:ArrayBuffer = new ArrayBuffer(this._count*vLength);\n\t\tvar localBufferView:Uint8Array = new Uint8Array(localBuffer);\n\n\t\tfor (var i:number = 0; i < this._count; i++)\n\t\t\tlocalBufferView.set(this._bufferView.subarray(i*this._stride + vOffset, i*this._stride + vOffset + vLength), i*vLength);\n\n\t\treturn localBuffer;\n\t}\n\n\tpublic _addView(view:AttributesView)\n\t{\n\t\tvar viewVO:ViewVO = new ViewVO(view);\n\t\tvar len:number = this._viewVOs.length;\n\n\t\tviewVO.offset = len? this._viewVOs[len - 1].offset + this._viewVOs[len - 1].length : 0;\n\n\t\tthis._viewVOs.push(viewVO);\n\n\t\tif (this._newStride < viewVO.offset + viewVO.length) {\n\t\t\tthis._newStride = viewVO.offset + viewVO.length;\n\t\t\tthis.resize();\n\t\t}\n\n\t\tview._index = len;\n\t}\n\n\tpublic _removeView(view:AttributesView)\n\t{\n\t\tvar viewIndex:number = view._index;\n\t\tvar viewVO:ViewVO = this._viewVOs.splice(viewIndex, 1)[0];\n\t\tvar len:number = this._viewVOs.length;\n\n\t\tviewVO.dispose();\n\n\t\tfor (var i:number = viewIndex; i < len; i++) {\n\t\t\tviewVO = this._viewVOs[i];\n\t\t\tviewVO.offset = i? this._viewVOs[i - 1].offset + this._viewVOs[i - 1].length : 0;\n\t\t\tviewVO.view._index = i;\n\t\t}\n\n\t\tthis._newStride = viewVO.offset + viewVO.length;\n\n\t\tthis.resize();\n\t}\n\n\tpublic _getOffset(viewIndex:number):number\n\t{\n\t\treturn this._viewVOs[viewIndex].offset;\n\t}\n\n\tpublic _updateLength()\n\t{\n\t\tthis._lengthDirty = false;\n\n\t\tvar i:number;\n\t\tvar j:number;\n\t\tvar len:number = this._viewVOs.length;\n\n\t\tvar newLength:number = this._newStride*this._count;\n\n\t\tif (!this._buffer || this._buffer.byteLength != newLength) {\n\t\t\tvar newBuffer:ArrayBuffer = new ArrayBuffer(newLength);\n\t\t\tvar newView:Uint8Array = new Uint8Array(newBuffer, 0, newBuffer.byteLength);\n\t\t\tvar viewVO:ViewVO;\n\t\t\tvar vLength:number;\n\t\t\tvar vOffset:number;\n\t\t\tvar vOldOffset:number;\n\n\t\t\tif (this._stride != this._newStride) {\n\t\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\t\tviewVO = this._viewVOs[i];\n\t\t\t\t\tvLength = viewVO.length;\n\t\t\t\t\tvOffset = viewVO.offset;\n\t\t\t\t\tvOldOffset = viewVO.oldOffset;\n\t\t\t\t\tfor (j = 0; j < this._count; j++)\n\t\t\t\t\t\tif (vOldOffset != null)\n\t\t\t\t\t\t\tnewView.set(new Uint8Array(this._buffer, j*this._stride + vOldOffset, vLength), j*this._newStride + vOffset);\n\n\t\t\t\t\tviewVO.oldOffset = viewVO.offset;\n\t\t\t\t}\n\n\t\t\t\tthis._stride = this._newStride;\n\t\t\t} else {\n\t\t\t\tnewView.set(new Uint8Array(this._buffer, 0, Math.min(newLength, this._buffer.byteLength))); //TODO: bypass quantisation of bytearray on instantiation\n\t\t\t}\n\n\t\t\tthis._buffer = newBuffer;\n\t\t\tthis._bufferView = newView;\n\t\t}\n\t}\n}\n\nclass ViewVO\n{\n\tpublic view:AttributesView;\n\n\tpublic length;\n\n\tpublic offset;\n\n\tpublic oldOffset;\n\n\tconstructor(view:AttributesView)\n\t{\n\t\tthis.view = view;\n\t\tthis.length = view.size*view.dimensions;\n\t}\n\n\tpublic dispose()\n\t{\n\t\tthis.view = null;\n\t}\n\n\tpublic clone():ViewVO\n\t{\n\t\treturn new ViewVO(this.view);\n\t}\n}\n\nexport = AttributesBuffer;",
    "import AttributesBuffer\t\t\t= require(\"awayjs-core/lib/attributes/AttributesBuffer\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport AssetBase\t\t\t\t= require(\"awayjs-core/lib/library/AssetBase\");\nimport IArrayBufferViewClass\t= require(\"awayjs-core/lib/utils/IArrayBufferViewClass\");\n\nclass AttributesView extends AssetBase\n{\n\tpublic static assetType:string = \"[attributes AttributesView]\";\n\n\t/**\n\t *\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn AttributesView.assetType;\n\t}\n\n\tpublic _cloneCache:AttributesView;\n\tpublic _attributesBuffer:AttributesBuffer;\n\tpublic _bufferDirty:boolean;\n\tprivate _size:number;\n\tprivate _dimensions:number;\n\tprivate _unsigned:boolean;\n\n\tpublic _index:number;\n\tpublic _arrayClass:IArrayBufferViewClass;\n\n\tpublic _localArrayBuffer:ArrayBuffer;\n\n\tpublic normalized:boolean;\n\n\tpublic get buffer():AttributesBuffer\n\t{\n\t\treturn this._attributesBuffer;\n\t}\n\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tpublic get size():number\n\t{\n\t\treturn this._size;\n\t}\n\n\tpublic set size(value:number)\n\t{\n\t\tif (this._size == value)\n\t\t\treturn;\n\n\t\tthis._size = value;\n\n\t\tthis._attributesBuffer._removeView(this);\n\t\tthis._attributesBuffer._addView(this);\n\t}\n\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tpublic get dimensions():number\n\t{\n\t\treturn this._dimensions;\n\t}\n\n\tpublic set dimensions(value:number)\n\t{\n\t\tif (this._dimensions == value)\n\t\t\treturn;\n\n\t\tthis._dimensions = value;\n\n\t\t//reset view\n\t\tthis._attributesBuffer._removeView(this);\n\t\tthis._attributesBuffer._addView(this);\n\t}\n\n\tpublic get unsigned():boolean\n\t{\n\t\treturn this._unsigned;\n\t}\n\n\tpublic get count():number\n\t{\n\t\treturn this._attributesBuffer.count;\n\t}\n\n\tpublic set count(value:number)\n\t{\n\t\tthis._attributesBuffer.count = value;\n\t}\n\n\tpublic get offset():number\n\t{\n\t\treturn this._attributesBuffer._getOffset(this._index);\n\t}\n\n\tpublic get length():number\n\t{\n\t\treturn this._attributesBuffer.count*this._dimensions;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(arrayClass:IArrayBufferViewClass, dimensions:number, count?:number, unsigned?:boolean);\n\tconstructor(arrayClass:IArrayBufferViewClass, dimensions:number, attributesBuffer?:AttributesBuffer, unsigned?:boolean);\n\tconstructor(arrayClass:IArrayBufferViewClass, dimensions:number, attributesBufferCount:any = 0, unsigned:boolean = false)\n\t{\n\t\tsuper();\n\n\t\tthis._arrayClass = arrayClass;\n\t\tthis._size = arrayClass.BYTES_PER_ELEMENT;\n\t\tthis._dimensions = dimensions;\n\t\tthis._attributesBuffer = (attributesBufferCount instanceof AttributesBuffer)? <AttributesBuffer> attributesBufferCount : new AttributesBuffer(this._dimensions*this._size, attributesBufferCount);\n\n\t\tthis._attributesBuffer._addView(this);\n\n\t\tthis._unsigned = unsigned;\n\t}\n\n\tpublic set(array:Array<number>, offset?:number);\n\tpublic set(arrayBufferView:ArrayBufferView, offset?:number);\n\tpublic set(values:any, offset:number = 0)\n\t{\n\t\tthis._attributesBuffer._setAttributes(this._index, (values instanceof Array)? new (this._arrayClass)(values) : <ArrayBufferView> values, offset);\n\n\t\tthis._localArrayBuffer = null;\n\t}\n\n\tpublic get(count:number, offset:number = 0):ArrayBufferView\n\t{\n\t\tif (!this._localArrayBuffer)\n\t\t\tthis._localArrayBuffer = this._attributesBuffer._getLocalArrayBuffer(this._index);\n\n\t\tvar len:number = this._dimensions*this._size;\n\t\treturn new (this._arrayClass)(this._localArrayBuffer, offset*len, count*this._dimensions);\n\t}\n\n\tpublic _internalClone(attributesBuffer:AttributesBuffer):AttributesView\n\t{\n\t\treturn (this._cloneCache = new AttributesView(this._arrayClass, this._dimensions, attributesBuffer));\n\t}\n\n\tpublic clone(attributesBuffer:AttributesBuffer = null):AttributesView\n\t{\n\t\tif (attributesBuffer)\n\t\t\tthis._internalClone(attributesBuffer);\n\n\t\tif (!this._cloneCache)\n\t\t\tthis._attributesBuffer.clone();\n\n\t\tvar cloneCache:AttributesView = this._cloneCache;\n\t\tthis._cloneCache = null;\n\n\t\treturn cloneCache;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic dispose()\n\t{\n\t\tif (!this._attributesBuffer)\n\t\t\treturn;\n\n\t\tthis._attributesBuffer._removeView(this);\n\t\tthis._attributesBuffer = null;\n\t\tthis._localArrayBuffer = null;\n\t}\n}\n\nexport = AttributesView;",
    "import AttributesBuffer\t\t\t= require(\"awayjs-core/lib/attributes/AttributesBuffer\");\nimport AttributesView\t\t\t= require(\"awayjs-core/lib/attributes/AttributesView\");\nimport IArrayBufferViewClass\t= require(\"awayjs-core/lib/utils/IArrayBufferViewClass\");\n\nclass Byte1Attributes extends AttributesView\n{\n\tpublic static assetType:string = \"[attributes Byte1Attributes]\";\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn Byte1Attributes.assetType;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(length?:number, unsigned?:boolean);\n\tconstructor(attributesBuffer?:AttributesBuffer, unsigned?:boolean);\n\tconstructor(attributesBufferLength?:any, unsigned:boolean = true)\n\t{\n\t\tsuper(unsigned? Uint8Array : Int8Array, 1, attributesBufferLength, unsigned);\n\t}\n\n\tpublic set(array:Array<number>, offset?:number);\n\tpublic set(typedArray:Uint8Array, offset?:number);\n\tpublic set(typedArray:Int8Array, offset?:number);\n\tpublic set(values:any, offset:number = 0)\n\t{\n\t\tsuper.set(values, offset);\n\t}\n\n\tpublic get(count:number, offset?:number):Uint8Array;\n\tpublic get(count:number, offset?:number):Int8Array;\n\tpublic get(count:number, offset:number = 0):any\n\t{\n\t\treturn super.get(count, offset);\n\t}\n\n\tpublic _internalClone(attributesBuffer:AttributesBuffer):Byte1Attributes\n\t{\n\t\treturn (this._cloneCache = new Byte1Attributes(attributesBuffer, this._arrayClass == Uint8Array));\n\t}\n\n\tpublic clone(attributesBuffer:AttributesBuffer = null):Byte1Attributes\n\t{\n\t\treturn <Byte1Attributes> super.clone(attributesBuffer);\n\t}\n}\n\nexport = Byte1Attributes;",
    "import AttributesBuffer\t\t\t= require(\"awayjs-core/lib/attributes/AttributesBuffer\");\nimport AttributesView\t\t\t= require(\"awayjs-core/lib/attributes/AttributesView\");\nimport IArrayBufferViewClass\t= require(\"awayjs-core/lib/utils/IArrayBufferViewClass\");\n\nclass Byte2Attributes extends AttributesView\n{\n\tpublic static assetType:string = \"[attributes Byte2Attributes]\";\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn Byte2Attributes.assetType;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(length?:number, unsigned?:boolean);\n\tconstructor(attributesBuffer?:AttributesBuffer, unsigned?:boolean);\n\tconstructor(attributesBufferLength?:any, unsigned:boolean = true)\n\t{\n\t\tsuper(unsigned? Uint8Array : Int8Array, 2, attributesBufferLength, unsigned);\n\t}\n\n\tpublic set(array:Array<number>, offset?:number);\n\tpublic set(typedArray:Uint8Array, offset?:number);\n\tpublic set(typedArray:Int8Array, offset?:number);\n\tpublic set(values:any, offset:number = 0)\n\t{\n\t\tsuper.set(values, offset);\n\t}\n\n\tpublic get(count:number, offset?:number):Uint8Array;\n\tpublic get(count:number, offset?:number):Int8Array;\n\tpublic get(count:number, offset:number = 0):any\n\t{\n\t\treturn super.get(count, offset);\n\t}\n\n\tpublic _internalClone(attributesBuffer:AttributesBuffer):Byte2Attributes\n\t{\n\t\treturn (this._cloneCache = new Byte2Attributes(attributesBuffer, this._arrayClass == Uint8Array));\n\t}\n\n\tpublic clone(attributesBuffer:AttributesBuffer = null):Byte2Attributes\n\t{\n\t\treturn <Byte2Attributes> super.clone(attributesBuffer);\n\t}\n}\n\nexport = Byte2Attributes;",
    "import AttributesBuffer\t\t\t= require(\"awayjs-core/lib/attributes/AttributesBuffer\");\nimport AttributesView\t\t\t= require(\"awayjs-core/lib/attributes/AttributesView\");\nimport IArrayBufferViewClass\t= require(\"awayjs-core/lib/utils/IArrayBufferViewClass\");\n\nclass Byte3Attributes extends AttributesView\n{\n\tpublic static assetType:string = \"[attributes Byte3Attributes]\";\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn Byte3Attributes.assetType;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(length?:number, unsigned?:boolean);\n\tconstructor(attributesBuffer?:AttributesBuffer, unsigned?:boolean);\n\tconstructor(attributesBufferLength?:any, unsigned:boolean = true)\n\t{\n\t\tsuper(unsigned? Uint8Array : Int8Array, 3, attributesBufferLength, unsigned);\n\t}\n\n\tpublic set(array:Array<number>, offset?:number);\n\tpublic set(typedArray:Uint8Array, offset?:number);\n\tpublic set(typedArray:Int8Array, offset?:number);\n\tpublic set(values:any, offset:number = 0)\n\t{\n\t\tsuper.set(values, offset);\n\t}\n\n\tpublic get(count:number, offset?:number):Uint8Array;\n\tpublic get(count:number, offset?:number):Int8Array;\n\tpublic get(count:number, offset:number = 0):any\n\t{\n\t\treturn super.get(count, offset);\n\t}\n\n\tpublic _internalClone(attributesBuffer:AttributesBuffer):Byte3Attributes\n\t{\n\t\treturn (this._cloneCache = new Byte3Attributes(attributesBuffer, this._arrayClass == Uint8Array));\n\t}\n\n\tpublic clone(attributesBuffer:AttributesBuffer = null):Byte3Attributes\n\t{\n\t\treturn <Byte3Attributes> super.clone(attributesBuffer);\n\t}\n}\n\nexport = Byte3Attributes;",
    "import AttributesBuffer\t\t\t= require(\"awayjs-core/lib/attributes/AttributesBuffer\");\nimport AttributesView\t\t\t= require(\"awayjs-core/lib/attributes/AttributesView\");\nimport IArrayBufferViewClass\t= require(\"awayjs-core/lib/utils/IArrayBufferViewClass\");\n\nclass Byte4Attributes extends AttributesView\n{\n\tpublic static assetType:string = \"[attributes Byte4Attributes]\";\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn Byte4Attributes.assetType;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(length?:number, unsigned?:boolean);\n\tconstructor(attributesBuffer?:AttributesBuffer, unsigned?:boolean);\n\tconstructor(attributesBufferLength?:any, unsigned:boolean = true)\n\t{\n\t\tsuper(unsigned? Uint8Array : Int8Array, 4, attributesBufferLength, unsigned);\n\t}\n\n\tpublic set(array:Array<number>, offset?:number);\n\tpublic set(typedArray:Float32Array, offset?:number);\n\tpublic set(typedArray:Uint8Array, offset?:number);\n\tpublic set(typedArray:Int8Array, offset?:number);\n\tpublic set(values:any, offset:number = 0)\n\t{\n\t\tsuper.set(values, offset);\n\t}\n\n\tpublic get(count:number, offset?:number):Uint8Array;\n\tpublic get(count:number, offset?:number):Int8Array;\n\tpublic get(count:number, offset:number = 0):any\n\t{\n\t\treturn super.get(count, offset);\n\t}\n\n\tpublic _internalClone(attributesBuffer:AttributesBuffer):Byte4Attributes\n\t{\n\t\treturn (this._cloneCache = new Byte4Attributes(attributesBuffer, this._arrayClass == Uint8Array));\n\t}\n\n\tpublic clone(attributesBuffer:AttributesBuffer = null):Byte4Attributes\n\t{\n\t\treturn <Byte4Attributes> super.clone(attributesBuffer);\n\t}\n}\n\nexport = Byte4Attributes;",
    "import AttributesBuffer\t\t\t= require(\"awayjs-core/lib/attributes/AttributesBuffer\");\nimport AttributesView\t\t\t= require(\"awayjs-core/lib/attributes/AttributesView\");\nimport IArrayBufferViewClass\t= require(\"awayjs-core/lib/utils/IArrayBufferViewClass\");\n\nclass Float1Attributes extends AttributesView\n{\n\tpublic static assetType:string = \"[attributes Float1Attributes]\";\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn Float1Attributes.assetType;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(length?:number);\n\tconstructor(attributesBuffer?:AttributesBuffer);\n\tconstructor(attributesBufferLength?:any)\n\t{\n\t\tsuper(Float32Array, 1, attributesBufferLength)\n\t}\n\n\tpublic set(array:Array<number>, offset?:number);\n\tpublic set(typedArray:Float32Array, offset?:number);\n\tpublic set(values:any, offset:number = 0)\n\t{\n\t\tsuper.set(values, offset);\n\t}\n\n\tpublic get(count:number, offset:number = 0):Float32Array\n\t{\n\t\treturn <Float32Array> super.get(count, offset);\n\t}\n\n\tpublic _internalClone(attributesBuffer:AttributesBuffer):Float1Attributes\n\t{\n\t\treturn (this._cloneCache = new Float1Attributes(attributesBuffer));\n\t}\n\n\tpublic clone(attributesBuffer:AttributesBuffer = null):Float1Attributes\n\t{\n\t\treturn <Float1Attributes> super.clone(attributesBuffer);\n\t}\n}\n\nexport = Float1Attributes;",
    "import AttributesBuffer\t\t\t= require(\"awayjs-core/lib/attributes/AttributesBuffer\");\nimport AttributesView\t\t\t= require(\"awayjs-core/lib/attributes/AttributesView\");\nimport IArrayBufferViewClass\t= require(\"awayjs-core/lib/utils/IArrayBufferViewClass\");\n\nclass Float2Attributes extends AttributesView\n{\n\tpublic static assetType:string = \"[attributes Float2Attributes]\";\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn Float2Attributes.assetType;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(length?:number);\n\tconstructor(attributesBuffer?:AttributesBuffer);\n\tconstructor(attributesBufferLength?:any)\n\t{\n\t\tsuper(Float32Array, 2, attributesBufferLength)\n\t}\n\n\tpublic set(array:Array<number>, offset?:number);\n\tpublic set(typedArray:Float32Array, offset?:number);\n\tpublic set(values:any, offset:number = 0)\n\t{\n\t\tsuper.set(values, offset);\n\t}\n\n\tpublic get(count:number, offset:number = 0):Float32Array\n\t{\n\t\treturn <Float32Array> super.get(count, offset);\n\t}\n\n\tpublic _internalClone(attributesBuffer:AttributesBuffer):Float2Attributes\n\t{\n\t\treturn (this._cloneCache = new Float2Attributes(attributesBuffer));\n\t}\n\n\tpublic clone(attributesBuffer:AttributesBuffer = null):Float2Attributes\n\t{\n\t\treturn <Float2Attributes> super.clone(attributesBuffer);\n\t}\n}\n\nexport = Float2Attributes;",
    "import AttributesBuffer\t\t\t= require(\"awayjs-core/lib/attributes/AttributesBuffer\");\nimport AttributesView\t\t\t= require(\"awayjs-core/lib/attributes/AttributesView\");\nimport IArrayBufferViewClass\t= require(\"awayjs-core/lib/utils/IArrayBufferViewClass\");\n\nclass Float3Attributes extends AttributesView\n{\n\tpublic static assetType:string = \"[attributes Float3Attributes]\";\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn Float3Attributes.assetType;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(length?:number);\n\tconstructor(attributesBuffer?:AttributesBuffer);\n\tconstructor(attributesBufferLength?:any)\n\t{\n\t\tsuper(Float32Array, 3, attributesBufferLength)\n\t}\n\n\tpublic set(array:Array<number>, offset?:number);\n\tpublic set(typedArray:Float32Array, offset?:number);\n\tpublic set(values:any, offset:number = 0)\n\t{\n\t\tsuper.set(values, offset);\n\t}\n\n\tpublic get(count:number, offset:number = 0):Float32Array\n\t{\n\t\treturn <Float32Array> super.get(count, offset);\n\t}\n\n\tpublic _internalClone(attributesBuffer:AttributesBuffer):Float3Attributes\n\t{\n\t\treturn (this._cloneCache = new Float3Attributes(attributesBuffer));\n\t}\n\n\tpublic clone(attributesBuffer:AttributesBuffer = null):Float3Attributes\n\t{\n\t\treturn <Float3Attributes> super.clone(attributesBuffer);\n\t}\n}\n\nexport = Float3Attributes;",
    "import AttributesBuffer\t\t\t= require(\"awayjs-core/lib/attributes/AttributesBuffer\");\nimport AttributesView\t\t\t= require(\"awayjs-core/lib/attributes/AttributesView\");\nimport IArrayBufferViewClass\t= require(\"awayjs-core/lib/utils/IArrayBufferViewClass\");\n\nclass Float4Attributes extends AttributesView\n{\n\tpublic static assetType:string = \"[attributes Float4Attributes]\";\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn Float4Attributes.assetType;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(length?:number);\n\tconstructor(attributesBuffer?:AttributesBuffer);\n\tconstructor(attributesBufferLength?:any)\n\t{\n\t\tsuper(Float32Array, 4, attributesBufferLength)\n\t}\n\n\tpublic set(array:Array<number>, offset?:number);\n\tpublic set(typedArray:Float32Array, offset?:number);\n\tpublic set(values:any, offset:number = 0)\n\t{\n\t\tsuper.set(values, offset);\n\t}\n\n\tpublic get(count:number, offset:number = 0):Float32Array\n\t{\n\t\treturn <Float32Array> super.get(count, offset);\n\t}\n\n\tpublic _internalClone(attributesBuffer:AttributesBuffer):Float4Attributes\n\t{\n\t\treturn (this._cloneCache = new Float4Attributes(attributesBuffer));\n\t}\n\n\tpublic clone(attributesBuffer:AttributesBuffer = null):Float4Attributes\n\t{\n\t\treturn <Float4Attributes> super.clone(attributesBuffer);\n\t}\n}\n\nexport = Float4Attributes;",
    "import AttributesBuffer\t\t\t= require(\"awayjs-core/lib/attributes/AttributesBuffer\");\nimport AttributesView\t\t\t= require(\"awayjs-core/lib/attributes/AttributesView\");\nimport IArrayBufferViewClass\t= require(\"awayjs-core/lib/utils/IArrayBufferViewClass\");\n\nclass Short2Attributes extends AttributesView\n{\n\tpublic static assetType:string = \"[attributes Short2Attributes]\";\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn Short2Attributes.assetType;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(length?:number, unsigned?:boolean);\n\tconstructor(attributesBuffer?:AttributesBuffer, unsigned?:boolean);\n\tconstructor(attributesBufferLength?:any, unsigned:boolean = true)\n\t{\n\t\tsuper(unsigned? Uint16Array : Int16Array, 2, attributesBufferLength, unsigned)\n\t}\n\n\tpublic set(array:Array<number>, offset?:number);\n\tpublic set(typedArray:Uint16Array, offset?:number);\n\tpublic set(typedArray:Int16Array, offset?:number);\n\tpublic set(values:any, offset:number = 0)\n\t{\n\t\tsuper.set(values, offset);\n\t}\n\n\tpublic get(count:number, offset?:number):Uint16Array;\n\tpublic get(count:number, offset?:number):Int16Array;\n\tpublic get(count:number, offset:number = 0):any\n\t{\n\t\treturn super.get(count, offset);\n\t}\n\n\tpublic _internalClone(attributesBuffer:AttributesBuffer):Short2Attributes\n\t{\n\t\treturn (this._cloneCache = new Short2Attributes(attributesBuffer, this._arrayClass == Uint16Array));\n\t}\n\n\tpublic clone(attributesBuffer:AttributesBuffer = null):Short2Attributes\n\t{\n\t\treturn <Short2Attributes> super.clone(attributesBuffer);\n\t}\n}\n\nexport = Short2Attributes;",
    "import AttributesBuffer\t\t\t= require(\"awayjs-core/lib/attributes/AttributesBuffer\");\nimport AttributesView\t\t\t= require(\"awayjs-core/lib/attributes/AttributesView\");\nimport IArrayBufferViewClass\t= require(\"awayjs-core/lib/utils/IArrayBufferViewClass\");\n\nclass Short3Attributes extends AttributesView\n{\n\tpublic static assetType:string = \"[attributes Short3Attributes]\";\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn Short3Attributes.assetType;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(length?:number, unsigned?:boolean);\n\tconstructor(attributesBuffer?:AttributesBuffer, unsigned?:boolean);\n\tconstructor(attributesBufferLength?:any, unsigned:boolean = true)\n\t{\n\t\tsuper(unsigned? Uint16Array : Int16Array, 3, attributesBufferLength, unsigned)\n\t}\n\n\tpublic set(array:Array<number>, offset?:number);\n\tpublic set(typedArray:Uint16Array, offset?:number);\n\tpublic set(typedArray:Int16Array, offset?:number);\n\tpublic set(values:any, offset:number = 0)\n\t{\n\t\tsuper.set(values, offset);\n\t}\n\n\tpublic get(count:number, offset?:number):Uint16Array;\n\tpublic get(count:number, offset?:number):Int16Array;\n\tpublic get(count:number, offset:number = 0):any\n\t{\n\t\treturn super.get(count, offset);\n\t}\n\n\tpublic _internalClone(attributesBuffer:AttributesBuffer):Short3Attributes\n\t{\n\t\treturn (this._cloneCache = new Short3Attributes(attributesBuffer, this._arrayClass == Uint16Array));\n\t}\n\n\tpublic clone(attributesBuffer:AttributesBuffer = null):Short3Attributes\n\t{\n\t\treturn <Short3Attributes> super.clone(attributesBuffer);\n\t}\n}\n\nexport = Short3Attributes;",
    "import IAudioChannel\t\t\t\t= require(\"awayjs-core/lib/managers/IAudioChannel\");\nimport AudioManager\t\t\t\t= require(\"awayjs-core/lib/managers/AudioManager\");\nimport ColorTransform\t\t\t= require(\"awayjs-core/lib/geom/ColorTransform\");\nimport Matrix\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport AssetBase\t\t\t\t= require(\"awayjs-core/lib/library/AssetBase\");\nimport ParserUtils\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserUtils\");\nimport ColorUtils\t\t\t\t= require(\"awayjs-core/lib/utils/ColorUtils\");\n\n// TODO: Audio should probably be an interface containing play/stop/seek functionality\nclass WaveAudio extends AssetBase\n{\n\tpublic static assetType:string = \"[asset WaveAudio]\";\n\n\tprivate _audioChannel:IAudioChannel;\n\tprivate _volume:number = 1;\n\tprivate _buffer:ArrayBuffer;\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn WaveAudio.assetType;\n\t}\n\n\tpublic get volume():number\n\t{\n\t\treturn this._volume;\n\t}\n\n\tpublic set volume(value:number)\n\t{\n\t\tif (this._volume == value)\n\t\t\treturn;\n\n\t\tthis._volume = value;\n\n\t\tif (this._audioChannel)\n\t\t\tthis._audioChannel.volume = this._volume;\n\t}\n\n\tpublic get currentTime():number\n\t{\n\t\tif (this._audioChannel)\n\t\t\treturn this._audioChannel.currentTime;\n\n\t\treturn 0;\n\t}\n\n\tpublic get duration():number\n\t{\n\t\tif (this._audioChannel)\n\t\t\treturn this._audioChannel.duration;\n\n\t\treturn 0;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(buffer:ArrayBuffer)\n\t{\n\t\tsuper();\n\n\t\tthis._buffer = buffer;\n\t}\n\n\tpublic dispose()\n\t{\n\t\tthis.stop();\n\t}\n\n\tpublic play(offset:number, loop:boolean = false)\n\t{\n\t\tthis._audioChannel = AudioManager.getChannel(this._buffer.byteLength);\n\n\t\tif (this._audioChannel) {\n\t\t\tthis._audioChannel.volume = this._volume;\n\t\t\tthis._audioChannel.play(this._buffer, offset, loop, this.id);\n\t\t}\n\t}\n\n\tpublic stop()\n\t{\n\t\tif (this._audioChannel)\n\t\t\tthis._audioChannel.stop();\n\n\t\tdelete this._audioChannel;\n\t\tthis._audioChannel = null;\n\t}\n\n\tpublic clone()\n\t{\n\t\tvar newInstance:WaveAudio = new WaveAudio(this._buffer);\n\n\t\tnewInstance.name = this.name;\n\n\t\treturn newInstance;\n\t}\n}\n\nexport = WaveAudio;",
    "import ErrorBase\t\t\t\t= require(\"awayjs-core/lib/errors/ErrorBase\");\n\n/**\n * AbstractMethodError is thrown when an abstract method is called. The method in question should be overridden\n * by a concrete subclass.\n */\nclass AbstractMethodError extends ErrorBase\n{\n\t/**\n\t * Create a new AbstractMethodError.\n\t * @param message An optional message to override the default error message.\n\t * @param id The id of the error.\n\t */\n\tconstructor(message:string = null, id:number = 0)\n\t{\n\t\tsuper(message || \"An abstract method was called! Either an instance of an abstract class was created, or an abstract method was not overridden by the subclass.\", id);\n\t}\n}\n\nexport = AbstractMethodError;",
    "import ErrorBase\t\t\t\t= require(\"awayjs-core/lib/errors/ErrorBase\");\n\n/**\n * AbstractMethodError is thrown when an abstract method is called. The method in question should be overridden\n * by a concrete subclass.\n */\nclass ArgumentError extends ErrorBase\n{\n\t/**\n\t * Create a new ArgumentError.\n\t *\n\t * @param message An optional message to override the default error message.\n\t * @param id The id of the error.\n\t */\n\tconstructor(message:string = null, id:number = 0)\n\t{\n\t\tsuper(message || \"ArgumentError\", id);\n\t}\n}\n\nexport = ArgumentError;",
    "import ErrorBase\t\t\t\t= require(\"awayjs-core/lib/errors/ErrorBase\");\n\nclass DocumentError extends ErrorBase\n{\n\tpublic static DOCUMENT_DOES_NOT_EXIST:string = \"documentDoesNotExist\";\n\n\tconstructor(message:string = \"DocumentError\", id:number = 0)\n\t{\n\t\tsuper(message, id);\n\t}\n}\n\nexport = DocumentError;",
    "class ErrorBase\n{\n\n\tprivate _errorID:number = 0;   //Contains the reference number associated with the specific error message.\n\tprivate _messsage:string = '';  //Contains the message associated with the Error object.\n\tprivate _name:string = '';  // Contains the name of the Error object.\n\n\tconstructor(message:string = '', id:number = 0, _name:string = '')\n\t{\n\n\t\tthis._messsage = message;\n\t\tthis._name = name;\n\t\tthis._errorID = id;\n\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get message():string\n\t{\n\t\treturn this._messsage;\n\t}\n\n\t/**\n\t *\n\t * @param value\n\t */\n\tpublic set message(value:string)\n\t{\n\t\tthis._messsage = value;\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get name():string\n\t{\n\n\t\treturn this._name;\n\n\t}\n\n\t/**\n\t *\n\t * @param value\n\t */\n\tpublic set name(value:string)\n\t{\n\n\t\tthis._name = value;\n\n\t}\n\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tpublic get errorID():number\n\t{\n\n\t\treturn this._errorID;\n\n\t}\n\n}\n\nexport = ErrorBase;",
    "import ErrorBase\t\t\t\t= require(\"awayjs-core/lib/errors/ErrorBase\");\n\n/**\n * AbstractMethodError is thrown when an abstract method is called. The method in question should be overridden\n * by a concrete subclass.\n */\nclass PartialImplementationError extends ErrorBase\n{\n\t/**\n\t * Create a new AbstractMethodError.\n\t * @param message An optional message to override the default error message.\n\t * @param id The id of the error.\n\t */\n\tconstructor(dependency:string = '', id:number = 0)\n\t{\n\t\tsuper(\"PartialImplementationError - this function is in development. Required Dependency: \" + dependency, id);\n\t}\n}\n\nexport = PartialImplementationError;",
    "import ErrorBase\t\t\t\t= require(\"awayjs-core/lib/errors/ErrorBase\");\n\n/**\n * RangeError is thrown when an index is accessed out of range of the number of\n * available indices on an Array.\n */\nclass RangeError extends ErrorBase\n{\n\t/**\n\t * Create a new RangeError.\n\t *\n\t * @param message An optional message to override the default error message.\n\t * @param id The id of the error.\n\t */\n\tconstructor(message:string = null, id:number = 0)\n\t{\n\t\tsuper(message || \"RangeError\", id);\n\t}\n}\n\nexport = RangeError;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport EventBase\t\t\t\t= require(\"awayjs-core/lib/events/EventBase\");\n\n/**\n * @class away.events.AssetEvent\n */\nclass AssetEvent extends EventBase\n{\n\t/**\n\t * Dispatched when the content of an asset is invalidated\n\t */\n\tpublic static INVALIDATE:string = \"invalidate\";\n\n\t/**\n\t * Dispatched when an asset is diposed\n\t */\n\tpublic static DISPOSE:string = \"dispose\";\n\n\t/**\n\t * Dispatched when an asset is cleared\n\t */\n\tpublic static CLEAR:string = \"clear\";\n\n\t/**\n\t *\n\t */\n\tpublic static RENAME:string = 'rename';\n\n\t/**\n\t *\n\t */\n\tpublic static ENTER_FRAME:string = 'enterFrame';\n\n\t/**\n\t *\n\t */\n\tpublic static EXIT_FRAME:string = 'exitFrame';\n\n\t/**\n\t *\n\t */\n\tpublic static ASSET_CONFLICT_RESOLVED:string = 'assetConflictResolved';\n\n\t/**\n\t * Dispatched when the loading of an asset and all of its dependencies is complete.\n\t */\n\tpublic static ASSET_COMPLETE:string = \"assetComplete\";\n\n\t/**\n\t *\n\t */\n\tpublic static TEXTURE_SIZE_ERROR:string = 'textureSizeError';\n\n\tprivate _asset:IAsset;\n\tprivate _prevName:string;\n\n\t/**\n\t *\n\t */\n\tconstructor(type:string, asset:IAsset, prevName:string = null)\n\t{\n\t\tsuper(type);\n\n\t\tthis._asset = asset;\n\t\tthis._prevName = prevName || this._asset.name;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get asset():IAsset\n\t{\n\t\treturn this._asset;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get prevName():string\n\t{\n\t\treturn this._prevName;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic clone():AssetEvent\n\t{\n\t\treturn new AssetEvent(this.type, this._asset, this._prevName);\n\t}\n}\n\nexport = AssetEvent;",
    "class EventBase\n{\n\t/**\n\t * Type of event\n\t * @property type\n\t * @type String\n\t */\n\tpublic type:string = undefined;\n\n\t/**\n\t * Reference to target object\n\t * @property target\n\t * @type Object\n\t */\n\tpublic target:any = undefined;\n\n\tconstructor(type:string)\n\t{\n\t\tthis.type = type;\n\t}\n\n\t/**\n\t * Clones the current event.\n\t * @return An exact duplicate of the current event.\n\t */\n\tpublic clone():EventBase\n\t{\n\t\treturn new EventBase(this.type);\n\t}\n}\n\nexport = EventBase;",
    "import EventBase\t\t\t\t\t= require(\"awayjs-core/lib/events/EventBase\");\n\n/**\n * Base class for dispatching events\n*\n* @class away.events.EventDispatcher\n*\n*/\nclass EventDispatcher\n{\n\tprivate listenerObjects:Array<ListenerObject> = new Array<ListenerObject>();\n\tprivate target:any;\n\n\tconstructor(target:any = null)\n\t{\n\t\tthis.target = target || this;\n\t}\n\n\t/**\n\t * Add an event listener\n\t * @method addEventListener\n\t * @param {String} Name of event to add a listener for\n\t * @param {Function} Callback function\n\t */\n\tpublic addEventListener(type:string, listener:(event:EventBase) => void)\n\t{\n\t\tvar l:ListenerObject = this.listenerObjects[type];\n\n\t\tif (l === undefined)\n\t\t\tl = this.listenerObjects[type] = new ListenerObject();\n\n\t\tl.addEventListener(listener);\n\t}\n\n\t/**\n\t * Remove an event listener\n\t * @method removeEventListener\n\t * @param {String} Name of event to remove a listener for\n\t * @param {Function} Callback function\n\t */\n\tpublic removeEventListener(type:string, listener:(event:EventBase) => void)\n\t{\n\t\tvar l:ListenerObject = this.listenerObjects[type];\n\n\t\tif (l) {\n\t\t\tl.removeEventListener(listener);\n\n\t\t\tif (l.numListeners == 0)\n\t\t\t\tdelete this.listenerObjects[type];\n\t\t}\n\t}\n\n\t/**\n\t * Dispatch an event\n\t * @method dispatchEvent\n\t * @param {Event} Event to dispatch\n\t */\n\tpublic dispatchEvent(event:EventBase)\n\t{\n\t\tvar l:ListenerObject = this.listenerObjects[event.type];\n\n\t\tif (l) {\n\t\t\tevent.target = this.target;\n\t\t\tl.dispatchEvent(event);\n\t\t}\n\t}\n\n\t/**\n\t * check if an object has an event listener assigned to it\n\t * @method hasListener\n\t * @param {String} Name of event to remove a listener for\n\t * @param {Function} Callback function\n\t */\n\tpublic hasEventListener(type:string, listener?:(event:EventBase) => void):boolean\n\t{\n\t\tif (this.listenerObjects[type] === undefined)\n\t\t\treturn false;\n\n\t\tif (listener != null)\n\t\t\treturn this.listenerObjects[type].getEventListenerIndex(listener) !== -1;\n\n\t\treturn this.listenerObjects[type].numListeners > 0;\n\t}\n}\n\nclass ListenerObject\n{\n\tpublic index:number = 0;\n\n\tpublic listeners:Array<(event:EventBase) => void> = new Array<(event:EventBase) => void>();\n\n\tpublic numListeners:number = 0;\n\n\tpublic addEventListener(listener:(event:EventBase) => void)\n\t{\n\t\t//check if listener already added\n\t\tif (this.getEventListenerIndex(listener) !== -1)\n\t\t\treturn;\n\n\t\tthis.listeners.push(listener);\n\t\tthis.numListeners++;\n\t}\n\n\tpublic removeEventListener(listener:(event:EventBase) => void)\n\t{\n\t\t//check if listener exists\n\t\tvar index:number = this.getEventListenerIndex(listener);\n\n\t\tif (index === -1)\n\t\t\treturn;\n\n\t\tthis.listeners.splice(index, 1);\n\t\tif (index <= this.index)\n\t\t\tthis.index--;\n\n\t\tthis.numListeners--;\n\t}\n\n\tpublic dispatchEvent(event:EventBase)\n\t{\n\t\tvar len:number = this.numListeners;\n\t\tfor (this.index = 0; this.index < len && this.index < this.numListeners; this.index++)\n\t\t\tthis.listeners[this.index](event);\n\t}\n\n\t/**\n\t * get Event Listener Index in array. Returns -1 if no listener is added\n\t * @method getEventListenerIndex\n\t * @param {String} Name of event to remove a listener for\n\t * @param {Function} Callback function\n\t */\n\tpublic getEventListenerIndex(listener:(event:EventBase) => void):number\n\t{\n\t\tfor (var index:number = 0; index < this.numListeners; index++)\n\t\t\tif (listener == this.listeners[index])\n\t\t\t\treturn index;\n\n\t\treturn -1;\n\t}\n}\nexport = EventDispatcher;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport EventBase\t\t\t\t= require(\"awayjs-core/lib/events/EventBase\");\n\nclass LoaderEvent extends EventBase\n{\n\t/**\n\t * Dispatched when the loading of a session and all of its dependencies is complete.\n\t */\n\tpublic static LOAD_COMPLETE:string = \"loadComplete\";\n\n\tprivate _url:string;\n\tprivate _content:IAsset;\n\tprivate _assets:IAsset[];\n\n\t/**\n\t * Create a new LoaderEvent object.\n\t *\n\t * @param type The event type.\n\t * @param url The url of the loaded resource.\n\t * @param assets The assets of the loaded resource.\n\t */\n\tconstructor(type:string, url:string = null, content:IAsset = null, assets:Array<IAsset> = null)\n\t{\n\t\tsuper(type);\n\n\t\tthis._url = url;\n\t\tthis._content = content;\n\t\tthis._assets = assets;\n\t}\n\n\t/**\n\t * The content returned if the resource has been loaded inside a <code>Loader</code> object.\n\t */\n\tpublic get content():IAsset\n\t{\n\t\treturn this._content;\n\t}\n\n\t/**\n\t * The url of the loaded resource.\n\t */\n\tpublic get url():string\n\t{\n\t\treturn this._url;\n\t}\n\n\t/**\n\t * The error string on loadError.\n\t */\n\tpublic get assets():IAsset[]\n\t{\n\t\treturn this._assets;\n\t}\n\n\t/**\n\t * Clones the current event.\n\t * @return An exact duplicate of the current event.\n\t */\n\tpublic clone():LoaderEvent\n\t{\n\t\treturn new LoaderEvent(this.type, this._url, this._content, this._assets);\n\t}\n}\n\nexport = LoaderEvent;",
    "import EventBase\t\t\t\t= require(\"awayjs-core/lib/events/EventBase\");\n\nclass ParserEvent extends EventBase\n{\n\tprivate _message:string;\n\n\t/**\n\t * Dispatched when parsing of an asset completed.\n\t */\n\tpublic static PARSE_COMPLETE:string = 'parseComplete';\n\n\t/**\n\t * Dispatched when an error occurs while parsing the data (e.g. because it's\n\t * incorrectly formatted.)\n\t */\n\tpublic static PARSE_ERROR:string = 'parseError';\n\n\n\t/**\n\t * Dispatched when a parser is ready to have dependencies retrieved and resolved.\n\t * This is an internal event that should rarely (if ever) be listened for by\n\t * external classes.\n\t */\n\tpublic static READY_FOR_DEPENDENCIES:string = 'readyForDependencies';\n\n\n\tconstructor(type:string, message:string = '')\n\t{\n\t\tsuper(type);\n\n\t\tthis._message = message;\n\t}\n\n\n\t/**\n\t * Additional human-readable message. Usually supplied for ParserEvent.PARSE_ERROR events.\n\t */\n\tpublic get message():string\n\t{\n\t\treturn this._message;\n\t}\n\n\n\tpublic clone():ParserEvent\n\t{\n\t\treturn new ParserEvent(this.type, this._message);\n\t}\n}\n\nexport = ParserEvent;",
    "import EventBase\t\t\t\t= require(\"awayjs-core/lib/events/EventBase\");\nimport IProjection\t\t\t\t= require(\"awayjs-core/lib/projections/IProjection\");\n\nclass ProjectionEvent extends EventBase\n{\n\tpublic static MATRIX_CHANGED:string = \"matrixChanged\";\n\n\tprivate _projection:IProjection;\n\n\tconstructor(type:string, projection:IProjection)\n\t{\n\t\tsuper(type);\n\t\tthis._projection = projection;\n\t}\n\n\tpublic get projection():IProjection\n\t{\n\t\treturn this._projection;\n\t}\n}\n\nexport = ProjectionEvent;",
    "import EventBase\t\t\t\t= require(\"awayjs-core/lib/events/EventBase\");\n\nclass TimerEvent extends EventBase\n{\n\t/**\n\t *\n\t */\n\tpublic static TIMER:string = \"timer\";\n\n\t/**\n\t *\n\t */\n\tpublic static TIMER_COMPLETE:string = \"timerComplete\";\n\n\tconstructor(type:string)\n\t{\n\t\tsuper(type);\n\n\t}\n}\n\nexport = TimerEvent",
    "import URLLoader\t\t\t\t= require(\"awayjs-core/lib/net/URLLoader\");\nimport EventBase\t\t\t\t= require(\"awayjs-core/lib/events/EventBase\");\n\nclass URLLoaderEvent extends EventBase\n{\n\tpublic static HTTP_STATUS:string = \"httpStatus\";\n\n\tpublic static LOAD_ERROR:string = \"loadError\";\n\n\tpublic static LOAD_PROGRESS:string = \"loadProgress\";\n\n\tpublic static LOAD_START:string = \"loadStart\";\n\n\tpublic static LOAD_COMPLETE:string = \"loadComplete\";\n\n\tprivate _urlLoader:URLLoader;\n\n\tconstructor(type:string, urlLoader:URLLoader)\n\t{\n\t\tsuper(type);\n\n\t\tthis._urlLoader = urlLoader;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get urlLoader():URLLoader\n\t{\n\t\treturn this._urlLoader;\n\t}\n\n\n\t/**\n\t *\n\t */\n\tpublic clone():URLLoaderEvent\n\t{\n\t\treturn new URLLoaderEvent(this.type, this._urlLoader);\n\t}\n}\n\nexport = URLLoaderEvent;",
    "import Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\n\n/**\n * A Box object is an area defined by its position, as indicated by its\n * top-left-front corner point(<i>x</i>, <i>y</i>, <i>z</i>) and by its width,\n * height and depth.\n *\n *\n * <p>The <code>x</code>, <code>y</code>, <code>z</code>, <code>width</code>,\n * <code>height</code> <code>depth</code> properties of the Box class are\n * independent of each other; changing the value of one property has no effect\n * on the others. However, the <code>right</code>, <code>bottom</code> and\n * <code>back</code> properties are integrally related to those six\n * properties. For example, if you change the value of the <code>right</code>\n * property, the value of the <code>width</code> property changes; if you\n * change the <code>bottom</code> property, the value of the\n * <code>height</code> property changes. </p>\n *\n * <p>The following methods and properties use Box objects:</p>\n *\n * <ul>\n *   <li>The <code>bounds</code> property of the DisplayObject class</li>\n * </ul>\n *\n * <p>You can use the <code>new Box()</code> constructor to create a\n * Box object.</p>\n *\n * <p><b>Note:</b> The Box class does not define a cubic Shape\n * display object.\n */\nclass Box\n{\n\tprivate _size:Vector3D;\n\tprivate _bottomRightBack:Vector3D;\n\tprivate _topLeftFront:Vector3D;\n\n\t/**\n\t * The height of the box, in pixels. Changing the <code>height</code> value\n\t * of a Box object has no effect on the <code>x</code>, <code>y</code>,\n\t * <code>z</code>, <code>depth</code> and <code>width</code> properties.\n\t */\n\tpublic height:number;\n\n\t/**\n\t * The width of the box, in pixels. Changing the <code>width</code> value\n\t * of a Box object has no effect on the <code>x</code>, <code>y</code>,\n\t * <code>z</code>, <code>depth</code> and <code>height</code> properties.\n\t */\n\tpublic width:number;\n\n\t/**\n\t * The deoth of the box, in pixels. Changing the <code>depth</code> value\n\t * of a Box object has no effect on the <code>x</code>, <code>y</code>,\n\t * <code>z</code>, <code>width</code> and <code>height</code> properties.\n\t */\n\tpublic depth:number;\n\n\t/**\n\t * The <i>x</i> coordinate of the top-left-front corner of the box.\n\t * Changing the value of the <code>x</code> property of a Box object has no\n\t * effect on the <code>y</code>, <code>z</code>, <code>width</code>,\n\t * <code>height</code> and <code>depth</code> properties.\n\t *\n\t * <p>The value of the <code>x</code> property is equal to the value of the\n\t * <code>left</code> property.</p>\n\t */\n\tpublic x:number;\n\n\t/**\n\t * The <i>y</i> coordinate of the top-left-front corner of the box.\n\t * Changing the value of the <code>y</code> property of a Box object has no\n\t * effect on the <code>x</code>, <code>z</code>, <code>width</code>,\n\t * <code>height</code> and <code>depth</code> properties.\n\t *\n\t * <p>The value of the <code>y</code> property is equal to the value of the\n\t * <code>top</code> property.</p>\n\t */\n\tpublic y:number;\n\n\t/**\n\t * The <i>y</i> coordinate of the top-left-front corner of the box.\n\t * Changing the value of the <code>z</code> property of a Box object has no\n\t * effect on the <code>x</code>, <code>y</code>, <code>width</code>,\n\t * <code>height</code> and <code>depth</code> properties.\n\t *\n\t * <p>The value of the <code>z</code> property is equal to the value of the\n\t * <code>front</code> property.</p>\n\t */\n\tpublic z:number\n\n\t/**\n\t * The sum of the <code>z</code> and <code>height</code> properties.\n\t */\n\tpublic get back():number\n\t{\n\t\treturn this.z + this.depth;\n\t}\n\n\tpublic set back(val:number)\n\t{\n\t\tthis.depth = val - this.z;\n\t}\n\n\t/**\n\t * The sum of the <code>y</code> and <code>height</code> properties.\n\t */\n\tpublic get bottom():number\n\t{\n\t\treturn this.y + this.height;\n\t}\n\n\tpublic set bottom(val:number)\n\t{\n\t\tthis.height = val - this.y;\n\t}\n\n\t/**\n\t * The location of the Box object's bottom-right corner, determined by the\n\t * values of the <code>right</code> and <code>bottom</code> properties.\n\t */\n\tpublic get bottomRightBack():Vector3D\n\t{\n\t\tif (this._bottomRightBack == null)\n\t\t\tthis._bottomRightBack = new Vector3D();\n\n\t\tthis._bottomRightBack.x = this.x + this.width;\n\t\tthis._bottomRightBack.y = this.y + this.height;\n\t\tthis._bottomRightBack.z = this.z + this.depth;\n\n\t\treturn this._bottomRightBack;\n\t}\n\n\t/**\n\t * The <i>z</i> coordinate of the top-left-front corner of the box. Changing\n\t * the <code>front</code> property of a Box object has no effect on the\n\t * <code>x</code>, <code>y</code>, <code>width</code> and <code>height</code>\n\t * properties. However it does affect the <code>depth</code> property,\n\t * whereas changing the <code>z</code> value does <i>not</i> affect the\n\t * <code>depth</code> property.\n\t *\n\t * <p>The value of the <code>left</code> property is equal to the value of\n\t * the <code>x</code> property.</p>\n\t */\n\tpublic get front():number\n\t{\n\t\treturn this.z;\n\t}\n\n\tpublic set front(val:number)\n\t{\n\t\tthis.depth += this.z - val;\n\t\tthis.z = val;\n\t}\n\n\t/**\n\t * The <i>x</i> coordinate of the top-left corner of the box. Changing the\n\t * <code>left</code> property of a Box object has no effect on the\n\t * <code>y</code> and <code>height</code> properties. However it does affect\n\t * the <code>width</code> property, whereas changing the <code>x</code> value\n\t * does <i>not</i> affect the <code>width</code> property.\n\t *\n\t * <p>The value of the <code>left</code> property is equal to the value of\n\t * the <code>x</code> property.</p>\n\t */\n\tpublic get left():number\n\t{\n\t\treturn this.x;\n\t}\n\n\tpublic set left(val:number)\n\t{\n\t\tthis.width += this.x - val;\n\t\tthis.x = val;\n\t}\n\n\t/**\n\t * The sum of the <code>x</code> and <code>width</code> properties.\n\t */\n\tpublic get right():number\n\t{\n\t\treturn this.x + this.width;\n\t}\n\n\tpublic set right(val:number)\n\t{\n\t\tthis.width = val - this.x;\n\t}\n\n\t/**\n\t * The size of the Box object, expressed as a Vector3D object with the\n\t * values of the <code>width</code>, <code>height</code> and\n\t * <code>depth</code> properties.\n\t */\n\tpublic get size():Vector3D\n\t{\n\t\tif (this._size == null)\n\t\t\tthis._size = new Vector3D();\n\n\t\tthis._size.x = this.width;\n\t\tthis._size.y = this.height;\n\t\tthis._size.z = this.depth;\n\n\t\treturn this._size;\n\t}\n\n\t/**\n\t * The <i>y</i> coordinate of the top-left-front corner of the box. Changing\n\t * the <code>top</code> property of a Box object has no effect on the\n\t * <code>x</code> and <code>width</code> properties. However it does affect\n\t * the <code>height</code> property, whereas changing the <code>y</code>\n\t * value does <i>not</i> affect the <code>height</code> property.\n\t *\n\t * <p>The value of the <code>top</code> property is equal to the value of the\n\t * <code>y</code> property.</p>\n\t */\n\tpublic get top():number\n\t{\n\t\treturn this.y;\n\t}\n\n\tpublic set top(val:number)\n\t{\n\t\tthis.height += (this.y - val);\n\t\tthis.y = val;\n\t}\n\n\t/**\n\t * The location of the Box object's top-left-front corner, determined by the\n\t * <i>x</i>, <i>y</i> and <i>z</i> coordinates of the point.\n\t */\n\tpublic get topLeftFront():Vector3D\n\t{\n\t\tif (this._topLeftFront == null)\n\t\t\tthis._topLeftFront = new Vector3D();\n\n\t\tthis._topLeftFront.x = this.x;\n\t\tthis._topLeftFront.y = this.y;\n\t\tthis._topLeftFront.z = this.z;\n\n\t\treturn this._topLeftFront;\n\t}\n\n\t/**\n\t * Creates a new Box object with the top-left-front corner specified by the\n\t * <code>x</code>, <code>y</code> and <code>z</code> parameters and with the\n\t * specified <code>width</code>, <code>height</code> and <code>depth</code>\n\t * parameters. If you call this public without parameters, a box with\n\t * <code>x</code>, <code>y</code>, <code>z</code>, <code>width</code>,\n\t * <code>height</code> and <code>depth</code> properties set to 0 is created.\n\t *\n\t * @param x      The <i>x</i> coordinate of the top-left-front corner of the\n\t *               box.\n\t * @param y      The <i>y</i> coordinate of the top-left-front corner of the\n\t *               box.\n\t * @param z      The <i>z</i> coordinate of the top-left-front corner of the\n\t *               box.\n\t * @param width  The width of the box, in pixels.\n\t * @param height The height of the box, in pixels.\n\t * @param depth The depth of the box, in pixels.\n\t */\n\tconstructor(x:number = 0, y:number = 0, z:number = 0, width:number = 0, height:number = 0, depth:number = 0)\n\t{\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = depth;\n\t}\n\n\t/**\n\t * Returns a new Box object with the same values for the <code>x</code>,\n\t * <code>y</code>, <code>z</code>, <code>width</code>, <code>height</code>\n\t * and <code>depth</code> properties as the original Box object.\n\t *\n\t * @return A new Box object with the same values for the <code>x</code>,\n\t *         <code>y</code>, <code>z</code>, <code>width</code>,\n\t *         <code>height</code> and <code>depth</code> properties as the\n\t *         original Box object.\n\t */\n\tpublic clone():Box\n\t{\n\t\treturn new Box(this.x, this.y, this.z, this.width, this.height, this.depth);\n\t}\n\n\t/**\n\t * Determines whether the specified position is contained within the cubic\n\t * region defined by this Box object.\n\t *\n\t * @param x The <i>x</i> coordinate(horizontal component) of the position.\n\t * @param y The <i>y</i> coordinate(vertical component) of the position.\n\t * @param z The <i>z</i> coordinate(longitudinal component) of the position.\n\t * @return A value of <code>true</code> if the Box object contains the\n\t *         specified position; otherwise <code>false</code>.\n\t */\n\tpublic contains(x:number, y:number, z:number):boolean\n\t{\n\t\treturn (this.x <= x && this.x + this.width >= x && this.y <= y && this.y + this.height >= y && this.z <= z && this.z + this.depth >= z);\n\t}\n\n\t/**\n\t * Determines whether the specified position is contained within the cubic\n\t * region defined by this Box object. This method is similar to the\n\t * <code>Box.contains()</code> method, except that it takes a Vector3D\n\t * object as a parameter.\n\t *\n\t * @param position The position, as represented by its <i>x</i>, <i>y</i> and\n\t *                 <i>z</i> coordinates.\n\t * @return A value of <code>true</code> if the Box object contains the\n\t *         specified position; otherwise <code>false</code>.\n\t */\n\tpublic containsPoint(position:Vector3D):boolean\n\t{\n\t\treturn (this.x <= position.x && this.x + this.width >= position.x && this.y <= position.y && this.y + this.height >= position.y && this.z <= position.z && this.z + this.depth >= position.z);\n\t}\n\n\t/**\n\t * Determines whether the Box object specified by the <code>box</code>\n\t * parameter is contained within this Box object. A Box object is said to\n\t * contain another if the second Box object falls entirely within the\n\t * boundaries of the first.\n\t *\n\t * @param box The Box object being checked.\n\t * @return A value of <code>true</code> if the Box object that you specify\n\t *         is contained by this Box object; otherwise <code>false</code>.\n\t */\n\tpublic containsBox(box:Box):boolean\n\t{\n\t\treturn (this.x <= box.x && this.x + this.width >= box.x + box.width && this.y <= box.y && this.y + this.height >= box.y + box.height && this.z <= box.z && this.z + this.depth >= box.z + box.depth)\n\t}\n\n\t/**\n\t * Copies all of box data from the source Box object into the calling\n\t * Box object.\n\t *\n\t * @param sourceBox The Box object from which to copy the data.\n\t */\n\tpublic copyFrom(sourceBox:Box)\n\t{\n\t\tthis.x = sourceBox.x;\n\t\tthis.y = sourceBox.y;\n\t\tthis.z = sourceBox.z;\n\t\tthis.width = sourceBox.width;\n\t\tthis.height = sourceBox.height;\n\t\tthis.depth = sourceBox.depth;\n\t}\n\n\t/**\n\t * Determines whether the object specified in the <code>toCompare</code>\n\t * parameter is equal to this Box object. This method compares the\n\t * <code>x</code>, <code>y</code>, <code>z</code>, <code>width</code>,\n\t * <code>height</code> and <code>depth</code> properties of an object against\n\t * the same properties of this Box object.\n\t *\n\t * @param toCompare The box to compare to this Box object.\n\t * @return A value of <code>true</code> if the object has exactly the same\n\t *         values for the <code>x</code>, <code>y</code>, <code>z</code>,\n\t *         <code>width</code>, <code>height</code> and <code>depth</code>\n\t *         properties as this Box object; otherwise <code>false</code>.\n\t */\n\tpublic equals(toCompare:Box):boolean\n\t{\n\t\treturn (this.x == toCompare.x && this.y == toCompare.y && this.z == toCompare.z && this.width == toCompare.width && this.height == toCompare.height && this.depth == toCompare.depth)\n\t}\n\n\t/**\n\t * Increases the size of the Box object by the specified amounts, in\n\t * pixels. The center point of the Box object stays the same, and its\n\t * size increases to the left and right by the <code>dx</code> value, to\n\t * the top and the bottom by the <code>dy</code> value, and to\n\t * the front and the back by the <code>dz</code> value.\n\t *\n\t * @param dx The value to be added to the left and the right of the Box\n\t *           object. The following equation is used to calculate the new\n\t *           width and position of the box:\n\t * @param dy The value to be added to the top and the bottom of the Box\n\t *           object. The following equation is used to calculate the new\n\t *           height and position of the box:\n\t * @param dz The value to be added to the front and the back of the Box\n\t *           object. The following equation is used to calculate the new\n\t *           depth and position of the box:\n\t */\n\tpublic inflate(dx:number, dy:number, dz:number)\n\t{\n\t\tthis.x -= dx/2;\n\t\tthis.y -= dy/2;\n\t\tthis.z -= dz/2;\n\t\tthis.width += dx/2;\n\t\tthis.height += dy/2;\n\t\tthis.depth += dz/2;\n\t}\n\n\t/**\n\t * Increases the size of the Box object. This method is similar to the\n\t * <code>Box.inflate()</code> method except it takes a Vector3D object as\n\t * a parameter.\n\t *\n\t * <p>The following two code examples give the same result:</p>\n\t *\n\t * @param delta The <code>x</code> property of this Vector3D object is used to\n\t *              increase the horizontal dimension of the Box object.\n\t *              The <code>y</code> property is used to increase the vertical\n\t *              dimension of the Box object.\n\t *              The <code>z</code> property is used to increase the\n\t *              longitudinal dimension of the Box object.\n\t */\n\tpublic inflatePoint(delta:Vector3D)\n\t{\n\t\tthis.x -= delta.x/2;\n\t\tthis.y -= delta.y/2;\n\t\tthis.z -= delta.z/2;\n\t\tthis.width += delta.x/2;\n\t\tthis.height += delta.y/2;\n\t\tthis.depth += delta.z/2;\n\t}\n\n\t/**\n\t * If the Box object specified in the <code>toIntersect</code> parameter\n\t * intersects with this Box object, returns the area of intersection\n\t * as a Box object. If the boxes do not intersect, this method returns an\n\t * empty Box object with its properties set to 0.\n\t *\n\t * @param toIntersect The Box object to compare against to see if it\n\t *                    intersects with this Box object.\n\t * @return A Box object that equals the area of intersection. If the\n\t *         boxes do not intersect, this method returns an empty Box\n\t *         object; that is, a box with its <code>x</code>, <code>y</code>,\n\t *         <code>z</code>, <code>width</code>,  <code>height</code>, and\n\t *         <code>depth</code> properties set to 0.\n\t */\n\tpublic intersection(toIntersect:Box):Box\n\t{\n\t\tif (this.intersects(toIntersect)) {\n\t\t\tvar i:Box = new Box();\n\n\t\t\tif (this.x > toIntersect.x) {\n\t\t\t\ti.x = this.x;\n\t\t\t\ti.width = toIntersect.x - this.x + toIntersect.width;\n\n\t\t\t\tif (i.width > this.width)\n\t\t\t\t\ti.width = this.width;\n\t\t\t} else {\n\t\t\t\ti.x = toIntersect.x;\n\t\t\t\ti.width = this.x - toIntersect.x + this.width;\n\n\t\t\t\tif (i.width > toIntersect.width)\n\t\t\t\t\ti.width = toIntersect.width;\n\t\t\t}\n\n\t\t\tif (this.y > toIntersect.y) {\n\t\t\t\ti.y = this.y;\n\t\t\t\ti.height = toIntersect.y - this.y + toIntersect.height;\n\n\t\t\t\tif (i.height > this.height)\n\t\t\t\t\ti.height = this.height;\n\t\t\t} else {\n\t\t\t\ti.y = toIntersect.y;\n\t\t\t\ti.height = this.y - toIntersect.y + this.height;\n\n\t\t\t\tif (i.height > toIntersect.height)\n\t\t\t\t\ti.height = toIntersect.height;\n\t\t\t}\n\n\n\t\t\tif (this.z > toIntersect.z) {\n\t\t\t\ti.z = this.z;\n\t\t\t\ti.depth = toIntersect.z - this.z + toIntersect.depth;\n\n\t\t\t\tif (i.depth > this.depth)\n\t\t\t\t\ti.depth = this.depth;\n\t\t\t} else {\n\t\t\t\ti.z = toIntersect.z;\n\t\t\t\ti.depth = this.z - toIntersect.z + this.depth;\n\n\t\t\t\tif (i.depth > toIntersect.depth)\n\t\t\t\t\ti.depth = toIntersect.depth;\n\t\t\t}\n\n\t\t\treturn i;\n\t\t}\n\n\t\treturn new Box();\n\t}\n\n\t/**\n\t * Determines whether the object specified in the <code>toIntersect</code>\n\t * parameter intersects with this Box object. This method checks the\n\t * <code>x</code>, <code>y</code>, <code>z</code>, <code>width</code>,\n\t * <code>height</code>, and <code>depth</code> properties of the specified\n\t * Box object to see if it intersects with this Box object.\n\t *\n\t * @param toIntersect The Box object to compare against this Box object.\n\t * @return A value of <code>true</code> if the specified object intersects\n\t *         with this Box object; otherwise <code>false</code>.\n\t */\n\tpublic intersects(toIntersect:Box):boolean\n\t{\n\t\treturn (this.x + this.width > toIntersect.x && this.x < toIntersect.x + toIntersect.width && this.y + this.height > toIntersect.y && this.y < toIntersect.y + toIntersect.height && this.z + this.depth > toIntersect.z && this.z < toIntersect.z + toIntersect.depth);\n\t}\n\n\tpublic rayIntersection(position:Vector3D, direction:Vector3D, targetNormal:Vector3D):number\n\t{\n\t\tif (this.containsPoint(position))\n\t\t\treturn 0;\n\n\t\tvar halfExtentsX:number = this.width/2;\n\t\tvar halfExtentsY:number = this.height/2;\n\t\tvar halfExtentsZ:number = this.depth/2;\n\n\t\tvar centerX:number = this.x + halfExtentsX;\n\t\tvar centerY:number = this.y + halfExtentsY;\n\t\tvar centerZ:number = this.z + halfExtentsZ;\n\n\t\tvar px:number = position.x - centerX;\n\t\tvar py:number = position.y - centerY;\n\t\tvar pz:number = position.z - centerZ;\n\n\t\tvar vx:number = direction.x;\n\t\tvar vy:number = direction.y;\n\t\tvar vz:number = direction.z;\n\n\t\tvar ix:number;\n\t\tvar iy:number;\n\t\tvar iz:number;\n\t\tvar rayEntryDistance:number;\n\n\t\t// ray-plane tests\n\t\tvar intersects:boolean;\n\t\tif (vx < 0) {\n\t\t\trayEntryDistance = ( halfExtentsX - px )/vx;\n\t\t\tif (rayEntryDistance > 0) {\n\t\t\t\tiy = py + rayEntryDistance*vy;\n\t\t\t\tiz = pz + rayEntryDistance*vz;\n\t\t\t\tif (iy > -halfExtentsY && iy < halfExtentsY && iz > -halfExtentsZ && iz < halfExtentsZ) {\n\t\t\t\t\ttargetNormal.x = 1;\n\t\t\t\t\ttargetNormal.y = 0;\n\t\t\t\t\ttargetNormal.z = 0;\n\n\t\t\t\t\tintersects = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!intersects && vx > 0) {\n\t\t\trayEntryDistance = ( -halfExtentsX - px )/vx;\n\t\t\tif (rayEntryDistance > 0) {\n\t\t\t\tiy = py + rayEntryDistance*vy;\n\t\t\t\tiz = pz + rayEntryDistance*vz;\n\t\t\t\tif (iy > -halfExtentsY && iy < halfExtentsY && iz > -halfExtentsZ && iz < halfExtentsZ) {\n\t\t\t\t\ttargetNormal.x = -1;\n\t\t\t\t\ttargetNormal.y = 0;\n\t\t\t\t\ttargetNormal.z = 0;\n\t\t\t\t\tintersects = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!intersects && vy < 0) {\n\t\t\trayEntryDistance = ( halfExtentsY - py )/vy;\n\t\t\tif (rayEntryDistance > 0) {\n\t\t\t\tix = px + rayEntryDistance*vx;\n\t\t\t\tiz = pz + rayEntryDistance*vz;\n\t\t\t\tif (ix > -halfExtentsX && ix < halfExtentsX && iz > -halfExtentsZ && iz < halfExtentsZ) {\n\t\t\t\t\ttargetNormal.x = 0;\n\t\t\t\t\ttargetNormal.y = 1;\n\t\t\t\t\ttargetNormal.z = 0;\n\t\t\t\t\tintersects = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!intersects && vy > 0) {\n\t\t\trayEntryDistance = ( -halfExtentsY - py )/vy;\n\t\t\tif (rayEntryDistance > 0) {\n\t\t\t\tix = px + rayEntryDistance*vx;\n\t\t\t\tiz = pz + rayEntryDistance*vz;\n\t\t\t\tif (ix > -halfExtentsX && ix < halfExtentsX && iz > -halfExtentsZ && iz < halfExtentsZ) {\n\t\t\t\t\ttargetNormal.x = 0;\n\t\t\t\t\ttargetNormal.y = -1;\n\t\t\t\t\ttargetNormal.z = 0;\n\t\t\t\t\tintersects = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!intersects && vz < 0) {\n\t\t\trayEntryDistance = ( halfExtentsZ - pz )/vz;\n\t\t\tif (rayEntryDistance > 0) {\n\t\t\t\tix = px + rayEntryDistance*vx;\n\t\t\t\tiy = py + rayEntryDistance*vy;\n\t\t\t\tif (iy > -halfExtentsY && iy < halfExtentsY && ix > -halfExtentsX && ix < halfExtentsX) {\n\t\t\t\t\ttargetNormal.x = 0;\n\t\t\t\t\ttargetNormal.y = 0;\n\t\t\t\t\ttargetNormal.z = 1;\n\t\t\t\t\tintersects = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!intersects && vz > 0) {\n\t\t\trayEntryDistance = ( -halfExtentsZ - pz )/vz;\n\t\t\tif (rayEntryDistance > 0) {\n\t\t\t\tix = px + rayEntryDistance*vx;\n\t\t\t\tiy = py + rayEntryDistance*vy;\n\t\t\t\tif (iy > -halfExtentsY && iy < halfExtentsY && ix > -halfExtentsX && ix < halfExtentsX) {\n\t\t\t\t\ttargetNormal.x = 0;\n\t\t\t\t\ttargetNormal.y = 0;\n\t\t\t\t\ttargetNormal.z = -1;\n\t\t\t\t\tintersects = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn intersects? rayEntryDistance : -1;\n\t}\n\n\t/**\n\t * Finds the closest point on the Box to another given point. This can be used for maximum error calculations for content within a given Box.\n\t *\n\t * @param point The point for which to find the closest point on the Box\n\t * @param target An optional Vector3D to store the result to prevent creating a new object.\n\t * @return\n\t */\n\tpublic closestPointToPoint(point:Vector3D, target:Vector3D = null):Vector3D\n\t{\n\t\tvar p:number;\n\n\t\tif (target == null)\n\t\t\ttarget = new Vector3D();\n\n\t\tp = point.x;\n\t\tif (p < this.x)\n\t\t\tp = this.x;\n\t\tif (p > this.x + this.width)\n\t\t\tp = this.x + this.width;\n\t\ttarget.x = p;\n\n\t\tp = point.y;\n\t\tif (p < this.y + this.height)\n\t\t\tp = this.y + this.height;\n\t\tif (p > this.y)\n\t\t\tp = this.y;\n\t\ttarget.y = p;\n\n\t\tp = point.z;\n\t\tif (p < this.z)\n\t\t\tp = this.z;\n\t\tif (p > this.z + this.depth)\n\t\t\tp = this.z + this.depth;\n\t\ttarget.z = p;\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Determines whether or not this Box object is empty.\n\t *\n\t * @return A value of <code>true</code> if the Box object's width, height or\n\t *         depth is less than or equal to 0; otherwise <code>false</code>.\n\t */\n\tpublic isEmpty():boolean\n\t{\n\t\treturn (this.x == 0 && this.y == 0 && this.z == 0 && this.width == 0 && this.height == 0 && this.depth == 0);\n\t}\n\n\t/**\n\t * Adjusts the location of the Box object, as determined by its\n\t * top-left-front corner, by the specified amounts.\n\t *\n\t * @param dx Moves the <i>x</i> value of the Box object by this amount.\n\t * @param dy Moves the <i>y</i> value of the Box object by this amount.\n\t * @param dz Moves the <i>z</i> value of the Box object by this amount.\n\t */\n\tpublic offset(dx:number, dy:number, dz:number)\n\t{\n\t\tthis.x += dx;\n\t\tthis.y += dy;\n\t\tthis.z += dz;\n\t}\n\n\t/**\n\t * Adjusts the location of the Box object using a Vector3D object as a\n\t * parameter. This method is similar to the <code>Box.offset()</code>\n\t * method, except that it takes a Vector3D object as a parameter.\n\t *\n\t * @param position A Vector3D object to use to offset this Box object.\n\t */\n\tpublic offsetPosition(position:Vector3D)\n\t{\n\t\tthis.x += position.x;\n\t\tthis.y += position.y;\n\t\tthis.z += position.z;\n\t}\n\n\t/**\n\t * Sets all of the Box object's properties to 0. A Box object is empty if its\n\t * width, height or depth is less than or equal to 0.\n\t *\n\t * <p> This method sets the values of the <code>x</code>, <code>y</code>,\n\t * <code>z</code>, <code>width</code>, <code>height</code>, and\n\t * <code>depth</code> properties to 0.</p>\n\t *\n\t */\n\tpublic setEmpty()\n\t{\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\tthis.z = 0;\n\t\tthis.width = 0;\n\t\tthis.height = 0;\n\t\tthis.depth = 0;\n\t}\n\n\tpublic setBoundIdentity()\n\t{\n\t\tthis.x = Number.MAX_VALUE/2;\n\t\tthis.y = Number.MAX_VALUE/2;\n\t\tthis.z = Number.MAX_VALUE/2;\n\t\tthis.width = -Number.MAX_VALUE;\n\t\tthis.height = -Number.MAX_VALUE;\n\t\tthis.depth = -Number.MAX_VALUE;\n\t}\n\n\t/**\n\t * Sets the members of Box to the specified values\n\t *\n\t * @param xa      The <i>x</i> coordinate of the top-left-front corner of the\n\t *                box.\n\t * @param ya      The <i>y</i> coordinate of the top-left-front corner of the\n\t *                box.\n\t * @param yz      The <i>z</i> coordinate of the top-left-front corner of the\n\t *                box.\n\t * @param widtha  The width of the box, in pixels.\n\t * @param heighta The height of the box, in pixels.\n\t * @param deptha  The depth of the box, in pixels.\n\t */\n\tpublic setTo(xa:number, ya:number, za:number, widtha:number, heighta:number, deptha:number)\n\t{\n\t\tthis.x = xa;\n\t\tthis.y = ya;\n\t\tthis.z = za;\n\t\tthis.width = widtha;\n\t\tthis.height = heighta;\n\t\tthis.depth = deptha;\n\t}\n\n\t/**\n\t * Builds and returns a string that lists the horizontal, vertical and\n\t * longitudinal positions and the width, height and depth of the Box object.\n\t *\n\t * @return A string listing the value of each of the following properties of\n\t *         the Box object: <code>x</code>, <code>y</code>, <code>z</code>,\n\t *         <code>width</code>, <code>height</code>, and <code>depth</code>.\n\t */\n\tpublic toString():string\n\t{\n\t\treturn \"[Box] (x=\" + this.x + \", y=\" + this.y + \", z=\" + this.z + \", width=\" + this.width + \", height=\" + this.height + \", depth=\" + this.depth + \")\";\n\t}\n\n\t/**\n\t * Adds two boxes together to create a new Box object, by filling\n\t * in the horizontal, vertical and longitudinal space between the two boxes.\n\t *\n\t * <p><b>Note:</b> The <code>union()</code> method ignores boxes with\n\t * <code>0</code> as the height, width or depth value, such as: <code>var\n\t * box2:Box = new Box(300,300,300,50,50,0);</code></p>\n\t *\n\t * @param toUnion A Box object to add to this Box object.\n\t * @return A new Box object that is the union of the two boxes.\n\t */\n\tpublic union(toUnion:Box, target:Box = null):Box\n\t{\n\t\tif (target == null)\n\t\t\ttarget = new Box();\n\n\t\tif (this.x < toUnion.x) {\n\t\t\ttarget.x = this.x;\n\t\t\ttarget.width = toUnion.x - this.x + toUnion.width;\n\n\t\t\tif (target.width < this.width)\n\t\t\t\ttarget.width = this.width;\n\t\t} else {\n\t\t\ttarget.x = toUnion.x;\n\t\t\ttarget.width = this.x - toUnion.x + this.width;\n\n\t\t\tif (target.width < toUnion.width)\n\t\t\t\ttarget.width = toUnion.width;\n\t\t}\n\n\t\tif (this.y < toUnion.y) {\n\t\t\ttarget.y = this.y;\n\t\t\ttarget.height = toUnion.y - this.y + toUnion.height;\n\n\t\t\tif (target.height < this.height)\n\t\t\t\ttarget.height = this.height;\n\t\t} else {\n\t\t\ttarget.y = toUnion.y;\n\t\t\ttarget.height = this.y - toUnion.y + this.height;\n\n\t\t\tif (target.height < toUnion.height)\n\t\t\t\ttarget.height = toUnion.height;\n\t\t}\n\n\t\tif (this.z < toUnion.z) {\n\t\t\ttarget.z = this.z;\n\t\t\ttarget.depth = toUnion.z - this.z + toUnion.depth;\n\n\t\t\tif (target.depth < this.depth)\n\t\t\t\ttarget.depth = this.depth;\n\t\t} else {\n\t\t\ttarget.z = toUnion.z;\n\t\t\ttarget.depth = this.z - toUnion.z + this.depth;\n\n\t\t\tif (target.depth < toUnion.depth)\n\t\t\t\ttarget.depth = toUnion.depth;\n\t\t}\n\n\t\treturn target;\n\t}\n}\n\nexport = Box;",
    "import ColorUtils\t\t\t= require(\"awayjs-core/lib/utils/ColorUtils\");\n\n/**\n * The ColorTransform class lets you adjust the color values in a display\n * object. The color adjustment or <i>color transformation</i> can be applied\n * to all four channels: red, green, blue, and alpha transparency.\n *\n * <p>When a ColorTransform object is applied to a display object, a new value\n * for each color channel is calculated like this:</p>\n *\n * <ul>\n *   <li>New red value = (old red value * <code>redMultiplier</code>) +\n * <code>redOffset</code></li>\n *   <li>New green value = (old green value * <code>greenMultiplier</code>) +\n * <code>greenOffset</code></li>\n *   <li>New blue value = (old blue value * <code>blueMultiplier</code>) +\n * <code>blueOffset</code></li>\n *   <li>New alpha value = (old alpha value * <code>alphaMultiplier</code>) +\n * <code>alphaOffset</code></li>\n * </ul>\n *\n * <p>If any of the color channel values is greater than 255 after the\n * calculation, it is set to 255. If it is less than 0, it is set to 0.</p>\n *\n * <p>You can use ColorTransform objects in the following ways:</p>\n *\n * <ul>\n *   <li>In the <code>colorTransform</code> parameter of the\n * <code>colorTransform()</code> method of the BitmapData class</li>\n *   <li>As the <code>colorTransform</code> property of a Transform object\n * (which can be used as the <code>transform</code> property of a display\n * object)</li>\n * </ul>\n *\n * <p>You must use the <code>new ColorTransform()</code> constructor to create\n * a ColorTransform object before you can call the methods of the\n * ColorTransform object.</p>\n *\n * <p>Color transformations do not apply to the background color of a movie\n * clip(such as a loaded SWF object). They apply only to graphics and symbols\n * that are attached to the movie clip.</p>\n */\nclass ColorTransform\n{\n\t/**\n\t * A decimal value that is multiplied with the alpha transparency channel\n\t * value.\n\t *\n\t * <p>If you set the alpha transparency value of a display object directly by\n\t * using the <code>alpha</code> property of the DisplayObject instance, it\n\t * affects the value of the <code>alphaMultiplier</code> property of that\n\t * display object's <code>transform.colorTransform</code> property.</p>\n\t */\n\tpublic alphaMultiplier:number;\n\n\t/**\n\t * A number from -255 to 255 that is added to the alpha transparency channel\n\t * value after it has been multiplied by the <code>alphaMultiplier</code>\n\t * value.\n\t */\n    public alphaOffset:number;\n\n\t/**\n\t * A decimal value that is multiplied with the blue channel value.\n\t */\n    public blueMultiplier:number;\n\n\t/**\n\t * A number from -255 to 255 that is added to the blue channel value after it\n\t * has been multiplied by the <code>blueMultiplier</code> value.\n\t */\n    public blueOffset:number;\n\n\t/**\n\t * A decimal value that is multiplied with the green channel value.\n\t */\n    public greenMultiplier:number;\n\n\t/**\n\t * A number from -255 to 255 that is added to the green channel value after\n\t * it has been multiplied by the <code>greenMultiplier</code> value.\n\t */\n    public greenOffset:number;\n\n\t/**\n\t * A decimal value that is multiplied with the red channel value.\n\t */\n    public redMultiplier:number;\n\n\t/**\n\t * A number from -255 to 255 that is added to the red channel value after it\n\t * has been multiplied by the <code>redMultiplier</code> value.\n\t */\n    public redOffset:number;\n\n\t/**\n\t * The RGB color value for a ColorTransform object.\n\t *\n\t * <p>When you set this property, it changes the three color offset values\n\t * (<code>redOffset</code>, <code>greenOffset</code>, and\n\t * <code>blueOffset</code>) accordingly, and it sets the three color\n\t * multiplier values(<code>redMultiplier</code>,\n\t * <code>greenMultiplier</code>, and <code>blueMultiplier</code>) to 0. The\n\t * alpha transparency multiplier and offset values do not change.</p>\n\t *\n\t * <p>When you pass a value for this property, use the format\n\t * 0x<i>RRGGBB</i>. <i>RR</i>, <i>GG</i>, and <i>BB</i> each consist of two\n\t * hexadecimal digits that specify the offset of each color component. The 0x\n\t * tells the ActionScript compiler that the number is a hexadecimal\n\t * value.</p>\n\t */\n\tpublic get color():number\n\t{\n\t\treturn((this.redOffset << 16) | ( this.greenOffset << 8) | this.blueOffset);\n\t}\n\n\tpublic set color(value:number)\n\t{\n\t\tvar argb:number[] = ColorUtils.float32ColorToARGB(value);\n\n\t\tthis.redOffset = argb[1];  //(value >> 16) & 0xFF;\n\t\tthis.greenOffset = argb[2];  //(value >> 8) & 0xFF;\n\t\tthis.blueOffset = argb[3];  //value & 0xFF;\n\n\t\tthis.redMultiplier = 0;\n\t\tthis.greenMultiplier = 0;\n\t\tthis.blueMultiplier = 0;\n\t}\n\n\t/**\n\t * Creates a ColorTransform object for a display object with the specified\n\t * color channel values and alpha values.\n\t *\n\t * @param redMultiplier   The value for the red multiplier, in the range from\n\t *                        0 to 1.\n\t * @param greenMultiplier The value for the green multiplier, in the range\n\t *                        from 0 to 1.\n\t * @param blueMultiplier  The value for the blue multiplier, in the range\n\t *                        from 0 to 1.\n\t * @param alphaMultiplier The value for the alpha transparency multiplier, in\n\t *                        the range from 0 to 1.\n\t * @param redOffset       The offset value for the red color channel, in the\n\t *                        range from -255 to 255.\n\t * @param greenOffset     The offset value for the green color channel, in\n\t *                        the range from -255 to 255.\n\t * @param blueOffset      The offset for the blue color channel value, in the\n\t *                        range from -255 to 255.\n\t * @param alphaOffset     The offset for alpha transparency channel value, in\n\t *                        the range from -255 to 255.\n\t */\n\tconstructor(redMultiplier:number = 1, greenMultiplier:number = 1, blueMultiplier:number = 1, alphaMultiplier:number = 1, redOffset:number = 0, greenOffset:number = 0, blueOffset:number = 0, alphaOffset:number = 0)\n\t{\n\t\tthis.redMultiplier = redMultiplier;\n\t\tthis.greenMultiplier = greenMultiplier;\n\t\tthis.blueMultiplier = blueMultiplier;\n\t\tthis.alphaMultiplier = alphaMultiplier;\n\t\tthis.redOffset = redOffset;\n\t\tthis.greenOffset = greenOffset;\n\t\tthis.blueOffset = blueOffset;\n\t\tthis.alphaOffset = alphaOffset;\n\t}\n\n    public clear()\n    {\n        this.redMultiplier = 1;\n        this.greenMultiplier = 1;\n        this.blueMultiplier = 1;\n        this.alphaMultiplier = 1;\n        this.redOffset = 0;\n        this.greenOffset = 0;\n        this.blueOffset = 0;\n        this.alphaOffset = 0;\n    }\n\n    public clone():ColorTransform\n    {\n        return new ColorTransform(this.redMultiplier, this.greenMultiplier, this.blueMultiplier, this.alphaMultiplier, this.redOffset, this.greenOffset, this.blueOffset, this.alphaOffset);\n    }\n\n    public copyFrom(source:ColorTransform)\n    {\n        this.redMultiplier = source.redMultiplier;\n        this.greenMultiplier = source.greenMultiplier;\n        this.blueMultiplier = source.blueMultiplier;\n        this.alphaMultiplier = source.alphaMultiplier;\n        this.redOffset = source.redOffset;\n        this.greenOffset = source.greenOffset;\n        this.blueOffset = source.blueOffset;\n        this.alphaOffset = source.alphaOffset;\n    }\n\n    public copyTo(destination:ColorTransform)\n    {\n        destination.copyFrom(this);\n    }\n\n    public prepend(ct:ColorTransform)\n    {\n        this.redOffset += ct.redOffset * this.redMultiplier;\n        this.greenOffset += ct.greenOffset * this.greenMultiplier;\n        this.blueOffset += ct.blueOffset * this.blueMultiplier;\n        this.alphaOffset += ct.alphaOffset * this.alphaMultiplier;\n\n        this.redMultiplier *= ct.redMultiplier;\n        this.greenMultiplier *= ct.greenMultiplier;\n        this.blueMultiplier *= ct.blueMultiplier;\n        this.alphaMultiplier *= ct.alphaMultiplier;\n    }\n}\n\nexport = ColorTransform;",
    "/**\n* MathConsts provides some commonly used mathematical constants\n*/\nclass MathConsts\n{\n\t/**\n\t * The amount to multiply with when converting radians to degrees.\n\t */\n\tpublic static RADIANS_TO_DEGREES:number = 180/Math.PI;\n\n\t/**\n\t * The amount to multiply with when converting degrees to radians.\n\t */\n\tpublic static DEGREES_TO_RADIANS:number = Math.PI/180;\n}\n\nexport = MathConsts;",
    "import Quaternion\t\t\t\t= require(\"awayjs-core/lib/geom/Quaternion\");\nimport Matrix3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Plane3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Plane3D\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\n\n\n/**\n * away.geom.Matrix3DUtils provides additional Matrix3D functions.\n */\nclass Matrix3DUtils\n{\n\t/**\n\t * A reference to a Vector to be used as a temporary raw data container, to prevent object creation.\n\t */\n\tpublic static RAW_DATA_CONTAINER:Float32Array = new Float32Array(16);\n\t//public static RAW_DATA_CONTAINER:number[] = new Array<number>(16);\n\n\tpublic static CALCULATION_MATRIX:Matrix3D = new Matrix3D();\n\n\t/**\n\t * Fills the 3d matrix object with values representing the transformation made by the given quaternion.\n\t *\n\t * @param    quarternion    The quarterion object to convert.\n\t */\n\tpublic static quaternion2matrix(quarternion:Quaternion, m:Matrix3D = null):Matrix3D\n\t{\n\t\tvar x:number = quarternion.x;\n\t\tvar y:number = quarternion.y;\n\t\tvar z:number = quarternion.z;\n\t\tvar w:number = quarternion.w;\n\n\t\tvar xx:number = x*x;\n\t\tvar xy:number = x*y;\n\t\tvar xz:number = x*z;\n\t\tvar xw:number = x*w;\n\n\t\tvar yy:number = y*y;\n\t\tvar yz:number = y*z;\n\t\tvar yw:number = y*w;\n\n\t\tvar zz:number = z*z;\n\t\tvar zw:number = z*w;\n\n\t\tvar raw:Float32Array = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\traw[0] = 1 - 2*(yy + zz);\n\t\traw[1] = 2*(xy + zw);\n\t\traw[2] = 2*(xz - yw);\n\t\traw[4] = 2*(xy - zw);\n\t\traw[5] = 1 - 2*(xx + zz);\n\t\traw[6] = 2*(yz + xw);\n\t\traw[8] = 2*(xz + yw);\n\t\traw[9] = 2*(yz - xw);\n\t\traw[10] = 1 - 2*(xx + yy);\n\t\traw[3] = raw[7] = raw[11] = raw[12] = raw[13] = raw[14] = 0;\n\t\traw[15] = 1;\n\n\t\tif (m) {\n\t\t\tm.copyRawDataFrom(raw);\n\t\t\treturn m;\n\t\t} else\n\t\t\treturn new Matrix3D(raw);\n\t}\n\n\t/**\n\t * Returns a normalised <code>Vector3D</code> object representing the forward vector of the given matrix.\n\t * @param    m        The Matrix3D object to use to get the forward vector\n\t * @param    v        [optional] A vector holder to prevent make new Vector3D instance if already exists. Default is null.\n\t * @return            The forward vector\n\t */\n\tpublic static getForward(m:Matrix3D, v:Vector3D = null):Vector3D\n\t{\n\t\tif (v === null)\n\t\t\tv = new Vector3D(0.0, 0.0, 0.0);\n\n\t\tm.copyColumnTo(2, v);\n\t\tv.normalize();\n\n\t\treturn v;\n\t}\n\n\t/**\n\t * Returns a normalised <code>Vector3D</code> object representing the up vector of the given matrix.\n\t * @param    m        The Matrix3D object to use to get the up vector\n\t * @param    v        [optional] A vector holder to prevent make new Vector3D instance if already exists. Default is null.\n\t * @return            The up vector\n\t */\n\tpublic static getUp(m:Matrix3D, v:Vector3D = null):Vector3D\n\t{\n\t\tif (v === null)\n\t\t\tv = new Vector3D(0.0, 0.0, 0.0);\n\n\t\tm.copyColumnTo(1, v);\n\t\tv.normalize();\n\n\t\treturn v;\n\t}\n\n\t/**\n\t * Returns a normalised <code>Vector3D</code> object representing the right vector of the given matrix.\n\t * @param    m        The Matrix3D object to use to get the right vector\n\t * @param    v        [optional] A vector holder to prevent make new Vector3D instance if already exists. Default is null.\n\t * @return            The right vector\n\t */\n\tpublic static getRight(m:Matrix3D, v:Vector3D = null):Vector3D\n\t{\n\t\t//v ||= new Vector3D(0.0, 0.0, 0.0);\n\t\tif (v === null) {\n\n\t\t\tv = new Vector3D(0.0, 0.0, 0.0);\n\n\t\t}\n\n\t\tm.copyColumnTo(0, v);\n\t\tv.normalize();\n\n\t\treturn v;\n\t}\n\n\t/**\n\t * Returns a boolean value representing whether there is any significant difference between the two given 3d matrices.\n\t */\n\tpublic static compare(m1:Matrix3D, m2:Matrix3D):boolean\n\t{\n\t\tvar r1:Float32Array = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tvar r2:Float32Array = m2.rawData;\n\t\tm1.copyRawDataTo(r1);\n\n\t\tfor (var i:number = 0; i < 16; ++i) {\n\t\t\tif (r1[i] != r2[i])\n\t\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic static lookAt(matrix:Matrix3D, pos:Vector3D, dir:Vector3D, up:Vector3D)\n\t{\n\t\tvar dirN:Vector3D;\n\t\tvar upN:Vector3D;\n\t\tvar lftN:Vector3D;\n\t\tvar raw:Float32Array = Matrix3DUtils.RAW_DATA_CONTAINER;\n\n\t\tlftN = dir.crossProduct(up);\n\t\tlftN.normalize();\n\n\t\tupN = lftN.crossProduct(dir);\n\t\tupN.normalize();\n\t\tdirN = dir.clone();\n\t\tdirN.normalize();\n\n\t\traw[0] = lftN.x;\n\t\traw[1] = upN.x;\n\t\traw[2] = -dirN.x;\n\t\traw[3] = 0.0;\n\n\t\traw[4] = lftN.y;\n\t\traw[5] = upN.y;\n\t\traw[6] = -dirN.y;\n\t\traw[7] = 0.0;\n\n\t\traw[8] = lftN.z;\n\t\traw[9] = upN.z;\n\t\traw[10] = -dirN.z;\n\t\traw[11] = 0.0;\n\n\t\traw[12] = -lftN.dotProduct(pos);\n\t\traw[13] = -upN.dotProduct(pos);\n\t\traw[14] = dirN.dotProduct(pos);\n\t\traw[15] = 1.0;\n\n\t\tmatrix.copyRawDataFrom(raw);\n\t}\n\n\tpublic static reflection(plane:Plane3D, target:Matrix3D = null):Matrix3D\n\t{\n\t\tif (target === null)\n\t\t\ttarget = new Matrix3D();\n\n\t\tvar a:number = plane.a, b:number = plane.b, c:number = plane.c, d:number = plane.d;\n\t\tvar rawData:Float32Array = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tvar ab2:number = -2*a*b;\n\t\tvar ac2:number = -2*a*c;\n\t\tvar bc2:number = -2*b*c;\n\t\t// reflection matrix\n\t\trawData[0] = 1 - 2*a*a;\n\t\trawData[4] = ab2;\n\t\trawData[8] = ac2;\n\t\trawData[12] = -2*a*d;\n\t\trawData[1] = ab2;\n\t\trawData[5] = 1 - 2*b*b;\n\t\trawData[9] = bc2;\n\t\trawData[13] = -2*b*d;\n\t\trawData[2] = ac2;\n\t\trawData[6] = bc2;\n\t\trawData[10] = 1 - 2*c*c;\n\t\trawData[14] = -2*c*d;\n\t\trawData[3] = 0;\n\t\trawData[7] = 0;\n\t\trawData[11] = 0;\n\t\trawData[15] = 1;\n\t\ttarget.copyRawDataFrom(rawData);\n\n\t\treturn target;\n\t}\n\n\n\tpublic static transformVector(matrix:Matrix3D, vector:Vector3D, result:Vector3D = null):Vector3D\n\t{\n\t\tif (!result)\n\t\t\tresult = new Vector3D();\n\n\t\tvar raw:Float32Array = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tmatrix.copyRawDataTo(raw);\n\t\tvar a:number = raw[0];\n\t\tvar e:number = raw[1];\n\t\tvar i:number = raw[2];\n\t\tvar m:number = raw[3];\n\t\tvar b:number = raw[4];\n\t\tvar f:number = raw[5];\n\t\tvar j:number = raw[6];\n\t\tvar n:number = raw[7];\n\t\tvar c:number = raw[8];\n\t\tvar g:number = raw[9];\n\t\tvar k:number = raw[10];\n\t\tvar o:number = raw[11];\n\t\tvar d:number = raw[12];\n\t\tvar h:number = raw[13];\n\t\tvar l:number = raw[14];\n\t\tvar p:number = raw[15];\n\n\t\tvar x:number = vector.x;\n\t\tvar y:number = vector.y;\n\t\tvar z:number = vector.z;\n\t\tresult.x = a * x + b * y + c * z + d;\n\t\tresult.y = e * x + f * y + g * z + h;\n\t\tresult.z = i * x + j * y + k * z + l;\n\t\tresult.w = m * x + n * y + o * z + p;\n\t\treturn result;\n\t}\n\n\tpublic static deltaTransformVector(matrix:Matrix3D, vector:Vector3D, result:Vector3D = null):Vector3D\n\t{\n\t\tif (!result)\n\t\t\tresult = new Vector3D();\n\n\t\tvar raw:Float32Array = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tmatrix.copyRawDataTo(raw);\n\t\tvar a:number = raw[0];\n\t\tvar e:number = raw[1];\n\t\tvar i:number = raw[2];\n\t\tvar m:number = raw[3];\n\t\tvar b:number = raw[4];\n\t\tvar f:number = raw[5];\n\t\tvar j:number = raw[6];\n\t\tvar n:number = raw[7];\n\t\tvar c:number = raw[8];\n\t\tvar g:number = raw[9];\n\t\tvar k:number = raw[10];\n\t\tvar o:number = raw[11];\n\t\tvar x:number = vector.x;\n\t\tvar y:number = vector.y;\n\t\tvar z:number = vector.z;\n\t\tresult.x = a * x + b * y + c * z;\n\t\tresult.y = e * x + f * y + g * z;\n\t\tresult.z = i * x + j * y + k * z;\n\t\tresult.w = m * x + n * y + o * z;\n\t\treturn result;\n\t}\n\n\tpublic static getTranslation(transform:Matrix3D, result:Vector3D = null):Vector3D\n\t{\n\t\tif(!result)\n\t\t\tresult = new Vector3D();\n\n\t\ttransform.copyColumnTo(3, result);\n\t\treturn result;\n\t}\n\n\tpublic static deltaTransformVectors(matrix:Matrix3D, vin:Array<number>, vout:Array<number>)\n\t{\n\t\tvar raw:Float32Array = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tmatrix.copyRawDataTo(raw);\n\t\tvar a:number = raw[0];\n\t\tvar e:number = raw[1];\n\t\tvar i:number = raw[2];\n\t\tvar m:number = raw[3];\n\t\tvar b:number = raw[4];\n\t\tvar f:number = raw[5];\n\t\tvar j:number = raw[6];\n\t\tvar n:number = raw[7];\n\t\tvar c:number = raw[8];\n\t\tvar g:number = raw[9];\n\t\tvar k:number = raw[10];\n\t\tvar o:number = raw[11];\n\t\tvar outIndex:number = 0;\n\t\tvar length:number = vin.length;\n\t\tfor(var index:number = 0; index<length; index+=3) {\n\t\t\tvar x:number = vin[index];\n\t\t\tvar y:number = vin[index+1];\n\t\t\tvar z:number = vin[index+2];\n\t\t\tvout[outIndex++] = a * x + b * y + c * z;\n\t\t\tvout[outIndex++] = e * x + f * y + g * z;\n\t\t\tvout[outIndex++] = i * x + j * y + k * z;\n\t\t}\n\t}\n}\n\nexport = Matrix3DUtils;",
    "import Box\t\t\t\t\t\t\t= require(\"awayjs-core/lib/geom/Box\");\nimport MathConsts\t\t\t\t\t= require(\"awayjs-core/lib/geom/MathConsts\");\nimport Orientation3D\t\t\t\t= require(\"awayjs-core/lib/geom/Orientation3D\");\nimport Quaternion\t\t\t\t\t= require(\"awayjs-core/lib/geom/Quaternion\");\nimport Vector3D\t\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport ArgumentError\t\t\t\t= require(\"awayjs-core/lib/errors/ArgumentError\");\n\nclass Matrix3D\n{\n\t/**\n\t * A Vector of 16 Numbers, where every four elements is a column of a 4x4 matrix.\n\t *\n\t * <p>An exception is thrown if the rawData property is set to a matrix that is not invertible. The Matrix3D\n\t * object must be invertible. If a non-invertible matrix is needed, create a subclass of the Matrix3D object.</p>\n\t */\n\tpublic rawData:Float32Array = new Float32Array(16);\n\n\tprivate static tempMatrix:Matrix3D = new Matrix3D();\n\tprivate static tempRawData:Float32Array = Matrix3D.tempMatrix.rawData;\n\n\tprivate _position:Vector3D = new Vector3D();\n\tprivate _positionDirty:boolean = true;\n\n\tprivate _components:Array<Vector3D>;\n\n\t/**\n\t * Creates a Matrix3D object.\n\t */\n\tconstructor(v:Float32Array = null)\n\t{\n\t\tif (v != null && v.length == 16) {\n\t\t\tthis.copyRawDataFrom(v);\n\t\t} else {\n\t\t\tthis.identity();\n\t\t}\n\t}\n\n\t/**\n\t * Appends the matrix by multiplying another Matrix3D object by the current Matrix3D object.\n\t */\n\tpublic append(lhs:Matrix3D)\n\t{\n\t\tvar lrd:Float32Array = lhs.rawData;\n\n\t\tvar m111:number = this.rawData[0];\n\t\tvar m112:number = this.rawData[1];\n\t\tvar m113:number = this.rawData[2];\n\t\tvar m114:number = this.rawData[3];\n\t\tvar m121:number = this.rawData[4];\n\t\tvar m122:number = this.rawData[5];\n\t\tvar m123:number = this.rawData[6];\n\t\tvar m124:number = this.rawData[7];\n\t\tvar m131:number = this.rawData[8];\n\t\tvar m132:number = this.rawData[9];\n\t\tvar m133:number = this.rawData[10];\n\t\tvar m134:number = this.rawData[11];\n\t\tvar m141:number = this.rawData[12];\n\t\tvar m142:number = this.rawData[13];\n\t\tvar m143:number = this.rawData[14];\n\t\tvar m144:number = this.rawData[15];\n\t\tvar m211:number = lrd[0];\n\t\tvar m212:number = lrd[1];\n\t\tvar m213:number = lrd[2];\n\t\tvar m214:number = lrd[3];\n\t\tvar m221:number = lrd[4];\n\t\tvar m222:number = lrd[5];\n\t\tvar m223:number = lrd[6];\n\t\tvar m224:number = lrd[7];\n\t\tvar m231:number = lrd[8];\n\t\tvar m232:number = lrd[9];\n\t\tvar m233:number = lrd[10];\n\t\tvar m234:number = lrd[11];\n\t\tvar m241:number = lrd[12];\n\t\tvar m242:number = lrd[13];\n\t\tvar m243:number = lrd[14];\n\t\tvar m244:number = lrd[15];\n\n\t\tthis.rawData[0] = m111*m211 + m112*m221 + m113*m231 + m114*m241;\n\t\tthis.rawData[1] = m111*m212 + m112*m222 + m113*m232 + m114*m242;\n\t\tthis.rawData[2] = m111*m213 + m112*m223 + m113*m233 + m114*m243;\n\t\tthis.rawData[3] = m111*m214 + m112*m224 + m113*m234 + m114*m244;\n\n\t\tthis.rawData[4] = m121*m211 + m122*m221 + m123*m231 + m124*m241;\n\t\tthis.rawData[5] = m121*m212 + m122*m222 + m123*m232 + m124*m242;\n\t\tthis.rawData[6] = m121*m213 + m122*m223 + m123*m233 + m124*m243;\n\t\tthis.rawData[7] = m121*m214 + m122*m224 + m123*m234 + m124*m244;\n\n\t\tthis.rawData[8] = m131*m211 + m132*m221 + m133*m231 + m134*m241;\n\t\tthis.rawData[9] = m131*m212 + m132*m222 + m133*m232 + m134*m242;\n\t\tthis.rawData[10] = m131*m213 + m132*m223 + m133*m233 + m134*m243;\n\t\tthis.rawData[11] = m131*m214 + m132*m224 + m133*m234 + m134*m244;\n\n\t\tthis.rawData[12] = m141*m211 + m142*m221 + m143*m231 + m144*m241;\n\t\tthis.rawData[13] = m141*m212 + m142*m222 + m143*m232 + m144*m242;\n\t\tthis.rawData[14] = m141*m213 + m142*m223 + m143*m233 + m144*m243;\n\t\tthis.rawData[15] = m141*m214 + m142*m224 + m143*m234 + m144*m244;\n\n\t\tthis._positionDirty = true;\n\t}\n\n\t/**\n\t * Appends an incremental rotation to a Matrix3D object.\n\t */\n\tpublic appendRotation(degrees:number, axis:Vector3D):void //, pivot:Vector3D = null )\n\t{\n\t\tthis.append(Matrix3D.getAxisRotation(axis.x, axis.y, axis.z, degrees));\n\t}\n\n\t/**\n\t * Appends an incremental skew change along the x, y, and z axes to a Matrix3D object.\n\t */\n\tpublic appendSkew(xSkew:number, ySkew:number, zSkew:number)\n\t{\n\t\tif(xSkew == 0 && ySkew == 0 && zSkew == 0) return;\n\t\tvar raw:Float32Array = Matrix3D.tempRawData;\n\t\traw[0] = 1;\n\t\traw[1] = 0;\n\t\traw[2] = 0;\n\t\traw[3] = 0;\n\n\t\traw[4] = xSkew;\n\t\traw[5] = 1;\n\t\traw[6] = 0;\n\t\traw[7] = 0;\n\n\t\traw[8] = ySkew;\n\t\traw[9] = zSkew;\n\t\traw[10] = 1;\n\t\traw[11] = 0;\n\n\t\traw[12] = 0;\n\t\traw[13] = 0;\n\t\traw[14] = 0;\n\t\traw[15] = 1;\n\n\t\tthis.append(Matrix3D.tempMatrix);\n\t}\n\n\t/**\n\t * Appends an incremental scale change along the x, y, and z axes to a Matrix3D object.\n\t */\n\tpublic appendScale(xScale:number, yScale:number, zScale:number)\n\t{\n\t\tif(xScale == 1 && yScale == 1 && zScale == 1)\n\t\t\treturn;\n\n\t\tvar raw:Float32Array = Matrix3D.tempRawData;\n\n\t\traw[0] = xScale;\n\t\traw[1] = 0;\n\t\traw[2] = 0;\n\t\traw[3] = 0;\n\n\t\traw[4] = 0;\n\t\traw[5] = yScale;\n\t\traw[6] = 0;\n\t\traw[7] = 0;\n\n\t\traw[8] = 0;\n\t\traw[9] = 0;\n\t\traw[10] = zScale;\n\t\traw[11] = 0;\n\n\t\traw[12] = 0;\n\t\traw[13] = 0;\n\t\traw[14] = 0;\n\t\traw[15] = 1;\n\n\t\tthis.append(Matrix3D.tempMatrix);\n\t}\n\n\t/**\n\t * Appends an incremental translation, a repositioning along the x, y, and z axes, to a Matrix3D object.\n\t */\n\tpublic appendTranslation(x:number, y:number, z:number)\n\t{\n\t\tthis.rawData[12] += x;\n\t\tthis.rawData[13] += y;\n\t\tthis.rawData[14] += z;\n\n\t\tthis._positionDirty = true;\n\t}\n\n\t/**\n\t * Returns a new Matrix3D object that is an exact copy of the current Matrix3D object.\n\t */\n\tpublic clone():Matrix3D\n\t{\n\t\treturn new Matrix3D(this.rawData);\n\t}\n\n\t/**\n\t * Copies a Vector3D object into specific column of the calling Matrix3D object.\n\t */\n\tpublic copyColumnFrom(column:number, vector3D:Vector3D)\n\t{\n\t\tswitch (column) {\n\t\t\tcase 0:\n\t\t\t\tthis.rawData[ 0 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 1 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 2 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 3 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis.rawData[ 4 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 5 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 6 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 7 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis.rawData[ 8 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 9 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 10 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 11 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tthis.rawData[ 12 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 13 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 14 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 15 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new ArgumentError(\"ArgumentError, Column \" + column + \" out of bounds [0, ..., 3]\");\n\t\t}\n\t}\n\n\t/**\n\t * Copies specific column of the calling Matrix3D object into the Vector3D object.\n\t */\n\tpublic copyColumnTo(column:number, vector3D:Vector3D)\n\t{\n\t\tswitch (column) {\n\t\t\tcase 0:\n\t\t\t\tvector3D.x = this.rawData[ 0 ];\n\t\t\t\tvector3D.y = this.rawData[ 1 ];\n\t\t\t\tvector3D.z = this.rawData[ 2 ];\n\t\t\t\tvector3D.w = this.rawData[ 3 ];\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tvector3D.x = this.rawData[ 4 ];\n\t\t\t\tvector3D.y = this.rawData[ 5 ];\n\t\t\t\tvector3D.z = this.rawData[ 6 ];\n\t\t\t\tvector3D.w = this.rawData[ 7 ];\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tvector3D.x = this.rawData[ 8 ];\n\t\t\t\tvector3D.y = this.rawData[ 9 ];\n\t\t\t\tvector3D.z = this.rawData[ 10 ];\n\t\t\t\tvector3D.w = this.rawData[ 11 ];\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tvector3D.x = this.rawData[ 12 ];\n\t\t\t\tvector3D.y = this.rawData[ 13 ];\n\t\t\t\tvector3D.z = this.rawData[ 14 ];\n\t\t\t\tvector3D.w = this.rawData[ 15 ];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new ArgumentError(\"ArgumentError, Column \" + column + \" out of bounds [0, ..., 3]\");\n\t\t}\n\t}\n\n\t/**\n\t * Copies all of the matrix data from the source Matrix3D object into the calling Matrix3D object.\n\t */\n\tpublic copyFrom(source:Matrix3D)\n\t{\n\t\tvar sourceRaw:Float32Array = source.rawData;\n\t\tvar len:number = sourceRaw.length;\n\t\tfor (var c:number = 0; c < len; c++)\n\t\t\tthis.rawData[c] = sourceRaw[c];\n\t}\n\n\t/**\n\t * Copies this Matrix3D object into a destination Matrix3D object.\n\t */\n\tpublic copyTo(target:Matrix3D)\n\t{\n\t\tvar targetRaw:Float32Array = target.rawData;\n\t\tvar len:number = this.rawData.length;\n\t\tfor (var c:number = 0; c < len; c++)\n\t\t\ttargetRaw[c] = this.rawData[c];\n\t}\n\n\tpublic copyRawDataFrom(vector:Float32Array, index:number = 0, transpose:boolean = false):void\n\t{\n\t\tif (transpose)\n\t\t\tthis.transpose();\n\n\t\tvar len:number = vector.length - index;\n\t\tfor (var c:number = 0; c < len; c++)\n\t\t\tthis.rawData[c] = vector[c + index];\n\n\t\tif (transpose)\n\t\t\tthis.transpose();\n\t}\n\n\tpublic copyRawDataTo(vector:Float32Array, index:number = 0, transpose:boolean = false)\n\t{\n\t\tif (transpose)\n\t\t\tthis.transpose();\n\n\t\tvar len:number = this.rawData.length;\n\t\tfor (var c:number = 0; c < len; c++)\n\t\t\tvector[c + index ] = this.rawData[c];\n\n\t\tif (transpose)\n\t\t\tthis.transpose();\n\t}\n\n\t/**\n\t * Copies a Vector3D object into specific row of the calling Matrix3D object.\n\t */\n\tpublic copyRowFrom(row:number, vector3D:Vector3D)\n\t{\n\t\tswitch (row) {\n\t\t\tcase 0:\n\t\t\t\tthis.rawData[ 0 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 4 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 8 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 12 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis.rawData[ 1 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 5 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 9 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 13 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis.rawData[ 2 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 6 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 10 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 14 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tthis.rawData[ 3 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 7 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 11 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 15 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new ArgumentError(\"ArgumentError, Row \" + row + \" out of bounds [0, ..., 3]\");\n\t\t}\n\t}\n\n\t/**\n\t * Copies specific row of the calling Matrix3D object into the Vector3D object.\n\t */\n\tpublic copyRowTo(row:number, vector3D:Vector3D)\n\t{\n\t\tswitch (row) {\n\t\t\tcase 0:\n\t\t\t\tvector3D.x = this.rawData[ 0 ];\n\t\t\t\tvector3D.y = this.rawData[ 4 ];\n\t\t\t\tvector3D.z = this.rawData[ 8 ];\n\t\t\t\tvector3D.w = this.rawData[ 12 ];\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tvector3D.x = this.rawData[ 1 ];\n\t\t\t\tvector3D.y = this.rawData[ 5 ];\n\t\t\t\tvector3D.z = this.rawData[ 9 ];\n\t\t\t\tvector3D.w = this.rawData[ 13 ];\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tvector3D.x = this.rawData[ 2 ];\n\t\t\t\tvector3D.y = this.rawData[ 6 ];\n\t\t\t\tvector3D.z = this.rawData[ 10 ];\n\t\t\t\tvector3D.w = this.rawData[ 14 ];\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tvector3D.x = this.rawData[ 3 ];\n\t\t\t\tvector3D.y = this.rawData[ 7 ];\n\t\t\t\tvector3D.z = this.rawData[ 11 ];\n\t\t\t\tvector3D.w = this.rawData[ 15 ]\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new ArgumentError(\"ArgumentError, Row \" + row + \" out of bounds [0, ..., 3]\");\n\t\t}\n\t}\n\n\t/**\n\t * Returns the transformation matrix's translation, rotation, and scale settings as a Vector of three Vector3D objects.\n\t */\n\tpublic decompose(orientationStyle:string = \"eulerAngles\"):Vector3D[]\n\t{\n\t\tvar q:Quaternion;\n\n\t\tif (this._components == null)\n\t\t\tthis._components = [null, new Vector3D(), new Vector3D(), new Vector3D()];\n\n\t\tvar colX:Vector3D = new Vector3D(this.rawData[0], this.rawData[1], this.rawData[2]);\n\t\tvar colY:Vector3D = new Vector3D(this.rawData[4], this.rawData[5], this.rawData[6]);\n\t\tvar colZ:Vector3D = new Vector3D(this.rawData[8], this.rawData[9], this.rawData[10]);\n\n\t\tvar scale:Vector3D = this._components[3];\n\t\tvar skew:Vector3D = this._components[2];\n\n\t\t//compute X scale factor and normalise colX\n\t\tscale.x = colX.length;\n\t\tcolX.scaleBy(1/scale.x);\n\n\t\t//compute XY shear factor and make colY orthogonal to colX\n\t\tskew.x = colX.dotProduct(colY);\n\t\tcolY = Vector3D.combine(colY, colX, 1, -skew.x);\n\n\t\t//compute Y scale factor and normalise colY\n\t\tscale.y = colY.length;\n\t\tcolY.scaleBy(1/scale.y);\n\t\tskew.x /= scale.y;\n\n\t\t//compute XZ and YZ shears and make colZ orthogonal to colX and colY\n\t\tskew.y = colX.dotProduct(colZ);\n\t\tcolZ = Vector3D.combine(colZ, colX, 1, -skew.y);\n\t\tskew.z = colY.dotProduct(colZ);\n\t\tcolZ = Vector3D.combine(colZ, colY, 1, -skew.z);\n\n\t\t//compute Z scale and normalise colZ\n\t\tscale.z = colZ.length;\n\t\tcolZ.scaleBy(1/scale.z);\n\t\tskew.y /= scale.z;\n\t\tskew.z /= scale.z;\n\n\t\t//at this point, the matrix (in cols) is orthonormal\n\t\t//check for a coordinate system flip. If the determinant is -1, negate the z scaling factor\n\t\tif (colX.dotProduct(colY.crossProduct(colZ)) < 0) {\n\t\t\tscale.z = -scale.z;\n\t\t\tcolZ.x = -colZ.x;\n\t\t\tcolZ.y = -colZ.y;\n\t\t\tcolZ.z = -colZ.z;\n\t\t}\n\n\t\tvar rot = this._components[1];\n\n\t\tswitch (orientationStyle) {\n\t\t\tcase Orientation3D.AXIS_ANGLE:\n\n\t\t\t\trot.w = Math.acos((colX.x + colY.y + colZ.z - 1)/2);\n\n\t\t\t\tvar len:number = Math.sqrt((colY.z - colZ.y)*(colY.z - colZ.y) + (colZ.x - colX.z)*(colZ.x - colX.z) + (colX.y - colY.x)*(colX.y - colY.x));\n\t\t\t\trot.x = (colY.z - colZ.y)/len;\n\t\t\t\trot.y = (colZ.x - colX.z)/len;\n\t\t\t\trot.z = (colX.y - colY.x)/len;\n\n\t\t\t\tbreak;\n\t\t\tcase Orientation3D.QUATERNION:\n\n\t\t\t\tvar tr = colX.x + colY.y + colZ.z;\n\n\t\t\t\tif (tr > 0) {\n\t\t\t\t\trot.w = Math.sqrt(1 + tr)/2;\n\n\t\t\t\t\trot.x = (colY.z - colZ.y)/(4*rot.w);\n\t\t\t\t\trot.y = (colZ.x - colX.z)/(4*rot.w);\n\t\t\t\t\trot.z = (colX.y - colY.x)/(4*rot.w);\n\t\t\t\t} else if ((colX.x > colY.y) && (colX.x > colZ.z)) {\n\t\t\t\t\trot.x = Math.sqrt(1 + colX.x - colY.y - colZ.z)/2;\n\n\t\t\t\t\trot.w = (colY.z - colZ.y)/(4*rot.x);\n\t\t\t\t\trot.y = (colX.y + colY.x)/(4*rot.x);\n\t\t\t\t\trot.z = (colZ.x + colX.z)/(4*rot.x);\n\t\t\t\t} else if (colY.y > colZ.z) {\n\t\t\t\t\trot.y = Math.sqrt(1 + colY.y - colX.x - colZ.z)/2;\n\n\t\t\t\t\trot.x = (colX.y + colY.x)/(4*rot.y);\n\t\t\t\t\trot.w = (colZ.x - colX.z)/(4*rot.y);\n\t\t\t\t\trot.z = (colY.z + colZ.y)/(4*rot.y);\n\t\t\t\t} else {\n\t\t\t\t\trot.z = Math.sqrt(1 + colZ.z - colX.x - colY.y)/2;\n\n\t\t\t\t\trot.x = (colZ.x + colX.z)/(4*rot.z);\n\t\t\t\t\trot.y = (colY.z + colZ.y)/(4*rot.z);\n\t\t\t\t\trot.w = (colX.y - colY.x)/(4*rot.z);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase Orientation3D.EULER_ANGLES:\n\n\t\t\t\trot.y = Math.asin(-colX.z);\n\n\t\t\t\t//var cos:number = Math.cos(rot.y);\n\n\t\t\t\tif (colX.z != 1 && colX.z != -1) {\n\t\t\t\t\trot.x = Math.atan2(colY.z, colZ.z);\n\t\t\t\t\trot.z = Math.atan2(colX.y, colX.x);\n\t\t\t\t} else {\n\t\t\t\t\trot.z = 0;\n\t\t\t\t\trot.x = Math.atan2(colY.x, colY.y);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis._components[0] = this.position;\n\n\t\treturn this._components;\n\t}\n\n\t/**\n\t * Uses the transformation matrix without its translation elements to transform a Vector3D object from one space\n\t * coordinate to another.\n\t */\n\tpublic deltaTransformVector(v:Vector3D, t:Vector3D = null):Vector3D\n\t{\n\t\tvar x:number = v.x;\n\t\tvar y:number = v.y;\n\t\tvar z:number = v.z;\n\n\t\tif (!t)\n\t\t\tt = new Vector3D();\n\n\t\tt.x = x*this.rawData[0] + y*this.rawData[4] + z*this.rawData[8];\n\t\tt.y = x*this.rawData[1] + y*this.rawData[5] + z*this.rawData[9];\n\t\tt.z = x*this.rawData[2] + y*this.rawData[6] + z*this.rawData[10];\n\t\tt.w = x*this.rawData[3] + y*this.rawData[7] + z*this.rawData[11];\n\n\t\treturn t;\n\t}\n\n\t/**\n\t * Converts the current matrix to an identity or unit matrix.\n\t */\n\tpublic identity()\n\t{\n\t\tthis.rawData[0] = 1;\n\t\tthis.rawData[1] = 0;\n\t\tthis.rawData[2] = 0;\n\t\tthis.rawData[3] = 0;\n\t\tthis.rawData[4] = 0;\n\t\tthis.rawData[5] = 1;\n\t\tthis.rawData[6] = 0;\n\t\tthis.rawData[7] = 0;\n\t\tthis.rawData[8] = 0;\n\t\tthis.rawData[9] = 0;\n\t\tthis.rawData[10] = 1;\n\t\tthis.rawData[11] = 0;\n\t\tthis.rawData[12] = 0;\n\t\tthis.rawData[13] = 0;\n\t\tthis.rawData[14] = 0;\n\t\tthis.rawData[15] = 1;\n\n\t\tthis._positionDirty = true;\n\t}\n\n\t/**\n\t * [static] Interpolates the translation, rotation, and scale transformation of one matrix toward those of the target matrix.\n\t */\n\tstatic interpolate(thisMat:Matrix3D, toMat:Matrix3D, percent:number):Matrix3D\n\t{\n\t\tvar m:Matrix3D = new Matrix3D();\n\t\tfor (var i:number = 0; i < 16; ++i)\n\t\t\tm.rawData[i] = thisMat.rawData[i] + (toMat.rawData[i] - thisMat.rawData[i])*percent;\n\n\t\treturn m;\n\t}\n\n\t/**\n\t * Interpolates this matrix towards the translation, rotation, and scale transformations of the target matrix.\n\t */\n\tpublic interpolateTo(toMat:Matrix3D, percent:number)\n\t{\n\t\tfor (var i:number = 0; i < 16; ++i)\n\t\t\tthis.rawData[i] = this.rawData[i] + (toMat.rawData[i] - this.rawData[i])*percent;\n\t}\n\n\t/**\n\t * Inverts the current matrix.\n\t */\n\tpublic invert():boolean\n\t{\n\t\tvar d = this.determinant;\n\t\tvar invertable:boolean = Math.abs(d) > 0.00000000001;\n\n\t\tif (invertable) {\n\t\t\td = 1/d;\n\t\t\tvar m11:number = this.rawData[0];\n\t\t\tvar m12:number = this.rawData[1];\n\t\t\tvar m13:number = this.rawData[2];\n\t\t\tvar m14:number = this.rawData[3];\n\t\t\tvar m21:number = this.rawData[4];\n\t\t\tvar m22:number = this.rawData[5];\n\t\t\tvar m23:number = this.rawData[6];\n\t\t\tvar m24:number = this.rawData[7];\n\t\t\tvar m31:number = this.rawData[8];\n\t\t\tvar m32:number = this.rawData[9];\n\t\t\tvar m33:number = this.rawData[10];\n\t\t\tvar m34:number = this.rawData[11];\n\t\t\tvar m41:number = this.rawData[12];\n\t\t\tvar m42:number = this.rawData[13];\n\t\t\tvar m43:number = this.rawData[14];\n\t\t\tvar m44:number = this.rawData[15];\n\n\t\t\tthis.rawData[0] = d*(m22*(m33*m44 - m43*m34) - m32*(m23*m44 - m43*m24) + m42*(m23*m34 - m33*m24));\n\t\t\tthis.rawData[1] = -d*(m12*(m33*m44 - m43*m34) - m32*(m13*m44 - m43*m14) + m42*(m13*m34 - m33*m14));\n\t\t\tthis.rawData[2] = d*(m12*(m23*m44 - m43*m24) - m22*(m13*m44 - m43*m14) + m42*(m13*m24 - m23*m14));\n\t\t\tthis.rawData[3] = -d*(m12*(m23*m34 - m33*m24) - m22*(m13*m34 - m33*m14) + m32*(m13*m24 - m23*m14));\n\t\t\tthis.rawData[4] = -d*(m21*(m33*m44 - m43*m34) - m31*(m23*m44 - m43*m24) + m41*(m23*m34 - m33*m24));\n\t\t\tthis.rawData[5] = d*(m11*(m33*m44 - m43*m34) - m31*(m13*m44 - m43*m14) + m41*(m13*m34 - m33*m14));\n\t\t\tthis.rawData[6] = -d*(m11*(m23*m44 - m43*m24) - m21*(m13*m44 - m43*m14) + m41*(m13*m24 - m23*m14));\n\t\t\tthis.rawData[7] = d*(m11*(m23*m34 - m33*m24) - m21*(m13*m34 - m33*m14) + m31*(m13*m24 - m23*m14));\n\t\t\tthis.rawData[8] = d*(m21*(m32*m44 - m42*m34) - m31*(m22*m44 - m42*m24) + m41*(m22*m34 - m32*m24));\n\t\t\tthis.rawData[9] = -d*(m11*(m32*m44 - m42*m34) - m31*(m12*m44 - m42*m14) + m41*(m12*m34 - m32*m14));\n\t\t\tthis.rawData[10] = d*(m11*(m22*m44 - m42*m24) - m21*(m12*m44 - m42*m14) + m41*(m12*m24 - m22*m14));\n\t\t\tthis.rawData[11] = -d*(m11*(m22*m34 - m32*m24) - m21*(m12*m34 - m32*m14) + m31*(m12*m24 - m22*m14));\n\t\t\tthis.rawData[12] = -d*(m21*(m32*m43 - m42*m33) - m31*(m22*m43 - m42*m23) + m41*(m22*m33 - m32*m23));\n\t\t\tthis.rawData[13] = d*(m11*(m32*m43 - m42*m33) - m31*(m12*m43 - m42*m13) + m41*(m12*m33 - m32*m13));\n\t\t\tthis.rawData[14] = -d*(m11*(m22*m43 - m42*m23) - m21*(m12*m43 - m42*m13) + m41*(m12*m23 - m22*m13));\n\t\t\tthis.rawData[15] = d*(m11*(m22*m33 - m32*m23) - m21*(m12*m33 - m32*m13) + m31*(m12*m23 - m22*m13));\n\t\t}\n\n\t\tthis._positionDirty = true;\n\n\t\treturn invertable;\n\t}\n\n\t/* TODO implement pointAt\n\t public pointAt( pos:Vector3D, at:Vector3D = null, up:Vector3D = null )\n\t {\n\t }\n\t */\n\n\t/**\n\t * Prepends a matrix by multiplying the current Matrix3D object by another Matrix3D object.\n\t */\n\tpublic prepend(rhs:Matrix3D)\n\t{\n\t\tvar m111:number = rhs.rawData[0];\n\t\tvar m112:number = rhs.rawData[1];\n\t\tvar m113:number = rhs.rawData[2];\n\t\tvar m114:number = rhs.rawData[3];\n\t\tvar m121:number = rhs.rawData[4];\n\t\tvar m122:number = rhs.rawData[5];\n\t\tvar m123:number = rhs.rawData[6];\n\t\tvar m124:number = rhs.rawData[7];\n\t\tvar m131:number = rhs.rawData[8];\n\t\tvar m132:number = rhs.rawData[9];\n\t\tvar m133:number = rhs.rawData[10];\n\t\tvar m134:number = rhs.rawData[11];\n\t\tvar m141:number = rhs.rawData[12];\n\t\tvar m142:number = rhs.rawData[13];\n\t\tvar m143:number = rhs.rawData[14];\n\t\tvar m144:number = rhs.rawData[15];\n\n\t\tvar m211:number = this.rawData[0];\n\t\tvar m212:number = this.rawData[1];\n\t\tvar m213:number = this.rawData[2];\n\t\tvar m214:number = this.rawData[3];\n\t\tvar m221:number = this.rawData[4];\n\t\tvar m222:number = this.rawData[5];\n\t\tvar m223:number = this.rawData[6];\n\t\tvar m224:number = this.rawData[7];\n\t\tvar m231:number = this.rawData[8];\n\t\tvar m232:number = this.rawData[9];\n\t\tvar m233:number = this.rawData[10];\n\t\tvar m234:number = this.rawData[11];\n\t\tvar m241:number = this.rawData[12];\n\t\tvar m242:number = this.rawData[13];\n\t\tvar m243:number = this.rawData[14];\n\t\tvar m244:number = this.rawData[15];\n\n\t\tthis.rawData[0] = m111*m211 + m112*m221 + m113*m231 + m114*m241;\n\t\tthis.rawData[1] = m111*m212 + m112*m222 + m113*m232 + m114*m242;\n\t\tthis.rawData[2] = m111*m213 + m112*m223 + m113*m233 + m114*m243;\n\t\tthis.rawData[3] = m111*m214 + m112*m224 + m113*m234 + m114*m244;\n\n\t\tthis.rawData[4] = m121*m211 + m122*m221 + m123*m231 + m124*m241;\n\t\tthis.rawData[5] = m121*m212 + m122*m222 + m123*m232 + m124*m242;\n\t\tthis.rawData[6] = m121*m213 + m122*m223 + m123*m233 + m124*m243;\n\t\tthis.rawData[7] = m121*m214 + m122*m224 + m123*m234 + m124*m244;\n\n\t\tthis.rawData[8] = m131*m211 + m132*m221 + m133*m231 + m134*m241;\n\t\tthis.rawData[9] = m131*m212 + m132*m222 + m133*m232 + m134*m242;\n\t\tthis.rawData[10] = m131*m213 + m132*m223 + m133*m233 + m134*m243;\n\t\tthis.rawData[11] = m131*m214 + m132*m224 + m133*m234 + m134*m244;\n\n\t\tthis.rawData[12] = m141*m211 + m142*m221 + m143*m231 + m144*m241;\n\t\tthis.rawData[13] = m141*m212 + m142*m222 + m143*m232 + m144*m242;\n\t\tthis.rawData[14] = m141*m213 + m142*m223 + m143*m233 + m144*m243;\n\t\tthis.rawData[15] = m141*m214 + m142*m224 + m143*m234 + m144*m244;\n\n\t\tthis._positionDirty = true;\n\t}\n\n\t/**\n\t * Prepends an incremental rotation to a Matrix3D object.\n\t */\n\tpublic prependRotation(degrees:number, axis:Vector3D) //, pivot:Vector3D = null )\n\t{\n\t\tvar m:Matrix3D = Matrix3D.getAxisRotation(axis.x, axis.y, axis.z, degrees);\n\n\t\t/*\n\t\t if ( pivot != null )\n\t\t {\n\t\t var p:Vector3D = pivot;\n\t\t m.appendTranslation( p.x, p.y, p.z );\n\t\t }\n\t\t */\n\t\tthis.prepend(m);\n\t}\n\n\t/**\n\t * Prepends an incremental scale change along the x, y, and z axes to a Matrix3D object.\n\t */\n\tpublic prependScale(xScale:number, yScale:number, zScale:number)\n\t{\n\t\tif(xScale == 1 && yScale == 1 && zScale == 1)\n\t\t\treturn;\n\n\t\tvar raw:Float32Array = Matrix3D.tempRawData;\n\n\t\traw[0] = xScale;\n\t\traw[1] = 0;\n\t\traw[2] = 0;\n\t\traw[3] = 0;\n\n\t\traw[4] = 0;\n\t\traw[5] = yScale;\n\t\traw[6] = 0;\n\t\traw[7] = 0;\n\n\t\traw[8] = 0;\n\t\traw[9] = 0;\n\t\traw[10] = zScale;\n\t\traw[11] = 0;\n\n\t\traw[12] = 0;\n\t\traw[13] = 0;\n\t\traw[14] = 0;\n\t\traw[15] = 1;\n\n\t\tthis.prepend(Matrix3D.tempMatrix);\n\t}\n\n\t/**\n\t * Prepends an incremental translation, a repositioning along the x, y, and z axes, to a Matrix3D object.\n\t */\n\tpublic prependTranslation(x:number, y:number, z:number)\n\t{\n\t\tvar raw:Float32Array = Matrix3D.tempRawData;\n\n\t\traw[0] = 1;\n\t\traw[1] = 0;\n\t\traw[2] = 0;\n\t\traw[3] = 0;\n\n\t\traw[4] = 0;\n\t\traw[5] = 1;\n\t\traw[6] = 0;\n\t\traw[7] = 0;\n\n\t\traw[8] = 0;\n\t\traw[9] = 0;\n\t\traw[10] = 1;\n\t\traw[11] = 0;\n\n\t\traw[12] = x;\n\t\traw[13] = y;\n\t\traw[14] = z;\n\t\traw[15] = 1;\n\n\t\tthis.prepend(Matrix3D.tempMatrix);\n\t}\n\n\t// TODO orientationStyle\n\t/**\n\t * Sets the transformation matrix's translation, rotation, and scale settings.\n\t */\n\tpublic recompose(components:Vector3D[]):boolean\n\t{\n\t\tvar pos:Vector3D = components[0] || this.position;\n\n\t\tthis.identity();\n\t\tvar scale:Vector3D = components[3];\n\t\tif(scale && (scale.x != 1 || scale.y != 1 || scale.z != 1))\n\t\t\tthis.appendScale(scale.x, scale.y, scale.z);\n\n\t\tvar skew:Vector3D = components[2];\n\t\tif(skew && (skew.x !=0 || skew.y != 0 || skew.z != 0))\n\t\t\tthis.appendSkew(skew.x, skew.y, skew.z);\n\n\t\tvar sin:number;\n\t\tvar cos:number;\n\t\tvar raw:Float32Array = Matrix3D.tempRawData;\n\t\traw[12] = 0;\n\t\traw[13] = 0;\n\t\traw[14] = 0;\n\t\traw[15] = 0;\n\n\t\tvar rotation:Vector3D = components[1];\n\t\tif (rotation) {\n\t\t\tvar angle:number = -rotation.x;\n\t\t\tif(angle != 0){\n\t\t\t\tsin = Math.sin(angle);\n\t\t\t\tcos = Math.cos(angle);\n\n\t\t\t\traw[0] = 1;\n\t\t\t\traw[1] = 0;\n\t\t\t\traw[2] = 0;\n\t\t\t\traw[3] = 0;\n\n\t\t\t\traw[4] = 0;\n\t\t\t\traw[5] = cos;\n\t\t\t\traw[6] = -sin;\n\t\t\t\traw[7] = 0;\n\n\t\t\t\traw[8] = 0;\n\t\t\t\traw[9] = sin;\n\t\t\t\traw[10] = cos;\n\t\t\t\traw[11] = 0;\n\n\t\t\t\tthis.append(Matrix3D.tempMatrix);\n\t\t\t}\n\t\t\tangle = -rotation.y;\n\t\t\tif(angle != 0){\n\t\t\t\tsin = Math.sin(angle);\n\t\t\t\tcos = Math.cos(angle);\n\n\t\t\t\traw[0] = cos;\n\t\t\t\traw[1] = 0;\n\t\t\t\traw[2] = sin;\n\t\t\t\traw[3] = 0;\n\n\t\t\t\traw[4] = 0;\n\t\t\t\traw[5] = 1;\n\t\t\t\traw[6] = 0;\n\t\t\t\traw[7] = 0;\n\n\t\t\t\traw[8] = -sin;\n\t\t\t\traw[9] = 0;\n\t\t\t\traw[10] = cos;\n\t\t\t\traw[11] = 0;\n\n\t\t\t\tthis.append(Matrix3D.tempMatrix);\n\t\t\t}\n\t\t\tangle = -rotation.z;\n\t\t\tif(angle != 0){\n\t\t\t\tsin = Math.sin(angle);\n\t\t\t\tcos = Math.cos(angle);\n\n\t\t\t\traw[0] = cos;\n\t\t\t\traw[1] = -sin;\n\t\t\t\traw[2] = 0;\n\t\t\t\traw[3] = 0;\n\n\t\t\t\traw[4] = sin;\n\t\t\t\traw[5] = cos;\n\t\t\t\traw[6] = 0;\n\t\t\t\traw[7] = 0;\n\n\t\t\t\traw[8] = 0;\n\t\t\t\traw[9] = 0;\n\t\t\t\traw[10] = 1;\n\t\t\t\traw[11] = 0;\n\n\t\t\t\tthis.append(Matrix3D.tempMatrix);\n\t\t\t}\n\t\t}\n\n\t\tthis.rawData[12] = pos.x;\n\t\tthis.rawData[13] = pos.y;\n\t\tthis.rawData[14] = pos.z;\n\n\t\tif (components[0])\n\t\t\tthis._positionDirty = true;\n\n\t\tthis.rawData[15] = 1;\n\n\t\treturn true;\n\t}\n\n\tpublic transformVector(v:Vector3D, t:Vector3D = null):Vector3D\n\t{\n\t\tif (v == null)\n\t\t\treturn t || new Vector3D();\n\n\t\tvar x:number = v.x;\n\t\tvar y:number = v.y;\n\t\tvar z:number = v.z;\n\n\t\tif (!t)\n\t\t\tt = new Vector3D();\n\n\t\tt.x = x*this.rawData[0] + y*this.rawData[4] + z*this.rawData[8] + this.rawData[12];\n\t\tt.y = x*this.rawData[1] + y*this.rawData[5] + z*this.rawData[9] + this.rawData[13];\n\t\tt.z = x*this.rawData[2] + y*this.rawData[6] + z*this.rawData[10] + this.rawData[14];\n\t\tt.w = x*this.rawData[3] + y*this.rawData[7] + z*this.rawData[11] + this.rawData[15];\n\n\t\treturn t;\n\t}\n\n\tpublic transformBox(b:Box, t:Box = null):Box\n\t{\n\t\tif (b == null)\n\t\t\treturn t || new Box();\n\n\t\tvar minX:number, minY:number, minZ:number;\n\t\tvar maxX:number, maxY:number, maxZ:number;\n\n\t\tmaxX = b.width + (minX = b.x);\n\t\tmaxY = b.height + (minY = b.y);\n\t\tmaxZ = b.depth + (minZ = b.z);\n\n\t\tif (!t)\n\t\t\tt = new Box();\n\n\t\t//TODO: take account of shear\n\t\tt.width = maxX*this.rawData[0] + maxY*this.rawData[4] + maxZ*this.rawData[8] + this.rawData[12] - (t.x = minX*this.rawData[0] + minY*this.rawData[4] + minZ*this.rawData[8] + this.rawData[12]);\n\t\tt.height = maxX*this.rawData[1] + maxY*this.rawData[5] + maxZ*this.rawData[9] + this.rawData[13] - (t.y = minX*this.rawData[1] + minY*this.rawData[5] + minZ*this.rawData[9] + this.rawData[13]);\n\t\tt.depth = maxX*this.rawData[2] + maxY*this.rawData[6] + maxZ*this.rawData[10] + this.rawData[14] - (t.z = minX*this.rawData[2] + minY*this.rawData[6] + minZ*this.rawData[10] + this.rawData[14]);\n\n\t\treturn t;\n\t}\n\n\t/**\n\t * Uses the transformation matrix to transform a Vector of Numbers from one coordinate space to another.\n\t */\n\tpublic transformVectors(vin:number[], vout:number[])\n\t{\n\t\tvar i:number = 0;\n\t\tvar x:number = 0, y:number = 0, z:number = 0;\n\n\t\twhile (i + 3 <= vin.length) {\n\t\t\tx = vin[i];\n\t\t\ty = vin[i + 1];\n\t\t\tz = vin[i + 2];\n\t\t\tvout[i] = x*this.rawData[0] + y*this.rawData[4] + z*this.rawData[8] + this.rawData[12];\n\t\t\tvout[i + 1] = x*this.rawData[1] + y*this.rawData[5] + z*this.rawData[9] + this.rawData[13];\n\t\t\tvout[i + 2] = x*this.rawData[2] + y*this.rawData[6] + z*this.rawData[10] + this.rawData[14];\n\t\t\ti += 3;\n\t\t}\n\t}\n\n\t/**\n\t * Converts the current Matrix3D object to a matrix where the rows and columns are swapped.\n\t */\n\tpublic transpose()\n\t{\n\t\tvar raw:Float32Array = Matrix3D.tempRawData;\n\t\tthis.copyRawDataTo(raw);\n\n\t\tthis.rawData[1] = raw[4];\n\t\tthis.rawData[2] = raw[8];\n\t\tthis.rawData[3] = raw[12];\n\t\tthis.rawData[4] = raw[1];\n\t\tthis.rawData[6] = raw[9];\n\t\tthis.rawData[7] = raw[13];\n\t\tthis.rawData[8] = raw[2];\n\t\tthis.rawData[9] = raw[6];\n\t\tthis.rawData[11] = raw[14];\n\t\tthis.rawData[12] = raw[3];\n\t\tthis.rawData[13] = raw[7];\n\t\tthis.rawData[14] = raw[11];\n\n\t\tthis._positionDirty = true;\n\t}\n\n\tstatic getAxisRotation(x:number, y:number, z:number, degrees:number):Matrix3D\n\t{\n\n\t\t// internal class use by rotations which have been tested\n\n\t\tvar m:Matrix3D = new Matrix3D();\n\n\t\tvar rad = degrees*MathConsts.DEGREES_TO_RADIANS;\n\t\tvar c:number = Math.cos(rad);\n\t\tvar s:number = Math.sin(rad);\n\t\tvar t:number = 1 - c;\n\t\tvar tmp1:number, tmp2:number;\n\n\t\tm.rawData[0] = c + x*x*t;\n\t\tm.rawData[5] = c + y*y*t;\n\t\tm.rawData[10] = c + z*z*t;\n\n\t\ttmp1 = x*y*t;\n\t\ttmp2 = z*s;\n\t\tm.rawData[1] = tmp1 + tmp2;\n\t\tm.rawData[4] = tmp1 - tmp2;\n\t\ttmp1 = x*z*t;\n\t\ttmp2 = y*s;\n\t\tm.rawData[8] = tmp1 + tmp2;\n\t\tm.rawData[2] = tmp1 - tmp2;\n\t\ttmp1 = y*z*t;\n\t\ttmp2 = x*s;\n\t\tm.rawData[9] = tmp1 - tmp2;\n\t\tm.rawData[6] = tmp1 + tmp2;\n\n\t\treturn m;\n\t}\n\n\t/**\n\t * [read-only] A Number that determines whether a matrix is invertible.\n\t */\n\tpublic get determinant():number\n\t{\n\t\treturn ((this.rawData[0]*this.rawData[5] - this.rawData[4]*this.rawData[1])*(this.rawData[10]*this.rawData[15] - this.rawData[14]*this.rawData[11]) - (this.rawData[0]*this.rawData[9] - this.rawData[8]*this.rawData[1])*(this.rawData[6]*this.rawData[15] - this.rawData[14]*this.rawData[7]) + (this.rawData[0]*this.rawData[13] - this.rawData[12]*this.rawData[1])*(this.rawData[6]*this.rawData[11] - this.rawData[10]*this.rawData[7]) + (this.rawData[4]*this.rawData[9] - this.rawData[8]*this.rawData[5])*(this.rawData[2]*this.rawData[15] - this.rawData[14]*this.rawData[3]) - (this.rawData[4]*this.rawData[13] - this.rawData[12]*this.rawData[5])*(this.rawData[2]*this.rawData[11] - this.rawData[10]*this.rawData[3]) + (this.rawData[8]*this.rawData[13] - this.rawData[12]*this.rawData[9])*(this.rawData[2]*this.rawData[7] - this.rawData[6]*this.rawData[3]));\n\t}\n\n\t/**\n\t * A Vector3D object that holds the position, the 3D coordinate (x,y,z) of a display object within the\n\t * transformation's frame of reference.\n\t */\n\tpublic get position():Vector3D\n\t{\n\t\tif (this._positionDirty) {\n\t\t\tthis._positionDirty = false;\n\t\t\tthis._position.x = this.rawData[12];\n\t\t\tthis._position.y = this.rawData[13];\n\t\t\tthis._position.z = this.rawData[14];\n\t\t}\n\n\t\treturn this._position;\n\t}\n\n\tpublic invalidatePosition()\n\t{\n\t\tthis._positionDirty = true;\n\t}\n\n\tpublic toFixed(decimalPlace:number):string\n\t{\n\t\tvar magnitude:number = Math.pow(10, decimalPlace);\n\t\treturn \"matrix3d(\" + Math.round(this.rawData[0]*magnitude)/magnitude + \",\" + Math.round(this.rawData[1]*magnitude)/magnitude + \",\" + Math.round(this.rawData[2]*magnitude)/magnitude + \",\" + Math.round(this.rawData[3]*magnitude)/magnitude + \",\" + Math.round(this.rawData[4]*magnitude)/magnitude + \",\" + Math.round(this.rawData[5]*magnitude)/magnitude + \",\" + Math.round(this.rawData[6]*magnitude)/magnitude + \",\" + Math.round(this.rawData[7]*magnitude)/magnitude + \",\" + Math.round(this.rawData[8]*magnitude)/magnitude + \",\" + Math.round(this.rawData[9]*magnitude)/magnitude + \",\" + Math.round(this.rawData[10]*magnitude)/magnitude + \",\" + Math.round(this.rawData[11]*magnitude)/magnitude + \",\" + Math.round(this.rawData[12]*magnitude)/magnitude + \",\" + Math.round(this.rawData[13]*magnitude)/magnitude + \",\" + Math.round(this.rawData[14]*magnitude)/magnitude + \",\" + Math.round(this.rawData[15]*magnitude)/magnitude + \")\";\n\t}\n\n\tpublic toString():string\n\t{\n\t\treturn \"matrix3d(\" + Math.round(this.rawData[0]*1000)/1000 + \",\" + Math.round(this.rawData[1]*1000)/1000 + \",\" + Math.round(this.rawData[2]*1000)/1000 + \",\" + Math.round(this.rawData[3]*1000)/1000 + \",\" + Math.round(this.rawData[4]*1000)/1000 + \",\" + Math.round(this.rawData[5]*1000)/1000 + \",\" + Math.round(this.rawData[6]*1000)/1000 + \",\" + Math.round(this.rawData[7]*1000)/1000 + \",\" + Math.round(this.rawData[8]*1000)/1000 + \",\" + Math.round(this.rawData[9]*1000)/1000 + \",\" + Math.round(this.rawData[10]*1000)/1000 + \",\" + Math.round(this.rawData[11]*1000)/1000 + \",\" + Math.round(this.rawData[12]*1000)/1000 + \",\" + Math.round(this.rawData[13]*1000)/1000 + \",\" + Math.round(this.rawData[14]*1000)/1000 + \",\" + Math.round(this.rawData[15]*1000)/1000 + \")\";\n\t}\n}\n\nexport = Matrix3D;",
    "import Point\t\t\t\t\t= require(\"awayjs-core/lib/geom/Point\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport ArgumentError\t\t\t= require(\"awayjs-core/lib/errors/ArgumentError\");\n\n/**\n * The Matrix class represents a transformation matrix that determines how to\n * map points from one coordinate space to another. You can perform various\n * graphical transformations on a display object by setting the properties of\n * a Matrix object, applying that Matrix object to the <code>matrix</code>\n * property of a Transform object, and then applying that Transform object as\n * the <code>transform</code> property of the display object. These\n * transformation functions include translation(<i>x</i> and <i>y</i>\n * repositioning), rotation, scaling, and skewing.\n *\n * <p>Together these types of transformations are known as <i>affine\n * transformations</i>. Affine transformations preserve the straightness of\n * lines while transforming, so that parallel lines stay parallel.</p>\n *\n * <p>To apply a transformation matrix to a display object, you create a\n * Transform object, set its <code>matrix</code> property to the\n * transformation matrix, and then set the <code>transform</code> property of\n * the display object to the Transform object. Matrix objects are also used as\n * parameters of some methods, such as the following:</p>\n *\n * <ul>\n *   <li>The <code>draw()</code> method of a BitmapData object</li>\n *   <li>The <code>beginBitmapFill()</code> method,\n * <code>beginGradientFill()</code> method, or\n * <code>lineGradientStyle()</code> method of a Graphics object</li>\n * </ul>\n *\n * <p>A transformation matrix object is a 3 x 3 matrix with the following\n * contents:</p>\n *\n * <p>In traditional transformation matrixes, the <code>u</code>,\n * <code>v</code>, and <code>w</code> properties provide extra capabilities.\n * The Matrix class can only operate in two-dimensional space, so it always\n * assumes that the property values <code>u</code> and <code>v</code> are 0.0,\n * and that the property value <code>w</code> is 1.0. The effective values of\n * the matrix are as follows:</p>\n *\n * <p>You can get and set the values of all six of the other properties in a\n * Matrix object: <code>a</code>, <code>b</code>, <code>c</code>,\n * <code>d</code>, <code>tx</code>, and <code>ty</code>.</p>\n *\n * <p>The Matrix class supports the four major types of transformations:\n * translation, scaling, rotation, and skewing. You can set three of these\n * transformations by using specialized methods, as described in the following\n * table: </p>\n *\n * <p>Each transformation function alters the current matrix properties so\n * that you can effectively combine multiple transformations. To do this, you\n * call more than one transformation function before applying the matrix to\n * its display object target(by using the <code>transform</code> property of\n * that display object).</p>\n *\n * <p>Use the <code>new Matrix()</code> constructor to create a Matrix object\n * before you can call the methods of the Matrix object.</p>\n */\nclass Matrix\n{\n\t/**\n\t * The value that affects the positioning of pixels along the <i>x</i> axis\n\t * when scaling or rotating an image.\n\t */\n\tpublic a:number;\n\n\t/**\n\t * The value that affects the positioning of pixels along the <i>y</i> axis\n\t * when rotating or skewing an image.\n\t */\n\tpublic b:number;\n\n\t/**\n\t * The value that affects the positioning of pixels along the <i>x</i> axis\n\t * when rotating or skewing an image.\n\t */\n\tpublic c:number;\n\n\t/**\n\t * The value that affects the positioning of pixels along the <i>y</i> axis\n\t * when scaling or rotating an image.\n\t */\n\tpublic d:number;\n\n\t/**\n\t * The distance by which to translate each point along the <i>x</i> axis.\n\t */\n\tpublic tx:number;\n\n\t/**\n\t * The distance by which to translate each point along the <i>y</i> axis.\n\t */\n\tpublic ty:number;\n\n\t/**\n\t * Creates a new Matrix object with the specified parameters. In matrix\n\t * notation, the properties are organized like this:\n\t *\n\t * <p>If you do not provide any parameters to the <code>new Matrix()</code>\n\t * constructor, it creates an <i>identity matrix</i> with the following\n\t * values:</p>\n\t *\n\t * <p>In matrix notation, the identity matrix looks like this:</p>\n\t *\n\t * @param a  The value that affects the positioning of pixels along the\n\t *           <i>x</i> axis when scaling or rotating an image.\n\t * @param b  The value that affects the positioning of pixels along the\n\t *           <i>y</i> axis when rotating or skewing an image.\n\t * @param c  The value that affects the positioning of pixels along the\n\t *           <i>x</i> axis when rotating or skewing an image.\n\t * @param d  The value that affects the positioning of pixels along the\n\t *           <i>y</i> axis when scaling or rotating an image..\n\t * @param tx The distance by which to translate each point along the <i>x</i>\n\t *           axis.\n\t * @param ty The distance by which to translate each point along the <i>y</i>\n\t *           axis.\n\t */\n\tconstructor(a:number = 1, b:number = 0, c:number = 0, d:number = 1, tx:number = 0, ty:number = 0)\n\t{\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\t\tthis.d = d;\n\t\tthis.tx = tx;\n\t\tthis.ty = ty;\n\t}\n\n\t/**\n\t * Returns a new Matrix object that is a clone of this matrix, with an exact\n\t * copy of the contained object.\n\t *\n\t * @return A Matrix object.\n\t */\n\tpublic clone():Matrix\n\t{\n\t\treturn new Matrix(this.a, this.b, this.c, this.d, this.tx, this.ty);\n\t}\n\n\t/**\n\t * Concatenates a matrix with the current matrix, effectively combining the\n\t * geometric effects of the two. In mathematical terms, concatenating two\n\t * matrixes is the same as combining them using matrix multiplication.\n\t *\n\t * <p>For example, if matrix <code>m1</code> scales an object by a factor of\n\t * four, and matrix <code>m2</code> rotates an object by 1.5707963267949\n\t * radians(<code>Math.PI/2</code>), then <code>m1.concat(m2)</code>\n\t * transforms <code>m1</code> into a matrix that scales an object by a factor\n\t * of four and rotates the object by <code>Math.PI/2</code> radians. </p>\n\t *\n\t * <p>This method replaces the source matrix with the concatenated matrix. If\n\t * you want to concatenate two matrixes without altering either of the two\n\t * source matrixes, first copy the source matrix by using the\n\t * <code>clone()</code> method, as shown in the Class Examples section.</p>\n\t *\n\t * @param matrix The matrix to be concatenated to the source matrix.\n\t */\n\tpublic concat(matrix:Matrix):void\n\t{\n\t\tvar a1 = this.a*matrix.a + this.b*matrix.c;\n\t\tthis.b = this.a*matrix.b + this.b*matrix.d;\n\t\tthis.a = a1;\n\n\t\tvar c1 = this.c*matrix.a + this.d*matrix.c;\n\t\tthis.d = this.c*matrix.b + this.d*matrix.d;\n\n\t\tthis.c = c1;\n\n\t\tvar tx1 = this.tx*matrix.a + this.ty*matrix.c + matrix.tx;\n\t\tthis.ty = this.tx*matrix.b + this.ty*matrix.d + matrix.ty;\n\t\tthis.tx = tx1;\n\t}\n\n\t/**\n\t * Copies a Vector3D object into specific column of the calling Matrix3D\n\t * object.\n\t *\n\t * @param column   The column from which to copy the data from.\n\t * @param vector3D The Vector3D object from which to copy the data.\n\t */\n\tpublic copyColumnFrom(column:number, vector3D:Vector3D):void\n\t{\n\t\tif (column > 2) {\n\t\t\tthrow \"Column \" + column + \" out of bounds (2)\";\n\t\t} else if (column == 0) {\n\t\t\tthis.a = vector3D.x;\n\t\t\tthis.c = vector3D.y;\n\t\t} else if (column == 1) {\n\t\t\tthis.b = vector3D.x;\n\t\t\tthis.d = vector3D.y;\n\t\t} else {\n\t\t\tthis.tx = vector3D.x;\n\t\t\tthis.ty = vector3D.y;\n\t\t}\n\t}\n\n\t/**\n\t * Copies specific column of the calling Matrix object into the Vector3D\n\t * object. The w element of the Vector3D object will not be changed.\n\t *\n\t * @param column   The column from which to copy the data from.\n\t * @param vector3D The Vector3D object from which to copy the data.\n\t */\n\tpublic copyColumnTo(column:number, vector3D:Vector3D):void\n\t{\n\t\tif (column > 2) {\n\t\t\tthrow new ArgumentError(\"ArgumentError, Column \" + column + \" out of bounds [0, ..., 2]\");\n\t\t} else if (column == 0) {\n\t\t\tvector3D.x = this.a;\n\t\t\tvector3D.y = this.c;\n\t\t\tvector3D.z = 0;\n\t\t} else if (column == 1) {\n\t\t\tvector3D.x = this.b;\n\t\t\tvector3D.y = this.d;\n\t\t\tvector3D.z = 0;\n\t\t} else {\n\t\t\tvector3D.x = this.tx;\n\t\t\tvector3D.y = this.ty;\n\t\t\tvector3D.z = 1;\n\t\t}\n\t}\n\n\t/**\n\t * Copies all of the matrix data from the source Point object into the\n\t * calling Matrix object.\n\t *\n\t * @param sourceMatrix The Matrix object from which to copy the data.\n\t */\n\tpublic copyFrom(sourceMatrix:Matrix):void\n\t{\n\t\tthis.a = sourceMatrix.a;\n\t\tthis.b = sourceMatrix.b;\n\t\tthis.c = sourceMatrix.c;\n\t\tthis.d = sourceMatrix.d;\n\t\tthis.tx = sourceMatrix.tx;\n\t\tthis.ty = sourceMatrix.ty;\n\t}\n\n\t/**\n\t * Copies a Vector3D object into specific row of the calling Matrix object.\n\t *\n\t * @param row      The row from which to copy the data from.\n\t * @param vector3D The Vector3D object from which to copy the data.\n\t */\n\tpublic copyRowFrom(row:number, vector3D:Vector3D):void\n\t{\n\t\tif (row > 2) {\n\t\t\tthrow new ArgumentError(\"ArgumentError, Row \" + row + \" out of bounds [0, ..., 2]\");\n\t\t} else if (row == 0) {\n\t\t\tthis.a = vector3D.x;\n\t\t\tthis.c = vector3D.y;\n\t\t} else if (row == 1) {\n\t\t\tthis.b = vector3D.x;\n\t\t\tthis.d = vector3D.y;\n\t\t} else {\n\t\t\tthis.tx = vector3D.x;\n\t\t\tthis.ty = vector3D.y;\n\t\t}\n\t}\n\n\t/**\n\t * Copies specific row of the calling Matrix object into the Vector3D object.\n\t * The w element of the Vector3D object will not be changed.\n\t *\n\t * @param row      The row from which to copy the data from.\n\t * @param vector3D The Vector3D object from which to copy the data.\n\t */\n\tpublic copyRowTo(row:number, vector3D:Vector3D):void\n\t{\n\t\tif (row > 2) {\n\t\t\tthrow new ArgumentError(\"ArgumentError, Row \" + row + \" out of bounds [0, ..., 2]\");\n\t\t} else if (row == 0) {\n\t\t\tvector3D.x = this.a;\n\t\t\tvector3D.y = this.b;\n\t\t\tvector3D.z = this.tx;\n\t\t} else if (row == 1) {\n\t\t\tvector3D.x = this.c;\n\t\t\tvector3D.y = this.d;\n\t\t\tvector3D.z = this.ty;\n\t\t} else {\n\t\t\tvector3D.setTo(0, 0, 1);\n\t\t}\n\t}\n\n\t/**\n\t * Includes parameters for scaling, rotation, and translation. When applied\n\t * to a matrix it sets the matrix's values based on those parameters.\n\t *\n\t * <p>Using the <code>createBox()</code> method lets you obtain the same\n\t * matrix as you would if you applied the <code>identity()</code>,\n\t * <code>rotate()</code>, <code>scale()</code>, and <code>translate()</code>\n\t * methods in succession. For example, <code>mat1.createBox(2,2,Math.PI/4,\n\t * 100, 100)</code> has the same effect as the following:</p>\n\t *\n\t * @param scaleX   The factor by which to scale horizontally.\n\t * @param scaleY   The factor by which scale vertically.\n\t * @param rotation The amount to rotate, in radians.\n\t * @param tx       The number of pixels to translate(move) to the right\n\t *                 along the <i>x</i> axis.\n\t * @param ty       The number of pixels to translate(move) down along the\n\t *                 <i>y</i> axis.\n\t */\n\tpublic createBox(scaleX:number, scaleY:number, rotation:number = 0, tx:number = 0, ty:number = 0):void\n\t{\n\t\tthis.a = scaleX;\n\t\tthis.d = scaleY;\n\t\tthis.b = rotation;\n\t\tthis.tx = tx;\n\t\tthis.ty = ty;\n\t}\n\n\t/**\n\t * Creates the specific style of matrix expected by the\n\t * <code>beginGradientFill()</code> and <code>lineGradientStyle()</code>\n\t * methods of the Graphics class. Width and height are scaled to a\n\t * <code>scaleX</code>/<code>scaleY</code> pair and the\n\t * <code>tx</code>/<code>ty</code> values are offset by half the width and\n\t * height.\n\t *\n\t * <p>For example, consider a gradient with the following\n\t * characteristics:</p>\n\t *\n\t * <ul>\n\t *   <li><code>GradientType.LINEAR</code></li>\n\t *   <li>Two colors, green and blue, with the ratios array set to <code>[0,\n\t * 255]</code></li>\n\t *   <li><code>SpreadMethod.PAD</code></li>\n\t *   <li><code>InterpolationMethod.LINEAR_RGB</code></li>\n\t * </ul>\n\t *\n\t * <p>The following illustrations show gradients in which the matrix was\n\t * defined using the <code>createGradientBox()</code> method with different\n\t * parameter settings:</p>\n\t *\n\t * @param width    The width of the gradient box.\n\t * @param height   The height of the gradient box.\n\t * @param rotation The amount to rotate, in radians.\n\t * @param tx       The distance, in pixels, to translate to the right along\n\t *                 the <i>x</i> axis. This value is offset by half of the\n\t *                 <code>width</code> parameter.\n\t * @param ty       The distance, in pixels, to translate down along the\n\t *                 <i>y</i> axis. This value is offset by half of the\n\t *                 <code>height</code> parameter.\n\t */\n\tpublic createGradientBox(width:number, height:number, rotation:number = 0, tx:number = 0, ty:number = 0):void\n\t{\n\t\tthis.a = width/1638.4;\n\t\tthis.d = height/1638.4;\n\n\t\tif (rotation != 0.0) {\n\t\t\tvar cos = Math.cos(rotation);\n\t\t\tvar sin = Math.sin(rotation);\n\n\t\t\tthis.b = sin*this.d;\n\t\t\tthis.c = -sin*this.a;\n\t\t\tthis.a *= cos;\n\t\t\tthis.d *= cos;\n\t\t} else {\n\t\t\tthis.b = this.c = 0;\n\t\t}\n\n\t\tthis.tx = tx + width/2;\n\t\tthis.ty = ty + height/2;\n\t}\n\n\t/**\n\t * Given a point in the pretransform coordinate space, returns the\n\t * coordinates of that point after the transformation occurs. Unlike the\n\t * standard transformation applied using the <code>transformPoint()</code>\n\t * method, the <code>deltaTransformPoint()</code> method's transformation\n\t * does not consider the translation parameters <code>tx</code> and\n\t * <code>ty</code>.\n\t *\n\t * @param point The point for which you want to get the result of the matrix\n\t *              transformation.\n\t * @return The point resulting from applying the matrix transformation.\n\t */\n\tpublic deltaTransformPoint(point:Point):Point\n\t{\n\t\treturn new Point(point.x*this.a + point.y*this.c, point.x*this.b + point.y*this.d);\n\t}\n\n\t/**\n\t * Sets each matrix property to a value that causes a null transformation. An\n\t * object transformed by applying an identity matrix will be identical to the\n\t * original.\n\t *\n\t * <p>After calling the <code>identity()</code> method, the resulting matrix\n\t * has the following properties: <code>a</code>=1, <code>b</code>=0,\n\t * <code>c</code>=0, <code>d</code>=1, <code>tx</code>=0,\n\t * <code>ty</code>=0.</p>\n\t *\n\t * <p>In matrix notation, the identity matrix looks like this:</p>\n\t *\n\t */\n\tpublic identity():void\n\t{\n\t\tthis.a = 1;\n\t\tthis.b = 0;\n\t\tthis.c = 0;\n\t\tthis.d = 1;\n\t\tthis.tx = 0;\n\t\tthis.ty = 0;\n\t}\n\n\t/**\n\t * Performs the opposite transformation of the original matrix. You can apply\n\t * an inverted matrix to an object to undo the transformation performed when\n\t * applying the original matrix.\n\t */\n\tpublic invert():void\n\t{\n\t\tvar norm = this.a*this.d - this.b*this.c;\n\n\t\tif (norm == 0) {\n\t\t\tthis.a = this.b = this.c = this.d = 0;\n\t\t\tthis.tx = -this.tx;\n\t\t\tthis.ty = -this.ty;\n\t\t} else {\n\t\t\tnorm = 1.0/norm;\n\t\t\tvar a1 = this.d*norm;\n\t\t\tthis.d = this.a*norm;\n\t\t\tthis.a = a1;\n\t\t\tthis.b *= -norm;\n\t\t\tthis.c *= -norm;\n\n\t\t\tvar tx1 = -this.a*this.tx - this.c*this.ty;\n\t\t\tthis.ty = -this.b*this.tx - this.d*this.ty;\n\t\t\tthis.tx = tx1;\n\t\t}\n\t}\n\n\n\t/**\n\t * Returns a new Matrix object that is a clone of this matrix, with an exact\n\t * copy of the contained object.\n\t *\n\t * @param matrix The matrix for which you want to get the result of the matrix\n\t *               transformation.\n\t * @return A Matrix object.\n\t */\n\tpublic multiply(matrix:Matrix):Matrix\n\t{\n\t\tvar result = new Matrix();\n\n\t\tresult.a = this.a*matrix.a + this.b*matrix.c;\n\t\tresult.b = this.a*matrix.b + this.b*matrix.d;\n\t\tresult.c = this.c*matrix.a + this.d*matrix.c;\n\t\tresult.d = this.c*matrix.b + this.d*matrix.d;\n\n\t\tresult.tx = this.tx*matrix.a + this.ty*matrix.c + matrix.tx;\n\t\tresult.ty = this.tx*matrix.b + this.ty*matrix.d + matrix.ty;\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Applies a rotation transformation to the Matrix object.\n\t *\n\t * <p>The <code>rotate()</code> method alters the <code>a</code>,\n\t * <code>b</code>, <code>c</code>, and <code>d</code> properties of the\n\t * Matrix object. In matrix notation, this is the same as concatenating the\n\t * current matrix with the following:</p>\n\t *\n\t * @param angle The rotation angle in radians.\n\t */\n\tpublic rotate(angle:number):void\n\t{\n\t\tvar cos = Math.cos(angle);\n\t\tvar sin = Math.sin(angle);\n\n\t\tvar a1 = this.a*cos - this.b*sin;\n\t\tthis.b = this.a*sin + this.b*cos;\n\t\tthis.a = a1;\n\n\t\tvar c1 = this.c*cos - this.d*sin;\n\t\tthis.d = this.c*sin + this.d*cos;\n\t\tthis.c = c1;\n\n\t\tvar tx1 = this.tx*cos - this.ty*sin;\n\t\tthis.ty = this.tx*sin + this.ty*cos;\n\t\tthis.tx = tx1;\n\t}\n\n\t/**\n\t * Applies a scaling transformation to the matrix. The <i>x</i> axis is\n\t * multiplied by <code>sx</code>, and the <i>y</i> axis it is multiplied by\n\t * <code>sy</code>.\n\t *\n\t * <p>The <code>scale()</code> method alters the <code>a</code> and\n\t * <code>d</code> properties of the Matrix object. In matrix notation, this\n\t * is the same as concatenating the current matrix with the following\n\t * matrix:</p>\n\t *\n\t * @param sx A multiplier used to scale the object along the <i>x</i> axis.\n\t * @param sy A multiplier used to scale the object along the <i>y</i> axis.\n\t */\n\tpublic scale(sx:number, sy:number):void\n\t{\n\t\tthis.a *= sx;\n\t\tthis.b *= sy;\n\n\t\tthis.c *= sx;\n\t\tthis.d *= sy;\n\n\t\tthis.tx *= sx;\n\t\tthis.ty *= sy;\n\t}\n\n\t/**\n\t * Sets the members of Matrix to the specified values.\n\t *\n\t * @param a  The value that affects the positioning of pixels along the\n\t *           <i>x</i> axis when scaling or rotating an image.\n\t * @param b  The value that affects the positioning of pixels along the\n\t *           <i>y</i> axis when rotating or skewing an image.\n\t * @param c  The value that affects the positioning of pixels along the\n\t *           <i>x</i> axis when rotating or skewing an image.\n\t * @param d  The value that affects the positioning of pixels along the\n\t *           <i>y</i> axis when scaling or rotating an image..\n\t * @param tx The distance by which to translate each point along the <i>x</i>\n\t *           axis.\n\t * @param ty The distance by which to translate each point along the <i>y</i>\n\t *           axis.\n\t */\n\tpublic setTo(a:number, b:number, c:number, d:number, tx:number, ty:number):void\n\t{\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\t\tthis.d = d;\n\t\tthis.tx = tx;\n\t\tthis.ty = ty;\n\t}\n\n\t/**\n\t * Returns a text value listing the properties of the Matrix object.\n\t *\n\t * @return A string containing the values of the properties of the Matrix\n\t *         object: <code>a</code>, <code>b</code>, <code>c</code>,\n\t *         <code>d</code>, <code>tx</code>, and <code>ty</code>.\n\t */\n\tpublic toString():string\n\t{\n\t\treturn \"[Matrix] (a=\" + this.a + \", b=\" + this.b + \", c=\" + this.c + \", d=\" + this.d + \", tx=\" + this.tx + \", ty=\" + this.ty + \")\";\n\t}\n\n\t/**\n\t * Returns the result of applying the geometric transformation represented by\n\t * the Matrix object to the specified point.\n\t *\n\t * @param point The point for which you want to get the result of the Matrix\n\t *              transformation.\n\t * @return The point resulting from applying the Matrix transformation.\n\t */\n\tpublic transformPoint(point:Point):Point\n\t{\n\t\treturn new Point(point.x*this.a + point.y*this.c + this.tx, point.x*this.b + point.y*this.d + this.ty);\n\t}\n\n\t/**\n\t * Translates the matrix along the <i>x</i> and <i>y</i> axes, as specified\n\t * by the <code>dx</code> and <code>dy</code> parameters.\n\t *\n\t * @param dx The amount of movement along the <i>x</i> axis to the right, in\n\t *           pixels.\n\t * @param dy The amount of movement down along the <i>y</i> axis, in pixels.\n\t */\n\tpublic translate(dx:number, dy:number):void\n\t{\n\t\tthis.tx += dx;\n\t\tthis.ty += dy;\n\t}\n}\n\nexport = Matrix;",
    "/**\n * A Quaternion object which can be used to represent rotations.\n */\nclass Orientation3D\n{\n\t/**\n\t * The axis angle orientation uses a combination of an axis and an angle to determine the orientation.\n\t * @type {string}\n\t */\n\tpublic static AXIS_ANGLE:string = \"axisAngle\";\n\n\t/**\n\t * The default orientation for decompose() and recompose() methods, defines the orientation with three separate angles of rotation for each axis.\n\t * @type {string}\n\t */\n\tpublic static EULER_ANGLES:string = \"eulerAngles\";\n\n\t/**\n\t * The quaternion orientation uses complex numbers.\n\t * @type {string}\n\t */\n\tpublic static QUATERNION:string = \"quaternion\";\n}\n\nexport = Orientation3D;",
    "import Matrix3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Point\t\t\t\t\t= require(\"awayjs-core/lib/geom/Point\");\n\n/**\n * <p>The PerspectiveProjection class provides an easy way to assign or modify\n * the perspective transformations of a display object and all of its\n * children. For more complex or custom perspective transformations, use the\n * Matrix3D class. While the PerspectiveProjection class provides basic\n * three-dimensional presentation properties, the Matrix3D class provides more\n * detailed control over the three-dimensional presentation of display objects.\n * </p>\n *\n * <p>Projection is a way of representing a three-dimensional object in a\n * two-dimensional space, like a cube projected onto a computer screen.\n * Perspective projection uses a viewing frustum (a rectangular pyramid) to\n * model and project a three-dimensional world and its objects on the screen.\n * The viewing frustum becomes increasingly wider as it moves further from the\n * origin of the viewpoint. The origin of the viewpoint could be a camera or\n * the eyes of an observer facing the screen. The projected perspective\n * produces the illusion of three dimensions with depth and distance, where\n * the objects closer to the screen appear larger than the objects farther\n * from the screen.</p>\n *\n * <p>A default PerspectiveProjection object is a framework defined for\n * perspective transformation of the root object, based on the field of view\n * and aspect ratio (dimensions) of the stage. The projection center, the\n * vanishing point, is set to the center of the stage, which means the\n * three-dimensional display objects disappear toward the center of the stage\n * as they move back in the z axis. The default viewpoint is at point (0,0)\n * looking down the positive z axis. The y-axis points down toward the bottom\n * of the screen. You can gain access to the root display object's perspective\n * projection settings and change the field of view and projection center\n * properties of the perspectiveProjection property through the root object's\n * <code>DisplayObject.transform</code> property.</p>\n *\n * <p>You can also set a different perspective projection setting for a\n * display object through the parent's perspective projection. First, create a\n * PerspectiveProjection object and set its <code>fieldOfView</code> and\n * <code>projectionCenter</code> properties. Next, assign the\n * PerspectiveProjection object to the parent display object using the\n * <code>DisplayObject.transform</code> property. The specified projection\n * matrix and transformation will then apply to all the display object's\n * three-dimensional children.</p>\n *\n * <p>To modify a perspective projection of the stage or root object: use the\n * <code>transform.matrix</code> property of the root display object to gain\n * access to the PerspectiveProjection object. Or, apply different perspective\n * projection properties to a display object by setting the perspective\n * projection properties of the display object's parent. The child display\n * object inherits the new properties. Specifically, create a\n * PerspectiveProjection object and set its properties, then assign the\n * PerspectiveProjection object to the <code>perspectiveProjection</code>\n * property of the parent display object's <code>transform</code> property.\n * The specified projection transformation then applies to all the display\n * object's three-dimensional children.</p>\n *\n * <p>Since both PerspectiveProjection and Matrix3D objects perform\n * perspective transformations, do not assign both to a display object at the\n * same time. Use the PerspectiveProjection object for focal length and\n * projection center changes. For more control over the perspective\n * transformation, create a perspective projection Matrix3D object.</p>\n */\nclass PerspectiveProjection\n{\n\tprivate _matrix3D:Matrix3D;\n\n\t/**\n\t * Specifies an angle, as a degree between 0 and 180, for the field of\n\t * view in three dimensions. This value determines how strong the\n\t * perspective transformation and distortion apply to a\n\t * three-dimensional display object with a non-zero z-coordinate.\n\t *\n\t * <p>A degree close to 0 means that the screen's two-dimensional x-\n\t * and y-coordinates are roughly the same as the three-dimensional x-,\n\t * y-, and z-coordinates with little or no distortion. In other words,\n\t * for a small angle, a display object moving down the z axis appears\n\t * to stay near the same size and moves little.</p>\n\t *\n\t * <p>A value close to 180 degrees results in a fisheye projection effect:\n\t * positions with a z value smaller than 0 are magnified, while\n\t * positions with a z value larger than 0 are minimized. With a large\n\t * angle, a display object moving down the z axis appears to change\n\t * size quickly and moves a great distance. If the field of view is\n\t * set to 0 or 180, nothing is seen on the screen.</p>\n\t */\n\tpublic fieldOfView:number;\n\n\t/**\n\t * The distance between the eye or the viewpoint's origin (0,0,0) and\n\t * the display object located in the z axis. During the perspective\n\t * transformation, the <code>focalLength</code> is calculated\n\t * dynamically using the angle of the field of view and the stage's\n\t * aspect ratio (stage width divided by stage height).\n\t *\n\t * @see away.geom.PerspectiveProjection#fieldOfView\n\t */\n\tpublic focalLength:number;\n\n\t/**\n\t * A two-dimensional point representing the center of the projection,\n\t * the vanishing point for the display object.\n\t *\n\t * <p>The <code>projectionCenter</code> property is an offset to the\n\t * default registration point that is the upper left of the stage,\n\t * point (0,0). The default projection transformation center is in the\n\t * middle of the stage, which means the three-dimensional display\n\t * objects disappear toward the center of the stage as they move\n\t * backwards in the z axis.</p>\n\t */\n\tpublic projectionCenter:Point;\n\n\t/**\n\t * Creates an instance of a PerspectiveProjection object.\n\t */\n\tconstructor()\n\t{\n\n\t}\n\t/**\n\t * Returns the underlying Matrix3D object of the display object.\n\t *\n\t * <p>A display object, like the root object, can have a\n\t * PerspectiveProjection object without needing a Matrix3D property\n\t * defined for its transformations. In fact, use either a\n\t * PerspectiveProjection or a Matrix3D object to specify the\n\t * perspective transformation. If when using the PerspectiveProjection\n\t * object, a Matrix3D object was needed, the <code>toMatrix3D()</code>\n\t * method can retrieve the underlying Matrix3D object of the display\n\t * object. For example, the <code>toMatrix3D()</code> method can be\n\t * used with the <code>Utils3D.projectVectors()</code> method.</p>\n\t *\n\t * @see away.geom.Matrix3D\n\t */\n\tpublic toMatrix3D():Matrix3D\n\t{\n\t\treturn this._matrix3D;\n\t}\n}\n\nexport = PerspectiveProjection;",
    "import PlaneClassification\t= require(\"awayjs-core/lib/geom/PlaneClassification\");\nimport Vector3D\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\n\nclass Plane3D\n{\n\t/**\n\t * The A coefficient of this plane. (Also the x dimension of the plane normal)\n\t */\n\tpublic a:number;\n\n\t/**\n\t * The B coefficient of this plane. (Also the y dimension of the plane normal)\n\t */\n\tpublic b:number;\n\n\t/**\n\t * The C coefficient of this plane. (Also the z dimension of the plane normal)\n\t */\n\tpublic c:number;\n\n\t/**\n\t * The D coefficient of this plane. (Also the inverse dot product between normal and point)\n\t */\n\tpublic d:number;\n\n\tpublic _iAlignment:number;\n\n\t// indicates the alignment of the plane\n\tpublic static ALIGN_ANY:number = 0;\n\tpublic static ALIGN_XY_AXIS:number = 1;\n\tpublic static ALIGN_YZ_AXIS:number = 2;\n\tpublic static ALIGN_XZ_AXIS:number = 3;\n\n\t/**\n\t * Create a Plane3D with ABCD coefficients\n\t */\n\tconstructor(a:number = 0, b:number = 0, c:number = 0, d:number = 0)\n\t{\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\t\tthis.d = d;\n\n\t\tif (a == 0 && b == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_XY_AXIS;\n\n\t\t} else if (b == 0 && c == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_YZ_AXIS;\n\n\t\t} else if (a == 0 && c == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_XZ_AXIS;\n\n\t\t} else {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_ANY;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Fills this Plane3D with the coefficients from 3 points in 3d space.\n\t * @param p0 Vector3D\n\t * @param p1 Vector3D\n\t * @param p2 Vector3D\n\t */\n\tpublic fromPoints(p0:Vector3D, p1:Vector3D, p2:Vector3D)\n\t{\n\t\tvar d1x:number = p1.x - p0.x;\n\t\tvar d1y:number = p1.y - p0.y;\n\t\tvar d1z:number = p1.z - p0.z;\n\n\t\tvar d2x:number = p2.x - p0.x;\n\t\tvar d2y:number = p2.y - p0.y;\n\t\tvar d2z:number = p2.z - p0.z;\n\n\t\tthis.a = d1y*d2z - d1z*d2y;\n\t\tthis.b = d1z*d2x - d1x*d2z;\n\t\tthis.c = d1x*d2y - d1y*d2x;\n\t\tthis.d = this.a*p0.x + this.b*p0.y + this.c*p0.z;\n\n\t\t// not using epsilon, since a plane is infinite and a small incorrection can grow very large\n\t\tif (this.a == 0 && this.b == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_XY_AXIS;\n\n\t\t} else if (this.b == 0 && this.c == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_YZ_AXIS;\n\n\t\t} else if (this.a == 0 && this.c == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_XZ_AXIS;\n\n\t\t} else {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_ANY;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Fills this Plane3D with the coefficients from the plane's normal and a point in 3d space.\n\t * @param normal Vector3D\n\t * @param point  Vector3D\n\t */\n\tpublic fromNormalAndPoint(normal:Vector3D, point:Vector3D)\n\t{\n\t\tthis.a = normal.x;\n\t\tthis.b = normal.y;\n\t\tthis.c = normal.z;\n\t\tthis.d = this.a*point.x + this.b*point.y + this.c*point.z;\n\t\tif (this.a == 0 && this.b == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_XY_AXIS;\n\n\t\t} else if (this.b == 0 && this.c == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_YZ_AXIS;\n\n\t\t} else if (this.a == 0 && this.c == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_XZ_AXIS;\n\n\t\t} else {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_ANY;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Normalize this Plane3D\n\t * @return Plane3D This Plane3D.\n\t */\n\tpublic normalize():Plane3D\n\t{\n\t\tvar len:number = 1/Math.sqrt(this.a*this.a + this.b*this.b + this.c*this.c);\n\t\tthis.a *= len;\n\t\tthis.b *= len;\n\t\tthis.c *= len;\n\t\tthis.d *= len;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns the signed distance between this Plane3D and the point p.\n\t * @param p Vector3D\n\t * @returns Number\n\t */\n\tpublic distance(p:Vector3D):number\n\t{\n\n\t\tif (this._iAlignment == Plane3D.ALIGN_YZ_AXIS) {\n\n\t\t\treturn this.a*p.x - this.d;\n\n\t\t} else if (this._iAlignment == Plane3D.ALIGN_XZ_AXIS) {\n\t\t\treturn this.b*p.y - this.d;\n\t\t}\n\n\t\telse if (this._iAlignment == Plane3D.ALIGN_XY_AXIS) {\n\n\t\t\treturn this.c*p.z - this.d;\n\n\t\t} else {\n\n\t\t\treturn this.a*p.x + this.b*p.y + this.c*p.z - this.d;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Classify a point against this Plane3D. (in front, back or intersecting)\n\t * @param p Vector3D\n\t * @return int Plane3.FRONT or Plane3D.BACK or Plane3D.INTERSECT\n\t */\n\tpublic classifyPoint(p:Vector3D, epsilon:number = 0.01):number\n\t{\n\t\t// check NaN\n\t\tif (this.d != this.d)\n\t\t\treturn PlaneClassification.FRONT;\n\n\t\tvar len:number;\n\t\tif (this._iAlignment == Plane3D.ALIGN_YZ_AXIS)\n\t\t\tlen = this.a*p.x - this.d; else if (this._iAlignment == Plane3D.ALIGN_XZ_AXIS)\n\t\t\tlen = this.b*p.y - this.d; else if (this._iAlignment == Plane3D.ALIGN_XY_AXIS)\n\t\t\tlen = this.c*p.z - this.d; else\n\t\t\tlen = this.a*p.x + this.b*p.y + this.c*p.z - this.d;\n\n\t\tif (len < -epsilon)\n\t\t\treturn PlaneClassification.BACK; else if (len > epsilon)\n\t\t\treturn PlaneClassification.FRONT; else\n\t\t\treturn PlaneClassification.INTERSECT;\n\t}\n\n\tpublic toString():string\n\t{\n\t\treturn \"Plane3D [a:\" + this.a + \", b:\" + this.b + \", c:\" + this.c + \", d:\" + this.d + \"]\";\n\t}\n}\n\nexport = Plane3D;",
    "class PlaneClassification\n{\n\t// \"back\" is synonymous with \"in\", but used for planes (back of plane is \"inside\" a solid volume walled by a plane)\n\tpublic static BACK:number = 0;\n\tpublic static FRONT:number = 1;\n\n\tpublic static IN:number = 0;\n\tpublic static OUT:number = 1;\n\tpublic static INTERSECT:number = 2;\n\n}\n\nexport = PlaneClassification;",
    "/**\n * The Point object represents a location in a two-dimensional coordinate\n * system, where <i>x</i> represents the horizontal axis and <i>y</i>\n * represents the vertical axis.\n *\n * <p>The following code creates a point at(0,0):</p>\n *\n * <p>Methods and properties of the following classes use Point objects:</p>\n *\n * <ul>\n *   <li>BitmapData</li>\n *   <li>DisplayObject</li>\n *   <li>DisplayObjectContainer</li>\n *   <li>DisplacementMapFilter</li>\n *   <li>NativeWindow</li>\n *   <li>Matrix</li>\n *   <li>Rectangle</li>\n * </ul>\n *\n * <p>You can use the <code>new Point()</code> constructor to create a Point\n * object.</p>\n */\nclass Point\n{\n\t/**\n\t * The horizontal coordinate of the point. The default value is 0.\n\t */\n\tpublic x:number;\n\n\t/**\n\t * The vertical coordinate of the point. The default value is 0.\n\t */\n\tpublic y:number;\n\n\t/**\n\t * The length of the line segment from(0,0) to this point.\n\t */\n\tpublic get length():number\n\t{\n\t\treturn Math.sqrt(this.x*this.x + this.y*this.y);\n\t}\n\n\t/**\n\t * Creates a new point. If you pass no parameters to this method, a point is\n\t * created at(0,0).\n\t *\n\t * @param x The horizontal coordinate.\n\t * @param y The vertical coordinate.\n\t */\n\tconstructor(x:number = 0, y:number = 0)\n\t{\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\t/**\n\t * Adds the coordinates of another point to the coordinates of this point to\n\t * create a new point.\n\t *\n\t * @param v The point to be added.\n\t * @return The new point.\n\t */\n\tpublic add(v:Point):Point\n\t{\n\t\treturn new Point(this.x + v.x, this.y + v.y);\n\t}\n\n\t/**\n\t * Creates a copy of this Point object.\n\t *\n\t * @return The new Point object.\n\t */\n\tpublic clone():Point\n\t{\n\t\treturn new Point(this.x, this.y);\n\t}\n\n\tpublic copyFrom(sourcePoint:Point)\n\t{\n\n\t}\n\n\t/**\n\t * Determines whether two points are equal. Two points are equal if they have\n\t * the same <i>x</i> and <i>y</i> values.\n\t *\n\t * @param toCompare The point to be compared.\n\t * @return A value of <code>true</code> if the object is equal to this Point\n\t *         object; <code>false</code> if it is not equal.\n\t */\n\tpublic equals(toCompare:Point):boolean\n\t{\n\t\treturn (this.x == toCompare.x && this.y == toCompare.y);\n\t}\n\n\t/**\n\t * Scales the line segment between(0,0) and the current point to a set\n\t * length.\n\t *\n\t * @param thickness The scaling value. For example, if the current point is\n\t *                 (0,5), and you normalize it to 1, the point returned is\n\t *                  at(0,1).\n\t */\n\tpublic normalize(thickness:number = 1)\n\t{\n\t\tif (this.length != 0) {\n\t\t\tvar invLength = thickness/this.length;\n\t\t\tthis.x *= invLength;\n\t\t\tthis.y *= invLength;\n\t\t\treturn;\n\t\t}\n\t\tthrow \"Cannot divide by zero length.\";\n\t}\n\n\t/**\n\t * Offsets the Point object by the specified amount. The value of\n\t * <code>dx</code> is added to the original value of <i>x</i> to create the\n\t * new <i>x</i> value. The value of <code>dy</code> is added to the original\n\t * value of <i>y</i> to create the new <i>y</i> value.\n\t *\n\t * @param dx The amount by which to offset the horizontal coordinate,\n\t *           <i>x</i>.\n\t * @param dy The amount by which to offset the vertical coordinate, <i>y</i>.\n\t */\n\tpublic offset(dx:number, dy:number)\n\t{\n\t\tthis.x += dx;\n\t\tthis.y += dy;\n\t}\n\n\tpublic setTo(xa:number, ya:number)\n\t{\n\t\tthis.x = xa;\n\t\tthis.y = ya;\n\t}\n\n\t/**\n\t * Subtracts the coordinates of another point from the coordinates of this\n\t * point to create a new point.\n\t *\n\t * @param v The point to be subtracted.\n\t * @return The new point.\n\t */\n\tpublic subtract(v:Point):Point\n\t{\n\t\treturn new Point(this.x - v.x, this.y - v.y);\n\t}\n\n\t/**\n\t * Returns a string that contains the values of the <i>x</i> and <i>y</i>\n\t * coordinates. The string has the form <code>\"(x=<i>x</i>,\n\t * y=<i>y</i>)\"</code>, so calling the <code>toString()</code> method for a\n\t * point at 23,17 would return <code>\"(x=23, y=17)\"</code>.\n\t *\n\t * @return The string representation of the coordinates.\n\t */\n\tpublic toString():string\n\t{\n\t\treturn \"[Point] (x=\" + this.x + \", y=\" + this.y + \")\";\n\t}\n\n\t/**\n\t * Returns the distance between <code>pt1</code> and <code>pt2</code>.\n\t *\n\t * @param pt1 The first point.\n\t * @param pt2 The second point.\n\t * @return The distance between the first and second points.\n\t */\n\tpublic static distance(pt1:Point, pt2:Point):number\n\t{\n\t\tvar dx:number = pt2.x - pt1.x;\n\t\tvar dy:number = pt2.y - pt1.y;\n\n\t\treturn Math.sqrt(dx*dx + dy*dy);\n\t}\n\n\t/**\n\t * Determines a point between two specified points. The parameter\n\t * <code>f</code> determines where the new interpolated point is located\n\t * relative to the two end points specified by parameters <code>pt1</code>\n\t * and <code>pt2</code>. The closer the value of the parameter <code>f</code>\n\t * is to <code>1.0</code>, the closer the interpolated point is to the first\n\t * point(parameter <code>pt1</code>). The closer the value of the parameter\n\t * <code>f</code> is to 0, the closer the interpolated point is to the second\n\t * point(parameter <code>pt2</code>).\n\t *\n\t * @param pt1 The first point.\n\t * @param pt2 The second point.\n\t * @param f   The level of interpolation between the two points. Indicates\n\t *            where the new point will be, along the line between\n\t *            <code>pt1</code> and <code>pt2</code>. If <code>f</code>=1,\n\t *            <code>pt1</code> is returned; if <code>f</code>=0,\n\t *            <code>pt2</code> is returned.\n\t * @return The new, interpolated point.\n\t */\n\tpublic static interpolate(pt1:Point, pt2:Point, f:number):Point\n\t{\n\t\treturn new Point(pt2.x + (pt1.x - pt2.x)*f, pt2.y + (pt1.y - pt2.y)*f);\n\t}\n\n\t/**\n\t * Converts a pair of polar coordinates to a Cartesian point coordinate.\n\t *\n\t * @param len   The length coordinate of the polar pair.\n\t * @param angle The angle, in radians, of the polar pair.\n\t * @return The Cartesian point.\n\t */\n\tpublic static polar(len:number, angle:number):Point\n\t{\n\t\treturn new Point(len*Math.cos(angle), len*Math.sin(angle));\n\t}\n}\n\nexport = Point;\n",
    "class PoissonLookup\n{\n\tpublic static _distributions:Array<Array<number>>;\n\n\tpublic static initDistributions():void\n\t{\n\t\t// precalculated for best control\n\t\tthis._distributions = new Array<Array<number>>();\n\t\tthis._distributions[0] = new Array<number>(0.3082841, 0.4320919);\n\t\tthis._distributions[1] = new Array<number>(0.3082841, 0.4320919, -0.2274942, -0.6640266);\n\t\tthis._distributions[2] = new Array<number>(0.8742689, 0.0009265686, -0.6864116, -0.5536607, -0.2325206, 0.7678371);\n\t\tthis._distributions[3] = new Array<number>(0.3913446, -0.7084417, -0.7511101, -0.5935929, -0.2323436, 0.5320091, 0.8435315, 0.5035911);\n\t\tthis._distributions[4] = new Array<number>(0.2122471, -0.5771395, -0.8543506, -0.1763534, 0.5189021, 0.8323698, -0.3616908, 0.5865368, 0.9523004, -0.04948437);\n\t\tthis._distributions[5] = new Array<number>(0.5791035, 0.3496495, 0.2959551, -0.6006749, -0.2419119, -0.06879545, -0.7403072, 0.6110353, -0.04555973, 0.8059174, -0.5275017, -0.737129);\n\t\tthis._distributions[6] = new Array<number>(0.06941478, 0.8519508, -0.7441907, 0.2426432, 0.6439992, -0.2405252, -0.1007523, -0.2327587, -0.6427067, -0.7248485, 0.8050759, 0.5492936, 0.3573822, -0.8824506);\n\t\tthis._distributions[7] = new Array<number>(0.8509863, 0.4452587, -0.09507271, 0.2073005, 0.1706571, -0.6434793, 0.8029777, -0.2718274, -0.4401725, 0.8196304, 0.2715359, 0.8598521, -0.8121575, -0.006447683, -0.6486837, -0.7237598);\n\t\tthis._distributions[8] = new Array<number>(0.6951686, -0.2680728, -0.04933243, 0.3710589, 0.6592212, 0.3661054, -0.01579228, -0.6909603, -0.3275101, -0.1756866, 0.3811549, 0.9218544, -0.216032, 0.9755028, -0.7065172, 0.3355389, -0.6579109, -0.6798355);\n\t\tthis._distributions[9] = new Array<number>(0.6181276, -0.09790418, -0.2537868, -0.5570995, -0.1964931, 0.3459414, 0.3474613, -0.8885581, 0.5135743, 0.5753114, -0.9549091, 0.1480672, -0.8711916, -0.4293123, -0.6928071, 0.6190156, -0.13369, 0.8892705, 0.0548224, -0.1246777);\n\t\tthis._distributions[10] = new Array<number>(0.4853027, -0.5080479, -0.1331675, -0.506597, 0.139575, 0.01316885, 0.803486, -0.07568797, 0.5240274, 0.4883182, -0.4334005, 0.1207938, -0.7794577, -0.3985141, 0.1576432, -0.9861221, -0.3712867, 0.6959021, 0.1517378, 0.9847429, -0.9762396, 0.1661073);\n\t\tthis._distributions[11] = new Array<number>(-0.2790166, -0.01252619, 0.3389016, 0.3921154, 0.2408341, -0.313211, -0.8151779, -0.3898362, -0.6347761, 0.3486495, 0.09471484, -0.7722448, -0.1385674, 0.6364574, 0.2456331, 0.9295807, -0.3864306, -0.8247881, 0.6111673, -0.7164014, 0.8287669, 0.05466961, 0.837706, 0.5415626);\n\t\tthis._distributions[12] = new Array<number>(0.056417, 0.3185693, -0.8245888, 0.1882799, 0.8575996, 0.1136829, 0.1070375, 0.875332, 0.4076743, -0.06000621, -0.4311306, 0.7239349, 0.2677574, -0.538472, -0.08486642, -0.2083647, -0.888989, -0.3906443, -0.4768958, -0.6664082, 0.09334993, -0.9861541, 0.808736, -0.455949, 0.5889823, 0.7660807);\n\t\tthis._distributions[13] = new Array<number>(-0.2681346, -0.3955857, -0.1315102, -0.8852947, -0.5143692, 0.09551838, 0.4344836, -0.546945, -0.8620899, -0.3813288, 0.1650431, 0.02034803, -0.1543657, 0.3842218, -0.828457, 0.5376903, -0.6145, -0.7818927, -0.2639062, 0.8784655, 0.1912684, 0.9720125, 0.3135219, 0.5224229, 0.7850655, 0.4592297, 0.7465045, -0.1368916);\n\t\tthis._distributions[14] = new Array<number>(0.4241029, 0.695281, 0.150511, -0.02304107, -0.2482675, 0.9120338, 0.8057325, 0.2622084, -0.2445909, 0.2765962, 0.8588713, -0.1772072, 0.3117845, -0.4385471, -0.3923851, -0.3298936, -0.1751254, -0.7405846, 0.6926506, -0.684163, -0.9304563, -0.3254691, -0.8533293, 0.1523024, 0.2510415, -0.917345, -0.6239773, -0.7105472, -0.6104624, 0.6041355);\n\t\tthis._distributions[15] = new Array<number>(0.5844554, 0.06651045, 0.1343258, 0.6756578, 0.3799674, -0.6301104, 0.5590436, 0.7940555, 0.09574714, 0.02262517, 0.8697868, 0.393301, 0.003945862, -0.421735, 0.9043913, -0.2432393, -0.4844007, 0.7190998, -0.3201078, 0.2972371, -0.3852352, -0.6341155, -0.5413069, -0.09223081, -0.8468984, -0.5126905, 0.004156174, -0.8633173, -0.9681889, -0.03305046, -0.846509, 0.4414353);\n\t\tthis._distributions[16] = new Array<number>(0.4506488, 0.657668, 0.4621297, 0.07441051, -0.2782125, 0.6201044, 0.9750003, 0.09110117, 0.1019436, 0.2986514, 0.03457398, 0.9631706, 0.542098, -0.5505635, 0.8675668, 0.4938077, -0.5414361, 0.2655292, -0.7941836, 0.6003053, -0.09847672, -0.1001604, -0.9316511, -0.08572888, 0.07286467, -0.611899, -0.5232627, -0.4082253, -0.5481608, -0.827938, -0.1551939, -0.9621193, 0.9220031, -0.3315949);\n\t\tthis._distributions[17] = new Array<number>(0.197908, -0.4697656, -0.4474689, -0.3428435, 0.8529873, -0.2228634, 0.6022478, -0.5469642, 0.2545276, -0.931133, -0.1507547, -0.7855865, -0.07606658, 0.1011628, 0.3046715, 0.2785755, 0.4698432, -0.1064076, 0.6831254, 0.4152522, 0.1374381, 0.8363233, -0.2166121, 0.6682042, 0.5511393, 0.7996449, -0.4278994, 0.28836, -0.8875198, 0.2181732, -0.8772842, -0.2818254, -0.7000262, 0.5762185, -0.6062385, -0.7439126);\n\t\tthis._distributions[18] = new Array<number>(0.6645703, -0.05678739, 0.5720971, 0.4533803, -0.07660709, 0.08802763, 0.5163431, -0.4426552, 0.1163455, -0.3404382, -0.4004807, -0.5046007, 0.2932099, -0.8201418, -0.5322125, 0.03834766, -0.1490209, -0.8817304, -0.8000439, -0.3509448, 0.5260983, 0.8421043, 0.1197811, 0.6963812, 0.9498612, 0.3122156, -0.9285746, 0.02120355, -0.6670724, 0.7217396, 0.9155889, -0.3510147, -0.271941, 0.4727852, 0.318879, 0.1634057, -0.2686755, 0.9253026);\n\t\tthis._distributions[19] = new Array<number>(0.5064292, 0.422527, 0.8935515, -0.06610427, 0.1199719, 0.175568, 0.403388, -0.2003276, 0.1657927, 0.8154403, 0.9301245, 0.2929218, -0.1644068, 0.6201534, 0.7113559, -0.6589743, -0.3364046, -0.1799502, 0.02109996, -0.392765, -0.382213, 0.3219992, -0.9201946, 0.1207967, -0.726185, 0.4291916, -0.7443482, -0.2480059, -0.5147594, 0.7418784, 0.1935272, -0.7406143, -0.3643523, -0.5559214, -0.7147766, -0.6326278, -0.2524151, -0.9096627, 0.5161405, 0.7908453);\n\t\tthis._distributions[20] = new Array<number>(0.7921003, -0.3032096, 0.5992879, -0.009052323, 0.2538549, -0.1872749, 0.7053444, 0.3677175, 0.5417761, -0.8170255, 0.9749611, 0.1210478, 0.1969143, -0.6117041, -0.1824499, -0.4634196, -0.1181338, -0.8668742, -0.3050112, -0.1352596, -0.4409327, -0.7082354, -0.03225285, 0.1171548, 0.3113096, 0.3250439, -0.8166144, -0.463995, -0.01014475, 0.4715334, -0.6868284, 0.05091889, -0.4011163, 0.2717285, -0.06756835, 0.8307694, -0.7938535, 0.4352129, -0.4663842, 0.7165329, 0.559729, 0.8093995);\n\t\tthis._distributions[21] = new Array<number>(0.07832243, 0.426151, -0.3856795, 0.5799953, 0.01970797, 0.06706189, 0.4822682, 0.3014512, -0.1532982, 0.87485, -0.4959527, 0.07888043, 0.260601, -0.2304784, 0.4996209, 0.7167382, 0.585986, -0.04265174, -0.7679967, 0.5509416, -0.9041753, 0.1802134, -0.8407655, -0.4442826, -0.2058258, -0.2636995, -0.4984115, -0.5928579, 0.2926032, -0.7886473, -0.06933882, -0.621177, 0.578115, -0.4813387, 0.8981777, -0.3291056, 0.1942733, 0.9255584, 0.8084362, 0.5066984, 0.9920095, 0.03103104, -0.2403206, -0.9389018);\n\t\tthis._distributions[22] = new Array<number>(-0.5691095, 0.1014316, -0.7788262, 0.384012, -0.8253665, -0.1645582, -0.1830993, 0.002997211, -0.2555013, -0.4177977, -0.6640869, -0.4794711, -0.2351242, 0.5850121, 0.02436554, 0.2825883, 0.006061143, -0.8200245, 0.1618791, -0.3063331, -0.3765897, -0.7249815, 0.6092919, -0.6769328, -0.5956934, 0.6957655, 0.5383642, 0.4522677, -0.1489165, 0.9125596, 0.4167473, 0.1335986, 0.1898309, 0.5874342, 0.2288171, 0.9624356, 0.7540846, -0.07672304, 0.8986252, 0.2788797, 0.3555991, -0.9262139, 0.8454325, -0.4027667, 0.4945236, -0.2935512);\n\t\tthis._distributions[23] = new Array<number>(-0.4481403, -0.3758374, -0.8877251, 0.08739938, 0.05015831, -0.1339983, -0.4070427, -0.8534173, 0.1019274, -0.5503222, -0.445998, 0.1997541, -0.8686263, -0.2788867, -0.7695944, -0.6033704, -0.05515742, -0.885711, -0.7714347, 0.5790485, 0.3466263, -0.8799297, 0.4487582, -0.5321087, -0.2461368, 0.6053771, -0.05568117, 0.2457351, -0.4668669, 0.8523816, 0.8103387, -0.4255538, 0.4054182, -0.175663, -0.2802011, -0.08920153, 0.2665959, 0.382935, 0.555679, 0.1621837, 0.105246, 0.8420411, 0.6921161, 0.6902903, 0.880946, 0.2483067, 0.9699264, -0.1021767);\n\t\tthis._distributions[24] = new Array<number>(-0.1703323, -0.3119385, 0.2916039, -0.2988263, -0.008472982, -0.9277695, -0.7730271, -0.3277904, 0.3440474, -0.6815342, -0.2910278, 0.03461745, -0.6764899, -0.657078, -0.3505501, -0.7311988, -0.03478927, 0.3258755, -0.6048835, 0.159423, 0.2035525, 0.02212214, 0.5116573, 0.2226856, 0.6664805, -0.2500189, 0.7147882, -0.6609634, 0.03030632, -0.5763278, -0.2516585, 0.6116219, -0.9434413, -0.0116792, 0.9061816, 0.2491155, 0.182867, 0.6076167, 0.286593, 0.9485695, -0.5992439, 0.6970096, -0.2082874, 0.9416641, 0.9880044, -0.1541709, -0.9122881, 0.331555, 0.7324886, 0.6725098);\n\t\tthis._distributions[25] = new Array<number>(0.3869598, -0.04974834, 0.7168844, -0.0693711, -0.07166742, 0.1725325, 0.4599592, 0.3232779, 0.5872094, -0.4198674, 0.2442266, -0.625667, 0.1254557, 0.4500048, -0.2290154, -0.1803567, 0.890583, 0.3373493, 0.1256081, 0.7853789, -0.2676466, 0.5305805, -0.7063224, 0.252168, -0.3989835, 0.1189921, 0.09617215, -0.2451447, 0.6302541, 0.6085876, 0.9380925, -0.3234899, 0.5086241, -0.8573482, 0.03576187, -0.9876697, -0.0876712, -0.6365195, -0.5276513, 0.823456, -0.6935764, -0.2240411, -0.5212318, -0.5383121, -0.2116208, 0.9639363, -0.9840096, 0.02743555, -0.3991577, -0.8994547, -0.7830126, 0.614068);\n\t\tthis._distributions[26] = new Array<number>(-0.8366601, 0.4464895, -0.5917366, -0.02073906, -0.9845258, 0.1635625, -0.3097973, 0.4379579, -0.5478154, 0.7173221, -0.1685888, 0.9261969, 0.01503595, 0.6046097, 0.4452421, 0.5449086, 0.0315687, 0.1944619, 0.3753404, 0.8688548, 0.4143643, 0.1396648, 0.8711032, 0.4304703, 0.7328773, 0.1461501, 0.6374492, -0.3521495, 0.145613, -0.1341466, 0.9040975, -0.135123, -0.7839059, -0.5450199, -0.516019, -0.3320859, -0.206158, -0.4431106, -0.9703014, -0.2368356, -0.2473119, -0.0864351, 0.2130725, -0.4604077, -0.003726701, -0.7122303, -0.4072131, -0.6833169, 0.1632999, -0.9776646, 0.4686888, -0.680495, -0.2293511, -0.9509777);\n\t\tthis._distributions[27] = new Array<number>(0.107311, -0.1311369, -0.4194764, -0.3148777, 0.6171439, -0.2745973, 0.2796618, 0.1937153, -0.09106886, 0.4180236, 0.6044006, 0.05577846, 0.02927299, -0.6738263, -0.2580845, 0.1179939, -0.09023564, -0.3830024, 0.3570953, -0.5000587, 0.81591, -0.5518309, 0.9300217, -0.1257987, 0.4904627, -0.8381903, -0.3163182, -0.8632009, 0.1137595, -0.9875998, 0.8390043, 0.3538185, 0.2149114, 0.4993694, 0.5191584, 0.3833552, 0.5002763, 0.7061465, -0.2567276, 0.9068756, -0.5197366, 0.3467845, 0.03668867, 0.9734009, -0.5347553, 0.66747, -0.9028882, 0.1023768, -0.8967977, 0.412834, -0.5821944, 0.0426479, -0.8032165, -0.2397038, -0.5597343, -0.6358021);\n\t\tthis._distributions[28] = new Array<number>(-0.6562496, -0.1781036, -0.9301494, 0.1185208, -0.3861143, -0.4153562, -0.1560799, -0.1099607, -0.5587025, 0.395218, -0.5322112, -0.699701, -0.5008639, 0.08726846, -0.970524, -0.1963461, -0.813577, -0.5185111, -0.1644458, 0.298, -0.3216791, 0.639982, 0.3315373, 0.3339162, 0.2383235, -0.00105722, 0.1137828, 0.5450742, -0.01899921, 0.8798413, 0.2849685, 0.8255596, 0.6974412, 0.2123175, 0.7588523, 0.5470437, 0.5102502, -0.1687844, 0.5853448, 0.8033476, 0.2590716, -0.5262504, 0.5607718, -0.6342825, 0.8666443, -0.1491841, 0.8341052, -0.4935003, -0.1568441, -0.6634066, 0.2512113, -0.8769391, -0.2559827, -0.9572457, -0.01928852, -0.3966542, -0.750667, 0.6409678);\n\t\tthis._distributions[29] = new Array<number>(0.3454786, -0.04837726, 0.2649553, 0.2406852, 0.5599093, -0.3839145, -0.1111814, -0.05502108, 0.7586042, -0.05818377, 0.2519488, -0.4665135, -0.1264972, 0.2602723, -0.08766216, -0.3671907, 0.6428129, 0.3999204, -0.6105871, -0.1246869, -0.4589451, -0.7646643, -0.03021116, -0.7899352, -0.6036922, -0.4293956, -0.2481938, 0.6534185, 0.102798, 0.6784465, -0.6392644, 0.4821358, -0.6789002, 0.1779133, -0.9140783, -0.1989647, -0.9262617, 0.3381507, 0.4794891, -0.8093274, 0.3959447, 0.668478, 0.9602883, 0.2272305, -0.123672, 0.9210883, 0.2375148, 0.9523395, -0.52898, 0.7973378, -0.382433, 0.1228794, 0.695015, 0.6948439, 0.7530277, -0.6458191, 0.8777987, -0.3272956, 0.2318525, -0.962768);\n\t\tthis._distributions[30] = new Array<number>(0.4518921, -0.1146195, 0.4720805, -0.4238748, 0.3655423, 0.1806341, 0.1589939, -0.23568, 0.7673324, -0.5149941, 0.01163658, 0.09045836, 0.7010971, 0.1245747, 0.7518286, -0.1855433, 0.4960719, 0.4601022, 0.2566979, -0.6308268, -0.0654714, -0.5126389, -0.1823319, -0.1343282, -0.1464312, 0.4883236, -0.3858738, 0.203523, 0.1484799, 0.4432284, -0.477109, -0.116241, 0.2719092, 0.7208626, 0.9104174, 0.3578536, -0.5956199, 0.7662588, -0.6996251, 0.3678654, -0.2514512, 0.9251933, 0.1275825, -0.9478135, -0.204608, -0.8611552, 0.4264838, -0.877443, 0.9854161, 0.05521112, 0.5912951, 0.7997434, 0.1140349, 0.982093, -0.9324368, -0.2094094, -0.42436, -0.6441524, -0.6722705, -0.3554261, -0.7844236, 0.08587621);\n\t\tthis._distributions[31] = new Array<number>(-0.4206714, -0.5613642, -0.8733016, -0.3373051, -0.1046226, -0.2902999, -0.1318562, -0.8434365, 0.1145093, -0.5962623, -0.4965627, -0.1873259, -0.5011808, -0.8546229, -0.7165636, -0.5743566, 0.1090901, 0.2017643, 0.3404809, -0.220455, -0.1989015, 0.2372122, -0.4538706, 0.0979171, 0.4514146, -0.572846, 0.2314168, -0.8514503, -0.4247236, 0.5650803, -0.943347, 0.04514639, -0.1309718, 0.5221877, -0.7004157, 0.4561877, 0.6306441, 0.04448673, 0.4301621, 0.5766876, 0.1078042, 0.7245752, 0.3875354, 0.2794483, 0.702876, -0.2924213, 0.7360667, -0.6210318, 0.7486517, 0.6531103, 0.4898235, 0.8591025, 0.6549174, 0.3854057, -0.2596106, 0.7916998, 0.9251194, -0.05296265, -0.5620695, 0.820877, -0.01228026, 0.9937211, 0.9612103, 0.2628758);\n\t}\n\n\tpublic static getDistribution(n:number /*int*/):Array<number>\n\t{\n\t\tif (!this._distributions)\n\t\t\tthis.initDistributions();\n\n\t\tif (n < 2 || n > 32)\n\t\t\treturn null;\n\n\t\treturn this._distributions[n - 1];\n\t}\n}\n\nexport = PoissonLookup;",
    "import Matrix3DUtils\t\t= require(\"awayjs-core/lib/geom/Matrix3DUtils\");\nimport Orientation3D\t\t= require(\"awayjs-core/lib/geom/Orientation3D\");\nimport Matrix3D\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Vector3D\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\n\n/**\n * A Quaternion object which can be used to represent rotations.\n */\nclass Quaternion\n{\n\t/**\n\t * The x value of the quaternion.\n\t */\n\tpublic x:number = 0;\n\n\t/**\n\t * The y value of the quaternion.\n\t */\n\tpublic y:number = 0;\n\n\t/**\n\t * The z value of the quaternion.\n\t */\n\tpublic z:number = 0;\n\n\t/**\n\t * The w value of the quaternion.\n\t */\n\tpublic w:number = 1;\n\n\t/**\n\t * Creates a new Quaternion object.\n\t * @param x The x value of the quaternion.\n\t * @param y The y value of the quaternion.\n\t * @param z The z value of the quaternion.\n\t * @param w The w value of the quaternion.\n\t */\n\tconstructor(x:number = 0, y:number = 0, z:number = 0, w:number = 1)\n\t{\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\t}\n\n\t/**\n\t * Returns the magnitude of the quaternion object.\n\t */\n\tpublic get magnitude():number\n\t{\n\t\treturn Math.sqrt(this.w*this.w + this.x*this.x + this.y*this.y + this.z*this.z);\n\t}\n\n\t/**\n\t * Fills the quaternion object with the result from a multiplication of two quaternion objects.\n\t *\n\t * @param    qa    The first quaternion in the multiplication.\n\t * @param    qb    The second quaternion in the multiplication.\n\t */\n\tpublic multiply(qa:Quaternion, qb:Quaternion)\n\t{\n\t\tvar w1:number = qa.w, x1:number = qa.x, y1:number = qa.y, z1:number = qa.z;\n\t\tvar w2:number = qb.w, x2:number = qb.x, y2:number = qb.y, z2:number = qb.z;\n\n\t\tthis.w = w1*w2 - x1*x2 - y1*y2 - z1*z2;\n\t\tthis.x = w1*x2 + x1*w2 + y1*z2 - z1*y2;\n\t\tthis.y = w1*y2 - x1*z2 + y1*w2 + z1*x2;\n\t\tthis.z = w1*z2 + x1*y2 - y1*x2 + z1*w2;\n\t}\n\n\tpublic multiplyVector(vector:Vector3D, target:Quaternion = null):Quaternion\n\t{\n\t\t//target ||= new Quaternion();\n\t\tif (target === null) {\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\n\t\tvar x2:number = vector.x;\n\t\tvar y2:number = vector.y;\n\t\tvar z2:number = vector.z;\n\n\t\ttarget.w = -this.x*x2 - this.y*y2 - this.z*z2;\n\t\ttarget.x = this.w*x2 + this.y*z2 - this.z*y2;\n\t\ttarget.y = this.w*y2 - this.x*z2 + this.z*x2;\n\t\ttarget.z = this.w*z2 + this.x*y2 - this.y*x2;\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Fills the quaternion object with values representing the given rotation around a vector.\n\t *\n\t * @param    axis    The axis around which to rotate\n\t * @param    angle    The angle in radians of the rotation.\n\t */\n\tpublic fromAxisAngle(axis:Vector3D, angle:number)\n\t{\n\t\tvar sin_a:number = Math.sin(angle/2);\n\t\tvar cos_a:number = Math.cos(angle/2);\n\n\t\tthis.x = axis.x*sin_a;\n\t\tthis.y = axis.y*sin_a;\n\t\tthis.z = axis.z*sin_a;\n\t\tthis.w = cos_a;\n\n\t\tthis.normalize();\n\t}\n\n\t/**\n\t * Spherically interpolates between two quaternions, providing an interpolation between rotations with constant angle change rate.\n\t * @param qa The first quaternion to interpolate.\n\t * @param qb The second quaternion to interpolate.\n\t * @param t The interpolation weight, a value between 0 and 1.\n\t */\n\tpublic slerp(qa:Quaternion, qb:Quaternion, t:number)\n\t{\n\t\tvar w1:number = qa.w, x1:number = qa.x, y1:number = qa.y, z1:number = qa.z;\n\t\tvar w2:number = qb.w, x2:number = qb.x, y2:number = qb.y, z2:number = qb.z;\n\t\tvar dot:number = w1*w2 + x1*x2 + y1*y2 + z1*z2;\n\n\t\t// shortest direction\n\t\tif (dot < 0) {\n\t\t\tdot = -dot;\n\t\t\tw2 = -w2;\n\t\t\tx2 = -x2;\n\t\t\ty2 = -y2;\n\t\t\tz2 = -z2;\n\t\t}\n\n\t\tif (dot < 0.95) {\n\t\t\t// interpolate angle linearly\n\t\t\tvar angle:number = Math.acos(dot);\n\t\t\tvar s:number = 1/Math.sin(angle);\n\t\t\tvar s1:number = Math.sin(angle*(1 - t))*s;\n\t\t\tvar s2:number = Math.sin(angle*t)*s;\n\t\t\tthis.w = w1*s1 + w2*s2;\n\t\t\tthis.x = x1*s1 + x2*s2;\n\t\t\tthis.y = y1*s1 + y2*s2;\n\t\t\tthis.z = z1*s1 + z2*s2;\n\t\t} else {\n\t\t\t// nearly identical angle, interpolate linearly\n\t\t\tthis.w = w1 + t*(w2 - w1);\n\t\t\tthis.x = x1 + t*(x2 - x1);\n\t\t\tthis.y = y1 + t*(y2 - y1);\n\t\t\tthis.z = z1 + t*(z2 - z1);\n\t\t\tvar len:number = 1.0/Math.sqrt(this.w*this.w + this.x*this.x + this.y*this.y + this.z*this.z);\n\t\t\tthis.w *= len;\n\t\t\tthis.x *= len;\n\t\t\tthis.y *= len;\n\t\t\tthis.z *= len;\n\t\t}\n\t}\n\n\t/**\n\t * Linearly interpolates between two quaternions.\n\t * @param qa The first quaternion to interpolate.\n\t * @param qb The second quaternion to interpolate.\n\t * @param t The interpolation weight, a value between 0 and 1.\n\t */\n\tpublic lerp(qa:Quaternion, qb:Quaternion, t:number)\n\t{\n\t\tvar w1:number = qa.w, x1:number = qa.x, y1:number = qa.y, z1:number = qa.z;\n\t\tvar w2:number = qb.w, x2:number = qb.x, y2:number = qb.y, z2:number = qb.z;\n\t\tvar len:number;\n\n\t\t// shortest direction\n\t\tif (w1*w2 + x1*x2 + y1*y2 + z1*z2 < 0) {\n\t\t\tw2 = -w2;\n\t\t\tx2 = -x2;\n\t\t\ty2 = -y2;\n\t\t\tz2 = -z2;\n\t\t}\n\n\t\tthis.w = w1 + t*(w2 - w1);\n\t\tthis.x = x1 + t*(x2 - x1);\n\t\tthis.y = y1 + t*(y2 - y1);\n\t\tthis.z = z1 + t*(z2 - z1);\n\n\t\tlen = 1.0/Math.sqrt(this.w*this.w + this.x*this.x + this.y*this.y + this.z*this.z);\n\t\tthis.w *= len;\n\t\tthis.x *= len;\n\t\tthis.y *= len;\n\t\tthis.z *= len;\n\t}\n\n\t/**\n\t * Fills the quaternion object with values representing the given euler rotation.\n\t *\n\t * @param    ax        The angle in radians of the rotation around the ax axis.\n\t * @param    ay        The angle in radians of the rotation around the ay axis.\n\t * @param    az        The angle in radians of the rotation around the az axis.\n\t */\n\tpublic fromEulerAngles(ax:number, ay:number, az:number)\n\t{\n\t\tvar halfX:number = ax*.5, halfY:number = ay*.5, halfZ:number = az*.5;\n\t\tvar cosX:number = Math.cos(halfX), sinX:number = Math.sin(halfX);\n\t\tvar cosY:number = Math.cos(halfY), sinY:number = Math.sin(halfY);\n\t\tvar cosZ:number = Math.cos(halfZ), sinZ:number = Math.sin(halfZ);\n\n\t\tthis.w = cosX*cosY*cosZ + sinX*sinY*sinZ;\n\t\tthis.x = sinX*cosY*cosZ - cosX*sinY*sinZ;\n\t\tthis.y = cosX*sinY*cosZ + sinX*cosY*sinZ;\n\t\tthis.z = cosX*cosY*sinZ - sinX*sinY*cosZ;\n\t}\n\n\t/**\n\t * Fills a target Vector3D object with the Euler angles that form the rotation represented by this quaternion.\n\t * @param target An optional Vector3D object to contain the Euler angles. If not provided, a new object is created.\n\t * @return The Vector3D containing the Euler angles.\n\t */\n\tpublic toEulerAngles(target:Vector3D = null):Vector3D\n\t{\n\n\t\t//target ||= new Vector3D();\n\t\tif (target === null) {\n\n\t\t\ttarget = new Vector3D();\n\n\t\t}\n\n\t\ttarget.x = Math.atan2(2*(this.w*this.x + this.y*this.z), 1 - 2*(this.x*this.x + this.y*this.y));\n\t\ttarget.y = Math.asin(2*(this.w*this.y - this.z*this.x));\n\t\ttarget.z = Math.atan2(2*(this.w*this.z + this.x*this.y), 1 - 2*(this.y*this.y + this.z*this.z));\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Normalises the quaternion object.\n\t */\n\tpublic normalize(val:number = 1)\n\t{\n\t\tvar mag:number = val/Math.sqrt(this.x*this.x + this.y*this.y + this.z*this.z + this.w*this.w);\n\n\t\tthis.x *= mag;\n\t\tthis.y *= mag;\n\t\tthis.z *= mag;\n\t\tthis.w *= mag;\n\t}\n\n\t/**\n\t * Used to trace the values of a quaternion.\n\t *\n\t * @return A string representation of the quaternion object.\n\t */\n\tpublic toString():string\n\t{\n\t\treturn \"{x:\" + this.x + \" y:\" + this.y + \" z:\" + this.z + \" w:\" + this.w + \"}\";\n\t}\n\n\t/**\n\t * Converts the quaternion to a Matrix3D object representing an equivalent rotation.\n\t * @param target An optional Matrix3D container to store the transformation in. If not provided, a new object is created.\n\t * @return A Matrix3D object representing an equivalent rotation.\n\t */\n\tpublic toMatrix3D(target:Matrix3D = null):Matrix3D\n\t{\n\t\tvar rawData:Float32Array = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tvar xy2:number = 2.0*this.x*this.y, xz2:number = 2.0*this.x*this.z, xw2:number = 2.0*this.x*this.w;\n\t\tvar yz2:number = 2.0*this.y*this.z, yw2:number = 2.0*this.y*this.w, zw2:number = 2.0*this.z*this.w;\n\t\tvar xx:number = this.x*this.x, yy:number = this.y*this.y, zz:number = this.z*this.z, ww:number = this.w*this.w;\n\n\t\trawData[0] = xx - yy - zz + ww;\n\t\trawData[4] = xy2 - zw2;\n\t\trawData[8] = xz2 + yw2;\n\t\trawData[12] = 0;\n\t\trawData[1] = xy2 + zw2;\n\t\trawData[5] = -xx + yy - zz + ww;\n\t\trawData[9] = yz2 - xw2;\n\t\trawData[13] = 0;\n\t\trawData[2] = xz2 - yw2;\n\t\trawData[6] = yz2 + xw2;\n\t\trawData[10] = -xx - yy + zz + ww;\n\t\trawData[14] = 0;\n\t\trawData[3] = 0.0;\n\t\trawData[7] = 0.0;\n\t\trawData[11] = 0;\n\t\trawData[15] = 1;\n\n\t\tif (!target)\n\t\t\treturn new Matrix3D(rawData);\n\t\telse\n\t\t\ttarget.copyRawDataFrom(rawData);\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Extracts a quaternion rotation matrix out of a given Matrix3D object.\n\t * @param matrix The Matrix3D out of which the rotation will be extracted.\n\t */\n\tpublic fromMatrix(matrix:Matrix3D)\n\t{\n\t\tvar v:Vector3D = matrix.decompose(Orientation3D.QUATERNION)[1];\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = v.w;\n\t}\n\n\t/**\n\t * Converts the quaternion to a Vector.&lt;Number&gt; matrix representation of a rotation equivalent to this quaternion.\n\t * @param target The Vector.&lt;Number&gt; to contain the raw matrix data.\n\t * @param exclude4thRow If true, the last row will be omitted, and a 4x3 matrix will be generated instead of a 4x4.\n\t */\n\tpublic toRawData(target:number[], exclude4thRow:boolean = false)\n\t{\n\t\tvar xy2:number = 2.0*this.x*this.y, xz2:number = 2.0*this.x*this.z, xw2:number = 2.0*this.x*this.w;\n\t\tvar yz2:number = 2.0*this.y*this.z, yw2:number = 2.0*this.y*this.w, zw2:number = 2.0*this.z*this.w;\n\t\tvar xx:number = this.x*this.x, yy:number = this.y*this.y, zz:number = this.z*this.z, ww:number = this.w*this.w;\n\n\t\ttarget[0] = xx - yy - zz + ww;\n\t\ttarget[1] = xy2 - zw2;\n\t\ttarget[2] = xz2 + yw2;\n\t\ttarget[4] = xy2 + zw2;\n\t\ttarget[5] = -xx + yy - zz + ww;\n\t\ttarget[6] = yz2 - xw2;\n\t\ttarget[8] = xz2 - yw2;\n\t\ttarget[9] = yz2 + xw2;\n\t\ttarget[10] = -xx - yy + zz + ww;\n\t\ttarget[3] = target[7] = target[11] = 0;\n\n\t\tif (!exclude4thRow) {\n\t\t\ttarget[12] = target[13] = target[14] = 0;\n\t\t\ttarget[15] = 1;\n\t\t}\n\t}\n\n\t/**\n\t * Clones the quaternion.\n\t * @return An exact duplicate of the current Quaternion.\n\t */\n\tpublic clone():Quaternion\n\t{\n\t\treturn new Quaternion(this.x, this.y, this.z, this.w);\n\t}\n\n\t/**\n\t * Rotates a point.\n\t * @param vector The Vector3D object to be rotated.\n\t * @param target An optional Vector3D object that will contain the rotated coordinates. If not provided, a new object will be created.\n\t * @return A Vector3D object containing the rotated point.\n\t */\n\tpublic rotatePoint(vector:Vector3D, target:Vector3D = null):Vector3D\n\t{\n\t\tvar x1:number, y1:number, z1:number, w1:number;\n\t\tvar x2:number = vector.x, y2:number = vector.y, z2:number = vector.z;\n\n\t\t//target ||= new Vector3D();\n\t\tif (target === null) {\n\n\t\t\ttarget = new Vector3D();\n\n\t\t}\n\n\t\t// p*q'\n\t\tw1 = -this.x*x2 - this.y*y2 - this.z*z2;\n\t\tx1 = this.w*x2 + this.y*z2 - this.z*y2;\n\t\ty1 = this.w*y2 - this.x*z2 + this.z*x2;\n\t\tz1 = this.w*z2 + this.x*y2 - this.y*x2;\n\n\t\ttarget.x = -w1*this.x + x1*this.w - y1*this.z + z1*this.y;\n\t\ttarget.y = -w1*this.y + x1*this.z + y1*this.w - z1*this.x;\n\t\ttarget.z = -w1*this.z - x1*this.y + y1*this.x + z1*this.w;\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Copies the data from a quaternion into this instance.\n\t * @param q The quaternion to copy from.\n\t */\n\tpublic copyFrom(q:Quaternion)\n\t{\n\t\tthis.x = q.x;\n\t\tthis.y = q.y;\n\t\tthis.z = q.z;\n\t\tthis.w = q.w;\n\t}\n}\n\nexport = Quaternion;",
    "import Point\t\t\t\t\t= require(\"awayjs-core/lib/geom/Point\");\n\n/**\n * A Rectangle object is an area defined by its position, as indicated by its\n * top-left corner point(<i>x</i>, <i>y</i>) and by its width and its height.\n *\n *\n * <p>The <code>x</code>, <code>y</code>, <code>width</code>, and\n * <code>height</code> properties of the Rectangle class are independent of\n * each other; changing the value of one property has no effect on the others.\n * However, the <code>right</code> and <code>bottom</code> properties are\n * integrally related to those four properties. For example, if you change the\n * value of the <code>right</code> property, the value of the\n * <code>width</code> property changes; if you change the <code>bottom</code>\n * property, the value of the <code>height</code> property changes. </p>\n *\n * <p>The following methods and properties use Rectangle objects:</p>\n *\n * <ul>\n *   <li>The <code>applyFilter()</code>, <code>colorTransform()</code>,\n * <code>copyChannel()</code>, <code>copyPixels()</code>, <code>draw()</code>,\n * <code>fillRect()</code>, <code>generateFilterRect()</code>,\n * <code>getColorBoundsRect()</code>, <code>getPixels()</code>,\n * <code>merge()</code>, <code>paletteMap()</code>,\n * <code>pixelDisolve()</code>, <code>setPixels()</code>, and\n * <code>threshold()</code> methods, and the <code>rect</code> property of the\n * BitmapData class</li>\n *   <li>The <code>getBounds()</code> and <code>getRect()</code> methods, and\n * the <code>scrollRect</code> and <code>scale9Grid</code> properties of the\n * DisplayObject class</li>\n *   <li>The <code>getCharBoundaries()</code> method of the TextField\n * class</li>\n *   <li>The <code>pixelBounds</code> property of the Transform class</li>\n *   <li>The <code>bounds</code> parameter for the <code>startDrag()</code>\n * method of the Sprite class</li>\n *   <li>The <code>printArea</code> parameter of the <code>addPage()</code>\n * method of the PrintJob class</li>\n * </ul>\n *\n * <p>You can use the <code>new Rectangle()</code> constructor to create a\n * Rectangle object.</p>\n *\n * <p><b>Note:</b> The Rectangle class does not define a rectangular Shape\n * display object. To draw a rectangular Shape object onscreen, use the\n * <code>drawRect()</code> method of the Graphics class.</p>\n */\nclass Rectangle\n{\n\tprivate _size:Point;\n\tprivate _bottomRight:Point;\n\tprivate _topLeft:Point;\n\n\t/**\n\t * The height of the rectangle, in pixels. Changing the <code>height</code>\n\t * value of a Rectangle object has no effect on the <code>x</code>,\n\t * <code>y</code>, and <code>width</code> properties.\n\t */\n\tpublic height:number;\n\n\t/**\n\t * The width of the rectangle, in pixels. Changing the <code>width</code>\n\t * value of a Rectangle object has no effect on the <code>x</code>,\n\t * <code>y</code>, and <code>height</code> properties.\n\t */\n\tpublic width:number;\n\n\t/**\n\t * The <i>x</i> coordinate of the top-left corner of the rectangle. Changing\n\t * the value of the <code>x</code> property of a Rectangle object has no\n\t * effect on the <code>y</code>, <code>width</code>, and <code>height</code>\n\t * properties.\n\t *\n\t * <p>The value of the <code>x</code> property is equal to the value of the\n\t * <code>left</code> property.</p>\n\t */\n\tpublic x:number;\n\n\t/**\n\t * The <i>y</i> coordinate of the top-left corner of the rectangle. Changing\n\t * the value of the <code>y</code> property of a Rectangle object has no\n\t * effect on the <code>x</code>, <code>width</code>, and <code>height</code>\n\t * properties.\n\t *\n\t * <p>The value of the <code>y</code> property is equal to the value of the\n\t * <code>top</code> property.</p>\n\t */\n\tpublic y:number;\n\n\t/**\n\t * The sum of the <code>y</code> and <code>height</code> properties.\n\t */\n\tpublic get bottom():number\n\t{\n\t\treturn this.y + this.height;\n\t}\n\n\t/**\n\t * The location of the Rectangle object's bottom-right corner, determined by\n\t * the values of the <code>right</code> and <code>bottom</code> properties.\n\t */\n\tpublic get bottomRight():Point\n\t{\n\t\tif (this._bottomRight == null)\n\t\t\tthis._bottomRight = new Point();\n\n\t\tthis._bottomRight.x = this.x + this.width;\n\t\tthis._bottomRight.y = this.y + this.height;\n\n\t\treturn this._bottomRight;\n\t}\n\n\t/**\n\t * The <i>x</i> coordinate of the top-left corner of the rectangle. Changing\n\t * the <code>left</code> property of a Rectangle object has no effect on the\n\t * <code>y</code> and <code>height</code> properties. However it does affect\n\t * the <code>width</code> property, whereas changing the <code>x</code> value\n\t * does <i>not</i> affect the <code>width</code> property.\n\t *\n\t * <p>The value of the <code>left</code> property is equal to the value of\n\t * the <code>x</code> property.</p>\n\t */\n\tpublic get left():number\n\t{\n\t\treturn this.x;\n\t}\n\n\t/**\n\t * The sum of the <code>x</code> and <code>width</code> properties.\n\t */\n\tpublic get right():number\n\t{\n\t\treturn this.x + this.width;\n\t}\n\n\t/**\n\t * The size of the Rectangle object, expressed as a Point object with the\n\t * values of the <code>width</code> and <code>height</code> properties.\n\t */\n\tpublic get size():Point\n\t{\n\t\tif (this._size == null)\n\t\t\tthis._size = new Point();\n\n\t\tthis._size.x = this.width;\n\t\tthis._size.y = this.height;\n\n\t\treturn this._size;\n\t}\n\n\t/**\n\t * The <i>y</i> coordinate of the top-left corner of the rectangle. Changing\n\t * the <code>top</code> property of a Rectangle object has no effect on the\n\t * <code>x</code> and <code>width</code> properties. However it does affect\n\t * the <code>height</code> property, whereas changing the <code>y</code>\n\t * value does <i>not</i> affect the <code>height</code> property.\n\t *\n\t * <p>The value of the <code>top</code> property is equal to the value of the\n\t * <code>y</code> property.</p>\n\t */\n\tpublic get top():number\n\t{\n\t\treturn this.y;\n\t}\n\n\t/**\n\t * The location of the Rectangle object's top-left corner, determined by the\n\t * <i>x</i> and <i>y</i> coordinates of the point.\n\t */\n\tpublic get topLeft():Point\n\t{\n\t\tif (this._topLeft == null)\n\t\t\tthis._topLeft = new Point();\n\n\t\tthis._topLeft.x = this.x;\n\t\tthis._topLeft.y = this.y;\n\n\t\treturn this._topLeft;\n\t}\n\n\t/**\n\t * Creates a new Rectangle object with the top-left corner specified by the\n\t * <code>x</code> and <code>y</code> parameters and with the specified\n\t * <code>width</code> and <code>height</code> parameters. If you call this\n\t * public without parameters, a rectangle with <code>x</code>,\n\t * <code>y</code>, <code>width</code>, and <code>height</code> properties set\n\t * to 0 is created.\n\t *\n\t * @param x      The <i>x</i> coordinate of the top-left corner of the\n\t *               rectangle.\n\t * @param y      The <i>y</i> coordinate of the top-left corner of the\n\t *               rectangle.\n\t * @param width  The width of the rectangle, in pixels.\n\t * @param height The height of the rectangle, in pixels.\n\t */\n\tconstructor(x:number = 0, y:number = 0, width:number = 0, height:number = 0)\n\t{\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t}\n\n\t/**\n\t * Returns a new Rectangle object with the same values for the\n\t * <code>x</code>, <code>y</code>, <code>width</code>, and\n\t * <code>height</code> properties as the original Rectangle object.\n\t *\n\t * @return A new Rectangle object with the same values for the\n\t *         <code>x</code>, <code>y</code>, <code>width</code>, and\n\t *         <code>height</code> properties as the original Rectangle object.\n\t */\n\tpublic clone():Rectangle\n\t{\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t}\n\n\t/**\n\t * Determines whether the specified point is contained within the rectangular\n\t * region defined by this Rectangle object.\n\t *\n\t * @param x The <i>x</i> coordinate(horizontal position) of the point.\n\t * @param y The <i>y</i> coordinate(vertical position) of the point.\n\t * @return A value of <code>true</code> if the Rectangle object contains the\n\t *         specified point; otherwise <code>false</code>.\n\t */\n\tpublic contains(x:number, y:number):boolean\n\t{\n\t\treturn (this.x <= x && this.x + this.width >= x && this.y <= y && this.y + this.height >= y);\n\t}\n\n\t/**\n\t * Determines whether the specified point is contained within the rectangular\n\t * region defined by this Rectangle object. This method is similar to the\n\t * <code>Rectangle.contains()</code> method, except that it takes a Point\n\t * object as a parameter.\n\t *\n\t * @param point The point, as represented by its <i>x</i> and <i>y</i>\n\t *              coordinates.\n\t * @return A value of <code>true</code> if the Rectangle object contains the\n\t *         specified point; otherwise <code>false</code>.\n\t */\n\tpublic containsPoint(point:Point):boolean\n\t{\n\t\treturn (this.x <= point.x && this.x + this.width >= point.x && this.y <= point.y && this.y + this.height >= point.y);\n\t}\n\n\t/**\n\t * Determines whether the Rectangle object specified by the <code>rect</code>\n\t * parameter is contained within this Rectangle object. A Rectangle object is\n\t * said to contain another if the second Rectangle object falls entirely\n\t * within the boundaries of the first.\n\t *\n\t * @param rect The Rectangle object being checked.\n\t * @return A value of <code>true</code> if the Rectangle object that you\n\t *         specify is contained by this Rectangle object; otherwise\n\t *         <code>false</code>.\n\t */\n\tpublic containsRect(rect:Rectangle):boolean\n\t{\n\t\treturn (this.x <= rect.x && this.x + this.width >= rect.x + rect.width && this.y <= rect.y && this.y + this.height >= rect.y + rect.height)\n\t}\n\n\t/**\n\t * Copies all of rectangle data from the source Rectangle object into the\n\t * calling Rectangle object.\n\t *\n\t * @param sourceRect The Rectangle object from which to copy the data.\n\t */\n\tpublic copyFrom(sourceRect:Rectangle)\n\t{\n\n\t}\n\n\t/**\n\t * Determines whether the object specified in the <code>toCompare</code>\n\t * parameter is equal to this Rectangle object. This method compares the\n\t * <code>x</code>, <code>y</code>, <code>width</code>, and\n\t * <code>height</code> properties of an object against the same properties of\n\t * this Rectangle object.\n\t *\n\t * @param toCompare The rectangle to compare to this Rectangle object.\n\t * @return A value of <code>true</code> if the object has exactly the same\n\t *         values for the <code>x</code>, <code>y</code>, <code>width</code>,\n\t *         and <code>height</code> properties as this Rectangle object;\n\t *         otherwise <code>false</code>.\n\t */\n\tpublic equals(toCompare:Rectangle):boolean\n\t{\n\t\treturn (this.x == toCompare.x && this.y == toCompare.y && this.width == toCompare.width && this.height == toCompare.height)\n\t}\n\n\t/**\n\t * Increases the size of the Rectangle object by the specified amounts, in\n\t * pixels. The center point of the Rectangle object stays the same, and its\n\t * size increases to the left and right by the <code>dx</code> value, and to\n\t * the top and the bottom by the <code>dy</code> value.\n\t *\n\t * @param dx The value to be added to the left and the right of the Rectangle\n\t *           object. The following equation is used to calculate the new\n\t *           width and position of the rectangle:\n\t * @param dy The value to be added to the top and the bottom of the\n\t *           Rectangle. The following equation is used to calculate the new\n\t *           height and position of the rectangle:\n\t */\n\tpublic inflate(dx:number, dy:number)\n\t{\n\t\tthis.x -= dx/2;\n\t\tthis.y -= dy/2;\n\t\tthis.width += dx/2;\n\t\tthis.height += dy/2;\n\t}\n\n\t/**\n\t * Increases the size of the Rectangle object. This method is similar to the\n\t * <code>Rectangle.inflate()</code> method except it takes a Point object as\n\t * a parameter.\n\t *\n\t * <p>The following two code examples give the same result:</p>\n\t *\n\t * @param point The <code>x</code> property of this Point object is used to\n\t *              increase the horizontal dimension of the Rectangle object.\n\t *              The <code>y</code> property is used to increase the vertical\n\t *              dimension of the Rectangle object.\n\t */\n\tpublic inflatePoint(point:Point)\n\t{\n\t\tthis.x -= point.x/2;\n\t\tthis.y -= point.y/2;\n\t\tthis.width += point.x/2;\n\t\tthis.height += point.y/2;\n\t}\n\n\t/**\n\t * If the Rectangle object specified in the <code>toIntersect</code>\n\t * parameter intersects with this Rectangle object, returns the area of\n\t * intersection as a Rectangle object. If the rectangles do not intersect,\n\t * this method returns an empty Rectangle object with its properties set to\n\t * 0.\n\t *\n\t * @param toIntersect The Rectangle object to compare against to see if it\n\t *                    intersects with this Rectangle object.\n\t * @return A Rectangle object that equals the area of intersection. If the\n\t *         rectangles do not intersect, this method returns an empty\n\t *         Rectangle object; that is, a rectangle with its <code>x</code>,\n\t *         <code>y</code>, <code>width</code>, and <code>height</code>\n\t *         properties set to 0.\n\t */\n\tpublic intersection(toIntersect:Rectangle):Rectangle\n\t{\n\t\tif (this.intersects(toIntersect)) {\n\t\t\tvar i:Rectangle = new Rectangle();\n\n\t\t\tif (this.x > toIntersect.x) {\n\t\t\t\ti.x = this.x;\n\t\t\t\ti.width = toIntersect.x - this.x + toIntersect.width;\n\n\t\t\t\tif (i.width > this.width)\n\t\t\t\t\ti.width = this.width;\n\t\t\t} else {\n\t\t\t\ti.x = toIntersect.x;\n\t\t\t\ti.width = this.x - toIntersect.x + this.width;\n\n\t\t\t\tif (i.width > toIntersect.width)\n\t\t\t\t\ti.width = toIntersect.width;\n\t\t\t}\n\n\t\t\tif (this.y > toIntersect.y) {\n\t\t\t\ti.y = this.y;\n\t\t\t\ti.height = toIntersect.y - this.y + toIntersect.height;\n\n\t\t\t\tif (i.height > this.height)\n\t\t\t\t\ti.height = this.height;\n\t\t\t} else {\n\t\t\t\ti.y = toIntersect.y;\n\t\t\t\ti.height = this.y - toIntersect.y + this.height;\n\n\t\t\t\tif (i.height > toIntersect.height)\n\t\t\t\t\ti.height = toIntersect.height;\n\t\t\t}\n\n\t\t\treturn i;\n\t\t}\n\n\t\treturn new Rectangle();\n\t}\n\n\t/**\n\t * Determines whether the object specified in the <code>toIntersect</code>\n\t * parameter intersects with this Rectangle object. This method checks the\n\t * <code>x</code>, <code>y</code>, <code>width</code>, and\n\t * <code>height</code> properties of the specified Rectangle object to see if\n\t * it intersects with this Rectangle object.\n\t *\n\t * @param toIntersect The Rectangle object to compare against this Rectangle\n\t *                    object.\n\t * @return A value of <code>true</code> if the specified object intersects\n\t *         with this Rectangle object; otherwise <code>false</code>.\n\t */\n\tpublic intersects(toIntersect:Rectangle):boolean\n\t{\n\t\treturn (this.x + this.width > toIntersect.x && this.x < toIntersect.x + toIntersect.width && this.y + this.height > toIntersect.y && this.y < toIntersect.y + toIntersect.height);\n\t}\n\n\t/**\n\t * Determines whether or not this Rectangle object is empty.\n\t *\n\t * @return A value of <code>true</code> if the Rectangle object's width or\n\t *         height is less than or equal to 0; otherwise <code>false</code>.\n\t */\n\tpublic isEmpty():boolean\n\t{\n\t\treturn (this.x == 0 && this.y == 0 && this.width == 0 && this.height == 0);\n\t}\n\n\t/**\n\t * Adjusts the location of the Rectangle object, as determined by its\n\t * top-left corner, by the specified amounts.\n\t *\n\t * @param dx Moves the <i>x</i> value of the Rectangle object by this amount.\n\t * @param dy Moves the <i>y</i> value of the Rectangle object by this amount.\n\t */\n\tpublic offset(dx:number, dy:number)\n\t{\n\t\tthis.x += dx;\n\t\tthis.y += dy;\n\t}\n\n\t/**\n\t * Adjusts the location of the Rectangle object using a Point object as a\n\t * parameter. This method is similar to the <code>Rectangle.offset()</code>\n\t * method, except that it takes a Point object as a parameter.\n\t *\n\t * @param point A Point object to use to offset this Rectangle object.\n\t */\n\tpublic offsetPoint(point:Point)\n\t{\n\t\tthis.x += point.x;\n\t\tthis.y += point.y;\n\t}\n\n\t/**\n\t * Sets all of the Rectangle object's properties to 0. A Rectangle object is\n\t * empty if its width or height is less than or equal to 0.\n\t *\n\t * <p> This method sets the values of the <code>x</code>, <code>y</code>,\n\t * <code>width</code>, and <code>height</code> properties to 0.</p>\n\t *\n\t */\n\tpublic setEmpty()\n\t{\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\tthis.width = 0;\n\t\tthis.height = 0;\n\t}\n\n\t/**\n\t * Sets the members of Rectangle to the specified values\n\t *\n\t * @param xa      The <i>x</i> coordinate of the top-left corner of the\n\t *                rectangle.\n\t * @param ya      The <i>y</i> coordinate of the top-left corner of the\n\t *                rectangle.\n\t * @param widtha  The width of the rectangle, in pixels.\n\t * @param heighta The height of the rectangle, in pixels.\n\t */\n\tpublic setTo(xa:number, ya:number, widtha:number, heighta:number)\n\t{\n\t\tthis.x = xa;\n\t\tthis.y = ya;\n\t\tthis.width = widtha;\n\t\tthis.height = heighta;\n\t}\n\n\t/**\n\t * Builds and returns a string that lists the horizontal and vertical\n\t * positions and the width and height of the Rectangle object.\n\t *\n\t * @return A string listing the value of each of the following properties of\n\t *         the Rectangle object: <code>x</code>, <code>y</code>,\n\t *         <code>width</code>, and <code>height</code>.\n\t */\n\tpublic toString():string\n\t{\n\t\treturn \"[Rectangle] (x=\" + this.x + \", y=\" + this.y + \", width=\" + this.width + \", height=\" + this.height + \")\";\n\t}\n\n\t/**\n\t * Adds two rectangles together to create a new Rectangle object, by filling\n\t * in the horizontal and vertical space between the two rectangles.\n\t *\n\t * <p><b>Note:</b> The <code>union()</code> method ignores rectangles with\n\t * <code>0</code> as the height or width value, such as: <code>var\n\t * rect2:Rectangle = new Rectangle(300,300,50,0);</code></p>\n\t *\n\t * @param toUnion A Rectangle object to add to this Rectangle object.\n\t * @return A new Rectangle object that is the union of the two rectangles.\n\t */\n\tpublic union(toUnion:Rectangle):Rectangle\n\t{\n\t\tvar u:Rectangle = new Rectangle();\n\n\t\tif (this.x < toUnion.x) {\n\t\t\tu.x = this.x;\n\t\t\tu.width = toUnion.x - this.x + toUnion.width;\n\n\t\t\tif (u.width < this.width)\n\t\t\t\tu.width = this.width;\n\t\t} else {\n\t\t\tu.x = toUnion.x;\n\t\t\tu.width = this.x - toUnion.x + this.width;\n\n\t\t\tif (u.width < toUnion.width)\n\t\t\t\tu.width = toUnion.width;\n\t\t}\n\n\t\tif (this.y < toUnion.y) {\n\t\t\tu.y = this.y;\n\t\t\tu.height = toUnion.y - this.y + toUnion.height;\n\n\t\t\tif (u.height < this.height)\n\t\t\t\tu.height = this.height;\n\t\t} else {\n\t\t\tu.y = toUnion.y;\n\t\t\tu.height = this.y - toUnion.y + this.height;\n\n\t\t\tif (u.height < toUnion.height)\n\t\t\t\tu.height = toUnion.height;\n\t\t}\n\n\t\treturn u;\n\t}\n}\n\nexport = Rectangle;",
    "import PlaneClassification\t= require(\"awayjs-core/lib/geom/PlaneClassification\");\nimport Vector3D\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\n\nclass Sphere\n{\n\t/**\n\t *\n\t */\n\tpublic x:number;\n\n\t/**\n\t *\n\t */\n\tpublic y:number;\n\n\t/**\n\t *\n\t */\n\tpublic z:number;\n\n\t/**\n\t *\n\t */\n\tpublic radius:number;\n\n\t/**\n\t * Create a Sphere with ABCD coefficients\n\t */\n\tconstructor(x:number = 0, y:number = 0, z:number = 0, radius:number = 0)\n\t{\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.radius = radius;\n\n\t}\n\n\tpublic rayIntersection(position:Vector3D, direction:Vector3D, targetNormal:Vector3D):number\n\t{\n\t\tif (this.containsPoint(position))\n\t\t\treturn 0;\n\n\t\tvar px:number = position.x - this.x, py:number = position.y - this.y, pz:number = position.z - this.z;\n\t\tvar vx:number = direction.x, vy:number = direction.y, vz:number = direction.z;\n\t\tvar rayEntryDistance:number;\n\n\t\tvar a:number = vx*vx + vy*vy + vz*vz;\n\t\tvar b:number = 2*( px*vx + py*vy + pz*vz );\n\t\tvar c:number = px*px + py*py + pz*pz - this.radius*this.radius;\n\t\tvar det:number = b*b - 4*a*c;\n\n\t\tif (det >= 0) { // ray goes through sphere\n\t\t\tvar sqrtDet:number = Math.sqrt(det);\n\t\t\trayEntryDistance = ( -b - sqrtDet )/( 2*a );\n\t\t\tif (rayEntryDistance >= 0) {\n\t\t\t\ttargetNormal.x = px + rayEntryDistance*vx;\n\t\t\t\ttargetNormal.y = py + rayEntryDistance*vy;\n\t\t\t\ttargetNormal.z = pz + rayEntryDistance*vz;\n\t\t\t\ttargetNormal.normalize();\n\n\t\t\t\treturn rayEntryDistance;\n\t\t\t}\n\t\t}\n\n\t\t// ray misses sphere\n\t\treturn -1;\n\t}\n\n\tpublic containsPoint(position:Vector3D):boolean\n\t{\n\t\tvar px:number = position.x - this.x;\n\t\tvar py:number = position.y - this.y;\n\t\tvar pz:number = position.z - this.z;\n\t\tvar distance:number = Math.sqrt(px*px + py*py + pz*pz);\n\t\treturn distance <= this.radius;\n\t}\n\n\tpublic toString():string\n\t{\n\t\treturn \"Sphere [x:\" + this.x + \", y:\" + this.y + \", z:\" + this.z + \", radius:\" + this.radius + \"]\";\n\t}\n}\n\nexport = Sphere;",
    "/**\n * The Vector3D class represents a point or a location in the three-dimensional\n * space using the Cartesian coordinates x, y, and z. As in a two-dimensional\n * space, the x property represents the horizontal axis and the y property\n * represents the vertical axis. In three-dimensional space, the z property\n * represents depth. The value of the x property increases as the object moves\n * to the right. The value of the y property increases as the object moves\n * down. The z property increases as the object moves farther from the point\n * of view. Using perspective projection and scaling, the object is seen to be\n * bigger when near and smaller when farther away from the screen. As in a\n * right-handed three-dimensional coordinate system, the positive z-axis points\n * away from the viewer and the value of the z property increases as the object\n * moves away from the viewer's eye. The origin point (0,0,0) of the global\n * space is the upper-left corner of the stage.\n *\n * <p>The Vector3D class can also represent a direction, an arrow pointing from\n * the origin of the coordinates, such as (0,0,0), to an endpoint; or a\n * floating-point component of an RGB (Red, Green, Blue) color model.</p>\n *\n * <p>Quaternion notation introduces a fourth element, the w property, which\n * provides additional orientation information. For example, the w property can\n * define an angle of rotation of a Vector3D object. The combination of the\n * angle of rotation and the coordinates x, y, and z can determine the display\n * object's orientation. Here is a representation of Vector3D elements in\n * matrix notation:</p>\n */\nclass Vector3D\n{\n\t/**\n\t * The x axis defined as a Vector3D object with coordinates (1,0,0).\n\t */\n\tpublic static X_AXIS:Vector3D = new Vector3D(1, 0, 0);\n\n\t/**\n\t * The y axis defined as a Vector3D object with coordinates (0,1,0).\n\t */\n\tpublic static Y_AXIS:Vector3D = new Vector3D(0, 1, 0);\n\n\t/**\n\t * The z axis defined as a Vector3D object with coordinates (0,0,1).\n\t */\n\tpublic static Z_AXIS:Vector3D = new Vector3D(0, 0, 1);\n\n\t/**\n\t * The first element of a Vector3D object, such as the x coordinate of\n\t * a point in the three-dimensional space. The default value is 0.\n\t */\n\tpublic x:number;\n\n\t/*\n\t *The second element of a Vector3D object, such as the y coordinate of\n\t * a point in the three-dimensional space. The default value is 0.\n\t */\n\tpublic y:number;\n\n\t/**\n\t * The third element of a Vector3D object, such as the y coordinate of\n\t * a point in the three-dimensional space. The default value is 0.\n\t */\n\tpublic z:number;\n\n\t/**\n\t * TThe fourth element of a Vector3D object (in addition to the x, y,\n\t * and z properties) can hold data such as the angle of rotation. The\n\t * default value is 0.\n\t *\n\t * <p>Quaternion notation employs an angle as the fourth element in\n\t * its calculation of three-dimensional rotation. The w property can\n\t * be used to define the angle of rotation about the Vector3D object.\n\t * The combination of the rotation angle and the coordinates (x,y,z)\n\t * determines the display object's orientation.</p>\n\t *\n\t * <p>In addition, the w property can be used as a perspective warp\n\t * factor for a projected three-dimensional position or as a projection\n\t * transform value in representing a three-dimensional coordinate\n\t * projected into the two-dimensional space. For example, you can\n\t * create a projection matrix using the <code>Matrix3D.rawData</code>\n\t * property, that, when applied to a Vector3D object, produces a\n\t * transform value in the Vector3D object's fourth element (the w\n\t * property). Dividing the Vector3D object's other elements by the\n\t * transform value then produces a projected Vector3D object. You can\n\t * use the <code>Vector3D.project()</code> method to divide the first\n\t * three elements of a Vector3D object by its fourth element.</p>\n\t */\n\tpublic w:number;\n\n\t/**\n\t * The length, magnitude, of the current Vector3D object from the\n\t * origin (0,0,0) to the object's x, y, and z coordinates. The w\n\t * property is ignored. A unit vector has a length or magnitude of\n\t * one.\n\t */\n\tpublic get length():number\n\t{\n\t\treturn Math.sqrt(this.lengthSquared);\n\t}\n\n\t/**\n\t * The square of the length of the current Vector3D object, calculated\n\t * using the x, y, and z properties. The w property is ignored. Use the\n\t * <code>lengthSquared()</code> method whenever possible instead of the\n\t * slower <code>Math.sqrt()</code> method call of the\n\t * <code>Vector3D.length()</code> method.\n\t */\n\tpublic get lengthSquared():number\n\t{\n\t\treturn this.x*this.x + this.y*this.y + this.z*this.z;\n\t}\n\n\t/**\n\t * Creates an instance of a Vector3D object. If you do not specify a\n\t * parameter for the constructor, a Vector3D object is created with\n\t * the elements (0,0,0,0).\n\t *\n\t * @param x The first element, such as the x coordinate.\n\t * @param y The second element, such as the y coordinate.\n\t * @param z The third element, such as the z coordinate.\n\t * @param w An optional element for additional data such as the angle\n\t *          of rotation.\n\t */\n\tconstructor(x:number = 0, y:number = 0, z:number = 0, w:number = 0)\n\t{\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\t}\n\n\t/**\n\t * Adds the value of the x, y, and z elements of the current Vector3D\n\t * object to the values of the x, y, and z elements of another Vector3D\n\t * object. The <code>add()</code> method does not change the current\n\t * Vector3D object. Instead, it returns a new Vector3D object with\n\t * the new values.\n\t *\n\t * <p>The result of adding two vectors together is a resultant vector.\n\t * One way to visualize the result is by drawing a vector from the\n\t * origin or tail of the first vector to the end or head of the second\n\t * vector. The resultant vector is the distance between the origin\n\t * point of the first vector and the end point of the second vector.\n\t * </p>\n\t */\n\tpublic add(a:Vector3D):Vector3D\n\t{\n\t\treturn new Vector3D(this.x + a.x, this.y + a.y, this.z + a.z, this.w + a.w)\n\t}\n\n\t/**\n\t * Returns the angle in radians between two vectors. The returned angle\n\t * is the smallest radian the first Vector3D object rotates until it\n\t * aligns with the second Vector3D object.\n\t *\n\t * <p>The <code>angleBetween()</code> method is a static method. You\n\t * can use it directly as a method of the Vector3D class.</p>\n\t *\n\t * <p>To convert a degree to a radian, you can use the following\n\t * formula:</p>\n\t *\n\t * <p><code>radian = Math.PI/180 * degree</code></p>\n\t *\n\t * @param a The first Vector3D object.\n\t * @param b The second Vector3D object.\n\t * @returns The angle between two Vector3D objects.\n\t */\n\tpublic static angleBetween(a:Vector3D, b:Vector3D):number\n\t{\n\t\treturn Math.acos(a.dotProduct(b)/(a.length*b.length));\n\t}\n\n\t/**\n\t * Returns a new Vector3D object that is an exact copy of the current\n\t * Vector3D object.\n\t *\n\t * @returns A new Vector3D object that is a copy of the current\n\t * Vector3D object.\n\t */\n\tpublic clone():Vector3D\n\t{\n\t\treturn new Vector3D(this.x, this.y, this.z, this.w);\n\t}\n\n\tpublic static combine(a:Vector3D, b:Vector3D, ascl:number, bscl:number):Vector3D\n\t{\n\t\treturn new Vector3D(a.x*ascl + b.x*bscl, a.y*ascl + b.y*bscl, a.z*ascl + b.z*bscl);\n\t}\n\n\t/**\n\t * Copies all of vector data from the source Vector3D object into the\n\t * calling Vector3D object.\n\t *\n\t * @param src The Vector3D object from which to copy the data.\n\t */\n\tpublic copyFrom(src:Vector3D):void\n\t{\n\t\tthis.x = src.x;\n\t\tthis.y = src.y;\n\t\tthis.z = src.z;\n\t\tthis.w = src.w;\n\t}\n\n\t/**\n\t * Returns a new Vector3D object that is perpendicular (at a right\n\t * angle) to the current Vector3D and another Vector3D object. If the\n\t * returned Vector3D object's coordinates are (0,0,0), then the two\n\t * Vector3D objects are parallel to each other.\n\t *\n\t * <p>You can use the normalized cross product of two vertices of a\n\t * polygon surface with the normalized vector of the camera or eye\n\t * viewpoint to get a dot product. The value of the dot product can\n\t * identify whether a surface of a three-dimensional object is hidden\n\t * from the viewpoint.</p>\n\t *\n\t * @param a A second Vector3D object.\n\t * @returns A new Vector3D object that is perpendicular to the current\n\t *          Vector3D object and the Vector3D object specified as the\n\t *          parameter.\n\t */\n\tpublic crossProduct(a:Vector3D):Vector3D\n\t{\n\t\treturn new Vector3D(this.y*a.z - this.z*a.y, this.z*a.x - this.x*a.z, this.x*a.y - this.y*a.x, 1);\n\t}\n\n\t/**\n\t * Decrements the value of the x, y, and z elements of the current\n\t * Vector3D object by the values of the x, y, and z elements of\n\t * specified Vector3D object. Unlike the\n\t * <code>Vector3D.subtract()</code> method, the\n\t * <code>decrementBy()</code> method changes the current Vector3D\n\t * object and does not return a new Vector3D object.\n\t *\n\t * @param a The Vector3D object containing the values to subtract from\n\t *          the current Vector3D object.\n\t */\n\tpublic decrementBy(a:Vector3D)\n\t{\n\t\tthis.x -= a.x;\n\t\tthis.y -= a.y;\n\t\tthis.z -= a.z;\n\t}\n\n\t/**\n\t * Returns the distance between two Vector3D objects. The\n\t * <code>distance()</code> method is a static method. You can use it\n\t * directly as a method of the Vector3D class to get the Euclidean\n\t * distance between two three-dimensional points.\n\t *\n\t * @param pt1 A Vector3D object as the first three-dimensional point.\n\t * @param pt2 A Vector3D object as the second three-dimensional point.\n\t * @returns The distance between two Vector3D objects.\n\t */\n\tstatic distance(pt1:Vector3D, pt2:Vector3D):number\n\t{\n\t\tvar x:number = (pt1.x - pt2.x);\n\t\tvar y:number = (pt1.y - pt2.y);\n\t\tvar z:number = (pt1.z - pt2.z);\n\t\treturn Math.sqrt(x*x + y*y + z*z);\n\t}\n\n\t/**\n\t * If the current Vector3D object and the one specified as the\n\t * parameter are unit vertices, this method returns the cosine of the\n\t * angle between the two vertices. Unit vertices are vertices that\n\t * point to the same direction but their length is one. They remove the\n\t * length of the vector as a factor in the result. You can use the\n\t * <code>normalize()</code> method to convert a vector to a unit\n\t * vector.\n\t *\n\t * <p>The <code>dotProduct()</code> method finds the angle between two\n\t * vertices. It is also used in backface culling or lighting\n\t * calculations. Backface culling is a procedure for determining which\n\t * surfaces are hidden from the viewpoint. You can use the normalized\n\t * vertices from the camera, or eye, viewpoint and the cross product of\n\t * the vertices of a polygon surface to get the dot product. If the dot\n\t * product is less than zero, then the surface is facing the camera or\n\t * the viewer. If the two unit vertices are perpendicular to each\n\t * other, they are orthogonal and the dot product is zero. If the two\n\t * vertices are parallel to each other, the dot product is one.</p>\n\t *\n\t * @param a The second Vector3D object.\n\t * @returns A scalar which is the dot product of the current Vector3D\n\t *          object and the specified Vector3D object.\n\t *\n\t * @see away.geom.Vector3D#crossProduct()\n\t * @see away.geom.Vector3D#normalize()\n\t */\n\tpublic dotProduct(a:Vector3D):number\n\t{\n\t\treturn this.x*a.x + this.y*a.y + this.z*a.z;\n\t}\n\n\t/**\n\t * Determines whether two Vector3D objects are equal by comparing the\n\t * x, y, and z elements of the current Vector3D object with a\n\t * specified Vector3D object. If the values of these elements are the\n\t * same, the two Vector3D objects are equal. If the second optional\n\t * parameter is set to true, all four elements of the Vector3D objects,\n\t * including the w property, are compared.\n\t */\n\n\t/**\n\t *\n\t * @param toCompare The Vector3D object to be compared with the current\n\t *                  Vector3D object.\n\t * @param allFour   An optional parameter that specifies whether the w\n\t *                  property of the Vector3D objects is used in the\n\t *                  comparison.\n\t * @returns A value of true if the specified Vector3D object is equal\n\t *          to the current Vector3D object; false if it is not equal.\n\t */\n\tpublic equals(toCompare:Vector3D, allFour:boolean = false):boolean\n\t{\n\t\treturn (this.x == toCompare.x && this.y == toCompare.y && this.z == toCompare.z && (!allFour || this.w == toCompare.w ));\n\t}\n\n\t/**\n\t * Increments the value of the x, y, and z elements of the current\n\t * Vector3D object by the values of the x, y, and z elements of a\n\t * specified Vector3D object. Unlike the <code>Vector3D.add()</code>\n\t * method, the <code>incrementBy()</code> method changes the current\n\t * Vector3D object and does not return a new Vector3D object.\n\t *\n\t * @param a The Vector3D object to be added to the current Vector3D\n\t *          object.\n\t */\n\tpublic incrementBy(a:Vector3D)\n\t{\n\t\tthis.x += a.x;\n\t\tthis.y += a.y;\n\t\tthis.z += a.z;\n\t}\n\n\t/**\n\t * Compares the elements of the current Vector3D object with the\n\t * elements of a specified Vector3D object to determine whether they\n\t * are nearly equal. The two Vector3D objects are nearly equal if the\n\t * value of all the elements of the two vertices are equal, or the\n\t * result of the comparison is within the tolerance range. The\n\t * difference between two elements must be less than the number\n\t * specified as the tolerance parameter. If the third optional\n\t * parameter is set to <code>true</code>, all four elements of the\n\t * Vector3D objects, including the <code>w</code> property, are\n\t * compared. Otherwise, only the x, y, and z elements are included in\n\t * the comparison.\n\t */\n\n\t/**\n\t *\n\t * @param toCompare The Vector3D object to be compared with the current\n\t *                  Vector3D object.\n\t * @param tolerance A number determining the tolerance factor. If the\n\t *                  difference between the values of the Vector3D\n\t *                  element specified in the toCompare parameter and\n\t *                  the current Vector3D element is less than the\n\t *                  tolerance number, the two values are considered\n\t *                  nearly equal.\n\t * @param allFour   An optional parameter that specifies whether the w\n\t *                  property of the Vector3D objects is used in the\n\t *                  comparison.\n\t * @returns A value of true if the specified Vector3D object is nearly\n\t *          equal to the current Vector3D object; false if it is not\n\t *          equal.\n\t *\n\t * @see away.geom.Vector3D#equals()\n\t */\n\tpublic nearEquals(toCompare:Vector3D, tolerance:number, allFour:boolean = true):boolean\n\t{\n\t\treturn ((Math.abs(this.x - toCompare.x) < tolerance) && (Math.abs(this.y - toCompare.y) < tolerance) && (Math.abs(this.z - toCompare.z) < tolerance) && (!allFour || Math.abs(this.w - toCompare.w) < tolerance));\n\t}\n\n\t/**\n\t * Sets the current Vector3D object to its inverse. The inverse object\n\t * is also considered the opposite of the original object. The value of\n\t * the x, y, and z properties of the current Vector3D object is changed\n\t * to -x, -y, and -z.\n\t */\n\tpublic negate():void\n\t{\n\t\tthis.x = -this.x;\n\t\tthis.y = -this.y;\n\t\tthis.z = -this.z;\n\t}\n\n\t/**\n\t * Converts a Vector3D object to a unit vector by dividing the first\n\t * three elements (x, y, z) by the length of the vector. Unit vertices\n\t * are vertices that have a direction but their length is one. They\n\t * simplify vector calculations by removing length as a factor.\n\t */\n\t/**\n\t * Scales the line segment between(0,0) and the current point to a set\n\t * length.\n\t *\n\t * @param thickness The scaling value. For example, if the current\n\t *                  Vector3D object is (0,3,4), and you normalize it to\n\t *                  1, the point returned is at(0,0.6,0.8).\n\t */\n\tpublic normalize(thickness:number = 1)\n\t{\n\t\tif (this.length != 0) {\n\t\t\tvar invLength = thickness/this.length;\n\t\t\tthis.x *= invLength;\n\t\t\tthis.y *= invLength;\n\t\t\tthis.z *= invLength;\n\t\t\treturn;\n\t\t}\n\t}\n\n\t/**\n\t * Divides the value of the <code>x</code>, <code>y</code>, and\n\t * <code>z</code> properties of the current Vector3D object by the\n\t * value of its <code>w</code> property.\n\t *\n\t * <p>If the current Vector3D object is the result of multiplying a\n\t * Vector3D object by a projection Matrix3D object, the w property can\n\t * hold the transform value. The <code>project()</code> method then can\n\t * complete the projection by dividing the elements by the\n\t * <code>w</code> property. Use the <code>Matrix3D.rawData</code>\n\t * property to create a projection Matrix3D object.</p>\n\t */\n\tpublic project():void\n\t{\n\t\tthis.x /= this.w;\n\t\tthis.y /= this.w;\n\t\tthis.z /= this.w;\n\t}\n\n\t/**\n\t * Scales the current Vector3D object by a scalar, a magnitude. The\n\t * Vector3D object's x, y, and z elements are multiplied by the scalar\n\t * number specified in the parameter. For example, if the vector is\n\t * scaled by ten, the result is a vector that is ten times longer. The\n\t * scalar can also change the direction of the vector. Multiplying the\n\t * vector by a negative number reverses its direction.\n\t *\n\t * @param s A multiplier (scalar) used to scale a Vector3D object.\n\n\t */\n\tpublic scaleBy(s:number):void\n\t{\n\t\tthis.x *= s;\n\t\tthis.y *= s;\n\t\tthis.z *= s;\n\t}\n\n\t/**\n\t * Sets the members of Vector3D to the specified values\n\t *\n\t * @param xa The first element, such as the x coordinate.\n\t * @param ya The second element, such as the y coordinate.\n\t * @param za The third element, such as the z coordinate.\n\t */\n\tpublic setTo(xa:number, ya:number, za:number):void\n\t{\n\t\tthis.x = xa;\n\t\tthis.y = ya;\n\t\tthis.z = za;\n\t}\n\n\t/**\n\t * Subtracts the value of the x, y, and z elements of the current\n\t * Vector3D object from the values of the x, y, and z elements of\n\t * another Vector3D object. The <code>subtract()</code> method does not\n\t * change the current Vector3D object. Instead, this method returns a\n\t * new Vector3D object with the new values.\n\t *\n\t * @param a The Vector3D object to be subtracted from the current\n\t *          Vector3D object.\n\t * @returns A new Vector3D object that is the difference between the\n\t *          current Vector3D and the specified Vector3D object.\n\t *\n\t * @see away.geom.Vector3D#decrementBy()\n\t */\n\tpublic subtract(a:Vector3D):Vector3D\n\t{\n\t\treturn new Vector3D(this.x - a.x, this.y - a.y, this.z - a.z);\n\t}\n\n\t/**\n\t * Returns a string representation of the current Vector3D object. The\n\t * string contains the values of the x, y, and z properties.\n\t */\n\tpublic toString():string\n\t{\n\t\treturn \"[Vector3D] (x:\" + this.x + \" ,y:\" + this.y + \", z\" + this.z + \", w:\" + this.w + \")\";\n\t}\n}\n\nexport = Vector3D;",
    "import Image2D\t\t\t\t\t= require(\"awayjs-core/lib/image/Image2D\");\nimport BlendMode\t\t\t\t= require(\"awayjs-core/lib/image/BlendMode\");\nimport ColorTransform\t\t\t= require(\"awayjs-core/lib/geom/ColorTransform\");\nimport Matrix\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\nimport Point\t\t\t\t\t= require(\"awayjs-core/lib/geom/Point\");\nimport ByteArray\t\t\t\t= require(\"awayjs-core/lib/utils/ByteArray\");\nimport ColorUtils\t\t\t\t= require(\"awayjs-core/lib/utils/ColorUtils\");\nimport BitmapImageUtils\t\t\t= require(\"awayjs-core/lib/utils/BitmapImageUtils\");\nimport ImageUtils\t\t\t\t= require(\"awayjs-core/lib/utils/ImageUtils\");\nimport IImageCanvas\t\t\t\t= require(\"awayjs-core/lib/image/IImageCanvas\");\nimport CPUCanvas = require('awayjs-core/lib/image/CPUCanvas');\n/**\n * The BitmapImage2D class lets you work with the data(pixels) of a Bitmap\n * object. You can use the methods of the BitmapImage2D class to create\n * arbitrarily sized transparent or opaque bitmap images and manipulate them\n * in various ways at runtime. You can also access the BitmapImage2D for a bitmap\n * image that you load with the <code>flash.Assets</code> or\n * <code>flash.display.Loader</code> classes.\n *\n * <p>This class lets you separate bitmap rendering operations from the\n * internal display updating routines of flash. By manipulating a\n * BitmapImage2D object directly, you can create complex images without incurring\n * the per-frame overhead of constantly redrawing the content from vector\n * data.</p>\n *\n * <p>The methods of the BitmapImage2D class support effects that are not\n * available through the filters available to non-bitmap display objects.</p>\n *\n * <p>A BitmapImage2D object contains an array of pixel data. This data can\n * represent either a fully opaque bitmap or a transparent bitmap that\n * contains alpha channel data. Either type of BitmapImage2D object is stored as\n * a buffer of 32-bit integers. Each 32-bit integer determines the properties\n * of a single pixel in the bitmap.</p>\n *\n * <p>Each 32-bit integer is a combination of four 8-bit channel values(from\n * 0 to 255) that describe the alpha transparency and the red, green, and blue\n * (ARGB) values of the pixel.(For ARGB values, the most significant byte\n * represents the alpha channel value, followed by red, green, and blue.)</p>\n *\n * <p>The four channels(alpha, red, green, and blue) are represented as\n * numbers when you use them with the <code>BitmapImage2D.copyChannel()</code>\n * method or the <code>DisplacementMapFilter.componentX</code> and\n * <code>DisplacementMapFilter.componentY</code> properties, and these numbers\n * are represented by the following constants in the BitmapImage2DChannel\n * class:</p>\n *\n * <ul>\n *   <li><code>BitmapImage2DChannel.ALPHA</code></li>\n *   <li><code>BitmapImage2DChannel.RED</code></li>\n *   <li><code>BitmapImage2DChannel.GREEN</code></li>\n *   <li><code>BitmapImage2DChannel.BLUE</code></li>\n * </ul>\n *\n * <p>You can attach BitmapImage2D objects to a Bitmap object by using the\n * <code>bitmapData</code> property of the Bitmap object.</p>\n *\n * <p>You can use a BitmapImage2D object to fill a Graphics object by using the\n * <code>Graphics.beginBitmapFill()</code> method.</p>\n *\n * <p>You can also use a BitmapImage2D object to perform batch tile rendering\n * using the <code>flash.display.Tilesheet</code> class.</p>\n *\n * <p>In Flash Player 10, the maximum size for a BitmapImage2D object\n * is 8,191 pixels in width or height, and the total number of pixels cannot\n * exceed 16,777,215 pixels.(So, if a BitmapImage2D object is 8,191 pixels wide,\n * it can only be 2,048 pixels high.) In Flash Player 9 and earlier, the limitation\n * is 2,880 pixels in height and 2,880 in width.</p>\n */\nclass BitmapImage2D extends Image2D\n{\n\tpublic static assetType:string = \"[image BitmapImage2D]\";\n\n\tprivate _imageCanvas:IImageCanvas;\n\tprivate _context:CanvasRenderingContext2D;\n\tprivate _imageData:ImageData;\n\tprivate _transparent:boolean;\n\tprivate _locked:boolean = false;\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn BitmapImage2D.assetType;\n\t}\n\n\t/**\n\t * Defines whether the bitmap image supports per-pixel transparency. You can\n\t * set this value only when you construct a BitmapImage2D object by passing in\n\t * <code>true</code> for the <code>transparent</code> parameter of the\n\t * constructor. Then, after you create a BitmapImage2D object, you can check\n\t * whether it supports per-pixel transparency by determining if the value of\n\t * the <code>transparent</code> property is <code>true</code>.\n\t */\n\tpublic get transparent():boolean\n\t{\n\t\treturn this._transparent;\n\t}\n\n\tpublic set transparent(value:boolean)\n\t{\n\t\tthis._transparent = value;\n\t}\n\n\t/**\n\t * Creates a BitmapImage2D object with a specified width and height. If you\n\t * specify a value for the <code>fillColor</code> parameter, every pixel in\n\t * the bitmap is set to that color.\n\t *\n\t * <p>By default, the bitmap is created as transparent, unless you pass\n\t * the value <code>false</code> for the transparent parameter. After you\n\t * create an opaque bitmap, you cannot change it to a transparent bitmap.\n\t * Every pixel in an opaque bitmap uses only 24 bits of color channel\n\t * information. If you define the bitmap as transparent, every pixel uses 32\n\t * bits of color channel information, including an alpha transparency\n\t * channel.</p>\n\t *\n\t * @param width       The width of the bitmap image in pixels.\n\t * @param height      The height of the bitmap image in pixels.\n\t * @param transparent Specifies whether the bitmap image supports per-pixel\n\t *                    transparency. The default value is <code>true</code>\n\t *                    (transparent). To create a fully transparent bitmap,\n\t *                    set the value of the <code>transparent</code>\n\t *                    parameter to <code>true</code> and the value of the\n\t *                    <code>fillColor</code> parameter to 0x00000000(or to\n\t *                    0). Setting the <code>transparent</code> property to\n\t *                    <code>false</code> can result in minor improvements\n\t *                    in rendering performance.\n\t * @param fillColor   A 32-bit ARGB color value that you use to fill the\n\t *                    bitmap image area. The default value is\n\t *                    0xFFFFFFFF(solid white).\n\t */\n\tconstructor(width:number, height:number, transparent:boolean = true, fillColor:number = null, powerOfTwo:boolean = true)\n\t{\n\t\tsuper(width, height, powerOfTwo);\n\n\t\tthis._transparent = transparent;\n\t\tif(document) {\n\t\t\tthis._imageCanvas = <HTMLCanvasElement> document.createElement(\"canvas\");\n\t\t}else {\n\t\t\tthis._imageCanvas = new CPUCanvas();\n\t\t}\n\t\tthis._imageCanvas.width = width;\n\t\tthis._imageCanvas.height = height;\n\t\tthis._context = this._imageCanvas.getContext(\"2d\");\n\n\t\tif (fillColor != null)\n\t\t\tthis.fillRect(this._rect, fillColor);\n\t}\n\n\t/**\n\t * Returns a new BitmapImage2D object that is a clone of the original instance\n\t * with an exact copy of the contained bitmap.\n\t *\n\t * @return A new BitmapImage2D object that is identical to the original.\n\t */\n\tpublic clone():BitmapImage2D\n\t{\n\t\tvar t:BitmapImage2D = new BitmapImage2D(this.width, this.height, this.transparent, null, this.powerOfTwo);\n\t\tt.draw(this);\n\t\treturn t;\n\t}\n\n\t/**\n\t * Adjusts the color values in a specified area of a bitmap image by using a\n\t * <code>ColorTransform</code> object. If the rectangle matches the\n\t * boundaries of the bitmap image, this method transforms the color values of\n\t * the entire image.\n\t *\n\t * @param rect           A Rectangle object that defines the area of the\n\t *                       image in which the ColorTransform object is applied.\n\t * @param colorTransform A ColorTransform object that describes the color\n\t *                       transformation values to apply.\n\t */\n\tpublic colorTransform(rect:Rectangle, colorTransform:ColorTransform)\n\t{\n\t\tif (!this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\tvar data:Array<number> = this._imageData.data;\n\n\t\tvar i:number /*uint*/, j:number /*uint*/, index:number /*uint*/;\n\t\tfor (i = 0; i < rect.width; ++i) {\n\t\t\tfor (j = 0; j < rect.height; ++j) {\n\t\t\t\tindex = (i + rect.x + (j + rect.y)*this.width)*4;\n\n\t\t\t\tdata[index] = data[index]*colorTransform.redMultiplier + colorTransform.redOffset;\n\t\t\t\tdata[index + 1] = data[index + 1]*colorTransform.greenMultiplier + colorTransform.greenOffset;\n\t\t\t\tdata[index + 2] = data[index + 2]*colorTransform.blueMultiplier + colorTransform.blueOffset;\n\t\t\t\tdata[index + 3] = data[index + 3]*colorTransform.alphaMultiplier + colorTransform.alphaOffset;\n\t\t\t}\n\t\t}\n\n\t\tif (!this._locked) {\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Transfers data from one channel of another BitmapImage2D object or the\n\t * current BitmapImage2D object into a channel of the current BitmapImage2D object.\n\t * All of the data in the other channels in the destination BitmapImage2D object\n\t * are preserved.\n\t *\n\t * <p>The source channel value and destination channel value can be one of\n\t * following values: </p>\n\t *\n\t * <ul>\n\t *   <li><code>BitmapImage2DChannel.RED</code></li>\n\t *   <li><code>BitmapImage2DChannel.GREEN</code></li>\n\t *   <li><code>BitmapImage2DChannel.BLUE</code></li>\n\t *   <li><code>BitmapImage2DChannel.ALPHA</code></li>\n\t * </ul>\n\t *\n\t * @param sourceBitmapImage2D The input bitmap image to use. The source image\n\t *                         can be a different BitmapImage2D object or it can\n\t *                         refer to the current BitmapImage2D object.\n\t * @param sourceRect       The source Rectangle object. To copy only channel\n\t *                         data from a smaller area within the bitmap,\n\t *                         specify a source rectangle that is smaller than\n\t *                         the overall size of the BitmapImage2D object.\n\t * @param destPoint        The destination Point object that represents the\n\t *                         upper-left corner of the rectangular area where\n\t *                         the new channel data is placed. To copy only\n\t *                         channel data from one area to a different area in\n\t *                         the destination image, specify a point other than\n\t *                        (0,0).\n\t * @param sourceChannel    The source channel. Use a value from the\n\t *                         BitmapImage2DChannel class\n\t *                        (<code>BitmapImage2DChannel.RED</code>,\n\t *                         <code>BitmapImage2DChannel.BLUE</code>,\n\t *                         <code>BitmapImage2DChannel.GREEN</code>,\n\t *                         <code>BitmapImage2DChannel.ALPHA</code>).\n\t * @param destChannel      The destination channel. Use a value from the\n\t *                         BitmapImage2DChannel class\n\t *                        (<code>BitmapImage2DChannel.RED</code>,\n\t *                         <code>BitmapImage2DChannel.BLUE</code>,\n\t *                         <code>BitmapImage2DChannel.GREEN</code>,\n\t *                         <code>BitmapImage2DChannel.ALPHA</code>).\n\t * @throws TypeError The sourceBitmapImage2D, sourceRect or destPoint are null.\n\t */\n\tpublic copyChannel(sourceBitmap:BitmapImage2D, sourceRect:Rectangle, destPoint:Point, sourceChannel:number, destChannel:number)\n\t{\n\t\tvar imageData:ImageData = sourceBitmap.getImageData();\n\n\t\tif (!this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\tvar sourceData:Array<number> = sourceBitmap.getImageData().data;\n\t\tvar destData:Array<number> = this._imageData.data;\n\n\t\tvar sourceOffset:number = Math.round(Math.log(sourceChannel)/Math.log(2));\n\t\tvar destOffset:number = Math.round(Math.log(destChannel)/Math.log(2));\n\n\t\tvar i:number /*uint*/, j:number /*uint*/, sourceIndex:number /*uint*/, destIndex:number /*uint*/;\n\t\tfor (i = 0; i < sourceRect.width; ++i) {\n\t\t\tfor (j = 0; j < sourceRect.height; ++j) {\n\t\t\t\tsourceIndex = (i + sourceRect.x + (j + sourceRect.y)*sourceBitmap.width)*4;\n\t\t\t\tdestIndex = (i + destPoint.x + (j + destPoint.y)*this.width)*4;\n\n\t\t\t\tdestData[destIndex + destOffset] = sourceData[sourceIndex + sourceOffset];\n\t\t\t}\n\t\t}\n\n\t\tif (!this._locked) {\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Provides a fast routine to perform pixel manipulation between images with\n\t * no stretching, rotation, or color effects. This method copies a\n\t * rectangular area of a source image to a rectangular area of the same size\n\t * at the destination point of the destination BitmapImage2D object.\n\t *\n\t * <p>If you include the <code>alphaBitmap</code> and <code>alphaPoint</code>\n\t * parameters, you can use a secondary image as an alpha source for the\n\t * source image. If the source image has alpha data, both sets of alpha data\n\t * are used to composite pixels from the source image to the destination\n\t * image. The <code>alphaPoint</code> parameter is the point in the alpha\n\t * image that corresponds to the upper-left corner of the source rectangle.\n\t * Any pixels outside the intersection of the source image and alpha image\n\t * are not copied to the destination image.</p>\n\t *\n\t * <p>The <code>mergeAlpha</code> property controls whether or not the alpha\n\t * channel is used when a transparent image is copied onto another\n\t * transparent image. To copy pixels with the alpha channel data, set the\n\t * <code>mergeAlpha</code> property to <code>true</code>. By default, the\n\t * <code>mergeAlpha</code> property is <code>false</code>.</p>\n\t *\n\t * @param sourceBitmapImage2D The input bitmap image from which to copy pixels.\n\t *                         The source image can be a different BitmapImage2D\n\t *                         instance, or it can refer to the current\n\t *                         BitmapImage2D instance.\n\t * @param sourceRect       A rectangle that defines the area of the source\n\t *                         image to use as input.\n\t * @param destPoint        The destination point that represents the\n\t *                         upper-left corner of the rectangular area where\n\t *                         the new pixels are placed.\n\t * @param alphaBitmapImage2D  A secondary, alpha BitmapImage2D object source.\n\t * @param alphaPoint       The point in the alpha BitmapImage2D object source\n\t *                         that corresponds to the upper-left corner of the\n\t *                         <code>sourceRect</code> parameter.\n\t * @param mergeAlpha       To use the alpha channel, set the value to\n\t *                         <code>true</code>. To copy pixels with no alpha\n\t *                         channel, set the value to <code>false</code>.\n\t * @throws TypeError The sourceBitmapImage2D, sourceRect, destPoint are null.\n\t */\n\tpublic copyPixels(source:BitmapImage2D, sourceRect:Rectangle, destRect:Rectangle);\n\tpublic copyPixels(source:HTMLElement, sourceRect:Rectangle, destRect:Rectangle);\n\tpublic copyPixels(source:any, sourceRect:Rectangle, destRect:Rectangle)\n\t{\n\t\tif (source instanceof BitmapImage2D)\n\t\t\tsource = source.getCanvas();\n\n\t\tif (this._locked) {\n\n\t\t\t// If canvas is locked:\n\t\t\t//\n\t\t\t//      1) copy image data back to canvas\n\t\t\t//      2) draw object\n\t\t\t//      3) read _imageData back out\n\n\t\t\tthis._context.putImageData(this._imageData, 0, 0); // at coords 0,0\n\t\t\tBitmapImageUtils._copyPixels(this._context, source, sourceRect, destRect);\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\t} else {\n\t\t\tBitmapImageUtils._copyPixels(this._context, source, sourceRect, destRect);\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Frees memory that is used to store the BitmapImage2D object.\n\t *\n\t * <p>When the <code>dispose()</code> method is called on an image, the width\n\t * and height of the image are set to 0. All subsequent calls to methods or\n\t * properties of this BitmapImage2D instance fail, and an exception is thrown.\n\t * </p>\n\t *\n\t * <p><code>BitmapImage2D.dispose()</code> releases the memory occupied by the\n\t * actual bitmap data, immediately(a bitmap can consume up to 64 MB of\n\t * memory). After using <code>BitmapImage2D.dispose()</code>, the BitmapImage2D\n\t * object is no longer usable and an exception may be thrown if\n\t * you call functions on the BitmapImage2D object. However,\n\t * <code>BitmapImage2D.dispose()</code> does not garbage collect the BitmapImage2D\n\t * object(approximately 128 bytes); the memory occupied by the actual\n\t * BitmapImage2D object is released at the time the BitmapImage2D object is\n\t * collected by the garbage collector.</p>\n\t *\n\t */\n\tpublic dispose()\n\t{\n\t\tsuper.dispose();\n\n\t\tthis._context = null;\n\t\tthis._imageCanvas = null;\n\t\tthis._imageData = null;\n\t\tthis._rect = null;\n\t\tthis._transparent = null;\n\t\tthis._locked = null;\n\t}\n\n\t/**\n\t * Draws the <code>source</code> display object onto the bitmap image, using\n\t * the NME software renderer. You can specify <code>matrix</code>,\n\t * <code>colorTransform</code>, <code>blendMode</code>, and a destination\n\t * <code>clipRect</code> parameter to control how the rendering performs.\n\t * Optionally, you can specify whether the bitmap should be smoothed when\n\t * scaled(this works only if the source object is a BitmapImage2D object).\n\t *\n\t * <p>The source display object does not use any of its applied\n\t * transformations for this call. It is treated as it exists in the library\n\t * or file, with no matrix transform, no color transform, and no blend mode.\n\t * To draw a display object(such as a movie clip) by using its own transform\n\t * properties, you can copy its <code>transform</code> property object to the\n\t * <code>transform</code> property of the Bitmap object that uses the\n\t * BitmapImage2D object.</p>\n\t *\n\t * @param source         The display object or BitmapImage2D object to draw to\n\t *                       the BitmapImage2D object.(The DisplayObject and\n\t *                       BitmapImage2D classes implement the IBitmapDrawable\n\t *                       interface.)\n\t * @param matrix         A Matrix object used to scale, rotate, or translate\n\t *                       the coordinates of the bitmap. If you do not want to\n\t *                       apply a matrix transformation to the image, set this\n\t *                       parameter to an identity matrix, created with the\n\t *                       default <code>new Matrix()</code> constructor, or\n\t *                       pass a <code>null</code> value.\n\t * @param colorTransform A ColorTransform object that you use to adjust the\n\t *                       color values of the bitmap. If no object is\n\t *                       supplied, the bitmap image's colors are not\n\t *                       transformed. If you must pass this parameter but you\n\t *                       do not want to transform the image, set this\n\t *                       parameter to a ColorTransform object created with\n\t *                       the default <code>new ColorTransform()</code>\n\t *                       constructor.\n\t * @param blendMode      A string value, from the flash.display.BlendMode\n\t *                       class, specifying the blend mode to be applied to\n\t *                       the resulting bitmap.\n\t * @param clipRect       A Rectangle object that defines the area of the\n\t *                       source object to draw. If you do not supply this\n\t *                       value, no clipping occurs and the entire source\n\t *                       object is drawn.\n\t * @param smoothing      A Boolean value that determines whether a BitmapImage2D\n\t *                       object is smoothed when scaled or rotated, due to a\n\t *                       scaling or rotation in the <code>matrix</code>\n\t *                       parameter. The <code>smoothing</code> parameter only\n\t *                       applies if the <code>source</code> parameter is a\n\t *                       BitmapImage2D object. With <code>smoothing</code> set\n\t *                       to <code>false</code>, the rotated or scaled\n\t *                       BitmapImage2D image can appear pixelated or jagged. For\n\t *                       example, the following two images use the same\n\t *                       BitmapImage2D object for the <code>source</code>\n\t *                       parameter, but the <code>smoothing</code> parameter\n\t *                       is set to <code>true</code> on the left and\n\t *                       <code>false</code> on the right:\n\t *\n\t *                       <p>Drawing a bitmap with <code>smoothing</code> set\n\t *                       to <code>true</code> takes longer than doing so with\n\t *                       <code>smoothing</code> set to\n\t *                       <code>false</code>.</p>\n\t * @throws ArgumentError The <code>source</code> parameter is not a\n\t *                       BitmapImage2D or DisplayObject object.\n\t * @throws ArgumentError The source is null or not a valid IBitmapDrawable\n\t *                       object.\n\t * @throws SecurityError The <code>source</code> object and(in the case of a\n\t *                       Sprite or MovieClip object) all of its child objects\n\t *                       do not come from the same domain as the caller, or\n\t *                       are not in a content that is accessible to the\n\t *                       caller by having called the\n\t *                       <code>Security.allowDomain()</code> method. This\n\t *                       restriction does not apply to AIR content in the\n\t *                       application security sandbox.\n\t */\n\tpublic draw(source:BitmapImage2D, matrix?:Matrix, colorTransform?:ColorTransform, blendMode?:BlendMode, clipRect?:Rectangle, smoothing?:boolean);\n\tpublic draw(source:HTMLElement, matrix?:Matrix, colorTransform?:ColorTransform, blendMode?:BlendMode, clipRect?:Rectangle, smoothing?:boolean);\n\tpublic draw(source:any, matrix?:Matrix, colorTransform?:ColorTransform, blendMode?:BlendMode, clipRect?:Rectangle, smoothing?:boolean)\n\t{\n\t\tif (source instanceof BitmapImage2D && source.getCanvas()){\n\t\t\tsource = source.getCanvas();\n\t\t}\n\n\t\tif (this._locked) {\n\n\t\t\t// If canvas is locked:\n\t\t\t//\n\t\t\t//      1) copy image data back to canvas\n\t\t\t//      2) draw object\n\t\t\t//      3) read _imageData back out\n\n\t\t\tthis._context.putImageData(this._imageData, 0, 0); // at coords 0,0\n\t\t\tBitmapImageUtils._draw(this._context, source, matrix, colorTransform, blendMode, clipRect, smoothing);\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\t\t} else {\n\t\t\tBitmapImageUtils._draw(this._context, source, matrix, colorTransform, blendMode, clipRect, smoothing);\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Fills a rectangular area of pixels with a specified ARGB color.\n\t *\n\t * @param rect  The rectangular area to fill.\n\t * @param color The ARGB color value that fills the area. ARGB colors are\n\t *              often specified in hexadecimal format; for example,\n\t *              0xFF336699.\n\t * @throws TypeError The rect is null.\n\t */\n\tpublic fillRect(rect:Rectangle, color:number)\n\t{\n\t\tif (this._locked) {\n\n\t\t\t// If canvas is locked:\n\t\t\t//\n\t\t\t//      1) copy image data back to canvas\n\t\t\t//      2) apply fill\n\t\t\t//      3) read _imageData back out\n\n\t\t\tif (this._imageData)\n\t\t\t\tthis._context.putImageData(this._imageData, 0, 0); // at coords 0,0\n\n\t\t\tBitmapImageUtils._fillRect(this._context, rect, color, this._transparent);\n\n\t\t\tif (this._imageData)\n\t\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\t\t} else {\n\t\t\tBitmapImageUtils._fillRect(this._context, rect, color, this._transparent);\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Returns an integer that represents an RGB pixel value from a BitmapImage2D\n\t * object at a specific point(<i>x</i>, <i>y</i>). The\n\t * <code>getPixel()</code> method returns an unmultiplied pixel value. No\n\t * alpha information is returned.\n\t *\n\t * <p>All pixels in a BitmapImage2D object are stored as premultiplied color\n\t * values. A premultiplied image pixel has the red, green, and blue color\n\t * channel values already multiplied by the alpha data. For example, if the\n\t * alpha value is 0, the values for the RGB channels are also 0, independent\n\t * of their unmultiplied values. This loss of data can cause some problems\n\t * when you perform operations. All BitmapImage2D methods take and return\n\t * unmultiplied values. The internal pixel representation is converted from\n\t * premultiplied to unmultiplied before it is returned as a value. During a\n\t * set operation, the pixel value is premultiplied before the raw image pixel\n\t * is set.</p>\n\t *\n\t * @param x The <i>x</i> position of the pixel.\n\t * @param y The <i>y</i> position of the pixel.\n\t * @return A number that represents an RGB pixel value. If the(<i>x</i>,\n\t *         <i>y</i>) coordinates are outside the bounds of the image, the\n\t *         method returns 0.\n\t */\n\tpublic getPixel(x, y):number\n\t{\n\t\tvar r:number;\n\t\tvar g:number;\n\t\tvar b:number;\n\t\tvar a:number;\n\n\t\tif (!this._locked) {\n\t\t\tvar pixelData:ImageData = this._context.getImageData(x, y, 1, 1);\n\n\t\t\tr = pixelData.data[0];\n\t\t\tg = pixelData.data[1];\n\t\t\tb = pixelData.data[2];\n\t\t\ta = pixelData.data[3];\n\n\t\t} else {\n\t\t\tvar index:number = (x + y*this._imageData.width)*4;\n\n\t\t\tr = this._imageData.data[index + 0];\n\t\t\tg = this._imageData.data[index + 1];\n\t\t\tb = this._imageData.data[index + 2];\n\t\t\ta = this._imageData.data[index + 3];\n\t\t}\n\n\t\t//returns black if fully transparent\n\t\tif (!a)\n\t\t\treturn 0x0;\n\n\t\treturn (r << 16) | (g << 8) | b;\n\t}\n\n\t/**\n\t * Returns an ARGB color value that contains alpha channel data and RGB data.\n\t * This method is similar to the <code>getPixel()</code> method, which\n\t * returns an RGB color without alpha channel data.\n\t *\n\t * <p>All pixels in a BitmapImage2D object are stored as premultiplied color\n\t * values. A premultiplied image pixel has the red, green, and blue color\n\t * channel values already multiplied by the alpha data. For example, if the\n\t * alpha value is 0, the values for the RGB channels are also 0, independent\n\t * of their unmultiplied values. This loss of data can cause some problems\n\t * when you perform operations. All BitmapImage2D methods take and return\n\t * unmultiplied values. The internal pixel representation is converted from\n\t * premultiplied to unmultiplied before it is returned as a value. During a\n\t * set operation, the pixel value is premultiplied before the raw image pixel\n\t * is set.</p>\n\t *\n\t * @param x The <i>x</i> position of the pixel.\n\t * @param y The <i>y</i> position of the pixel.\n\t * @return A number representing an ARGB pixel value. If the(<i>x</i>,\n\t *         <i>y</i>) coordinates are outside the bounds of the image, 0 is\n\t *         returned.\n\t */\n\tpublic getPixel32(x, y):number\n\t{\n\t\tvar r:number;\n\t\tvar g:number;\n\t\tvar b:number;\n\t\tvar a:number;\n\n\t\tif (!this._locked) {\n\t\t\tvar pixelData:ImageData = this._context.getImageData(x, y, 1, 1);\n\n\t\t\tr = pixelData.data[0];\n\t\t\tg = pixelData.data[1];\n\t\t\tb = pixelData.data[2];\n\t\t\ta = pixelData.data[3];\n\n\t\t} else {\n\t\t\tvar index:number = (x + y*this._imageData.width)*4;\n\n\t\t\tr = this._imageData.data[index + 0];\n\t\t\tg = this._imageData.data[index + 1];\n\t\t\tb = this._imageData.data[index + 2];\n\t\t\ta = this._imageData.data[index + 3];\n\t\t}\n\n\t\treturn (a << 24) | (r << 16) | (g << 8) | b;\n\t}\n\n\t/**\n\t * Locks an image so that any objects that reference the BitmapImage2D object,\n\t * such as Bitmap objects, are not updated when this BitmapImage2D object\n\t * changes. To improve performance, use this method along with the\n\t * <code>unlock()</code> method before and after numerous calls to the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method.\n\t *\n\t */\n\tpublic lock()\n\t{\n\t\tif (this._locked)\n\t\t\treturn;\n\n\t\tthis._locked = true;\n\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\t}\n\n\t/**\n\t * Converts an Array into a rectangular region of pixel data. For each pixel,\n\t * an Array element is read and written into the BitmapImage2D pixel. The data\n\t * in the Array is expected to be 32-bit ARGB pixel values.\n\t *\n\t * @param rect        Specifies the rectangular region of the BitmapImage2D\n\t *                    object.\n\t * @param inputArray  An Array that consists of 32-bit unmultiplied pixel\n\t *                    values to be used in the rectangular region.\n\t * @throws RangeError The vector array is not large enough to read all the\n\t *                    pixel data.\n\t */\n\tpublic setArray(rect:Rectangle, inputArray:Array<number>)\n\t{\n\t\tif (!this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\tvar i:number /*uint*/, j:number /*uint*/, index:number /*uint*/, argb:number[] /*uint*/;\n\t\tfor (i = 0; i < rect.width; ++i) {\n\t\t\tfor (j = 0; j < rect.height; ++j) {\n\t\t\t\targb = ColorUtils.float32ColorToARGB(inputArray[i + j*rect.width]);\n\t\t\t\tindex = (i + rect.x + (j + rect.y)*this._imageData.width)*4;\n\n\t\t\t\tthis._imageData.data[index + 0] = argb[1];\n\t\t\t\tthis._imageData.data[index + 1] = argb[2];\n\t\t\t\tthis._imageData.data[index + 2] = argb[3];\n\t\t\t\tthis._imageData.data[index + 3] = argb[0];\n\t\t\t}\n\t\t}\n\n\t\tif (!this._locked) {\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Sets a single pixel of a BitmapImage2D object. The current alpha channel\n\t * value of the image pixel is preserved during this operation. The value of\n\t * the RGB color parameter is treated as an unmultiplied color value.\n\t *\n\t * <p><b>Note:</b> To increase performance, when you use the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method repeatedly,\n\t * call the <code>lock()</code> method before you call the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method, and then call\n\t * the <code>unlock()</code> method when you have made all pixel changes.\n\t * This process prevents objects that reference this BitmapImage2D instance from\n\t * updating until you finish making the pixel changes.</p>\n\t *\n\t * @param x     The <i>x</i> position of the pixel whose value changes.\n\t * @param y     The <i>y</i> position of the pixel whose value changes.\n\t * @param color The resulting RGB color for the pixel.\n\t */\n\tpublic setPixel(x:number, y:number, color:number)\n\t{\n\t\tvar argb:number[] = ColorUtils.float32ColorToARGB(color);\n\n\t\tif (!this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\tvar index:number = (x + y*this._imageData.width)*4;\n\n\t\tthis._imageData.data[index + 0] = argb[1];\n\t\tthis._imageData.data[index + 1] = argb[2];\n\t\tthis._imageData.data[index + 2] = argb[3];\n\t\tthis._imageData.data[index + 3] = 255;\n\n\t\tif (!this._locked) {\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Sets the color and alpha transparency values of a single pixel of a\n\t * BitmapImage2D object. This method is similar to the <code>setPixel()</code>\n\t * method; the main difference is that the <code>setPixel32()</code> method\n\t * takes an ARGB color value that contains alpha channel information.\n\t *\n\t * <p>All pixels in a BitmapImage2D object are stored as premultiplied color\n\t * values. A premultiplied image pixel has the red, green, and blue color\n\t * channel values already multiplied by the alpha data. For example, if the\n\t * alpha value is 0, the values for the RGB channels are also 0, independent\n\t * of their unmultiplied values. This loss of data can cause some problems\n\t * when you perform operations. All BitmapImage2D methods take and return\n\t * unmultiplied values. The internal pixel representation is converted from\n\t * premultiplied to unmultiplied before it is returned as a value. During a\n\t * set operation, the pixel value is premultiplied before the raw image pixel\n\t * is set.</p>\n\t *\n\t * <p><b>Note:</b> To increase performance, when you use the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method repeatedly,\n\t * call the <code>lock()</code> method before you call the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method, and then call\n\t * the <code>unlock()</code> method when you have made all pixel changes.\n\t * This process prevents objects that reference this BitmapImage2D instance from\n\t * updating until you finish making the pixel changes.</p>\n\t *\n\t * @param x     The <i>x</i> position of the pixel whose value changes.\n\t * @param y     The <i>y</i> position of the pixel whose value changes.\n\t * @param color The resulting ARGB color for the pixel. If the bitmap is\n\t *              opaque(not transparent), the alpha transparency portion of\n\t *              this color value is ignored.\n\t */\n\tpublic setPixel32(x, y, color:number)\n\t{\n\t\tvar argb:number[] = ColorUtils.float32ColorToARGB(color);\n\n\t\tif (!this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\tvar index:number = (x + y*this._imageData.width)*4;\n\n\t\tthis._imageData.data[index + 0] = argb[1];\n\t\tthis._imageData.data[index + 1] = argb[2];\n\t\tthis._imageData.data[index + 2] = argb[3];\n\t\tthis._imageData.data[index + 3] = argb[0];\n\n\t\tif (!this._locked) {\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Converts a byte array into a rectangular region of pixel data. For each\n\t * pixel, the <code>ByteArray.readUnsignedInt()</code> method is called and\n\t * the return value is written into the pixel. If the byte array ends before\n\t * the full rectangle is written, the function returns. The data in the byte\n\t * array is expected to be 32-bit ARGB pixel values. No seeking is performed\n\t * on the byte array before or after the pixels are read.\n\t *\n\t * @param rect           Specifies the rectangular region of the BitmapImage2D\n\t *                       object.\n\t * @param inputByteArray A ByteArray object that consists of 32-bit\n\t *                       unmultiplied pixel values to be used in the\n\t *                       rectangular region.\n\t * @throws EOFError  The <code>inputByteArray</code> object does not include\n\t *                   enough data to fill the area of the <code>rect</code>\n\t *                   rectangle. The method fills as many pixels as possible\n\t *                   before throwing the exception.\n\t * @throws TypeError The rect or inputByteArray are null.\n\t */\n\tpublic setPixels(rect:Rectangle, inputByteArray:ByteArray)\n\t{\n\t\tif (!this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\tinputByteArray.position = 0;\n\t\tvar i:number /*uint*/, j:number /*uint*/, index:number /*uint*/;\n\t\tfor (i = 0; i < rect.width; ++i) {\n\t\t\tfor (j = 0; j < rect.height; ++j) {\n\t\t\t\tindex = (i + rect.x + (j + rect.y)*this._imageData.width)*4;\n\n\t\t\t\tthis._imageData.data[index + 0] = inputByteArray.readUnsignedInt();\n\t\t\t\tthis._imageData.data[index + 1] = inputByteArray.readUnsignedInt();\n\t\t\t\tthis._imageData.data[index + 2] = inputByteArray.readUnsignedInt();\n\t\t\t\tthis._imageData.data[index + 3] = inputByteArray.readUnsignedInt();\n\t\t\t}\n\t\t}\n\n\t\tif (!this._locked) {\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Unlocks an image so that any objects that reference the BitmapImage2D object,\n\t * such as Bitmap objects, are updated when this BitmapImage2D object changes.\n\t * To improve performance, use this method along with the <code>lock()</code>\n\t * method before and after numerous calls to the <code>setPixel()</code> or\n\t * <code>setPixel32()</code> method.\n\t *\n\t * @param changeRect The area of the BitmapImage2D object that has changed. If\n\t *                   you do not specify a value for this parameter, the\n\t *                   entire area of the BitmapImage2D object is considered\n\t *                   changed.\n\t */\n\tpublic unlock()\n\t{\n\t\tif (!this._locked)\n\t\t\treturn;\n\n\t\tthis._locked = false;\n\n\t\tthis._context.putImageData(this._imageData, 0, 0); // at coords 0,0\n\t\tthis._imageData = null;\n\t}\n\n\t/**\n\t *\n\t * @returns {ImageData}\n\t */\n\tpublic getImageData():ImageData\n\t{\n\t\tif (!this._locked)\n\t\t\treturn this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\treturn this._imageData;\n\t}\n\n\t/**\n\t *\n\t * @returns {HTMLCanvasElement}\n\t */\n\tpublic getCanvas():HTMLCanvasElement\n\t{\n\t\treturn <HTMLCanvasElement> this._imageCanvas;\n\t}\n\n\t/**\n\t *\n\t * @param width\n\t * @param height\n\t * @private\n\t */\n\tpublic _setSize(width:number, height:number)\n\t{\n\t\tif (this._locked)\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\n\t\tif(this._imageCanvas) {\n\t\t\tthis._imageCanvas.width = width;\n\t\t\tthis._imageCanvas.height = height;\n\t\t}\n\t\t\n\t\tsuper._setSize(width, height);\n\n\t\tif (this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\t}\n}\n\nexport = BitmapImage2D;",
    "class BitmapImageChannel\n{\n\tpublic static ALPHA:number /*uint*/ = 8;\n\tpublic static BLUE:number /*uint*/ = 4;\n\tpublic static GREEN:number /*uint*/ = 2;\n\tpublic static RED:number /*uint*/ = 1;\n}\n\nexport = BitmapImageChannel;",
    "import BitmapImage2D\t\t\t= require(\"awayjs-core/lib/image/BitmapImage2D\");\nimport ImageCube\t\t\t\t= require(\"awayjs-core/lib/image/ImageCube\");\nimport BlendMode\t\t\t\t= require(\"awayjs-core/lib/image/BlendMode\");\nimport ColorTransform\t\t\t= require(\"awayjs-core/lib/geom/ColorTransform\");\nimport Matrix\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\nimport Point\t\t\t\t\t= require(\"awayjs-core/lib/geom/Point\");\nimport ByteArray\t\t\t\t= require(\"awayjs-core/lib/utils/ByteArray\");\nimport ColorUtils\t\t\t\t= require(\"awayjs-core/lib/utils/ColorUtils\");\nimport ImageUtils\t\t\t\t= require(\"awayjs-core/lib/utils/ImageUtils\");\nimport BitmapImageUtils\t\t\t= require(\"awayjs-core/lib/utils/BitmapImageUtils\");\n\n/**\n * The BitmapImage2D class lets you work with the data(pixels) of a Bitmap\n * object. You can use the methods of the BitmapImage2D class to create\n * arbitrarily sized transparent or opaque bitmap images and manipulate them\n * in various ways at runtime. You can also access the BitmapImage2D for a bitmap\n * image that you load with the <code>flash.Assets</code> or\n * <code>flash.display.Loader</code> classes.\n *\n * <p>This class lets you separate bitmap rendering operations from the\n * internal display updating routines of flash. By manipulating a\n * BitmapImage2D object directly, you can create complex images without incurring\n * the per-frame overhead of constantly redrawing the content from vector\n * data.</p>\n *\n * <p>The methods of the BitmapImage2D class support effects that are not\n * available through the filters available to non-bitmap display objects.</p>\n *\n * <p>A BitmapImage2D object contains an array of pixel data. This data can\n * represent either a fully opaque bitmap or a transparent bitmap that\n * contains alpha channel data. Either type of BitmapImage2D object is stored as\n * a buffer of 32-bit integers. Each 32-bit integer determines the properties\n * of a single pixel in the bitmap.</p>\n *\n * <p>Each 32-bit integer is a combination of four 8-bit channel values(from\n * 0 to 255) that describe the alpha transparency and the red, green, and blue\n * (ARGB) values of the pixel.(For ARGB values, the most significant byte\n * represents the alpha channel value, followed by red, green, and blue.)</p>\n *\n * <p>The four channels(alpha, red, green, and blue) are represented as\n * numbers when you use them with the <code>BitmapImage2D.copyChannel()</code>\n * method or the <code>DisplacementMapFilter.componentX</code> and\n * <code>DisplacementMapFilter.componentY</code> properties, and these numbers\n * are represented by the following constants in the BitmapImage2DChannel\n * class:</p>\n *\n * <ul>\n *   <li><code>BitmapImage2DChannel.ALPHA</code></li>\n *   <li><code>BitmapImage2DChannel.RED</code></li>\n *   <li><code>BitmapImage2DChannel.GREEN</code></li>\n *   <li><code>BitmapImage2DChannel.BLUE</code></li>\n * </ul>\n *\n * <p>You can attach BitmapImage2D objects to a Bitmap object by using the\n * <code>bitmapData</code> property of the Bitmap object.</p>\n *\n * <p>You can use a BitmapImage2D object to fill a Graphics object by using the\n * <code>Graphics.beginBitmapFill()</code> method.</p>\n *\n * <p>You can also use a BitmapImage2D object to perform batch tile rendering\n * using the <code>flash.display.Tilesheet</code> class.</p>\n *\n * <p>In Flash Player 10, the maximum size for a BitmapImage2D object\n * is 8,191 pixels in width or height, and the total number of pixels cannot\n * exceed 16,777,215 pixels.(So, if a BitmapImage2D object is 8,191 pixels wide,\n * it can only be 2,048 pixels high.) In Flash Player 9 and earlier, the limitation\n * is 2,880 pixels in height and 2,880 in width.</p>\n */\nclass BitmapImageCube extends ImageCube\n{\n\tpublic static assetType:string = \"[image BitmapImageCube]\";\n\n\tpublic static posX:number = 0;\n\tpublic static negX:number = 1;\n\tpublic static posY:number = 2;\n\tpublic static negY:number = 3;\n\tpublic static posZ:number = 4;\n\tpublic static negZ:number = 5;\n\n\tprivate _imageCanvas:Array<HTMLCanvasElement> = new Array<HTMLCanvasElement>(6);\n\tprivate _context:Array<CanvasRenderingContext2D> = new Array<CanvasRenderingContext2D>(6);\n\tprivate _imageData:Array<ImageData> = new Array<ImageData>(6);\n\tprivate _transparent:boolean;\n\tprivate _locked:boolean = false;\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn BitmapImageCube.assetType;\n\t}\n\n\t/**\n\t * Defines whether the bitmap image supports per-pixel transparency. You can\n\t * set this value only when you construct a BitmapImage2D object by passing in\n\t * <code>true</code> for the <code>transparent</code> parameter of the\n\t * constructor. Then, after you create a BitmapImage2D object, you can check\n\t * whether it supports per-pixel transparency by determining if the value of\n\t * the <code>transparent</code> property is <code>true</code>.\n\t */\n\tpublic get transparent():boolean\n\t{\n\t\treturn this._transparent;\n\t}\n\n\tpublic set transparent(value:boolean)\n\t{\n\t\tthis._transparent = value;\n\t}\n\n\t/**\n\t * Creates a BitmapImage2D object with a specified width and height. If you\n\t * specify a value for the <code>fillColor</code> parameter, every pixel in\n\t * the bitmap is set to that color.\n\t *\n\t * <p>By default, the bitmap is created as transparent, unless you pass\n\t * the value <code>false</code> for the transparent parameter. After you\n\t * create an opaque bitmap, you cannot change it to a transparent bitmap.\n\t * Every pixel in an opaque bitmap uses only 24 bits of color channel\n\t * information. If you define the bitmap as transparent, every pixel uses 32\n\t * bits of color channel information, including an alpha transparency\n\t * channel.</p>\n\t *\n\t * @param width       The width of the bitmap image in pixels.\n\t * @param height      The height of the bitmap image in pixels.\n\t * @param transparent Specifies whether the bitmap image supports per-pixel\n\t *                    transparency. The default value is <code>true</code>\n\t *                    (transparent). To create a fully transparent bitmap,\n\t *                    set the value of the <code>transparent</code>\n\t *                    parameter to <code>true</code> and the value of the\n\t *                    <code>fillColor</code> parameter to 0x00000000(or to\n\t *                    0). Setting the <code>transparent</code> property to\n\t *                    <code>false</code> can result in minor improvements\n\t *                    in rendering performance.\n\t * @param fillColor   A 32-bit ARGB color value that you use to fill the\n\t *                    bitmap image area. The default value is\n\t *                    0xFFFFFFFF(solid white).\n\t */\n\tconstructor(size:number, transparent:boolean = true, fillColor:number = null)\n\t{\n\t\tsuper(size);\n\n\t\tthis._transparent = transparent;\n\n\t\tfor (var i:number = 0; i < 6; i++) {\n\t\t\tthis._imageCanvas[i] = <HTMLCanvasElement> document.createElement(\"canvas\");\n\t\t\tthis._imageCanvas[i].width = size;\n\t\t\tthis._imageCanvas[i].height = size;\n\t\t\tthis._context[i] = this._imageCanvas[i].getContext(\"2d\");\n\n\t\t\tif (fillColor != null)\n\t\t\t\tthis.fillRect(i, new Rectangle(0, 0, size, size), fillColor);\n\t\t}\n\t}\n\n\t/**\n\t * Returns a new BitmapImage2D object that is a clone of the original instance\n\t * with an exact copy of the contained bitmap.\n\t *\n\t * @return A new BitmapImage2D object that is identical to the original.\n\t */\n\tpublic clone():BitmapImageCube\n\t{\n\t\tvar t:BitmapImageCube = new BitmapImageCube(this._size, this.transparent);\n\n\t\tfor (var i:number = 0; i < 6; i++) {\n\t\t\tt.draw(i, this.getCanvas(i));\n\t\t}\n\t\treturn t;\n\t}\n\n\t/**\n\t * Adjusts the color values in a specified area of a bitmap image by using a\n\t * <code>ColorTransform</code> object. If the rectangle matches the\n\t * boundaries of the bitmap image, this method transforms the color values of\n\t * the entire image.\n\t *\n\t * @param rect           A Rectangle object that defines the area of the\n\t *                       image in which the ColorTransform object is applied.\n\t * @param colorTransform A ColorTransform object that describes the color\n\t *                       transformation values to apply.\n\t */\n\tpublic colorTransform(side:number, rect:Rectangle, colorTransform:ColorTransform)\n\t{\n\t\tif (!this._locked)\n\t\t\tthis._imageData[side] = this._context[side].getImageData(0, 0, this._size, this._size);\n\n\t\tvar data:Array<number> = this._imageData[side].data;\n\n\t\tvar i:number /*uint*/, j:number /*uint*/, index:number /*uint*/;\n\t\tfor (i = 0; i < rect.width; ++i) {\n\t\t\tfor (j = 0; j < rect.height; ++j) {\n\t\t\t\tindex = (i + rect.x + (j + rect.y)*this._size)*4;\n\n\t\t\t\tdata[index] = data[index]*colorTransform.redMultiplier + colorTransform.redOffset;\n\t\t\t\tdata[index + 1] = data[index + 1]*colorTransform.greenMultiplier + colorTransform.greenOffset;\n\t\t\t\tdata[index + 2] = data[index + 2]*colorTransform.blueMultiplier + colorTransform.blueOffset;\n\t\t\t\tdata[index + 3] = data[index + 3]*colorTransform.alphaMultiplier + colorTransform.alphaOffset;\n\t\t\t}\n\t\t}\n\n\t\tif (!this._locked) {\n\t\t\tthis._context[side].putImageData(this._imageData[side], 0, 0);\n\t\t\tthis._imageData[side] = null;\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Transfers data from one channel of another BitmapImage2D object or the\n\t * current BitmapImage2D object into a channel of the current BitmapImage2D object.\n\t * All of the data in the other channels in the destination BitmapImage2D object\n\t * are preserved.\n\t *\n\t * <p>The source channel value and destination channel value can be one of\n\t * following values: </p>\n\t *\n\t * <ul>\n\t *   <li><code>BitmapImage2DChannel.RED</code></li>\n\t *   <li><code>BitmapImage2DChannel.GREEN</code></li>\n\t *   <li><code>BitmapImage2DChannel.BLUE</code></li>\n\t *   <li><code>BitmapImage2DChannel.ALPHA</code></li>\n\t * </ul>\n\t *\n\t * @param sourceBitmapImage2D The input bitmap image to use. The source image\n\t *                         can be a different BitmapImage2D object or it can\n\t *                         refer to the current BitmapImage2D object.\n\t * @param sourceRect       The source Rectangle object. To copy only channel\n\t *                         data from a smaller area within the bitmap,\n\t *                         specify a source rectangle that is smaller than\n\t *                         the overall size of the BitmapImage2D object.\n\t * @param destPoint        The destination Point object that represents the\n\t *                         upper-left corner of the rectangular area where\n\t *                         the new channel data is placed. To copy only\n\t *                         channel data from one area to a different area in\n\t *                         the destination image, specify a point other than\n\t *                        (0,0).\n\t * @param sourceChannel    The source channel. Use a value from the\n\t *                         BitmapImage2DChannel class\n\t *                        (<code>BitmapImage2DChannel.RED</code>,\n\t *                         <code>BitmapImage2DChannel.BLUE</code>,\n\t *                         <code>BitmapImage2DChannel.GREEN</code>,\n\t *                         <code>BitmapImage2DChannel.ALPHA</code>).\n\t * @param destChannel      The destination channel. Use a value from the\n\t *                         BitmapImage2DChannel class\n\t *                        (<code>BitmapImage2DChannel.RED</code>,\n\t *                         <code>BitmapImage2DChannel.BLUE</code>,\n\t *                         <code>BitmapImage2DChannel.GREEN</code>,\n\t *                         <code>BitmapImage2DChannel.ALPHA</code>).\n\t * @throws TypeError The sourceBitmapImage2D, sourceRect or destPoint are null.\n\t */\n\tpublic copyChannel(side:number, sourceBitmap:BitmapImage2D, sourceRect:Rectangle, destPoint:Point, sourceChannel:number, destChannel:number)\n\t{\n\t\tvar imageData:ImageData = sourceBitmap.getImageData();\n\n\t\tif (!this._locked)\n\t\t\tthis._imageData[side] = this._context[side].getImageData(0, 0, this._size, this._size);\n\n\t\tvar sourceData:Array<number> = sourceBitmap.getImageData().data;\n\t\tvar destData:Array<number> = this._imageData[side].data;\n\n\t\tvar sourceOffset:number = Math.round(Math.log(sourceChannel)/Math.log(2));\n\t\tvar destOffset:number = Math.round(Math.log(destChannel)/Math.log(2));\n\n\t\tvar i:number /*uint*/, j:number /*uint*/, sourceIndex:number /*uint*/, destIndex:number /*uint*/;\n\t\tfor (i = 0; i < sourceRect.width; ++i) {\n\t\t\tfor (j = 0; j < sourceRect.height; ++j) {\n\t\t\t\tsourceIndex = (i + sourceRect.x + (j + sourceRect.y)*sourceBitmap.width)*4;\n\t\t\t\tdestIndex = (i + destPoint.x + (j + destPoint.y)*this._size)*4;\n\n\t\t\t\tdestData[destIndex + destOffset] = sourceData[sourceIndex + sourceOffset];\n\t\t\t}\n\t\t}\n\n\t\tif (!this._locked) {\n\t\t\tthis._context[side].putImageData(this._imageData[side], 0, 0);\n\t\t\tthis._imageData[side] = null;\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Provides a fast routine to perform pixel manipulation between images with\n\t * no stretching, rotation, or color effects. This method copies a\n\t * rectangular area of a source image to a rectangular area of the same size\n\t * at the destination point of the destination BitmapImage2D object.\n\t *\n\t * <p>If you include the <code>alphaBitmap</code> and <code>alphaPoint</code>\n\t * parameters, you can use a secondary image as an alpha source for the\n\t * source image. If the source image has alpha data, both sets of alpha data\n\t * are used to composite pixels from the source image to the destination\n\t * image. The <code>alphaPoint</code> parameter is the point in the alpha\n\t * image that corresponds to the upper-left corner of the source rectangle.\n\t * Any pixels outside the intersection of the source image and alpha image\n\t * are not copied to the destination image.</p>\n\t *\n\t * <p>The <code>mergeAlpha</code> property controls whether or not the alpha\n\t * channel is used when a transparent image is copied onto another\n\t * transparent image. To copy pixels with the alpha channel data, set the\n\t * <code>mergeAlpha</code> property to <code>true</code>. By default, the\n\t * <code>mergeAlpha</code> property is <code>false</code>.</p>\n\t *\n\t * @param sourceBitmapImage2D The input bitmap image from which to copy pixels.\n\t *                         The source image can be a different BitmapImage2D\n\t *                         instance, or it can refer to the current\n\t *                         BitmapImage2D instance.\n\t * @param sourceRect       A rectangle that defines the area of the source\n\t *                         image to use as input.\n\t * @param destPoint        The destination point that represents the\n\t *                         upper-left corner of the rectangular area where\n\t *                         the new pixels are placed.\n\t * @param alphaBitmapImage2D  A secondary, alpha BitmapImage2D object source.\n\t * @param alphaPoint       The point in the alpha BitmapImage2D object source\n\t *                         that corresponds to the upper-left corner of the\n\t *                         <code>sourceRect</code> parameter.\n\t * @param mergeAlpha       To use the alpha channel, set the value to\n\t *                         <code>true</code>. To copy pixels with no alpha\n\t *                         channel, set the value to <code>false</code>.\n\t * @throws TypeError The sourceBitmapImage2D, sourceRect, destPoint are null.\n\t */\n\tpublic copyPixels(side:number, source:BitmapImage2D, sourceRect:Rectangle, destRect:Rectangle);\n\tpublic copyPixels(side:number, source:HTMLImageElement, sourceRect:Rectangle, destRect:Rectangle);\n\tpublic copyPixels(side:number, source:any, sourceRect:Rectangle, destRect:Rectangle)\n\t{\n\t\tif (source instanceof BitmapImage2D)\n\t\t\tsource = source.getCanvas();\n\n\t\tif (this._locked) {\n\n\t\t\t// If canvas is locked:\n\t\t\t//\n\t\t\t//      1) copy image data back to canvas\n\t\t\t//      2) draw object\n\t\t\t//      3) read _imageData back out\n\n\t\t\tthis._context[side].putImageData(this._imageData[side], 0, 0); // at coords 0,0\n\t\t\tBitmapImageUtils._copyPixels(this._context[side], source, sourceRect, destRect);\n\t\t\tthis._imageData[side] = this._context[side].getImageData(0, 0, this._size, this._size);\n\n\t\t} else {\n\t\t\tBitmapImageUtils._copyPixels(this._context[side], source, sourceRect, destRect);\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Frees memory that is used to store the BitmapImage2D object.\n\t *\n\t * <p>When the <code>dispose()</code> method is called on an image, the width\n\t * and height of the image are set to 0. All subsequent calls to methods or\n\t * properties of this BitmapImage2D instance fail, and an exception is thrown.\n\t * </p>\n\t *\n\t * <p><code>BitmapImage2D.dispose()</code> releases the memory occupied by the\n\t * actual bitmap data, immediately(a bitmap can consume up to 64 MB of\n\t * memory). After using <code>BitmapImage2D.dispose()</code>, the BitmapImage2D\n\t * object is no longer usable and an exception may be thrown if\n\t * you call functions on the BitmapImage2D object. However,\n\t * <code>BitmapImage2D.dispose()</code> does not garbage collect the BitmapImage2D\n\t * object(approximately 128 bytes); the memory occupied by the actual\n\t * BitmapImage2D object is released at the time the BitmapImage2D object is\n\t * collected by the garbage collector.</p>\n\t *\n\t */\n\tpublic dispose()\n\t{\n\t\tsuper.dispose();\n\n\t\tfor (var i:number = 0; i < 6; i++) {\n\t\t\tthis._context[i] = null;\n\t\t\tthis._imageCanvas[i] = null;\n\t\t\tthis._imageData[i] = null;\n\t\t}\n\n\t\tthis._transparent = null;\n\t\tthis._locked = null;\n\t}\n\n\t/**\n\t * Draws the <code>source</code> display object onto the bitmap image, using\n\t * the NME software renderer. You can specify <code>matrix</code>,\n\t * <code>colorTransform</code>, <code>blendMode</code>, and a destination\n\t * <code>clipRect</code> parameter to control how the rendering performs.\n\t * Optionally, you can specify whether the bitmap should be smoothed when\n\t * scaled(this works only if the source object is a BitmapImage2D object).\n\t *\n\t * <p>The source display object does not use any of its applied\n\t * transformations for this call. It is treated as it exists in the library\n\t * or file, with no matrix transform, no color transform, and no blend mode.\n\t * To draw a display object(such as a movie clip) by using its own transform\n\t * properties, you can copy its <code>transform</code> property object to the\n\t * <code>transform</code> property of the Bitmap object that uses the\n\t * BitmapImage2D object.</p>\n\t *\n\t * @param source         The display object or BitmapImage2D object to draw to\n\t *                       the BitmapImage2D object.(The DisplayObject and\n\t *                       BitmapImage2D classes implement the IBitmapDrawable\n\t *                       interface.)\n\t * @param matrix         A Matrix object used to scale, rotate, or translate\n\t *                       the coordinates of the bitmap. If you do not want to\n\t *                       apply a matrix transformation to the image, set this\n\t *                       parameter to an identity matrix, created with the\n\t *                       default <code>new Matrix()</code> constructor, or\n\t *                       pass a <code>null</code> value.\n\t * @param colorTransform A ColorTransform object that you use to adjust the\n\t *                       color values of the bitmap. If no object is\n\t *                       supplied, the bitmap image's colors are not\n\t *                       transformed. If you must pass this parameter but you\n\t *                       do not want to transform the image, set this\n\t *                       parameter to a ColorTransform object created with\n\t *                       the default <code>new ColorTransform()</code>\n\t *                       constructor.\n\t * @param blendMode      A string value, from the flash.display.BlendMode\n\t *                       class, specifying the blend mode to be applied to\n\t *                       the resulting bitmap.\n\t * @param clipRect       A Rectangle object that defines the area of the\n\t *                       source object to draw. If you do not supply this\n\t *                       value, no clipping occurs and the entire source\n\t *                       object is drawn.\n\t * @param smoothing      A Boolean value that determines whether a BitmapImage2D\n\t *                       object is smoothed when scaled or rotated, due to a\n\t *                       scaling or rotation in the <code>matrix</code>\n\t *                       parameter. The <code>smoothing</code> parameter only\n\t *                       applies if the <code>source</code> parameter is a\n\t *                       BitmapImage2D object. With <code>smoothing</code> set\n\t *                       to <code>false</code>, the rotated or scaled\n\t *                       BitmapImage2D image can appear pixelated or jagged. For\n\t *                       example, the following two images use the same\n\t *                       BitmapImage2D object for the <code>source</code>\n\t *                       parameter, but the <code>smoothing</code> parameter\n\t *                       is set to <code>true</code> on the left and\n\t *                       <code>false</code> on the right:\n\t *\n\t *                       <p>Drawing a bitmap with <code>smoothing</code> set\n\t *                       to <code>true</code> takes longer than doing so with\n\t *                       <code>smoothing</code> set to\n\t *                       <code>false</code>.</p>\n\t * @throws ArgumentError The <code>source</code> parameter is not a\n\t *                       BitmapImage2D or DisplayObject object.\n\t * @throws ArgumentError The source is null or not a valid IBitmapDrawable\n\t *                       object.\n\t * @throws SecurityError The <code>source</code> object and(in the case of a\n\t *                       Sprite or MovieClip object) all of its child objects\n\t *                       do not come from the same domain as the caller, or\n\t *                       are not in a content that is accessible to the\n\t *                       caller by having called the\n\t *                       <code>Security.allowDomain()</code> method. This\n\t *                       restriction does not apply to AIR content in the\n\t *                       application security sandbox.\n\t */\n\tpublic draw(side:number, source:BitmapImage2D, matrix?:Matrix, colorTransform?:ColorTransform, blendMode?:BlendMode, clipRect?:Rectangle, smoothing?:boolean);\n\tpublic draw(side:number, source:HTMLElement, matrix?:Matrix, colorTransform?:ColorTransform, blendMode?:BlendMode, clipRect?:Rectangle, smoothing?:boolean);\n\tpublic draw(side:number, source:any, matrix?:Matrix, colorTransform?:ColorTransform, blendMode?:BlendMode, clipRect?:Rectangle, smoothing?:boolean)\n\t{\n\t\tif (source instanceof BitmapImage2D)\n\t\t\tsource = source.getCanvas();\n\n\t\tif (this._locked) {\n\n\t\t\t// If canvas is locked:\n\t\t\t//\n\t\t\t//      1) copy image data back to canvas\n\t\t\t//      2) draw object\n\t\t\t//      3) read _imageData back out\n\n\t\t\tthis._context[side].putImageData(this._imageData[side], 0, 0); // at coords 0,0\n\t\t\tBitmapImageUtils._draw(this._context[side], source, matrix, colorTransform, blendMode, clipRect, smoothing);\n\t\t\tthis._imageData[side] = this._context[side].getImageData(0, 0, this._size, this._size);\n\t\t} else {\n\t\t\tBitmapImageUtils._draw(this._context[side], source, matrix, colorTransform, blendMode, clipRect, smoothing);\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Fills a rectangular area of pixels with a specified ARGB color.\n\t *\n\t * @param rect  The rectangular area to fill.\n\t * @param color The ARGB color value that fills the area. ARGB colors are\n\t *              often specified in hexadecimal format; for example,\n\t *              0xFF336699.\n\t * @throws TypeError The rect is null.\n\t */\n\tpublic fillRect(side:number, rect:Rectangle, color:number)\n\t{\n\t\tif (this._locked) {\n\n\t\t\t// If canvas is locked:\n\t\t\t//\n\t\t\t//      1) copy image data back to canvas\n\t\t\t//      2) apply fill\n\t\t\t//      3) read _imageData back out\n\n\t\t\tif (this._imageData[side])\n\t\t\t\tthis._context[side].putImageData(this._imageData[side], 0, 0); // at coords 0,0\n\n\t\t\tBitmapImageUtils._fillRect(this._context[side], rect, color, this._transparent);\n\n\t\t\tif (this._imageData[side])\n\t\t\t\tthis._imageData[side] = this._context[side].getImageData(0, 0, this._size, this._size);\n\t\t} else {\n\t\t\tBitmapImageUtils._fillRect(this._context[side], rect, color, this._transparent);\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Returns an integer that represents an RGB pixel value from a BitmapImage2D\n\t * object at a specific point(<i>x</i>, <i>y</i>). The\n\t * <code>getPixel()</code> method returns an unmultiplied pixel value. No\n\t * alpha information is returned.\n\t *\n\t * <p>All pixels in a BitmapImage2D object are stored as premultiplied color\n\t * values. A premultiplied image pixel has the red, green, and blue color\n\t * channel values already multiplied by the alpha data. For example, if the\n\t * alpha value is 0, the values for the RGB channels are also 0, independent\n\t * of their unmultiplied values. This loss of data can cause some problems\n\t * when you perform operations. All BitmapImage2D methods take and return\n\t * unmultiplied values. The internal pixel representation is converted from\n\t * premultiplied to unmultiplied before it is returned as a value. During a\n\t * set operation, the pixel value is premultiplied before the raw image pixel\n\t * is set.</p>\n\t *\n\t * @param x The <i>x</i> position of the pixel.\n\t * @param y The <i>y</i> position of the pixel.\n\t * @return A number that represents an RGB pixel value. If the(<i>x</i>,\n\t *         <i>y</i>) coordinates are outside the bounds of the image, the\n\t *         method returns 0.\n\t */\n\tpublic getPixel(side:number, x:number, y:number):number\n\t{\n\t\tvar r:number;\n\t\tvar g:number;\n\t\tvar b:number;\n\t\tvar a:number;\n\n\t\tif (!this._locked) {\n\t\t\tvar pixelData:ImageData = this._context[side].getImageData(x, y, 1, 1);\n\n\t\t\tr = pixelData.data[0];\n\t\t\tg = pixelData.data[1];\n\t\t\tb = pixelData.data[2];\n\t\t\ta = pixelData.data[3];\n\n\t\t} else {\n\t\t\tvar index:number = (x + y*this._size)*4;\n\n\t\t\tr = this._imageData[side].data[index + 0];\n\t\t\tg = this._imageData[side].data[index + 1];\n\t\t\tb = this._imageData[side].data[index + 2];\n\t\t\ta = this._imageData[side].data[index + 3];\n\t\t}\n\n\t\t//returns black if fully transparent\n\t\tif (!a)\n\t\t\treturn 0x0;\n\n\t\treturn (r << 16) | (g << 8) | b;\n\t}\n\n\t/**\n\t * Returns an ARGB color value that contains alpha channel data and RGB data.\n\t * This method is similar to the <code>getPixel()</code> method, which\n\t * returns an RGB color without alpha channel data.\n\t *\n\t * <p>All pixels in a BitmapImage2D object are stored as premultiplied color\n\t * values. A premultiplied image pixel has the red, green, and blue color\n\t * channel values already multiplied by the alpha data. For example, if the\n\t * alpha value is 0, the values for the RGB channels are also 0, independent\n\t * of their unmultiplied values. This loss of data can cause some problems\n\t * when you perform operations. All BitmapImage2D methods take and return\n\t * unmultiplied values. The internal pixel representation is converted from\n\t * premultiplied to unmultiplied before it is returned as a value. During a\n\t * set operation, the pixel value is premultiplied before the raw image pixel\n\t * is set.</p>\n\t *\n\t * @param x The <i>x</i> position of the pixel.\n\t * @param y The <i>y</i> position of the pixel.\n\t * @return A number representing an ARGB pixel value. If the(<i>x</i>,\n\t *         <i>y</i>) coordinates are outside the bounds of the image, 0 is\n\t *         returned.\n\t */\n\tpublic getPixel32(side:number, x, y):number\n\t{\n\t\tvar r:number;\n\t\tvar g:number;\n\t\tvar b:number;\n\t\tvar a:number;\n\n\t\tif (!this._locked) {\n\t\t\tvar pixelData:ImageData = this._context[side].getImageData(x, y, 1, 1);\n\n\t\t\tr = pixelData.data[0];\n\t\t\tg = pixelData.data[1];\n\t\t\tb = pixelData.data[2];\n\t\t\ta = pixelData.data[3];\n\n\t\t} else {\n\t\t\tvar index:number = (x + y*this._size)*4;\n\n\t\t\tr = this._imageData[side].data[index + 0];\n\t\t\tg = this._imageData[side].data[index + 1];\n\t\t\tb = this._imageData[side].data[index + 2];\n\t\t\ta = this._imageData[side].data[index + 3];\n\t\t}\n\n\t\treturn (a << 24) | (r << 16) | (g << 8) | b;\n\t}\n\n\t/**\n\t * Locks an image so that any objects that reference the BitmapImage2D object,\n\t * such as Bitmap objects, are not updated when this BitmapImage2D object\n\t * changes. To improve performance, use this method along with the\n\t * <code>unlock()</code> method before and after numerous calls to the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method.\n\t *\n\t */\n\tpublic lock()\n\t{\n\t\tif (this._locked)\n\t\t\treturn;\n\n\t\tthis._locked = true;\n\n\t\tfor (var i:number = 0; i < 6; i++)\n\t\t\tthis._imageData[i] = this._context[i].getImageData(0, 0, this._size, this._size);\n\t}\n\n\t/**\n\t * Converts an Array into a rectangular region of pixel data. For each pixel,\n\t * an Array element is read and written into the BitmapImage2D pixel. The data\n\t * in the Array is expected to be 32-bit ARGB pixel values.\n\t *\n\t * @param rect        Specifies the rectangular region of the BitmapImage2D\n\t *                    object.\n\t * @param inputArray  An Array that consists of 32-bit unmultiplied pixel\n\t *                    values to be used in the rectangular region.\n\t * @throws RangeError The vector array is not large enough to read all the\n\t *                    pixel data.\n\t */\n\tpublic setArray(side:number, rect:Rectangle, inputArray:Array<number>)\n\t{\n\t\tif (!this._locked)\n\t\t\tthis._imageData[side] = this._context[side].getImageData(0, 0, this._size, this._size);\n\n\t\tvar i:number /*uint*/, j:number /*uint*/, index:number /*uint*/, argb:number[] /*uint*/;\n\t\tfor (i = 0; i < rect.width; ++i) {\n\t\t\tfor (j = 0; j < rect.height; ++j) {\n\t\t\t\targb = ColorUtils.float32ColorToARGB(inputArray[i + j*rect.width]);\n\t\t\t\tindex = (i + rect.x + (j + rect.y)*this._size)*4;\n\n\t\t\t\tthis._imageData[side].data[index + 0] = argb[1];\n\t\t\t\tthis._imageData[side].data[index + 1] = argb[2];\n\t\t\t\tthis._imageData[side].data[index + 2] = argb[3];\n\t\t\t\tthis._imageData[side].data[index + 3] = argb[0];\n\t\t\t}\n\t\t}\n\n\t\tif (!this._locked) {\n\t\t\tthis._context[side].putImageData(this._imageData[side], 0, 0);\n\t\t\tthis._imageData[side] = null;\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Sets a single pixel of a BitmapImage2D object. The current alpha channel\n\t * value of the image pixel is preserved during this operation. The value of\n\t * the RGB color parameter is treated as an unmultiplied color value.\n\t *\n\t * <p><b>Note:</b> To increase performance, when you use the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method repeatedly,\n\t * call the <code>lock()</code> method before you call the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method, and then call\n\t * the <code>unlock()</code> method when you have made all pixel changes.\n\t * This process prevents objects that reference this BitmapImage2D instance from\n\t * updating until you finish making the pixel changes.</p>\n\t *\n\t * @param x     The <i>x</i> position of the pixel whose value changes.\n\t * @param y     The <i>y</i> position of the pixel whose value changes.\n\t * @param color The resulting RGB color for the pixel.\n\t */\n\tpublic setPixel(side:number, x:number, y:number, color:number)\n\t{\n\t\tvar argb:number[] = ColorUtils.float32ColorToARGB(color);\n\n\t\tif (!this._locked)\n\t\t\tthis._imageData[side] = this._context[side].getImageData(0, 0, this._size, this._size);\n\n\t\tvar index:number = (x + y*this._size)*4;\n\n\t\tthis._imageData[side].data[index + 0] = argb[1];\n\t\tthis._imageData[side].data[index + 1] = argb[2];\n\t\tthis._imageData[side].data[index + 2] = argb[3];\n\t\tthis._imageData[side].data[index + 3] = 255;\n\n\t\tif (!this._locked) {\n\t\t\tthis._context[side].putImageData(this._imageData[side], 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Sets the color and alpha transparency values of a single pixel of a\n\t * BitmapImage2D object. This method is similar to the <code>setPixel()</code>\n\t * method; the main difference is that the <code>setPixel32()</code> method\n\t * takes an ARGB color value that contains alpha channel information.\n\t *\n\t * <p>All pixels in a BitmapImage2D object are stored as premultiplied color\n\t * values. A premultiplied image pixel has the red, green, and blue color\n\t * channel values already multiplied by the alpha data. For example, if the\n\t * alpha value is 0, the values for the RGB channels are also 0, independent\n\t * of their unmultiplied values. This loss of data can cause some problems\n\t * when you perform operations. All BitmapImage2D methods take and return\n\t * unmultiplied values. The internal pixel representation is converted from\n\t * premultiplied to unmultiplied before it is returned as a value. During a\n\t * set operation, the pixel value is premultiplied before the raw image pixel\n\t * is set.</p>\n\t *\n\t * <p><b>Note:</b> To increase performance, when you use the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method repeatedly,\n\t * call the <code>lock()</code> method before you call the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method, and then call\n\t * the <code>unlock()</code> method when you have made all pixel changes.\n\t * This process prevents objects that reference this BitmapImage2D instance from\n\t * updating until you finish making the pixel changes.</p>\n\t *\n\t * @param x     The <i>x</i> position of the pixel whose value changes.\n\t * @param y     The <i>y</i> position of the pixel whose value changes.\n\t * @param color The resulting ARGB color for the pixel. If the bitmap is\n\t *              opaque(not transparent), the alpha transparency portion of\n\t *              this color value is ignored.\n\t */\n\tpublic setPixel32(side:number, x, y, color:number)\n\t{\n\t\tvar argb:number[] = ColorUtils.float32ColorToARGB(color);\n\n\t\tif (!this._locked)\n\t\t\tthis._imageData[side] = this._context[side].getImageData(0, 0, this._size, this._size);\n\n\t\tvar index:number = (x + y*this._size)*4;\n\n\t\tthis._imageData[side].data[index + 0] = argb[1];\n\t\tthis._imageData[side].data[index + 1] = argb[2];\n\t\tthis._imageData[side].data[index + 2] = argb[3];\n\t\tthis._imageData[side].data[index + 3] = argb[0];\n\n\t\tif (!this._locked) {\n\t\t\tthis._context[side].putImageData(this._imageData[side], 0, 0);\n\t\t\tthis._imageData[side] = null;\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Converts a byte array into a rectangular region of pixel data. For each\n\t * pixel, the <code>ByteArray.readUnsignedInt()</code> method is called and\n\t * the return value is written into the pixel. If the byte array ends before\n\t * the full rectangle is written, the function returns. The data in the byte\n\t * array is expected to be 32-bit ARGB pixel values. No seeking is performed\n\t * on the byte array before or after the pixels are read.\n\t *\n\t * @param rect           Specifies the rectangular region of the BitmapImage2D\n\t *                       object.\n\t * @param inputByteArray A ByteArray object that consists of 32-bit\n\t *                       unmultiplied pixel values to be used in the\n\t *                       rectangular region.\n\t * @throws EOFError  The <code>inputByteArray</code> object does not include\n\t *                   enough data to fill the area of the <code>rect</code>\n\t *                   rectangle. The method fills as many pixels as possible\n\t *                   before throwing the exception.\n\t * @throws TypeError The rect or inputByteArray are null.\n\t */\n\tpublic setPixels(side:number, rect:Rectangle, inputByteArray:ByteArray)\n\t{\n\t\tif (!this._locked)\n\t\t\tthis._imageData[side] = this._context[side].getImageData(0, 0, this._size, this._size);\n\n\t\tinputByteArray.position = 0;\n\t\tvar i:number /*uint*/, j:number /*uint*/, index:number /*uint*/;\n\t\tfor (i = 0; i < rect.width; ++i) {\n\t\t\tfor (j = 0; j < rect.height; ++j) {\n\t\t\t\tindex = (i + rect.x + (j + rect.y)*this._size)*4;\n\n\t\t\t\tthis._imageData[side].data[index + 0] = inputByteArray.readUnsignedInt();\n\t\t\t\tthis._imageData[side].data[index + 1] = inputByteArray.readUnsignedInt();\n\t\t\t\tthis._imageData[side].data[index + 2] = inputByteArray.readUnsignedInt();\n\t\t\t\tthis._imageData[side].data[index + 3] = inputByteArray.readUnsignedInt();\n\t\t\t}\n\t\t}\n\n\t\tif (!this._locked) {\n\t\t\tthis._context[side].putImageData(this._imageData[side], 0, 0);\n\t\t\tthis._imageData[side] = null;\n\t\t}\n\n\t\tthis.invalidate();\n\t}\n\n\t/**\n\t * Unlocks an image so that any objects that reference the BitmapImage2D object,\n\t * such as Bitmap objects, are updated when this BitmapImage2D object changes.\n\t * To improve performance, use this method along with the <code>lock()</code>\n\t * method before and after numerous calls to the <code>setPixel()</code> or\n\t * <code>setPixel32()</code> method.\n\t *\n\t * @param changeRect The area of the BitmapImage2D object that has changed. If\n\t *                   you do not specify a value for this parameter, the\n\t *                   entire area of the BitmapImage2D object is considered\n\t *                   changed.\n\t */\n\tpublic unlock()\n\t{\n\t\tif (!this._locked)\n\t\t\treturn;\n\n\t\tthis._locked = false;\n\n\t\tfor (var i:number = 0; i < 6; i++) {\n\t\t\tthis._context[i].putImageData(this._imageData[i], 0, 0); // at coords 0,0\n\t\t\tthis._imageData[i] = null;\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {ImageData}\n\t */\n\tpublic getImageData(side:number):ImageData\n\t{\n\t\tif (!this._locked)\n\t\t\treturn this._context[side].getImageData(0, 0, this._size, this._size);\n\n\t\treturn this._imageData[side];\n\t}\n\n\t/**\n\t *\n\t * @returns {HTMLCanvasElement}\n\t */\n\tpublic getCanvas(side:number):HTMLCanvasElement\n\t{\n\t\treturn this._imageCanvas[side];\n\t}\n\n\t/**\n\t *\n\t * @param width\n\t * @param height\n\t * @private\n\t */\n\tpublic _setSize(size:number)\n\t{\n\t\tsuper._setSize(size);\n\n\t\tfor (var i:number = 0; i < 6; i++) {\n\t\t\tif (this._locked)\n\t\t\t\tthis._context[i].putImageData(this._imageData[i], 0, 0);\n\n\t\t\tthis._imageCanvas[i].width = size;\n\t\t\tthis._imageCanvas[i].height = size;\n\n\t\t\tif (this._locked)\n\t\t\t\tthis._imageData[i] = this._context[i].getImageData(0, 0, this._size, this._size);\n\t\t}\n\t}\n}\n\nexport = BitmapImageCube;",
    "/**\n * A class that provides constant values for visual blend mode effects. These\n * constants are used in the following:\n * <ul>\n *   <li> The <code>blendMode</code> property of the\n * flash.display.DisplayObject class.</li>\n *   <li> The <code>blendMode</code> parameter of the <code>draw()</code>\n * method of the flash.display.BitmapData class</li>\n * </ul>\n */\nclass BlendMode\n{\n\t/**\n\t * Adds the values of the constituent colors of the display object to the\n\t * colors of its background, applying a ceiling of 0xFF. This setting is\n\t * commonly used for animating a lightening dissolve between two objects.\n\t *\n\t * <p>For example, if the display object has a pixel with an RGB value of\n\t * 0xAAA633, and the background pixel has an RGB value of 0xDD2200, the\n\t * resulting RGB value for the displayed pixel is 0xFFC833(because 0xAA +\n\t * 0xDD > 0xFF, 0xA6 + 0x22 = 0xC8, and 0x33 + 0x00 = 0x33).</p>\n\t */\n\tpublic static ADD:string = \"add\";\n\n\t/**\n\t * Applies the alpha value of each pixel of the display object to the\n\t * background. This requires the <code>blendMode</code> property of the\n\t * parent display object be set to\n\t * <code>away.base.BlendMode.LAYER</code>.\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static ALPHA:string = \"alpha\";\n\n\t/**\n\t * Selects the darker of the constituent colors of the display object and the\n\t * colors of the background(the colors with the smaller values). This\n\t * setting is commonly used for superimposing type.\n\t *\n\t * <p>For example, if the display object has a pixel with an RGB value of\n\t * 0xFFCC33, and the background pixel has an RGB value of 0xDDF800, the\n\t * resulting RGB value for the displayed pixel is 0xDDCC00(because 0xFF >\n\t * 0xDD, 0xCC < 0xF8, and 0x33 > 0x00 = 33).</p>\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static DARKEN:string = \"darken\";\n\n\t/**\n\t * Compares the constituent colors of the display object with the colors of\n\t * its background, and subtracts the darker of the values of the two\n\t * constituent colors from the lighter value. This setting is commonly used\n\t * for more vibrant colors.\n\t *\n\t * <p>For example, if the display object has a pixel with an RGB value of\n\t * 0xFFCC33, and the background pixel has an RGB value of 0xDDF800, the\n\t * resulting RGB value for the displayed pixel is 0x222C33(because 0xFF -\n\t * 0xDD = 0x22, 0xF8 - 0xCC = 0x2C, and 0x33 - 0x00 = 0x33).</p>\n\t */\n\tpublic static DIFFERENCE:string = \"difference\";\n\n\t/**\n\t * Erases the background based on the alpha value of the display object. This\n\t * process requires that the <code>blendMode</code> property of the parent\n\t * display object be set to <code>flash.display.BlendMode.LAYER</code>.\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static ERASE:string = \"erase\";\n\n\t/**\n\t * Adjusts the color of each pixel based on the darkness of the display\n\t * object. If the display object is lighter than 50% gray, the display object\n\t * and background colors are screened, which results in a lighter color. If\n\t * the display object is darker than 50% gray, the colors are multiplied,\n\t * which results in a darker color. This setting is commonly used for shading\n\t * effects.\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static HARDLIGHT:string = \"hardlight\";\n\n\t/**\n\t * Inverts the background.\n\t */\n\tpublic static INVERT:string = \"invert\";\n\n\t/**\n\t * Forces the creation of a transparency group for the display object. This\n\t * means that the display object is precomposed in a temporary buffer before\n\t * it is processed further. The precomposition is done automatically if the\n\t * display object is precached by means of bitmap caching or if the display\n\t * object is a display object container that has at least one child object\n\t * with a <code>blendMode</code> setting other than <code>\"normal\"</code>.\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static LAYER:string = \"layer\";\n\n\t/**\n\t * Selects the lighter of the constituent colors of the display object and\n\t * the colors of the background(the colors with the larger values). This\n\t * setting is commonly used for superimposing type.\n\t *\n\t * <p>For example, if the display object has a pixel with an RGB value of\n\t * 0xFFCC33, and the background pixel has an RGB value of 0xDDF800, the\n\t * resulting RGB value for the displayed pixel is 0xFFF833(because 0xFF >\n\t * 0xDD, 0xCC < 0xF8, and 0x33 > 0x00 = 33).</p>\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static LIGHTEN:string = \"lighten\";\n\n\t/**\n\t * Multiplies the values of the display object constituent colors by the\n\t * constituent colors of the background color, and normalizes by dividing by\n\t * 0xFF, resulting in darker colors. This setting is commonly used for\n\t * shadows and depth effects.\n\t *\n\t * <p>For example, if a constituent color(such as red) of one pixel in the\n\t * display object and the corresponding color of the pixel in the background\n\t * both have the value 0x88, the multiplied result is 0x4840. Dividing by\n\t * 0xFF yields a value of 0x48 for that constituent color, which is a darker\n\t * shade than the color of the display object or the color of the\n\t * background.</p>\n\t */\n\tpublic static MULTIPLY:string = \"multiply\";\n\n\t/**\n\t * The display object appears in front of the background. Pixel values of the\n\t * display object override the pixel values of the background. Where the\n\t * display object is transparent, the background is visible.\n\t */\n\tpublic static NORMAL:string = \"normal\";\n\n\t/**\n\t * Adjusts the color of each pixel based on the darkness of the background.\n\t * If the background is lighter than 50% gray, the display object and\n\t * background colors are screened, which results in a lighter color. If the\n\t * background is darker than 50% gray, the colors are multiplied, which\n\t * results in a darker color. This setting is commonly used for shading\n\t * effects.\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static OVERLAY:string = \"overlay\";\n\n\t/**\n\t * Multiplies the complement(inverse) of the display object color by the\n\t * complement of the background color, resulting in a bleaching effect. This\n\t * setting is commonly used for highlights or to remove black areas of the\n\t * display object.\n\t */\n\tpublic static SCREEN:string = \"screen\";\n\n\t/**\n\t * Uses a shader to define the blend between objects.\n\t *\n\t * <p>Setting the <code>blendShader</code> property to a Shader instance\n\t * automatically sets the display object's <code>blendMode</code> property to\n\t * <code>BlendMode.SHADER</code>. If the <code>blendMode</code> property is\n\t * set to <code>BlendMode.SHADER</code> without first setting the\n\t * <code>blendShader</code> property, the <code>blendMode</code> property is\n\t * set to <code>BlendMode.NORMAL</code> instead. If the\n\t * <code>blendShader</code> property is set(which sets the\n\t * <code>blendMode</code> property to <code>BlendMode.SHADER</code>), then\n\t * later the value of the <code>blendMode</code> property is changed, the\n\t * blend mode can be reset to use the blend shader simply by setting the\n\t * <code>blendMode</code> property to <code>BlendMode.SHADER</code>. The\n\t * <code>blendShader</code> property does not need to be set again except to\n\t * change the shader that's used to define the blend mode.</p>\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static SHADER:string = \"shader\";\n\n\t/**\n\t * Subtracts the values of the constituent colors in the display object from\n\t * the values of the background color, applying a floor of 0. This setting is\n\t * commonly used for animating a darkening dissolve between two objects.\n\t *\n\t * <p>For example, if the display object has a pixel with an RGB value of\n\t * 0xAA2233, and the background pixel has an RGB value of 0xDDA600, the\n\t * resulting RGB value for the displayed pixel is 0x338400(because 0xDD -\n\t * 0xAA = 0x33, 0xA6 - 0x22 = 0x84, and 0x00 - 0x33 < 0x00).</p>\n\t */\n\tpublic static SUBTRACT:string = \"subtract\";\n}\n\nexport = BlendMode;",
    "import IImageCanvas                = require(\"awayjs-core/lib/image/IImageCanvas\");\nimport CPURenderingContext2D = require('awayjs-core/lib/image/CPURenderingContext2D');\nimport ImageData = require('awayjs-core/lib/image/ImageData');\n\nclass CPUCanvas implements IImageCanvas {\n    public width:number = 1;\n    public height:number = 1;\n\n    private imageData:ImageData;\n\n    getContext(contextId:string):CanvasRenderingContext2D {\n        return new CPURenderingContext2D(this);\n    }\n\n    constructor() {\n        this.reset();\n    }\n\n    public reset() {\n        if (!this.imageData) {\n            this.imageData = new ImageData(this.width, this.height);\n        }else{\n            this.imageData.width = this.width;\n            this.imageData.height = this.height;\n\n            if(this.imageData.data) {\n                this.imageData.data.length = 0;\n                this.imageData.data = null;\n            }\n            this.imageData.data = new Uint8Array(this.width*this.height*4);\n        }\n\n        for (var i:number = 0; i < this.width * this.height * 4; i += 4) {\n            this.imageData.data[i] = 255;\n            this.imageData.data[i + 1] = 255;\n            this.imageData.data[i + 2] = 255;\n            this.imageData.data[i + 3] = 255;\n        }\n    }\n\n    public getImageData():ImageData {\n        if (this.imageData.width != this.width || this.imageData.height != this.height) {\n            this.reset();\n        }\n        return this.imageData;\n    }\n\n\n}\nexport = CPUCanvas;",
    "import ImageData = require('awayjs-core/lib/image/ImageData');\nimport CPUCanvas = require('awayjs-core/lib/image/CPUCanvas');\nimport BitmapImage2D = require(\"awayjs-core/lib/image/BitmapImage2D\");\nimport Matrix = require(\"awayjs-core/lib/geom/Matrix\");\nimport Point = require(\"awayjs-core/lib/geom/Point\");\n\n//TODO: implement all methods\nclass CPURenderingContext2D implements CanvasRenderingContext2D {\n    public miterLimit:number;\n    public font:string;\n    public globalCompositeOperation:string;\n    public msFillRule:string;\n    public lineCap:string;\n    public msImageSmoothingEnabled:boolean;\n    public lineDashOffset:number;\n    public shadowColor:string;\n    public lineJoin:string;\n    public shadowOffsetX:number;\n    public lineWidth:number;\n    public canvas:HTMLCanvasElement;\n    public strokeStyle:any;\n    public globalAlpha:number;\n    public shadowOffsetY:number;\n    public fillStyle:any;\n    public shadowBlur:number;\n    public textAlign:string;\n    public textBaseline:string;\n\n    public cpuCanvas:CPUCanvas;\n\n    private matrix:Matrix;\n\n    constructor(cpuCanvas:CPUCanvas) {\n        this.cpuCanvas = cpuCanvas;\n    }\n\n    public restore():void {\n        this.matrix = null;\n    }\n\n    public setTransform(m11:number, m12:number, m21:number, m22:number, dx:number, dy:number):void {\n        this.matrix = new Matrix(m11, m12, m21, m22, dx, dy);\n    }\n\n    public save():void {\n    }\n\n    public arc(x:number, y:number, radius:number, startAngle:number, endAngle:number, anticlockwise:boolean):void {\n    }\n\n    public measureText(text:string):TextMetrics {\n        return undefined;\n    }\n\n    public isPointInPath(x:number, y:number, fillRule:string):boolean {\n        return undefined;\n    }\n\n    public quadraticCurveTo(cpx:number, cpy:number, x:number, y:number):void {\n    }\n\n    public putImageData(imagedata:ImageData, dx:number, dy:number, dirtyX:number, dirtyY:number, dirtyWidth:number, dirtyHeight:number):void {\n    }\n\n    public rotate(angle:number):void {\n    }\n\n    public fillText(text:string, x:number, y:number, maxWidth:number):void {\n    }\n\n    public translate(x:number, y:number):void {\n    }\n\n    public scale(x:number, y:number):void {\n    }\n\n    public createRadialGradient(x0:number, y0:number, r0:number, x1:number, y1:number, r1:number):CanvasGradient {\n        return undefined;\n    }\n\n    public lineTo(x:number, y:number):void {\n    }\n\n    public getLineDash():number[] {\n        return undefined;\n    }\n\n    public fill(fillRule:string):void {\n    }\n\n    public createImageData(imageDataOrSw:any, sh:number):ImageData {\n        return undefined;\n    }\n\n    public createPattern(image:HTMLElement, repetition:string):CanvasPattern {\n        return undefined;\n    }\n\n    public closePath():void {\n    }\n\n    public rect(x:number, y:number, w:number, h:number):void {\n    }\n\n    public clip(fillRule:string):void {\n    }\n\n    public clearRect(x:number, y:number, w:number, h:number):void {\n        var imageData:ImageData = this.cpuCanvas.getImageData();\n        for (var i:number = x; i < x + w; i++) {\n            for (var j:number = y; j < y + h; j++) {\n\n                var index:number = (i + j * imageData.width) * 4;\n                imageData.data[index] = 0;\n                imageData.data[index + 1] = 0;\n                imageData.data[index + 2] = 0;\n                imageData.data[index + 3] = 0;\n            }\n        }\n    }\n\n    public moveTo(x:number, y:number):void {\n    }\n\n    public getImageData(sx:number, sy:number, sw:number, sh:number):ImageData {\n        //var result:ImageData = new ImageData(sw, sh);\n        //var i:number = 0;\n        //\n        //for (i = 0; i < sw * sh * 4; i += 4) {\n        //    result.data[i] = 255;\n        //    result.data[i + 1] = 255;\n        //    result.data[i + 2] = 255;\n        //    result.data[i + 3] = 255;\n        //}\n        //\n        //var imageData:ImageData = this.cpuCanvas.getImageData();\n        //for (i = sx; i < sx + sw; i++) {\n        //    for (var j:number = sy; j < sy + sh; j++) {\n        //        this.copyPixel32(result, i - sx, i - sy, imageData, i, j);\n        //    }\n        //}\n        return this.cpuCanvas.getImageData();\n    }\n\n    private point:Point = new Point();\n    private point2:Point = new Point();\n\n    private applyPixel32(target:ImageData, x:number, y:number, color:number[]) {\n        //todo: blending support\n\n        x = Math.floor(x);\n        y = Math.floor(y);\n\n        if (x < 0 || x >= target.width || y >= target.height || y < 0) return;\n        var index:number = (x + y * target.width) * 4;\n        //var alpha:number = color[3] / 255;\n        target.data[index] += color[0];\n        target.data[index + 1] += color[1];\n        target.data[index + 2] += color[2];\n        target.data[index + 3] += color[3];\n\n        //target.data[index] = color[0];\n        //target.data[index + 1] = color[1];\n        //target.data[index + 2] = color[2];\n        //target.data[index + 3] = color[3];\n\n        target.data[index] = target.data[index] & 0xFF;\n        target.data[index + 1] = target.data[index + 1] & 0xFF;\n        target.data[index + 2] = target.data[index + 2] & 0xFF;\n        target.data[index + 3] = target.data[index + 3] & 0xFF;\n    }\n\n    private copyPixel32(target:ImageData, x:number, y:number, source:ImageData, fromX:number, fromY:number) {\n        x = Math.floor(x);\n        y = Math.floor(y);\n        fromX = Math.floor(fromX);\n        fromY = Math.floor(fromY);\n\n        if (x < 0 || x >= target.width || y >= target.height || y < 0) return;\n        if (fromX < 0 || fromX >= source.width || fromY >= source.height || fromY < 0) return;\n        var index:number = (x + y * target.width) * 4;\n        var fromIndex:number = (fromX + fromY * source.width) * 4;\n        target.data[index] = source.data[fromIndex];\n        target.data[index + 1] = source.data[fromIndex + 1];\n        target.data[index + 2] = source.data[fromIndex + 2];\n        target.data[index + 3] = source.data[fromIndex + 3];\n    }\n\n    private parsedFillStyle:string;\n    private parsedA:number;\n    private parsedR:number;\n    private parsedG:number;\n    private parsedB:number;\n\n    public fillRect(x:number, y:number, w:number, h:number):void {\n        if (this.fillStyle) {\n            if (this.parsedFillStyle != this.fillStyle) {\n                var colorStrings:string[] = this.fillStyle.substring(5, this.fillStyle.lastIndexOf(\")\")).split(\",\");\n                this.parsedA = parseFloat(colorStrings[3]) * 255;\n                this.parsedR = parseInt(colorStrings[0]);\n                this.parsedG = parseInt(colorStrings[1]);\n                this.parsedB = parseInt(colorStrings[2]);\n                this.parsedFillStyle = this.fillStyle;\n            }\n\n            var imageData:ImageData = this.cpuCanvas.getImageData();\n            for (var i:number = x; i < x + w; i++) {\n                for (var j:number = y; j < y + h; j++) {\n\n                    var index:number = (i + j * imageData.width) * 4;\n                    imageData.data[index] = this.parsedR;\n                    imageData.data[index + 1] = this.parsedG;\n                    imageData.data[index + 2] = this.parsedB;\n                    imageData.data[index + 3] = this.parsedA;\n                }\n            }\n        }\n    }\n\n    public bezierCurveTo(cp1x:number, cp1y:number, cp2x:number, cp2y:number, x:number, y:number):void {\n    }\n\n    public drawImage(image:HTMLElement, offsetX:number, offsetY:number, width:number, height:number, canvasOffsetX:number, canvasOffsetY:number, canvasImageWidth:number, canvasImageHeight:number):void {\n        var b:any = image;\n        if (image.constructor.toString().indexOf(\"BitmapImage2D\") > -1) {\n            var bitmap:BitmapImage2D = <BitmapImage2D> b;\n            bitmap.lock();\n\n            this.drawBitmap(bitmap, offsetX, offsetY, width, height, canvasOffsetX, canvasOffsetY, canvasImageWidth, canvasImageHeight);\n\n            bitmap.unlock();\n        } else if (image.constructor.toString().indexOf(\"HTMLImage\") > -1) {\n            var htmlImage:HTMLImageElement = <HTMLImageElement> image;\n            var htmlCanvas:HTMLCanvasElement = <HTMLCanvasElement> document.createElement(\"canvas\");\n            htmlCanvas.width = htmlImage.width;\n            htmlCanvas.height = htmlImage.height;\n            var htmlContext:CanvasRenderingContext2D = htmlCanvas.getContext(\"2d\");\n            htmlContext.drawImage(htmlImage, 0, 0);\n            var htmlImageData:ImageData = htmlContext.getImageData(0, 0, htmlImage.width, htmlImage.height);\n\n            var resultBitmap:BitmapImage2D = new BitmapImage2D(htmlImage.width, htmlImage.height, true, 0, false);\n            resultBitmap.getImageData().data = htmlImageData.data;\n            var passBitmap:any = resultBitmap;\n            this.drawImage(passBitmap, offsetX, offsetY, width, height, canvasOffsetX, canvasOffsetY, canvasImageWidth, canvasImageHeight);\n        } else if (image.constructor.toString().indexOf(\"CPUCanvas\") > -1) {\n            //\n            var canvas:CPUCanvas = <CPUCanvas> b;\n            this.drawBitmap(canvas, offsetX, offsetY, width, height, canvasOffsetX, canvasOffsetY, canvasImageWidth, canvasImageHeight);\n            //\n            //if (!width || width == 0) {\n            //    width = canvas.width;\n            //    height = canvas.height;\n            //}\n            //\n            //var sourceData:ImageData = canvas.getImageData();\n            //var scaleX:number = width / sourceData.width;\n            //var scaleY:number = height / sourceData.height;\n            //\n            //var imageData:ImageData = this.cpuCanvas.getImageData();\n            //for (var i:number = offsetX; i < offsetX + width; i++) {\n            //    for (var j:number = offsetY; j < offsetY + height; j++) {\n            //        this.copyPixel32(imageData, i, j, sourceData, (i - offsetX) * scaleX, (j - offsetY) * scaleY);\n            //    }\n            //}\n        }\n    }\n\n    private drawBitmap(bitmap:any, offsetX:number, offsetY:number, width:number, height:number, canvasOffsetX:number, canvasOffsetY:number, canvasImageWidth:number, canvasImageHeight:number) {\n        if (!width || width == 0) {\n            width = bitmap.width;\n            height = bitmap.height;\n        }\n\n        if (!canvasOffsetX || canvasOffsetX == 0) {\n            canvasOffsetX = 0;\n            canvasOffsetY = 0;\n        }\n\n        if (!canvasImageWidth || canvasImageWidth == 0 || this.matrix) { //todo: if matrix? should we reset canvasImageWidth\n            canvasImageWidth = width;\n            canvasImageHeight = height;\n        }\n\n        //console.log(\"CPURenderingContext2D:drawBitmap(width: \" + width + \" height: \" + height + \" canvasImageWidth: \" + canvasImageWidth + \" canvasImageHeight: \" + canvasImageHeight);\n\n        var sourceData:ImageData = bitmap.getImageData();\n        var canvasImageData:ImageData = this.cpuCanvas.getImageData();\n\n        if (this.matrix || (canvasImageWidth != width || canvasImageHeight != height)) {\n            var matrix:Matrix = this.matrix;\n            if (!matrix) {\n                matrix = new Matrix();\n                matrix.scale(canvasImageWidth / width, canvasImageHeight / height);\n            }\n\n            var scaleX:number = Math.sqrt(matrix.a * matrix.a + matrix.b * matrix.b);\n            var scaleY:number = Math.sqrt(matrix.c * matrix.c + matrix.d * matrix.d);\n\n            canvasImageWidth = width * scaleX;\n            canvasImageHeight = height * scaleY;\n\n            matrix.tx += canvasOffsetX;\n            matrix.ty += canvasOffsetY;\n\n            canvasOffsetX = Math.floor(matrix.tx);\n            canvasOffsetY = Math.floor(matrix.ty);\n\n            matrix.invert();\n\n            if (scaleX >= 1 || scaleY >= 1) {\n                var p:Point = new Point();\n                for (var i:number = canvasOffsetX; i < canvasOffsetX + canvasImageWidth; i++) {\n                    for (var j:number = canvasOffsetY; j < canvasOffsetY + canvasImageHeight; j++) {\n                        p.x = i;\n                        p.y = j;\n                        p = matrix.transformPoint(p);\n\n                        var color:number[] = CPURenderingContext2D.sampleBilinear(p.x, p.y, sourceData);\n                        this.applyPixel32(canvasImageData, i, j, color);\n                    }\n                }\n            } else {\n                //decimate\n                var p1:Point = this.point;\n                var p2:Point = this.point2;\n                for (var i:number = canvasOffsetX; i < canvasOffsetX + canvasImageWidth; i++) {\n                    for (var j:number = canvasOffsetY; j < canvasOffsetY + canvasImageHeight; j++) {\n                        p1.x = i;\n                        p1.y = j;\n                        p1 = matrix.transformPoint(p1);\n\n                        p2.x = i + 1;\n                        p2.y = j + 1;\n                        p2 = matrix.transformPoint(p2);\n\n                        var color:number[] = CPURenderingContext2D.sampleBox(p1.x + offsetX, p1.y + offsetY, p2.x + offsetX, p2.y + offsetY, sourceData);\n                        this.applyPixel32(canvasImageData, i, j, color);\n                    }\n                }\n            }\n\n            matrix.invert();\n        } else {\n            for (var i:number = canvasOffsetX; i < canvasOffsetX + canvasImageWidth; i++) {\n                for (var j:number = canvasOffsetY; j < canvasOffsetY + canvasImageHeight; j++) {\n                    var color:number[] = CPURenderingContext2D.sample(i - canvasOffsetX + offsetX, j - canvasOffsetY + offsetY, sourceData);\n                    this.applyPixel32(canvasImageData, i, j, color);\n                }\n            }\n        }\n    }\n\n    public transform(m11:number, m12:number, m21:number, m22:number, dx:number, dy:number):void {\n    }\n\n    public stroke():void {\n    }\n\n    public strokeRect(x:number, y:number, w:number, h:number):void {\n    }\n\n    public setLineDash(segments:number[]):void {\n    }\n\n    public strokeText(text:string, x:number, y:number, maxWidth:number):void {\n    }\n\n    public beginPath():void {\n    }\n\n    public arcTo(x1:number, y1:number, x2:number, y2:number, radius:number):void {\n    }\n\n    public createLinearGradient(x0:number, y0:number, x1:number, y1:number):CanvasGradient {\n        return undefined;\n    }\n\n    private static sampleBilinear(u:number, v:number, texture:ImageData, texelSizeX:number = 1, texelSizeY:number = 1):number[] {\n        var color00:number[] = CPURenderingContext2D.sample(u, v, texture);\n        var color10:number[] = CPURenderingContext2D.sample(u + texelSizeX, v, texture);\n        var color01:number[] = CPURenderingContext2D.sample(u, v + texelSizeY, texture);\n        var color11:number[] = CPURenderingContext2D.sample(u + texelSizeX, v + texelSizeY, texture);\n\n        var a:number = u;\n        a = a - Math.floor(a);\n\n        var interColor0:number[] = CPURenderingContext2D.interpolateColor(color00, color10, a);\n        var interColor1:number[] = CPURenderingContext2D.interpolateColor(color01, color11, a);\n\n        var b:number = v;\n        b = b - Math.floor(b);\n        return CPURenderingContext2D.interpolateColor(interColor0, interColor1, b);\n    }\n\n    private static sample(u:number, v:number, imageData:ImageData):number[] {\n        u = Math.floor(u);\n        v = Math.floor(v);\n\n        var result:number[] = [0, 0, 0, 0];\n\n        if (u < 0 || u >= imageData.width || v < 0 || v >= imageData.height) {\n            return result;\n        }\n\n        var index:number = (u + v * imageData.width) * 4;\n        result[0] = imageData.data[index];\n        result[1] = imageData.data[index + 1];\n        result[2] = imageData.data[index + 2];\n        result[3] = imageData.data[index + 3];\n        return result;\n    }\n\n    private static sampleBox(x0:number, y0:number, x1:number, y1:number, texture:ImageData):number[] {\n        var area:number = 0;// -- total area accumulated in pixels\n        var result:number[] = [0, 0, 0, 0];\n        var x:number;\n        var y:number;\n        var xsize:number;\n        var ysize:number;\n\n        var fromY:number = Math.floor(y0);\n        var toY:number = Math.ceil(y1);\n\n        fromY = Math.max(Math.min(fromY, texture.height - 1), 0);\n        toY = Math.max(Math.min(toY, texture.height - 1), 0);\n\n        for (y = fromY; y < toY; y++) {\n            ysize = 1;\n\n            if (y < y0) {\n                ysize = ysize * (1.0 - (y0 - y))\n            }\n\n            if (y > y1) {\n                ysize = ysize * (1.0 - (y - y1))\n            }\n\n            var fromX:number = Math.floor(x0);\n            var toX:number = Math.ceil(x1);\n\n            fromX = Math.max(Math.min(fromX, texture.width - 1), 0);\n            toX = Math.max(Math.min(toX, texture.width - 1), 0);\n\n\n            for (x = fromX; x < toX; x++) {\n                xsize = ysize;\n\n                var color:number[] = CPURenderingContext2D.sample(x, y, texture);\n\n                if (x < x0) {\n                    xsize = xsize * (1.0 - (x0 - x))\n                }\n                if (x > x1) {\n                    xsize = xsize * (1.0 - (x - x1))\n                }\n                result[0] += color[0] * xsize;\n                result[1] += color[1] * xsize;\n                result[2] += color[2] * xsize;\n                result[3] += color[3] * xsize;\n                area = area + xsize\n            }\n        }\n\n        result[0] /= area;\n        result[1] /= area;\n        result[2] /= area;\n        result[3] /= area;\n\n        result[0] = result[0] & 0xFF;\n        result[1] = result[1] & 0xFF;\n        result[2] = result[2] & 0xFF;\n        result[3] = result[3] & 0xFF;\n        return result;\n    }\n\n    private static interpolateColor(source:number[], target:number[], a:number):number[] {\n        var result:number[] = [];\n        result[0] = source[0] + (target[0] - source[0]) * a;\n        result[1] = source[1] + (target[1] - source[1]) * a;\n        result[2] = source[2] + (target[2] - source[2]) * a;\n        result[3] = source[3] + (target[3] - source[3]) * a;\n        return result;\n    }\n\n}\nexport = CPURenderingContext2D;",
    "import ImageBase\t\t\t\t= require(\"awayjs-core/lib/image/ImageBase\");\nimport Sampler2D\t\t\t\t= require(\"awayjs-core/lib/image/Sampler2D\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\nimport ImageUtils\t\t\t\t= require(\"awayjs-core/lib/utils/ImageUtils\");\n\nclass Image2D extends ImageBase\n{\n\tpublic static assetType:string = \"[image Image2D]\";\n\n\tpublic _rect:Rectangle;\n\n\tprivate _powerOfTwo:boolean = true;\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn Image2D.assetType;\n\t}\n\n\t/**\n\t * The height of the image in pixels.\n\t */\n\tpublic get height():number\n\t{\n\t\treturn this._rect.height;\n\t}\n\n\tpublic set height(value:number)\n\t{\n\t\tif (this._rect.height == value)\n\t\t\treturn;\n\n\t\tthis._setSize(this._rect.width, value);\n\t}\n\n\t/**\n\t * The rectangle that defines the size and location of the bitmap image. The\n\t * top and left of the rectangle are 0; the width and height are equal to the\n\t * width and height in pixels of the BitmapData object.\n\t */\n\tpublic get rect():Rectangle\n\t{\n\t\treturn this._rect;\n\t}\n\n\t/**\n\t * The width of the bitmap image in pixels.\n\t */\n\tpublic get width():number\n\t{\n\t\treturn this._rect.width;\n\t}\n\n\tpublic set width(value:number)\n\t{\n\t\tif (this._rect.width == value)\n\t\t\treturn;\n\n\t\tthis._setSize(value, this._rect.height);\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(width:number, height:number, powerOfTwo:boolean = true)\n\t{\n\t\tsuper();\n\n\t\tthis._rect = new Rectangle(0, 0, width, height);\n\t\tthis._powerOfTwo = powerOfTwo;\n\t\tthis._testDimensions();\n\t}\n\n\t/**\n\t *\n\t * @param width\n\t * @param height\n\t * @private\n\t */\n\tpublic _setSize(width:number, height:number)\n\t{\n\t\tif (this._rect.width != width || this._rect.height != height)\n\t\t\tthis.clear();\n\n\t\tthis._rect.width = width;\n\t\tthis._rect.height = height;\n\n\t\tthis._testDimensions();\n\t}\n\n\t/**\n\t *\n\t * @private\n\t */\n\tprivate _testDimensions()\n\t{\n\t\tif (this._powerOfTwo && (!ImageUtils.isDimensionValid(this._rect.width) || !ImageUtils.isDimensionValid(this._rect.height)))\n\t\t\tthrow new Error(\"Invalid dimension: Width and height must be power of 2 and cannot exceed 2048\");\n\t}\n\n\t/**\n\t * Enable POT texture size validation\n\t * @returns {boolean}\n\t */\n\tpublic get powerOfTwo():boolean {\n\t\treturn this._powerOfTwo;\n\t}\n\n\tpublic set powerOfTwo(value:boolean) {\n\t\tif(this._powerOfTwo == value) return;\n\t\tthis._powerOfTwo = value;\n\t\tthis._testDimensions();\n\t}\n}\n\nexport = Image2D;",
    "import SamplerBase\t\t\t\t\t= require(\"awayjs-core/lib/image/SamplerBase\");\nimport AbstractMethodError\t\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\nimport AssetEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\nimport IAsset\t\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport AssetBase\t\t\t\t\t= require(\"awayjs-core/lib/library/AssetBase\");\n\nclass ImageBase extends AssetBase\n{\n\tpublic _pFormat:string = \"bgra\";\n\n\t/**\n\t *\n\t */\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get format():string\n\t{\n\t\treturn this._pFormat;\n\t}\n}\n\nexport = ImageBase;",
    "import ImageBase\t\t\t\t= require(\"awayjs-core/lib/image/ImageBase\");\nimport SamplerCube\t\t\t\t= require(\"awayjs-core/lib/image/SamplerCube\");\nimport ImageUtils\t\t\t\t= require(\"awayjs-core/lib/utils/ImageUtils\");\n\nclass ImageCube extends ImageBase\n{\n\tpublic static assetType:string = \"[image ImageCube]\";\n\n\tpublic _size:number;\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn ImageCube.assetType;\n\t}\n\n\t/**\n\t * The size of the cube bitmap in pixels.\n\t */\n\tpublic get size():number\n\t{\n\t\treturn this._size;\n\t}\n\n\tpublic set size(value:number)\n\t{\n\t\tif (this._size == value)\n\t\t\treturn;\n\n\t\tthis._setSize(this._size);\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(size:number)\n\t{\n\t\tsuper();\n\n\t\tthis._size = size;\n\n\t\tthis._testDimensions();\n\t}\n\n\t/**\n\t *\n\t * @param width\n\t * @param height\n\t * @private\n\t */\n\tpublic _setSize(size:number)\n\t{\n\t\tif (this._size != size)\n\t\t\tthis.clear();\n\n\t\tthis._size = size;\n\n\t\tthis._testDimensions();\n\t}\n\n\t/**\n\t *\n\t * @private\n\t */\n\tprivate _testDimensions()\n\t{\n\t\tif (!ImageUtils.isDimensionValid(this._size))\n\t\t\tthrow new Error(\"Invalid dimension: Width and height must be power of 2 and cannot exceed 2048\");\n\t}\n}\n\nexport = ImageCube;",
    "class ImageData {\n    public width: number;\n    public data: any;\n    public height: number;\n\n    constructor(width:number, height:number) {\n        this.width = width;\n        this.height = height;\n        this.data = new Uint8Array(width*height*4);\n    }\n}\nexport = ImageData;",
    "import SamplerBase\t\t\t\t= require(\"awayjs-core/lib/image/SamplerBase\");\nimport Image2D\t\t\t\t\t= require(\"awayjs-core/lib/image/Image2D\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\n\n/**\n * The Sampler2D class represents display objects that represent bitmap images.\n * These can be images that you load with the <code>flash.Assets</code> or\n * <code>flash.display.Loader</code> classes, or they can be images that you\n * create with the <code>Sampler2D()</code> constructor.\n *\n * <p>The <code>Sampler2D()</code> constructor allows you to create a Sampler2D\n * object that contains a reference to a Image2D object. After you create a\n * Sampler2D object, use the <code>addChild()</code> or <code>addChildAt()</code>\n * method of the parent DisplayObjectContainer instance to place the bitmap on\n * the display list.</p>\n *\n * <p>A Sampler2D object can share its Image2D reference among several Sampler2D\n * objects, independent of translation or rotation properties. Because you can\n * create multiple Sampler2D objects that reference the same Image2D object,\n * multiple texture objects can use the same complex Image2D object without\n * incurring the memory overhead of a Image2D object for each texture\n * object instance.</p>\n\n */\nclass Sampler2D extends SamplerBase\n{\n\tpublic static assetType:string = \"[asset Sampler2D]\";\n\n\tprivate _imageRect:Rectangle;\n\tprivate _frameRect:Rectangle;\n\tprivate _repeat:boolean;\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn Sampler2D.assetType;\n\t}\n\n\t/**\n\t * Controls whether or not the Sampler2D object is snapped to the nearest pixel.\n\t * This value is ignored in the native and HTML5 targets.\n\t * The PixelSnapping class includes possible values:\n\t * <ul>\n\t *   <li><code>PixelSnapping.NEVER</code> - No pixel snapping occurs.</li>\n\t *   <li><code>PixelSnapping.ALWAYS</code> - The image is always snapped to\n\t * the nearest pixel, independent of transformation.</li>\n\t *   <li><code>PixelSnapping.AUTO</code> - The image is snapped to the\n\t * nearest pixel if it is drawn with no rotation or skew and it is drawn at a\n\t * scale factor of 99.9% to 100.1%. If these conditions are satisfied, the\n\t * bitmap image is drawn at 100% scale, snapped to the nearest pixel.\n\t * When targeting Flash Player, this value allows the image to be drawn as fast\n\t * as possible using the internal vector renderer.</li>\n\t * </ul>\n\t */\n\t//var pixelSnapping:PixelSnapping;\n\n\n\t/**\n\t * Controls whether or not the bitmap is smoothed when scaled. If\n\t * <code>true</code>, the bitmap is smoothed when scaled. If\n\t * <code>false</code>, the bitmap is not smoothed when scaled.\n\t */\n\n\t/**\n\t *\n\t */\n\tpublic get repeat():boolean\n\t{\n\t\treturn this._repeat;\n\t}\n\tpublic set repeat(value:boolean)\n\t{\n\t\tif (this._repeat == value)\n\t\t\treturn;\n\n\t\tthis._repeat = value;\n\n\t\t//TODO: update dependencies\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get imageRect():Rectangle\n\t{\n\t\treturn this._imageRect;\n\t}\n\tpublic set imageRect(value:Rectangle)\n\t{\n\t\tif (this._imageRect == value)\n\t\t\treturn;\n\n\t\tthis._imageRect = value;\n\n\t\tthis._updateRect();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get frameRect():Rectangle\n\t{\n\t\treturn this._frameRect;\n\t}\n\tpublic set frameRect(value:Rectangle)\n\t{\n\t\tif (this._frameRect == value)\n\t\t\treturn;\n\n\t\tthis._frameRect = value;\n\n\t\tthis._updateRect();\n\t}\n\n\t/**\n\t *\n\t * @param image2D\n\t * @param smoothing\n\t */\n\tconstructor(repeat:boolean = false, smooth:boolean = false, mipmap:boolean = false)\n\t{\n\t\tsuper(smooth, mipmap);\n\n\t\tthis._repeat = repeat;\n\n\t\tthis._updateRect();\n\t}\n\n\tprivate _updateRect()\n\t{\n\t}\n}\n\nexport = Sampler2D;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport AssetBase\t\t\t\t= require(\"awayjs-core/lib/library/AssetBase\");\n\n/**\n *\n */\nclass SamplerBase extends AssetBase\n{\n\tprivate _smooth:boolean;\n\tprivate _mipmap:boolean;\n\n\t/**\n\t *\n\t */\n\tpublic get smooth():boolean\n\t{\n\t\treturn this._smooth;\n\t}\n\tpublic set smooth(value:boolean)\n\t{\n\t\tif (this._smooth == value)\n\t\t\treturn;\n\n\t\tthis._smooth = value;\n\n\t\t//TODO: update dependencies\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get mipmap():boolean\n\t{\n\t\treturn this._mipmap;\n\t}\n\tpublic set mipmap(value:boolean)\n\t{\n\t\tif (this._mipmap == value)\n\t\t\treturn;\n\n\t\tthis._mipmap = value;\n\n\t\t//TODO: update dependencies\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(smooth:boolean = false, mipmap:boolean = false)\n\t{\n\t\tsuper();\n\n\t\tthis._smooth = smooth;\n\t\tthis._mipmap = mipmap;\n\t}\n}\n\nexport = SamplerBase;",
    "import SamplerBase\t\t\t\t= require(\"awayjs-core/lib/image/SamplerBase\");\nimport ImageCube\t\t\t\t= require(\"awayjs-core/lib/image/ImageCube\");\n\n/**\n * The Bitmap class represents display objects that represent bitmap images.\n * These can be images that you load with the <code>flash.Assets</code> or\n * <code>flash.display.Loader</code> classes, or they can be images that you\n * create with the <code>Bitmap()</code> constructor.\n *\n * <p>The <code>Bitmap()</code> constructor allows you to create a Bitmap\n * object that contains a reference to a BitmapData object. After you create a\n * Bitmap object, use the <code>addChild()</code> or <code>addChildAt()</code>\n * method of the parent DisplayObjectContainer instance to place the bitmap on\n * the display list.</p>\n *\n * <p>A Bitmap object can share its BitmapData reference among several Bitmap\n * objects, independent of translation or rotation properties. Because you can\n * create multiple Bitmap objects that reference the same BitmapData object,\n * multiple texture objects can use the same complex BitmapData object without\n * incurring the memory overhead of a BitmapData object for each texture\n * object instance.</p>\n\n */\nclass SamplerCube extends SamplerBase\n{\n\tpublic static assetType:string = \"[asset SamplerCube]\";\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn SamplerCube.assetType;\n\t}\n\n\t/**\n\t *\n\t * @param bitmapData\n\t * @param smoothing\n\t */\n\tconstructor(smooth:boolean = false, mipmap:boolean = false)\n\t{\n\t\tsuper(smooth, mipmap);\n\t}\n}\n\nexport = SamplerCube;",
    "import BitmapImage2D\t\t\t= require(\"awayjs-core/lib/image/BitmapImage2D\");\nimport BitmapImageChannel\t\t= require(\"awayjs-core/lib/image/BitmapImageChannel\");\nimport Image2D\t\t\t\t\t= require(\"awayjs-core/lib/image/Image2D\");\nimport Point\t\t\t\t\t= require(\"awayjs-core/lib/geom/Point\");\n\n/**\n *\n */\nclass SpecularImage2D extends Image2D\n{\n\tpublic static assetType:string = \"[asset SpecularImage2D]\";\n\n\tprivate _specularSource:BitmapImage2D;\n\tprivate _glossSource:BitmapImage2D;\n\tprivate _output:BitmapImage2D;\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn SpecularImage2D.assetType;\n\t}\n\n\tpublic get specularSource():BitmapImage2D\n\t{\n\t\treturn this._specularSource;\n\t}\n\n\tpublic set specularSource(value:BitmapImage2D)\n\t{\n\t\tif (this._specularSource == value)\n\t\t\treturn;\n\n\t\tthis._specularSource = value;\n\n\t\tthis.invalidate();\n\n\t\tthis._testSize();\n\t}\n\n\n\tpublic get glossSource():BitmapImage2D\n\t{\n\t\treturn this._glossSource;\n\t}\n\n\tpublic set glossSource(value:BitmapImage2D)\n\t{\n\t\tif (this._glossSource == value)\n\t\t\treturn;\n\n\t\tthis._glossSource = value;\n\n\t\tthis.invalidate();\n\n\t\tthis._testSize();\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(specularSource:BitmapImage2D = null, glossSource:BitmapImage2D = null)\n\t{\n\t\tsuper(1, 1);\n\n\t\tthis._specularSource = specularSource;\n\t\tthis._glossSource = glossSource;\n\n\t\tthis._output = new BitmapImage2D(1, 1, false, 0xffffff);\n\n\t\tthis._testSize();\n\t}\n\n\t/**\n\t * Returns a new SpecularImage2D object that is a clone of the original instance\n\t * with an exact copy of the contained bitmap.\n\t *\n\t * @return A new SpecularImage2D object that is identical to the original.\n\t */\n\tpublic clone():SpecularImage2D\n\t{\n\t\treturn new SpecularImage2D(this._specularSource, this._glossSource);\n\t}\n\n\t/**\n\t * Frees memory that is used to store the SpecularImage2D object.\n\t *\n\t * <p>When the <code>dispose()</code> method is called on an image, the width\n\t * and height of the image are set to 0. All subsequent calls to methods or\n\t * properties of this SpecularImage2D instance fail, and an exception is thrown.\n\t * </p>\n\t *\n\t * <p><code>SpecularImage2D.dispose()</code> releases the memory occupied by the\n\t * actual bitmap data, immediately(a bitmap can consume up to 64 MB of\n\t * memory). After using <code>SpecularImage2D.dispose()</code>, the SpecularImage2D\n\t * object is no longer usable and an exception may be thrown if\n\t * you call functions on the SpecularImage2D object. However,\n\t * <code>SpecularImage2D.dispose()</code> does not garbage collect the SpecularImage2D\n\t * object(approximately 128 bytes); the memory occupied by the actual\n\t * SpecularImage2D object is released at the time the SpecularImage2D object is\n\t * collected by the garbage collector.</p>\n\t *\n\t */\n\tpublic dispose()\n\t{\n\t\tsuper.dispose();\n\n\t\tthis._rect = null;\n\n\t\tthis._output.dispose();\n\t}\n\n\t/**\n\t *\n\t * @returns {ImageData}\n\t */\n\tpublic getImageData():ImageData\n\t{\n\t\tvar origin:Point = new Point();\n\n\t\tthis._output.fillRect(this._rect, 0xffffff);\n\n\t\tif (this._glossSource)\n\t\t\tthis._output.copyChannel(this._glossSource, this._rect, origin, BitmapImageChannel.GREEN, BitmapImageChannel.GREEN);\n\n\t\tif (this._specularSource)\n\t\t\tthis._output.copyChannel(this._specularSource, this._rect, origin, BitmapImageChannel.RED, BitmapImageChannel.RED);\n\n\t\treturn this._output.getImageData();\n\t}\n\n\t/**\n\t *\n\t * @returns {HTMLCanvasElement}\n\t */\n\tpublic getCanvas():HTMLCanvasElement\n\t{\n\t\treturn this._output.getCanvas();\n\t}\n\n\t/**\n\t *\n\t * @param width\n\t * @param height\n\t * @private\n\t */\n\tpublic _setSize(width:number, height:number)\n\t{\n\t\tsuper._setSize(width, height);\n\n\t\tthis._output._setSize(width, height);\n\t}\n\n\tprivate _testSize()\n\t{\n\t\tvar w:number, h:number;\n\n\t\tif (this._specularSource) {\n\t\t\tw = this._specularSource.width;\n\t\t\th = this._specularSource.height;\n\t\t} else if (this._glossSource) {\n\t\t\tw = this._glossSource.width;\n\t\t\th = this._glossSource.height;\n\t\t} else {\n\t\t\tw = 1;\n\t\t\th = 1;\n\t\t}\n\n\t\tif (w != this._output.width && h != this._output.height) {\n\t\t\tthis._output.dispose();\n\t\t\tthis._output = new BitmapImage2D(w, h, false, 0xffffff);\n\t\t}\n\n\t\tthis._setSize(w, h);\n\t}\n}\n\nexport = SpecularImage2D;",
    "import AssetEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\nimport EventDispatcher\t\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport IAbstractionPool\t\t\t\t= require(\"awayjs-core/lib/library/IAbstractionPool\");\nimport IAsset\t\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\n\n/**\n *\n * @class away.pool.AbstractionBase\n */\nclass AbstractionBase extends EventDispatcher\n{\n\tprivate _onClearDelegate:(event:AssetEvent) => void;\n\tprivate _onInvalidateDelegate:(event:AssetEvent) => void;\n\n\tpublic _pool:IAbstractionPool;\n\n\tpublic _asset:IAsset;\n\n\tpublic _invalid:boolean = true;\n\n\tconstructor(asset:IAsset, pool:IAbstractionPool)\n\t{\n\t\tsuper();\n\n\t\tthis._asset = asset;\n\t\tthis._pool = pool;\n\n\t\tthis._onClearDelegate = (event:AssetEvent) => this.onClear(event);\n\t\tthis._onInvalidateDelegate = (event:AssetEvent) => this.onInvalidate(event);\n\n\t\tthis._asset.addEventListener(AssetEvent.CLEAR, this._onClearDelegate);\n\t\tthis._asset.addEventListener(AssetEvent.INVALIDATE, this._onInvalidateDelegate);\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic onClear(event:AssetEvent)\n\t{\n\t\tthis._asset.removeEventListener(AssetEvent.CLEAR, this._onClearDelegate);\n\t\tthis._asset.removeEventListener(AssetEvent.INVALIDATE, this._onInvalidateDelegate);\n\n\t\tthis._pool.clearAbstraction(this._asset);\n\t\tthis._pool = null;\n\t\tthis._asset = null;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic onInvalidate(event:AssetEvent)\n\t{\n\t\tthis._invalid = true;\n\t}\n}\n\nexport = AbstractionBase;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport IAssetClass\t\t\t\t= require(\"awayjs-core/lib/library/IAssetClass\");\nimport AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\nimport AssetEvent\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\n\nclass AssetBase extends EventDispatcher implements IAsset\n{\n\tpublic static ID_COUNT:number = 0;\n\n\tprivate _originalName:string;\n\tprivate _namespace:string;\n\tprivate _name:string;\n\tprivate _id:number;\n\tprivate _full_path:Array<string>;\n\n\tpublic static DEFAULT_NAMESPACE:string = 'default';\n\n\tconstructor(name:string = null)\n\t{\n\t\tsuper();\n\n\t\tthis._id = AssetBase.ID_COUNT++;\n\n\t\tif (name == null)\n\t\t\tname = 'null';\n\n\t\tthis._name = name;\n\t\tthis._originalName = name;\n\n\t\tthis.updateFullPath();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get assetType():string\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/**\n\t * The original name used for this asset in the resource (e.g. file) in which\n\t * it was found. This may not be the same as <code>name</code>, which may\n\t * have changed due to of a name conflict.\n\t */\n\tpublic get originalName():string\n\t{\n\t\treturn this._originalName;\n\t}\n\n\t/**\n\t * A unique id for the asset, used to identify assets in an associative array\n\t */\n\tpublic get id():number\n\t{\n\t\treturn this._id;\n\t}\n\n\tpublic get name():string\n\t{\n\t\treturn this._name;\n\t}\n\n\tpublic set name(val:string)\n\t{\n\t\tvar prev:string;\n\n\t\tprev = this._name;\n\t\tthis._name = val;\n\n\t\tif (this._name == null)\n\t\t\tthis._name = 'null';\n\n\t\tthis.updateFullPath();\n\n\t\tthis.dispatchEvent(new AssetEvent(AssetEvent.RENAME, this, prev));\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic invalidate():void\n\t{\n\t\tthis.dispatchEvent(new AssetEvent(AssetEvent.INVALIDATE, this));\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic dispose()\n\t{\n\t\tthis.dispatchEvent(new AssetEvent(AssetEvent.DISPOSE, this));\n\t}\n\n\tpublic clear()\n\t{\n\t\tthis.dispatchEvent(new AssetEvent(AssetEvent.CLEAR, this));\n\t}\n\n\tpublic get assetNamespace():string\n\t{\n\t\treturn this._namespace;\n\t}\n\n\tpublic get assetFullPath():Array<string>\n\t{\n\t\treturn this._full_path;\n\t}\n\n\tpublic assetPathEquals(name:string, ns:string):boolean\n\t{\n\t\treturn (this._name == name && (!ns || this._namespace == ns));\n\t}\n\n\n\tpublic isAsset(assetClass:IAssetClass):boolean\n\t{\n\t\treturn this.assetType == assetClass.assetType;\n\t}\n\n\tpublic resetAssetPath(name:string, ns:string = null, overrideOriginal:boolean = true):void\n\t{\n\n\t\tthis._name = name? name : 'null';\n\t\tthis._namespace = ns? ns : AssetBase.DEFAULT_NAMESPACE;\n\n\t\tif (overrideOriginal)\n\t\t\tthis._originalName = this._name;\n\n\t\tthis.updateFullPath();\n\t}\n\n\tprivate updateFullPath():void\n\t{\n\t\tthis._full_path = [ this._namespace, this._name ];\n\t}\n}\n\nexport = AssetBase;",
    "import URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport AssetLibrary\t\t\t\t= require(\"awayjs-core/lib/library/AssetLibrary\");\nimport AssetLibraryIterator\t\t= require(\"awayjs-core/lib/library/AssetLibraryIterator\");\nimport Loader\t\t\t= require(\"awayjs-core/lib/library/Loader\");\nimport LoaderContext\t\t\t= require(\"awayjs-core/lib/library/LoaderContext\");\nimport ConflictPrecedence\t\t= require(\"awayjs-core/lib/library/ConflictPrecedence\");\nimport ConflictStrategy\t\t\t= require(\"awayjs-core/lib/library/ConflictStrategy\");\nimport ConflictStrategyBase\t\t= require(\"awayjs-core/lib/library/ConflictStrategyBase\");\nimport AssetBase\t\t\t\t= require(\"awayjs-core/lib/library/AssetBase\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport ErrorBase\t\t\t\t= require(\"awayjs-core/lib/errors/ErrorBase\");\nimport AssetEvent\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\nimport URLLoaderEvent\t\t\t= require(\"awayjs-core/lib/events/URLLoaderEvent\");\nimport LoaderEvent\t\t= require(\"awayjs-core/lib/events/LoaderEvent\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport ParserEvent\t\t\t\t= require(\"awayjs-core/lib/events/ParserEvent\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\n\n/**\n * AssetLibraryBundle enforces a multiton pattern and is not intended to be instanced directly.\n * Its purpose is to create a container for 3D data management, both before and after parsing.\n * If you are interested in creating multiple library bundles, please use the <code>getInstance()</code> method.\n */\nclass AssetLibraryBundle extends EventDispatcher\n{\n\tpublic static _iInstances:Object = new Object();\n\n\tprivate _loaderSessions:Array<Loader>;\n\tprivate _strategy:ConflictStrategyBase;\n\tprivate _strategyPreference:string;\n\tprivate _assets:Array<IAsset>;\n\tprivate _assetDictionary:Object;\n\tprivate _assetDictDirty:boolean;\n\tprivate _loaderSessionsGarbage:Array<Loader> = new Array<Loader>();\n\tprivate _gcTimeoutIID:number;\n\n\tprivate _onAssetRenameDelegate:(event:AssetEvent) => void;\n\tprivate _onAssetConflictResolvedDelegate:(event:AssetEvent) => void;\n\tprivate _onResourceCompleteDelegate:(event:LoaderEvent) => void;\n\tprivate _onTextureSizeErrorDelegate:(event:LoaderEvent) => void;\n\tprivate _onAssetCompleteDelegate:(event:AssetEvent) => void;\n\tprivate _onLoadErrorDelegate:(event:URLLoaderEvent) => boolean;\n\tprivate _onParseErrorDelegate:(event:ParserEvent) => boolean;\n\n\t/**\n\t * Creates a new <code>AssetLibraryBundle</code> object.\n\t *\n\t * @param me A multiton enforcer for the AssetLibraryBundle ensuring it cannnot be instanced.\n\t */\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\tthis._assets = new Array<IAsset>();//new Vector.<IAsset>;\n\t\tthis._assetDictionary = new Object();\n\t\tthis._loaderSessions = new Array<Loader>();\n\n\t\tthis.conflictStrategy = ConflictStrategy.IGNORE.create();\n\t\tthis.conflictPrecedence = ConflictPrecedence.FAVOR_NEW;\n\n\t\tthis._onAssetRenameDelegate = (event:AssetEvent) => this.onAssetRename(event);\n\t\tthis._onAssetConflictResolvedDelegate = (event:AssetEvent) => this.onAssetConflictResolved(event);\n\t\tthis._onResourceCompleteDelegate = (event:LoaderEvent) => this.onResourceComplete(event);\n\t\tthis._onTextureSizeErrorDelegate = (event:LoaderEvent) => this.onTextureSizeError(event);\n\t\tthis._onAssetCompleteDelegate = (event:AssetEvent) => this.onAssetComplete(event);\n\t\tthis._onLoadErrorDelegate = (event:URLLoaderEvent) => this.onLoadError(event);\n\t\tthis._onParseErrorDelegate = (event:ParserEvent) => this.onParseError(event);\n\t}\n\n\t/**\n\t * Returns an AssetLibraryBundle instance. If no key is given, returns the default bundle instance (which is\n\t * similar to using the AssetLibraryBundle as a singleton.) To keep several separated library bundles,\n\t * pass a string key to this method to define which bundle should be returned. This is\n\t * referred to as using the AssetLibrary as a multiton.\n\t *\n\t * @param key Defines which multiton instance should be returned.\n\t * @return An instance of the asset library\n\t */\n\tpublic static getInstance(key:string = 'default'):AssetLibraryBundle\n\t{\n\t\tif (!key)\n\t\t\tkey = 'default';\n\n\t\tif (!AssetLibraryBundle._iInstances.hasOwnProperty(key))\n\t\t\tAssetLibraryBundle._iInstances[key] = new AssetLibraryBundle();\n\n\t\treturn AssetLibraryBundle._iInstances[key];\n\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic enableParser(parserClass:Object)\n\t{\n\t\tLoader.enableParser(parserClass);\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic enableParsers(parserClasses:Object[])\n\t{\n\t\tLoader.enableParsers(parserClasses);\n\t}\n\n\t/**\n\t * Defines which strategy should be used for resolving naming conflicts, when two library\n\t * assets are given the same name. By default, <code>ConflictStrategy.APPEND_NUM_SUFFIX</code>\n\t * is used which means that a numeric suffix is appended to one of the assets. The\n\t * <code>conflictPrecedence</code> property defines which of the two conflicting assets will\n\t * be renamed.\n\t *\n\t * @see naming.ConflictStrategy\n\t * @see AssetLibrary.conflictPrecedence\n\t */\n\tpublic get conflictStrategy():ConflictStrategyBase\n\t{\n\t\treturn this._strategy;\n\t}\n\n\tpublic set conflictStrategy(val:ConflictStrategyBase)\n\t{\n\n\t\tif (!val)\n\t\t\tthrow new ErrorBase('namingStrategy must not be null. To ignore naming, use AssetLibrary.IGNORE');\n\n\t\tthis._strategy = val.create();\n\n\t}\n\n\t/**\n\t * Defines which asset should have precedence when resolving a naming conflict between\n\t * two assets of which one has just been renamed by the user or by a parser. By default\n\t * <code>ConflictPrecedence.FAVOR_NEW</code> is used, meaning that the newly renamed\n\t * asset will keep it's new name while the older asset gets renamed to not conflict.\n\t *\n\t * This property is ignored for conflict strategies that do not actually rename an\n\t * asset automatically, such as ConflictStrategy.IGNORE and ConflictStrategy.THROW_ERROR.\n\t *\n\t * @see away.library.ConflictPrecedence\n\t * @see away.library.ConflictStrategy\n\t */\n\tpublic get conflictPrecedence():string\n\t{\n\t\treturn this._strategyPreference;\n\t}\n\n\tpublic set conflictPrecedence(val:string)\n\t{\n\t\tthis._strategyPreference = val;\n\t}\n\n\t/**\n\t * Create an AssetLibraryIterator instance that can be used to iterate over the assets\n\t * in this asset library instance. The iterator can filter assets on asset type and/or\n\t * namespace. A \"null\" filter value means no filter of that type is used.\n\t *\n\t * @param assetTypeFilter Asset type to filter on (from the AssetType enum class.) Use\n\t * null to not filter on asset type.\n\t * @param namespaceFilter Namespace to filter on. Use null to not filter on namespace.\n\t * @param filterFunc Callback function to use when deciding whether an asset should be\n\t * included in the iteration or not. This needs to be a function that takes a single\n\t * parameter of type IAsset and returns a boolean where true means it should be included.\n\t *\n\t * @see away.library.AssetType\n\t */\n\tpublic createIterator(assetTypeFilter:string = null, namespaceFilter:string = null, filterFunc = null):AssetLibraryIterator\n\t{\n\t\treturn new AssetLibraryIterator(this._assets, assetTypeFilter, namespaceFilter, filterFunc);\n\t}\n\n\t/**\n\t * Loads a file and (optionally) all of its dependencies.\n\t *\n\t * @param req The URLRequest object containing the URL of the file to be loaded.\n\t * @param context An optional context object providing additional parameters for loading\n\t * @param ns An optional namespace string under which the file is to be loaded, allowing the differentiation of two resources with identical assets\n\t * @param parser An optional parser object for translating the loaded data into a usable resource. If not provided, Loader will attempt to auto-detect the file type.\n\t * @return A handle to the retrieved resource.\n\t */\n\tpublic load(req:URLRequest, context:LoaderContext = null, ns:string = null, parser:ParserBase = null)\n\t{\n\t\tthis.getLoader().load(req, context, ns, parser);\n\t}\n\n\t/**\n\t * Loads a resource from existing data in memory.\n\t *\n\t * @param data The data object containing all resource information.\n\t * @param context An optional context object providing additional parameters for loading\n\t * @param ns An optional namespace string under which the file is to be loaded, allowing the differentiation of two resources with identical assets\n\t * @param parser An optional parser object for translating the loaded data into a usable resource. If not provided, Loader will attempt to auto-detect the file type.\n\t * @return A handle to the retrieved resource.\n\t */\n\tpublic loadData(data:any, context:LoaderContext = null, ns:string = null, parser:ParserBase = null)\n\t{\n\t\tthis.getLoader().loadData(data, '', context, ns, parser);\n\t}\n\n\tpublic getLoader():Loader\n\t{\n\t\tvar loader:Loader = new Loader();\n\n\t\tthis._loaderSessions.push(loader);\n\n\t\tloader.addEventListener(LoaderEvent.LOAD_COMPLETE, this._onResourceCompleteDelegate);\n\t\tloader.addEventListener(AssetEvent.TEXTURE_SIZE_ERROR, this._onTextureSizeErrorDelegate);\n\t\tloader.addEventListener(AssetEvent.ASSET_COMPLETE, this._onAssetCompleteDelegate);\n\n\t\t// Error are handled separately (see documentation for addErrorHandler)\n\t\tloader._iAddErrorHandler(this._onLoadErrorDelegate);\n\t\tloader._iAddParseErrorHandler(this._onParseErrorDelegate);\n\n\t\treturn loader;\n\t}\n\t\n\tpublic disposeLoader(loader:Loader)\n\t{\n\t\tvar index:number = this._loaderSessions.indexOf(loader);\n\t\tthis._loaderSessions.splice(index, 1);\n\n\t\t// Add loader to a garbage array - for a collection sweep and kill\n\t\tthis._loaderSessionsGarbage.push(loader);\n\t\tthis._gcTimeoutIID = setTimeout(() => {this.loaderSessionGC()}, 100);\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic getAsset(name:string, ns:string = null):IAsset\n\t{\n\t\tif (this._assetDictDirty)\n\t\t\tthis.rehashAssetDict();\n\n\t\tif (ns == null)\n\t\t\tns = AssetBase.DEFAULT_NAMESPACE;\n\n\t\tif (!this._assetDictionary.hasOwnProperty(ns))\n\t\t\treturn null;\n\n\t\treturn this._assetDictionary[ns][name];\n\n\t}\n\tpublic getAllAssets():Array<IAsset>\n\t{\n\t\treturn this._assets;\n\t}\n\t/**\n\t * Adds an asset to the asset library, first making sure that it's name is unique\n\t * using the method defined by the <code>conflictStrategy</code> and\n\t * <code>conflictPrecedence</code> properties.\n\t */\n\tpublic addAsset(asset:IAsset)\n\t{\n\t\tvar ns:string;\n\t\tvar old:IAsset;\n\n\t\t// Bail if asset has already been added.\n\t\tif (this._assets.indexOf(asset) >= 0)\n\t\t\treturn;\n\n\t\told = this.getAsset(asset.name, asset.assetNamespace);\n\t\tns = asset.assetNamespace || AssetBase.DEFAULT_NAMESPACE;\n\n\t\tif (old != null)\n\t\t\tthis._strategy.resolveConflict(asset, old, this._assetDictionary[ns], this._strategyPreference);\n\n\t\t//create unique-id (for now this is used in AwayBuilder only\n\t\t//asset.id = IDUtil.createUID();\n\n\t\t// Add it\n\t\tthis._assets.push(asset);\n\n\t\tif (!this._assetDictionary.hasOwnProperty(ns))\n\t\t\tthis._assetDictionary[ns] = new Object();\n\n\t\tthis._assetDictionary[ns][asset.name] = asset;\n\n\t\tasset.addEventListener(AssetEvent.RENAME, this._onAssetRenameDelegate);\n\t\tasset.addEventListener(AssetEvent.ASSET_CONFLICT_RESOLVED, this._onAssetConflictResolvedDelegate);\n\t}\n\n\t/**\n\t * Removes an asset from the library, and optionally disposes that asset by calling\n\t * it's disposeAsset() method (which for most assets is implemented as a default\n\t * version of that type's dispose() method.\n\t *\n\t * @param asset The asset which should be removed from this library.\n\t * @param dispose Defines whether the assets should also be disposed.\n\t */\n\tpublic removeAsset(asset:IAsset, dispose:boolean = true)\n\t{\n\t\tvar idx:number;\n\n\t\tthis.removeAssetFromDict(asset);\n\n\t\tasset.removeEventListener(AssetEvent.RENAME, this._onAssetRenameDelegate);\n\t\tasset.removeEventListener(AssetEvent.ASSET_CONFLICT_RESOLVED, this._onAssetConflictResolvedDelegate);\n\n\t\tidx = this._assets.indexOf(asset);\n\n\t\tif (idx >= 0)\n\t\t\tthis._assets.splice(idx, 1);\n\n\t\tif (dispose)\n\t\t\tasset.dispose();\n\t}\n\n\t/**\n\t * Removes an asset which is specified using name and namespace.\n\t *\n\t * @param name The name of the asset to be removed.\n\t * @param ns The namespace to which the desired asset belongs.\n\t * @param dispose Defines whether the assets should also be disposed.\n\t *\n\t * @see away.library.AssetLibrary.removeAsset()\n\t */\n\tpublic removeAssetByName(name:string, ns:string = null, dispose:boolean = true):IAsset\n\t{\n\t\tvar asset:IAsset = this.getAsset(name, ns);\n\n\t\tif (asset)\n\t\t\tthis.removeAsset(asset, dispose);\n\n\t\treturn asset;\n\t}\n\n\t/**\n\t * Removes all assets from the asset library, optionally disposing them as they\n\t * are removed.\n\t *\n\t * @param dispose Defines whether the assets should also be disposed.\n\t */\n\tpublic removeAllAssets(dispose:boolean = true)\n\t{\n\t\tif (dispose) {\n\t\t\tvar asset:IAsset;\n\t\t\tvar len:number = this._assets.length;\n\t\t\tfor (var c:number = 0; c < len; c++) {\n\t\t\t\tasset = this._assets[c];\n\t\t\t\tasset.dispose();\n\t\t\t}\n\t\t}\n\n\t\tthis._assets.length = 0;\n\t\tthis.rehashAssetDict();\n\t}\n\n\t/**\n\t * Removes all assets belonging to a particular namespace (null for default)\n\t * from the asset library, and optionall disposes them by calling their\n\t * disposeAsset() method.\n\t *\n\t * @param ns The namespace from which all assets should be removed.\n\t * @param dispose Defines whether the assets should also be disposed.\n\t *\n\t * @see away.library.AssetLibrary.removeAsset()\n\t */\n\tpublic removeNamespaceAssets(ns:string = null, dispose:boolean = true)\n\t{\n\t\tvar idx:number = 0;\n\t\tvar asset:IAsset;\n\t\tvar old_assets:IAsset[];\n\n\t\t// Empty the assets vector after having stored a copy of it.\n\t\t// The copy will be filled with all assets which weren't removed.\n\t\told_assets = this._assets.concat();\n\t\tthis._assets.length = 0;\n\n\t\tif (ns == null)\n\t\t\tns = AssetBase.DEFAULT_NAMESPACE;\n\n\t\tvar len:number = old_assets.length;\n\t\tfor (var d:number = 0; d < len; d++) {\n\t\t\tasset = old_assets[d];\n\n\t\t\t// Remove from dict if in the supplied namespace. If not,\n\t\t\t// transfer over to the new vector.\n\t\t\tif (asset.assetNamespace == ns) {\n\t\t\t\tif (dispose)\n\t\t\t\t\tasset.dispose();\n\n\t\t\t\t// Remove asset from dictionary, but don't try to auto-remove\n\t\t\t\t// the namespace, which will trigger an unnecessarily expensive\n\t\t\t\t// test that is not needed since we know that the namespace\n\t\t\t\t// will be empty when loop finishes.\n\t\t\t\tthis.removeAssetFromDict(asset, false);\n\t\t\t} else {\n\t\t\t\tthis._assets[idx++] = asset;\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t for each (asset in old_assets) {\n\t\t // Remove from dict if in the supplied namespace. If not,\n\t\t // transfer over to the new vector.\n\t\t if (asset.assetNamespace == ns) {\n\t\t if (dispose)\n\t\t asset.dispose();\n\n\t\t // Remove asset from dictionary, but don't try to auto-remove\n\t\t // the namespace, which will trigger an unnecessarily expensive\n\t\t // test that is not needed since we know that the namespace\n\t\t // will be empty when loop finishes.\n\t\t removeAssetFromDict(asset, false);\n\t\t } else\n\t\t _assets[idx++] = asset;\n\n\t\t }\n\t\t */\n\n\t\t// Remove empty namespace\n\t\tif (this._assetDictionary.hasOwnProperty(ns))\n\t\t\tdelete this._assetDictionary[ns];\n\t}\n\n\tprivate removeAssetFromDict(asset:IAsset, autoRemoveEmptyNamespace:boolean = true)\n\t{\n\t\tif (this._assetDictDirty)\n\t\t\tthis.rehashAssetDict();\n\n\t\tif (this._assetDictionary.hasOwnProperty(asset.assetNamespace)) {\n\t\t\tif (this._assetDictionary[asset.assetNamespace].hasOwnProperty(asset.name))\n\t\t\t\tdelete this._assetDictionary[asset.assetNamespace][asset.name];\n\n\t\t\tif (autoRemoveEmptyNamespace) {\n\n\t\t\t\tvar key:string;\n\t\t\t\tvar empty:boolean = true;\n\n\t\t\t\tfor (key in this._assetDictionary[asset.assetNamespace]) {\n\t\t\t\t\tempty = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (empty)\n\t\t\t\t\tdelete this._assetDictionary[asset.assetNamespace];\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic stopAllLoaders()\n\t{\n\t\tvar len:number = this._loaderSessions.length;\n\t\tfor (var i:number = 0; i < len; i++)\n\t\t\tthis.killloaderSession(this._loaderSessions[i]);\n\n\t\tthis._loaderSessions = new Array<Loader>();\n\t}\n\n\tprivate rehashAssetDict()\n\t{\n\t\tvar asset:IAsset;\n\n\t\tthis._assetDictionary = {};\n\n\t\tvar len:number = this._assets.length;\n\t\tfor (var c:number = 0; c < len; c++) {\n\t\t\tasset = this._assets[c];\n\n\t\t\tif (!this._assetDictionary.hasOwnProperty(asset.assetNamespace))\n\t\t\t\tthis._assetDictionary[asset.assetNamespace] = {};\n\n\t\t\tthis._assetDictionary[asset.assetNamespace][asset.name] = asset;\n\n\t\t}\n\n\t\tthis._assetDictDirty = false;\n\n\t}\n\n\t/**\n\t * Called when a an error occurs during loading.\n\t */\n\tprivate onLoadError(event:URLLoaderEvent):boolean\n\t{\n\t\tif (this.hasEventListener(URLLoaderEvent.LOAD_ERROR)) {\n\t\t\tthis.dispatchEvent(event);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Called when a an error occurs during parsing.\n\t */\n\tprivate onParseError(event:ParserEvent):boolean\n\t{\n\t\tif (this.hasEventListener(ParserEvent.PARSE_ERROR)) {\n\t\t\tthis.dispatchEvent(event);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tprivate onAssetComplete(event:AssetEvent)\n\t{\n\t\t// Only add asset to library the first time.\n\t\tif (event.type == AssetEvent.ASSET_COMPLETE)\n\t\t\tthis.addAsset(event.asset);\n\n\t\tthis.dispatchEvent(event);\n\n\t}\n\n\tprivate onTextureSizeError(event:LoaderEvent)\n\t{\n\t\tthis.dispatchEvent(event);\n\t}\n\n\t/**\n\t * Called when the resource and all of its dependencies was retrieved.\n\t */\n\tprivate onResourceComplete(event:LoaderEvent)\n\t{\n\t\tvar loader:Loader = <Loader> event.target;\n\n\t\tthis.dispatchEvent(event);\n\n\t\tthis.disposeLoader(loader);\n\t}\n\n\tprivate loaderSessionGC():void\n\t{\n\t\tvar loader:Loader;\n\n\t\twhile (this._loaderSessionsGarbage.length > 0) {\n\t\t\tloader = this._loaderSessionsGarbage.pop();\n\t\t\tthis.killloaderSession(loader);\n\t\t}\n\n\t\tclearTimeout(this._gcTimeoutIID);\n\t\tthis._gcTimeoutIID = null;\n\t}\n\n\tprivate killloaderSession(loader:Loader)\n\t{\n\t\tloader.removeEventListener(LoaderEvent.LOAD_COMPLETE, this._onResourceCompleteDelegate);\n\t\tloader.removeEventListener(AssetEvent.TEXTURE_SIZE_ERROR, this._onTextureSizeErrorDelegate);\n\t\tloader.removeEventListener(AssetEvent.ASSET_COMPLETE, this._onAssetCompleteDelegate);\n\t\tloader.stop();\n\t}\n\n\n\tprivate onAssetRename(event:AssetEvent)\n\t{\n\t\tvar asset:IAsset = <IAsset > event.target;// TODO: was ev.currentTarget - watch this var\n\t\tvar old:IAsset = this.getAsset(asset.assetNamespace, asset.name);\n\n\t\tif (old != null) {\n\t\t\tthis._strategy.resolveConflict(asset, old, this._assetDictionary[asset.assetNamespace], this._strategyPreference);\n\t\t} else {\n\t\t\tvar dict:Object = this._assetDictionary[event.asset.assetNamespace];\n\n\t\t\tif (dict == null)\n\t\t\t\treturn;\n\n\t\t\tdict[event.prevName] = null;\n\t\t\tdict[event.asset.name] = event.asset;\n\t\t}\n\t}\n\n\tprivate onAssetConflictResolved(event:AssetEvent)\n\t{\n\t\tthis.dispatchEvent(event.clone());\n\t}\n}\n\nexport = AssetLibraryBundle;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\n\nclass AssetLibraryIterator\n{\n\n\tprivate  _assets:Array<IAsset>;\n\tprivate _filtered:Array<IAsset>;\n\n\tprivate _idx:number;\n\n\tconstructor(assets:Array<IAsset>, assetTypeFilter:string, namespaceFilter:string, filterFunc)\n\t{\n\t\tthis._assets = assets;\n\t\tthis.filter(assetTypeFilter, namespaceFilter, filterFunc);\n\t}\n\n\tpublic get currentAsset():IAsset\n\t{\n\t\t// Return current, or null if no current\n\t\treturn ( this._idx < this._filtered.length )? this._filtered[ this._idx ] : null;\n\t}\n\n\tpublic get numAssets():number\n\t{\n\t\treturn this._filtered.length;\n\t}\n\n\tpublic next():IAsset\n\t{\n\t\tvar next:IAsset = null;\n\n\t\tif (this._idx < this._filtered.length)\n\t\t\tnext = this._filtered[this._idx];\n\n\t\tthis._idx++;\n\n\t\treturn next;\n\t}\n\n\tpublic reset()\n\t{\n\t\tthis._idx = 0;\n\t}\n\n\tpublic setIndex(index:number)\n\t{\n\t\tthis._idx = index;\n\t}\n\n\tprivate filter(assetTypeFilter:string, namespaceFilter:string, filterFunc)\n\t{\n\t\tif (assetTypeFilter || namespaceFilter) {\n\n\t\t\tvar idx:number;\n\t\t\tvar asset:IAsset;\n\n\n\t\t\tidx = 0;\n\t\t\tthis._filtered = new Array<IAsset>();//new Vector.<IAsset>;\n\n\t\t\tvar l:number = this._assets.length;\n\n\t\t\tfor (var c:number = 0; c < l; c++) {\n\n\t\t\t\tasset = <IAsset> this._assets[c];\n\n\t\t\t\t// Skip this assets if filtering on type and this is wrong type\n\t\t\t\tif (assetTypeFilter && asset.assetType != assetTypeFilter)\n\t\t\t\t\tcontinue;\n\n\t\t\t\t// Skip this asset if filtering on namespace and this is wrong namespace\n\t\t\t\tif (namespaceFilter && asset.assetNamespace != namespaceFilter)\n\t\t\t\t\tcontinue;\n\n\t\t\t\t// Skip this asset if a filter func has been provided and it returns false\n\t\t\t\tif (filterFunc != null && !filterFunc(asset))\n\t\t\t\t\tcontinue;\n\n\t\t\t\tthis._filtered[idx++] = asset;\n\n\t\t\t}\n\n\t\t\t/*\n\t\t\t for each (asset in _assets) {\n\t\t\t // Skip this assets if filtering on type and this is wrong type\n\t\t\t if (assetTypeFilter && asset.assetType != assetTypeFilter)\n\t\t\t continue;\n\n\t\t\t // Skip this asset if filtering on namespace and this is wrong namespace\n\t\t\t if (namespaceFilter && asset.assetNamespace != namespaceFilter)\n\t\t\t continue;\n\n\t\t\t // Skip this asset if a filter func has been provided and it returns false\n\t\t\t if (filterFunc != null && !filterFunc(asset))\n\t\t\t continue;\n\n\t\t\t _filtered[idx++] = asset;\n\t\t\t }\n\t\t\t */\n\n\t\t} else {\n\t\t\tthis._filtered = this._assets;\n\t\t}\n\t}\n}\n\nexport = AssetLibraryIterator;",
    "import URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport EventBase\t\t\t\t= require(\"awayjs-core/lib/events/EventBase\");\nimport AssetLibraryBundle\t\t= require(\"awayjs-core/lib/library/AssetLibraryBundle\");\nimport AssetLibraryIterator\t\t= require(\"awayjs-core/lib/library/AssetLibraryIterator\");\nimport Loader\t\t\t= require(\"awayjs-core/lib/library/Loader\");\nimport LoaderContext\t\t\t= require(\"awayjs-core/lib/library/LoaderContext\");\nimport ConflictStrategyBase\t\t= require(\"awayjs-core/lib/library/ConflictStrategyBase\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\n\n/**\n * AssetLibrary enforces a singleton pattern and is not intended to be instanced.\n * It's purpose is to allow access to the default library bundle through a set of static shortcut methods.\n * If you are interested in creating multiple library bundles, please use the <code>getBundle()</code> method.\n */\nclass AssetLibrary\n{\n\t/**\n\t * Creates a new <code>AssetLibrary</code> object.\n\t *\n\t */\n\tconstructor()\n\t{\n\t}\n\n\t//*/\n\t/**\n\t * Returns an AssetLibrary bundle instance. If no key is given, returns the default bundle (which is\n\t * similar to using the AssetLibraryBundle as a singleton). To keep several separated library bundles,\n\t * pass a string key to this method to define which bundle should be returned. This is\n\t * referred to as using the AssetLibraryBundle as a multiton.\n\t *\n\t * @param key Defines which multiton instance should be returned.\n\t * @return An instance of the asset library\n\t */\n\tpublic static getBundle(key:string = 'default'):AssetLibraryBundle\n\t{\n\t\treturn AssetLibraryBundle.getInstance(key);\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic static enableParser(parserClass)\n\t{\n\t\tLoader.enableParser(parserClass);\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic static enableParsers(parserClasses:Array<Object>)\n\t{\n\t\tLoader.enableParsers(parserClasses);\n\t}\n\n\t/**\n\t * Short-hand for conflictStrategy property on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.conflictStrategy\n\t */\n\tpublic static get conflictStrategy():ConflictStrategyBase\n\t{\n\t\treturn AssetLibrary.getBundle().conflictStrategy;\n\t}\n\n\tpublic static set conflictStrategy(val:ConflictStrategyBase)\n\t{\n\t\tAssetLibrary.getBundle().conflictStrategy = val;\n\t}\n\n\t/**\n\t * Short-hand for conflictPrecedence property on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.conflictPrecedence\n\t */\n\tpublic static get conflictPrecedence():string\n\t{\n\t\treturn AssetLibrary.getBundle().conflictPrecedence;\n\t}\n\n\tpublic static set conflictPrecedence(val:string)\n\t{\n\t\tAssetLibrary.getBundle().conflictPrecedence = val;\n\t}\n\n\t/**\n\t * Short-hand for createIterator() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.createIterator()\n\t */\n\tpublic static createIterator(assetTypeFilter:string = null, namespaceFilter:string = null, filterFunc = null):AssetLibraryIterator\n\t{\n\t\treturn AssetLibrary.getBundle().createIterator(assetTypeFilter, namespaceFilter, filterFunc);\n\t}\n\n\t/**\n\t * Short-hand for load() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.load()\n\t */\n\tpublic static load(req:URLRequest, context:LoaderContext = null, ns:string = null, parser:ParserBase = null)\n\t{\n\t\tAssetLibrary.getBundle().load(req, context, ns, parser);\n\t}\n\n\t/**\n\t * Short-hand for loadData() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.loadData()\n\t */\n\tpublic static loadData(data:any, context:LoaderContext = null, ns:string = null, parser:ParserBase = null)\n\t{\n\t\tAssetLibrary.getBundle().loadData(data, context, ns, parser);\n\t}\n\n\tpublic static stopLoad()\n\t{\n\t\tAssetLibrary.getBundle().stopAllLoaders();\n\t}\n\n\tpublic static getLoader():Loader\n\t{\n\t\treturn AssetLibrary.getBundle().getLoader();\n\t}\n\n\t/**\n\t * Short-hand for getAsset() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.getAsset()\n\t */\n\tpublic static getAsset(name:string, ns:string = null):IAsset\n\t{\n\t\treturn AssetLibrary.getBundle().getAsset(name, ns);\n\t}\n\n\t/**\n\t * Short-hand for getAsset() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.getAsset()\n\t */\n\tpublic static getAllAssets():Array<IAsset>\n\t{\n\t\treturn AssetLibrary.getBundle().getAllAssets();\n\t}\n\n\t/**\n\t * Short-hand for addEventListener() method on default asset library bundle.\n\t */\n\tpublic static addEventListener(type:string, listener:(event:EventBase) => void)\n\t{\n\t\tAssetLibrary.getBundle().addEventListener(type, listener);\n\t}\n\n\t/**\n\t * Short-hand for removeEventListener() method on default asset library bundle.\n\t */\n\tpublic static removeEventListener(type:string, listener:(event:EventBase) => void)\n\t{\n\t\tAssetLibrary.getBundle().removeEventListener(type, listener);\n\t}\n\n\t/**\n\t * Short-hand for hasEventListener() method on default asset library bundle.\n\n\t public static hasEventListener(type:string):boolean\n\t {\n\t\treturn AssetLibrary.getBundle().hasEventListener(type);\n\t}\n\n\t public static willTrigger(type:string):boolean\n\t {\n\t\treturn getBundle().willTrigger(type);\n\t}\n\t */\n\n\t/**\n\t * Short-hand for addAsset() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.addAsset()\n\t */\n\tpublic static addAsset(asset:IAsset)\n\t{\n\t\tAssetLibrary.getBundle().addAsset(asset);\n\t}\n\n\t/**\n\t * Short-hand for removeAsset() method on default asset library bundle.\n\t *\n\t * @param asset The asset which should be removed from the library.\n\t * @param dispose Defines whether the assets should also be disposed.\n\t *\n\t * @see AssetLibraryBundle.removeAsset()\n\t */\n\tpublic static removeAsset(asset:IAsset, dispose:boolean = true)\n\t{\n\t\tAssetLibrary.getBundle().removeAsset(asset, dispose);\n\t}\n\n\t/**\n\t * Short-hand for removeAssetByName() method on default asset library bundle.\n\t *\n\t * @param name The name of the asset to be removed.\n\t * @param ns The namespace to which the desired asset belongs.\n\t * @param dispose Defines whether the assets should also be disposed.\n\t *\n\t * @see AssetLibraryBundle.removeAssetByName()\n\t */\n\tpublic static removeAssetByName(name:string, ns:string = null, dispose:boolean = true):IAsset\n\t{\n\t\treturn AssetLibrary.getBundle().removeAssetByName(name, ns, dispose);\n\t}\n\n\t/**\n\t * Short-hand for removeAllAssets() method on default asset library bundle.\n\t *\n\t * @param dispose Defines whether the assets should also be disposed.\n\t *\n\t * @see AssetLibraryBundle.removeAllAssets()\n\t */\n\tpublic static removeAllAssets(dispose:boolean = true)\n\t{\n\t\tAssetLibrary.getBundle().removeAllAssets(dispose);\n\t}\n\n\t/**\n\t * Short-hand for removeNamespaceAssets() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.removeNamespaceAssets()\n\t */\n\tpublic static removeNamespaceAssets(ns:string = null, dispose:boolean = true)\n\t{\n\t\tAssetLibrary.getBundle().removeNamespaceAssets(ns, dispose);\n\t}\n}\n\nexport = AssetLibrary;",
    "/**\n * Enumaration class for precedence when resolving naming conflicts in the library.\n *\n * @see away.library.AssetLibrary.conflictPrecedence\n * @see away.library.AssetLibrary.conflictStrategy\n * @see away.library.naming.ConflictStrategy\n */\nclass ConflictPrecedence\n{\n\t/**\n\t * Signals that in a conflict, the previous owner of the conflicting name\n\t * should be favored (and keep it's name) and that the newly renamed asset\n\t * is reverted to a non-conflicting name.\n\t */\n\tpublic static FAVOR_OLD:string = 'favorOld';\n\n\t/**\n\t * Signales that in a conflict, the newly renamed asset is favored (and keeps\n\t * it's newly defined name) and that the previous owner of that name gets\n\t * renamed to a non-conflicting name.\n\t */\n\tpublic static FAVOR_NEW:string = 'favorNew';\n}\n\nexport = ConflictPrecedence;",
    "import ConflictPrecedence\t\t= require(\"awayjs-core/lib/library/ConflictPrecedence\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\nimport AssetEvent\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\n\n/**\n * Abstract base class for naming conflict resolution classes. Extend this to create a\n * strategy class which the asset library can use to resolve asset naming conflicts, or\n * use one of the bundled concrete strategy classes:\n *\n * <ul>\n *   <li>IgnoreConflictStrategy (ConflictStrategy.IGNORE)</li>\n *   <li>ErrorConflictStrategy (ConflictStrategy.THROW_ERROR)</li>\n *   <li>NumSuffixConflictStrategy (ConflictStrategy.APPEND_NUM_SUFFIX)</li>\n * </ul>\n *\n * @see away.library.AssetLibrary.conflictStrategy\n * @see away.library.ConflictStrategy\n * @see away.library.IgnoreConflictStrategy\n * @see away.library.ErrorConflictStrategy\n * @see away.library.NumSuffixConflictStrategy\n */\nclass ConflictStrategyBase\n{\n\n\tconstructor()\n\t{\n\t}\n\n\t/**\n\t * Resolve a naming conflict between two assets. Must be implemented by concrete strategy\n\t * classes.\n\t */\n\tpublic resolveConflict(changedAsset:IAsset, oldAsset:IAsset, assetsDictionary:Object, precedence:string)\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/**\n\t * Create instance of this conflict strategy. Used internally by the AssetLibrary to\n\t * make sure the same strategy instance is not used in all AssetLibrary instances, which\n\t * would break any state caching that happens inside the strategy class.\n\t */\n\tpublic create():ConflictStrategyBase\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/**\n\t * Provided as a convenience method for all conflict strategy classes, as a way to finalize\n\t * the conflict resolution by applying the new names and dispatching the correct events.\n\t */\n\tpublic _pUpdateNames(ns:string, nonConflictingName:string, oldAsset:IAsset, newAsset:IAsset, assetsDictionary:Object, precedence:string)\n\t{\n\t\tvar loser_prev_name:string;\n\t\tvar winner:IAsset;\n\t\tvar loser:IAsset;\n\n\t\twinner = (precedence === ConflictPrecedence.FAVOR_NEW)? newAsset : oldAsset;\n\t\tloser = (precedence === ConflictPrecedence.FAVOR_NEW)? oldAsset : newAsset;\n\n\t\tloser_prev_name = loser.name;\n\n\t\tassetsDictionary[winner.name] = winner;\n\t\tassetsDictionary[nonConflictingName] = loser;\n\t\tloser.resetAssetPath(nonConflictingName, ns, false);\n\n\t\tloser.dispatchEvent(new AssetEvent(AssetEvent.ASSET_CONFLICT_RESOLVED, loser, loser_prev_name));\n\t}\n}\n\nexport = ConflictStrategyBase;",
    "import ConflictStrategyBase\t\t\t= require(\"awayjs-core/lib/library/ConflictStrategyBase\");\nimport ErrorConflictStrategy\t\t= require(\"awayjs-core/lib/library/ErrorConflictStrategy\");\nimport IgnoreConflictStrategy\t\t= require(\"awayjs-core/lib/library/IgnoreConflictStrategy\");\nimport NumSuffixConflictStrategy\t= require(\"awayjs-core/lib/library/NumSuffixConflictStrategy\");\n\n/**\n * Enumeration class for bundled conflict strategies. Set one of these values (or an\n * instance of a self-defined sub-class of ConflictStrategyBase) to the conflictStrategy\n * property on an AssetLibrary to define how that library resolves naming conflicts.\n *\n * The value of the <code>AssetLibrary.conflictPrecedence</code> property defines which\n * of the conflicting assets will get to keep it's name, and which is renamed (if any.)\n *\n * @see away.library.AssetLibrary.conflictStrategy\n * @see away.library.naming.ConflictStrategyBase\n */\nclass ConflictStrategy\n{\n\t/**\n\t * Specifies that in case of a naming conflict, one of the assets will be renamed and\n\t * a numeric suffix appended to the base name.\n\t */\n\tpublic static APPEND_NUM_SUFFIX:ConflictStrategyBase = new NumSuffixConflictStrategy();\n\n\t/**\n\t * Specifies that naming conflicts should be ignored. This is not recommended in most\n\t * cases, unless it can be 100% guaranteed that the application does not cause naming\n\t * conflicts in the library (i.e. when an app-level system is in place to prevent this.)\n\t */\n\tpublic static IGNORE:ConflictStrategyBase = new IgnoreConflictStrategy();\n\n\t/**\n\t * Specifies that an error should be thrown if a naming conflict is discovered. Use this\n\t * to be 100% sure that naming conflicts never occur unnoticed, and when it's undesirable\n\t * to have the library automatically rename assets to avoid such conflicts.\n\t */\n\tpublic static THROW_ERROR:ConflictStrategyBase = new ErrorConflictStrategy();\n\n\tconstructor(include?:ConflictStrategyBase)\n\t{\n\t\t//TODO: find out why typescript d.ts files do not include this class\n\t}\n}\n\nexport = ConflictStrategy;",
    "import ConflictStrategyBase\t\t= require(\"awayjs-core/lib/library/ConflictStrategyBase\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport ErrorBase\t\t\t\t= require(\"awayjs-core/lib/errors/ErrorBase\");\n\nclass ErrorConflictStrategy extends ConflictStrategyBase\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\tpublic resolveConflict(changedAsset:IAsset, oldAsset:IAsset, assetsDictionary:Object, precedence:string)\n\t{\n\t\tthrow new ErrorBase('Asset name collision while AssetLibrary.namingStrategy set to AssetLibrary.THROW_ERROR. Asset path: ' + changedAsset.assetFullPath);\n\t}\n\n\tpublic create():ConflictStrategyBase\n\t{\n\t\treturn new ErrorConflictStrategy();\n\t}\n}\n\nexport = ErrorConflictStrategy;",
    "class IDUtil\n{\n\t/**\n\t *  @private\n\t *  Char codes for 0123456789ABCDEF\n\t */\n\tprivate static ALPHA_CHAR_CODES = [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 65, 66, 67, 68, 69, 70];\n\n\t/**\n\t *  Generates a UID (unique identifier) based on ActionScript's\n\t *  pseudo-random number generator and the current time.\n\t *\n\t *  <p>The UID has the form\n\t *  <code>\"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"</code>\n\t *  where X is a hexadecimal digit (0-9, A-F).</p>\n\t *\n\t *  <p>This UID will not be truly globally unique; but it is the best\n\t *  we can do without player support for UID generation.</p>\n\t *\n\t *  @return The newly-generated UID.\n\t *\n\t *  @langversion 3.0\n\t *  @playerversion Flash 9\n\t *  @playerversion AIR 1.1\n\t *  @productversion Flex 3\n\t */\n\tpublic static createUID():string\n\t{\n\t\tvar uid = new Array(36);\n\t\tvar index:number = 0;\n\n\t\tvar i:number;\n\t\tvar j:number;\n\n\t\tfor (i = 0; i < 8; i++)\n\t\t\tuid[index++] = IDUtil.ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\tuid[index++] = 45; // charCode for \"-\"\n\n\t\t\tfor (j = 0; j < 4; j++)\n\t\t\t\tuid[index++] = IDUtil.ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];\n\t\t}\n\n\t\tuid[index++] = 45; // charCode for \"-\"\n\n\t\tvar time:number = new Date().getTime();\n\t\t// Note: time is the number of milliseconds since 1970,\n\t\t// which is currently more than one trillion.\n\t\t// We use the low 8 hex digits of this number in the UID.\n\t\t// Just in case the system clock has been reset to\n\t\t// Jan 1-4, 1970 (in which case this number could have only\n\t\t// 1-7 hex digits), we pad on the left with 7 zeros\n\t\t// before taking the low digits.\n\t\tvar timeString:string = (\"0000000\" + time.toString(16).toUpperCase()).substr(-8);\n\n\t\tfor (i = 0; i < 8; i++)\n\t\t\tuid[index++] = timeString.charCodeAt(i);\n\n\t\tfor (i = 0; i < 4; i++)\n\t\t\tuid[index++] = IDUtil.ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];\n\n\t\treturn String.fromCharCode.apply(null, uid);\n\t}\n\n\t/**\n\t * Returns the decimal representation of a hex digit.\n\t * @private\n\n\t private static getDigit(hex:string):number\n\t {\n\t\tswitch (hex) {\n\t\t\tcase \"A\":\n\t\t\tcase \"a\":\n\t\t\t\treturn 10;\n\t\t\tcase \"B\":\n\t\t\tcase \"b\":\n\t\t\t\treturn 11;\n\t\t\tcase \"C\":\n\t\t\tcase \"c\":\n\t\t\t\treturn 12;\n\t\t\tcase \"D\":\n\t\t\tcase \"d\":\n\t\t\t\treturn 13;\n\t\t\tcase \"E\":\n\t\t\tcase \"e\":\n\t\t\t\treturn 14;\n\t\t\tcase \"F\":\n\t\t\tcase \"f\":\n\t\t\t\treturn 15;\n\t\t\tdefault:\n\t\t\t\treturn new uint(hex);\n\t\t}\n\t}\n\t */\n\n}\n\nexport = IDUtil;",
    "import ConflictStrategyBase\t\t= require(\"awayjs-core/lib/library/ConflictStrategyBase\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\n\nclass IgnoreConflictStrategy extends ConflictStrategyBase\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\tpublic resolveConflict(changedAsset:IAsset, oldAsset:IAsset, assetsDictionary:Object, precedence:string)\n\t{\n\t\t// Do nothing, ignore the fact that there is a conflict.\n\t\treturn;\n\t}\n\n\tpublic create():ConflictStrategyBase\n\t{\n\t\treturn new IgnoreConflictStrategy();\n\t}\n}\n\nexport = IgnoreConflictStrategy;",
    "class LoaderContext\n{\n\tpublic static UNDEFINED:number = 0;\n\tpublic static SINGLEPASS_MATERIALS:number = 1;\n\tpublic static MULTIPASS_MATERIALS:number = 2;\n\n\tprivate _includeDependencies:boolean;\n\tprivate _dependencyBaseUrl:string;\n\tprivate _embeddedDataByUrl:Object;\n\tprivate _remappedUrls:Object;\n\tprivate _materialMode:number;\n\n\tprivate _overrideAbsPath:boolean;\n\tprivate _overrideFullUrls:boolean;\n\n\t/**\n\t * LoaderContext provides configuration for the Loader load() and parse() operations.\n\t * Use it to configure how (and if) dependencies are loaded, or to map dependency URLs to\n\t * embedded data.\n\t *\n\t * @see away.loading.Loader\n\t */\n\tconstructor(includeDependencies:boolean = true, dependencyBaseUrl:string = null)\n\t{\n\t\tthis._includeDependencies = includeDependencies;\n\t\tthis._dependencyBaseUrl = dependencyBaseUrl || '';\n\t\tthis._embeddedDataByUrl = {};\n\t\tthis._remappedUrls = {};\n\t\tthis._materialMode = LoaderContext.UNDEFINED;\n\t}\n\n\t/**\n\t * Defines whether dependencies (all files except the one at the URL given to the load() or\n\t * parseData() operations) should be automatically loaded. Defaults to true.\n\t */\n\tpublic get includeDependencies():boolean\n\t{\n\t\treturn this._includeDependencies;\n\t}\n\n\tpublic set includeDependencies(val:boolean)\n\t{\n\t\tthis._includeDependencies = val;\n\t}\n\n\t/**\n\t * MaterialMode defines, if the Parser should create SinglePass or MultiPass Materials\n\t * Options:\n\t * 0 (Default / undefined) - All Parsers will create SinglePassMaterials, but the AWD2.1parser will create Materials as they are defined in the file\n\t * 1 (Force SinglePass) - All Parsers create SinglePassMaterials\n\t * 2 (Force MultiPass) - All Parsers will create MultiPassMaterials\n\t *\n\t */\n\tpublic get materialMode():number\n\t{\n\t\treturn this._materialMode;\n\t}\n\n\tpublic set materialMode(materialMode:number)\n\t{\n\t\tthis._materialMode = materialMode;\n\t}\n\n\t/**\n\t * A base URL that will be prepended to all relative dependency URLs found in a loaded resource.\n\t * Absolute paths will not be affected by the value of this property.\n\t */\n\tpublic get dependencyBaseUrl():string\n\t{\n\t\treturn this._dependencyBaseUrl;\n\t}\n\n\tpublic set dependencyBaseUrl(val:string)\n\t{\n\t\tthis._dependencyBaseUrl = val;\n\t}\n\n\t/**\n\t * Defines whether absolute paths (defined as paths that begin with a \"/\") should be overridden\n\t * with the dependencyBaseUrl defined in this context. If this is true, and the base path is\n\t * \"base\", /path/to/asset.jpg will be resolved as base/path/to/asset.jpg.\n\t */\n\tpublic get overrideAbsolutePaths():boolean\n\t{\n\t\treturn this._overrideAbsPath;\n\t}\n\n\tpublic set overrideAbsolutePaths(val:boolean)\n\t{\n\t\tthis._overrideAbsPath = val;\n\t}\n\n\t/**\n\t * Defines whether \"full\" URLs (defined as a URL that includes a scheme, e.g. http://) should be\n\t * overridden with the dependencyBaseUrl defined in this context. If this is true, and the base\n\t * path is \"base\", http://example.com/path/to/asset.jpg will be resolved as base/path/to/asset.jpg.\n\t */\n\tpublic get overrideFullURLs():boolean\n\t{\n\t\treturn this._overrideFullUrls;\n\t}\n\n\tpublic set overrideFullURLs(val:boolean)\n\t{\n\t\tthis._overrideFullUrls = val;\n\t}\n\n\t/**\n\t * Map a URL to another URL, so that files that are referred to by the original URL will instead\n\t * be loaded from the new URL. Use this when your file structure does not match the one that is\n\t * expected by the loaded file.\n\t *\n\t * @param originalUrl The original URL which is referenced in the loaded resource.\n\t * @param newUrl The URL from which away.should load the resource instead.\n\t *\n\t * @see mapUrlToData()\n\t */\n\tpublic mapUrl(originalUrl:string, newUrl:string)\n\t{\n\t\tthis._remappedUrls[originalUrl] = newUrl;\n\t}\n\n\t/**\n\t * Map a URL to embedded data, so that instead of trying to load a dependency from the URL at\n\t * which it's referenced, the dependency data will be retrieved straight from the memory instead.\n\t *\n\t * @param originalUrl The original URL which is referenced in the loaded resource.\n\t * @param data The embedded data. Can be ByteArray or a class which can be used to create a bytearray.\n\t */\n\tpublic mapUrlToData(originalUrl:string, data:any)\n\t{\n\t\tthis._embeddedDataByUrl[originalUrl] = data;\n\t}\n\n\t/**\n\t * @private\n\t * Defines whether embedded data has been mapped to a particular URL.\n\t */\n\tpublic _iHasDataForUrl(url:string):boolean\n\t{\n\t\treturn this._embeddedDataByUrl.hasOwnProperty(url);\n\t}\n\n\t/**\n\t * @private\n\t * Returns embedded data for a particular URL.\n\t */\n\tpublic _iGetDataForUrl(url:string):any\n\t{\n\t\treturn this._embeddedDataByUrl[url];\n\t}\n\n\t/**\n\t * @private\n\t * Defines whether a replacement URL has been mapped to a particular URL.\n\t */\n\tpublic _iHasMappingForUrl(url:string):boolean\n\t{\n\t\treturn this._remappedUrls.hasOwnProperty(url);\n\t}\n\n\t/**\n\t * @private\n\t * Returns new (replacement) URL for a particular original URL.\n\t */\n\tpublic _iGetRemappedUrl(originalUrl:string):string\n\t{\n\t\treturn this._remappedUrls[originalUrl];\n\t}\n}\n\nexport = LoaderContext;",
    "import EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport Loader\t\t\t\t\t= require(\"awayjs-core/lib/library/Loader\");\nimport AssetBase\t\t\t\t= require(\"awayjs-core/lib/library/AssetBase\");\nimport ByteArray\t\t\t\t= require(\"awayjs-core/lib/utils/ByteArray\");\n\n/**\n * The LoaderInfo class provides information about a loaded SWF file or a\n * loaded image file(JPEG, GIF, or PNG). LoaderInfo objects are available for\n * any display object. The information provided includes load progress, the\n * URLs of the loader and loaded content, the number of bytes total for the\n * media, and the nominal height and width of the media.\n *\n * <p>You can access LoaderInfo objects in two ways: </p>\n *\n * <ul>\n *   <li>The <code>contentLoaderInfo</code> property of a flash.display.Loader\n * object -  The <code>contentLoaderInfo</code> property is always available\n * for any Loader object. For a Loader object that has not called the\n * <code>load()</code> or <code>loadBytes()</code> method, or that has not\n * sufficiently loaded, attempting to access many of the properties of the\n * <code>contentLoaderInfo</code> property throws an error.</li>\n *   <li>The <code>loaderInfo</code> property of a display object. </li>\n * </ul>\n *\n * <p>The <code>contentLoaderInfo</code> property of a Loader object provides\n * information about the content that the Loader object is loading, whereas\n * the <code>loaderInfo</code> property of a DisplayObject provides\n * information about the root SWF file for that display object. </p>\n *\n * <p>When you use a Loader object to load a display object(such as a SWF\n * file or a bitmap), the <code>loaderInfo</code> property of the display\n * object is the same as the <code>contentLoaderInfo</code> property of the\n * Loader object(<code>DisplayObject.loaderInfo =\n * Loader.contentLoaderInfo</code>). Because the instance of the main class of\n * the SWF file has no Loader object, the <code>loaderInfo</code> property is\n * the only way to access the LoaderInfo for the instance of the main class of\n * the SWF file.</p>\n *\n * <p>The following diagram shows the different uses of the LoaderInfo\n * object - for the instance of the main class of the SWF file, for the\n * <code>contentLoaderInfo</code> property of a Loader object, and for the\n * <code>loaderInfo</code> property of a loaded object:</p>\n *\n * <p>When a loading operation is not complete, some properties of the\n * <code>contentLoaderInfo</code> property of a Loader object are not\n * available. You can obtain some properties, such as\n * <code>bytesLoaded</code>, <code>bytesTotal</code>, <code>url</code>,\n * <code>loaderURL</code>, and <code>applicationDomain</code>. When the\n * <code>loaderInfo</code> object dispatches the <code>init</code> event, you\n * can access all properties of the <code>loaderInfo</code> object and the\n * loaded image or SWF file.</p>\n *\n * <p><b>Note:</b> All properties of LoaderInfo objects are read-only.</p>\n *\n * <p>The <code>EventDispatcher.dispatchEvent()</code> method is not\n * applicable to LoaderInfo objects. If you call <code>dispatchEvent()</code>\n * on a LoaderInfo object, an IllegalOperationError exception is thrown.</p>\n * \n * @event complete   Dispatched when data has loaded successfully. In other\n *                   words, it is dispatched when all the content has been\n *                   downloaded and the loading has finished. The\n *                   <code>complete</code> event is always dispatched after\n *                   the <code>init</code> event. The <code>init</code> event\n *                   is dispatched when the object is ready to access, though\n *                   the content may still be downloading.\n * @event httpStatus Dispatched when a network request is made over HTTP and\n *                   an HTTP status code can be detected.\n * @event init       Dispatched when the properties and methods of a loaded\n *                   SWF file are accessible and ready for use. The content,\n *                   however, can still be downloading. A LoaderInfo object\n *                   dispatches the <code>init</code> event when the following\n *                   conditions exist:\n *                   <ul>\n *                     <li>All properties and methods associated with the\n *                   loaded object and those associated with the LoaderInfo\n *                   object are accessible.</li>\n *                     <li>The constructors for all child objects have\n *                   completed.</li>\n *                     <li>All ActionScript code in the first frame of the\n *                   loaded SWF's main timeline has been executed.</li>\n *                   </ul>\n *\n *                   <p>For example, an <code>Event.INIT</code> is dispatched\n *                   when the first frame of a movie or animation is loaded.\n *                   The movie is then accessible and can be added to the\n *                   display list. The complete movie, however, can take\n *                   longer to download. The <code>Event.COMPLETE</code> is\n *                   only dispatched once the full movie is loaded.</p>\n *\n *                   <p>The <code>init</code> event always precedes the\n *                   <code>complete</code> event.</p>\n * @event ioError    Dispatched when an input or output error occurs that\n *                   causes a load operation to fail.\n * @event open       Dispatched when a load operation starts.\n * @event progress   Dispatched when data is received as the download\n *                   operation progresses.\n * @event unload     Dispatched by a LoaderInfo object whenever a loaded\n *                   object is removed by using the <code>unload()</code>\n *                   method of the Loader object, or when a second load is\n *                   performed by the same Loader object and the original\n *                   content is removed prior to the load beginning.\n */\nclass LoaderInfo extends EventDispatcher\n{\n\tprivate _bytes:ByteArray;\n\tprivate _bytesLoaded:number;\n\tprivate _bytesTotal:number;\n\tprivate _content:AssetBase;\n\tprivate _contentType:string;\n\tprivate _loader:Loader;\n\tprivate _url:string;\n\t/**\n\t * The bytes associated with a LoaderInfo object.\n\t * \n\t * @throws SecurityError If the object accessing this API is prevented from\n\t *                       accessing the loaded object due to security\n\t *                       restrictions. This situation can occur, for\n\t *                       instance, when a Loader object attempts to access\n\t *                       the <code>contentLoaderInfo.content</code> property\n\t *                       and it is not granted security permission to access\n\t *                       the loaded content.\n\t *\n\t *                       <p>For more information related to security, see the\n\t *                       Flash Player Developer Center Topic: <a\n\t *                       href=\"http://www.adobe.com/go/devnet_security_en\"\n\t *                       scope=\"external\">Security</a>.</p>\n\t */\n\tpublic get bytes():ByteArray\n\t{\n\t\treturn this._bytes;\n\t}\n\n\t/**\n\t * The number of bytes that are loaded for the media. When this number equals\n\t * the value of <code>bytesTotal</code>, all of the bytes are loaded.\n\t */\n\tpublic get bytesLoaded():number /*int*/\n\t{\n\t\treturn this._bytesLoaded;\n\t}\n\n\t/**\n\t * The number of compressed bytes in the entire media file.\n\t *\n\t * <p>Before the first <code>progress</code> event is dispatched by this\n\t * LoaderInfo object's corresponding Loader object, <code>bytesTotal</code>\n\t * is 0. After the first <code>progress</code> event from the Loader object,\n\t * <code>bytesTotal</code> reflects the actual number of bytes to be\n\t * downloaded.</p>\n\t */\n\tpublic get bytesTotal():number /*int*/\n\t{\n\t\treturn this._bytesTotal;\n\t}\n\n\t/**\n\t * The loaded object associated with this LoaderInfo object.\n\t * \n\t * @throws SecurityError If the object accessing this API is prevented from\n\t *                       accessing the loaded object due to security\n\t *                       restrictions. This situation can occur, for\n\t *                       instance, when a Loader object attempts to access\n\t *                       the <code>contentLoaderInfo.content</code> property\n\t *                       and it is not granted security permission to access\n\t *                       the loaded content.\n\t *\n\t *                       <p>For more information related to security, see the\n\t *                       Flash Player Developer Center Topic: <a\n\t *                       href=\"http://www.adobe.com/go/devnet_security_en\"\n\t *                       scope=\"external\">Security</a>.</p>\n\t */\n\tpublic get content():AssetBase\n\t{\n\t\treturn this._content;\n\t}\n\n\t/**\n\t * The MIME type of the loaded file. The value is <code>null</code> if not\n\t * enough of the file has loaded in order to determine the type. The\n\t * following list gives the possible values:\n\t * <ul>\n\t *   <li><code>\"application/x-shockwave-flash\"</code></li>\n\t *   <li><code>\"image/jpeg\"</code></li>\n\t *   <li><code>\"image/gif\"</code></li>\n\t *   <li><code>\"image/png\"</code></li>\n\t * </ul>\n\t */\n\tpublic get contentType():string\n\t{\n\t\treturn this._contentType;\n\t}\n\n\t/**\n\t * The Loader object associated with this LoaderInfo object. If this\n\t * LoaderInfo object is the <code>loaderInfo</code> property of the instance\n\t * of the main class of the SWF file, no Loader object is associated.\n\t * \n\t * @throws SecurityError If the object accessing this API is prevented from\n\t *                       accessing the Loader object because of security\n\t *                       restrictions. This can occur, for instance, when a\n\t *                       loaded SWF file attempts to access its\n\t *                       <code>loaderInfo.loader</code> property and it is\n\t *                       not granted security permission to access the\n\t *                       loading SWF file.\n\t *\n\t *                       <p>For more information related to security, see the\n\t *                       Flash Player Developer Center Topic: <a\n\t *                       href=\"http://www.adobe.com/go/devnet_security_en\"\n\t *                       scope=\"external\">Security</a>.</p>\n\t */\n\tpublic get loader():Loader\n\t{\n\t\treturn this._loader;\n\t}\n\n\t/**\n\t * The URL of the media being loaded.\n\t *\n\t * <p>Before the first <code>progress</code> event is dispatched by this\n\t * LoaderInfo object's corresponding Loader object, the value of the\n\t * <code>url</code> property might reflect only the initial URL specified in\n\t * the call to the <code>load()</code> method of the Loader object. After the\n\t * first <code>progress</code> event, the <code>url</code> property reflects\n\t * the media's final URL, after any redirects and relative URLs are\n\t * resolved.</p>\n\t *\n\t * <p>In some cases, the value of the <code>url</code> property is truncated;\n\t * see the <code>isURLInaccessible</code> property for details.</p>\n\t */\n\tpublic get url():string\n\t{\n\t\treturn this._url;\n\t}\n}\n\nexport = LoaderInfo;",
    "import LoaderContext\t\t\t= require(\"awayjs-core/lib/library/LoaderContext\");\nimport LoaderInfo\t\t\t\t= require(\"awayjs-core/lib/library/LoaderInfo\");\nimport URLLoader\t\t\t\t= require(\"awayjs-core/lib/net/URLLoader\");\nimport URLLoaderDataFormat\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport AssetEvent\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport URLLoaderEvent\t\t\t= require(\"awayjs-core/lib/events/URLLoaderEvent\");\nimport LoaderEvent\t\t\t\t= require(\"awayjs-core/lib/events/LoaderEvent\");\nimport ParserEvent\t\t\t\t= require(\"awayjs-core/lib/events/ParserEvent\");\nimport Image2DParser\t\t\t= require(\"awayjs-core/lib/parsers/Image2DParser\");\nimport ImageCubeParser\t\t\t= require(\"awayjs-core/lib/parsers/ImageCubeParser\");\nimport TextureAtlasParser\t\t= require(\"awayjs-core/lib/parsers/TextureAtlasParser\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\nimport ResourceDependency\t\t= require(\"awayjs-core/lib/parsers/ResourceDependency\");\nimport WaveAudioParser\t\t\t= require(\"awayjs-core/lib/parsers/WaveAudioParser\");\n\n\n\n/**\n * Dispatched when any asset finishes parsing. Also see specific events for each\n * individual asset type (meshes, materials et c.)\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"assetComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when a full resource (including dependencies) finishes loading.\n *\n * @eventType away.events.LoaderEvent\n */\n//[Event(name=\"resourceComplete\", type=\"away3d.events.LoaderEvent\")]\n\n\n/**\n * Dispatched when a single dependency (which may be the main file of a resource)\n * finishes loading.\n *\n * @eventType away.events.LoaderEvent\n */\n//[Event(name=\"dependencyComplete\", type=\"away3d.events.LoaderEvent\")]\n\n\n/**\n * Dispatched when an error occurs during loading. I\n *\n * @eventType away.events.LoaderEvent\n */\n//[Event(name=\"loadError\", type=\"away3d.events.LoaderEvent\")]\n\n\n/**\n * Dispatched when an error occurs during parsing.\n *\n * @eventType away.events.ParserEvent\n */\n//[Event(name=\"parseError\", type=\"away3d.events.ParserEvent\")]\n\n/**\n * Dispatched when an image asset dimensions are not a power of 2\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"textureSizeError\", type=\"away3d.events.AssetEvent\")]\n\n/**\n * Loader can load any file format that away.supports (or for which a third-party parser\n * has been plugged in) and it's dependencies. Events are dispatched when assets are encountered\n * and for when the resource (or it's dependencies) have been loaded.\n *\n * The Loader will not make assets available in any other way than through the dispatched\n * events. To store assets and make them available at any point from any module in an application,\n * use the AssetLibrary to load and manage assets.\n *\n * @see away.library.AssetLibrary\n */\nclass Loader extends EventDispatcher\n{\n\tprivate _context:LoaderContext;\n\tprivate _loaderInfo:LoaderInfo;\n\tprivate _uri:string;\n\tprivate _materialMode:number;\n\n\tprivate _errorHandlers:Array<(event:URLLoaderEvent) => boolean>;\n\tprivate _parseErrorHandlers:Array<(event:ParserEvent) => boolean>;\n\n\tprivate _stack:Array<ResourceDependency>;\n\tprivate _baseDependency:ResourceDependency;\n\tprivate _currentDependency:ResourceDependency;\n\tprivate _namespace:string;\n\n\tprivate _onReadyForDependenciesDelegate:(event:ParserEvent) => void;\n\tprivate _onParseCompleteDelegate:(event:ParserEvent) => void;\n\tprivate _onParseErrorDelegate:(event:ParserEvent) => void;\n\tprivate _onLoadCompleteDelegate:(event:URLLoaderEvent) => void;\n\tprivate _onLoadErrorDelegate:(event:URLLoaderEvent) => void;\n\tprivate _onTextureSizeErrorDelegate:(event:AssetEvent) => void;\n\tprivate _onAssetCompleteDelegate:(event:AssetEvent) => void;\n\n\t// Image parser only parser that is added by default, to save file size.\n\tprivate static _parsers:Array<any> = new Array<any>(Image2DParser, ImageCubeParser, TextureAtlasParser, WaveAudioParser);\n\n\t/**\n\t * Enables a specific parser.\n\t * When no specific parser is set for a loading/parsing opperation,\n\t * loader3d can autoselect the correct parser to use.\n\t * A parser must have been enabled, to be considered when autoselecting the parser.\n\t *\n\t * @param parser The parser class to enable.\n\t *\n\t * @see away.parsers.Parsers\n\t */\n\tpublic static enableParser(parser)\n\t{\n\t\tif (Loader._parsers.indexOf(parser) < 0)\n\t\t\tLoader._parsers.push(parser);\n\t}\n\n\t/**\n\t * Enables a list of parsers.\n\t * When no specific parser is set for a loading/parsing opperation,\n\t * Loader can autoselect the correct parser to use.\n\t * A parser must have been enabled, to be considered when autoselecting the parser.\n\t *\n\t * @param parsers A Vector of parser classes to enable.\n\t * @see away.parsers.Parsers\n\t */\n\tpublic static enableParsers(parsers:Array<Object>)\n\t{\n\t\tfor (var c:number = 0; c < parsers.length; c++)\n\t\t\tLoader.enableParser(parsers[ c ]);\n\t}\n\n\t/**\n\t * Returns the base dependency of the loader\n\t */\n\tpublic get baseDependency():ResourceDependency\n\t{\n\t\treturn this._baseDependency;\n\t}\n\n\t/**\n\t * Returns a LoaderInfo object corresponding to the object being loaded.\n\t * LoaderInfo objects are shared between the Loader object and the loaded\n\t * content object. The LoaderInfo object supplies loading progress\n\t * information and statistics about the loaded file.\n\t *\n\t * <p>Events related to the load are dispatched by the LoaderInfo object\n\t * referenced by the <code>contentLoaderInfo</code> property of the Loader\n\t * object. The <code>contentLoaderInfo</code> property is set to a valid\n\t * LoaderInfo object, even before the content is loaded, so that you can add\n\t * event listeners to the object prior to the load.</p>\n\t *\n\t * <p>To detect uncaught errors that happen in a loaded SWF, use the\n\t * <code>Loader.uncaughtErrorEvents</code> property, not the\n\t * <code>Loader.contentLoaderInfo.uncaughtErrorEvents</code> property.</p>\n\t */\n\tpublic get loaderInfo():LoaderInfo\n\t{\n\t\treturn this._loaderInfo;\n\t}\n\n\t/**\n\t * Create a new ResourceLoadSession object.\n\t */\n\tconstructor(materialMode:number = 0)\n\t{\n\t\tsuper();\n\n\t\tthis._materialMode = materialMode;\n\n\t\tthis._stack = new Array<ResourceDependency>();\n\t\tthis._errorHandlers = new Array<(event:URLLoaderEvent) => boolean>();\n\t\tthis._parseErrorHandlers = new Array<(event:ParserEvent) => boolean>();\n\n\t\tthis._onReadyForDependenciesDelegate = (event:ParserEvent) => this.onReadyForDependencies(event);\n\t\tthis._onParseCompleteDelegate = (event:ParserEvent) => this.onParseComplete(event);\n\t\tthis._onParseErrorDelegate = (event:ParserEvent) => this.onParseError(event);\n\t\tthis._onLoadCompleteDelegate = (event:URLLoaderEvent) => this.onLoadComplete(event);\n\t\tthis._onLoadErrorDelegate = (event:URLLoaderEvent) => this.onLoadError(event);\n\t\tthis._onTextureSizeErrorDelegate = (event:AssetEvent) => this.onTextureSizeError(event);\n\t\tthis._onAssetCompleteDelegate = (event:AssetEvent) => this.onAssetComplete(event);\n\t}\n\n\t/**\n\t * Loads a file and (optionally) all of its dependencies.\n\t *\n\t * @param req The URLRequest object containing the URL of the file to be loaded.\n\t * @param context An optional context object providing additional parameters for loading\n\t * @param ns An optional namespace string under which the file is to be loaded, allowing the differentiation of two resources with identical assets\n\t * @param parser An optional parser object for translating the loaded data into a usable resource. If not provided, Loader will attempt to auto-detect the file type.\n\t */\n\tpublic load(req:URLRequest, context:LoaderContext = null, ns:string = null, parser:ParserBase = null)\n\t{\n\t\tthis._uri = req.url = req.url.replace(/\\\\/g, \"/\");\n\t\tthis._context = context;\n\t\tthis._namespace = ns;\n\n\t\tthis._baseDependency = new ResourceDependency('', req, null, parser, null);\n\t\tthis.retrieveDependency(this._baseDependency);\n\t}\n\n\t/**\n\t * Loads a resource from already loaded data.\n\t *\n\t * @param data The data object containing all resource information.\n\t * @param context An optional context object providing additional parameters for loading\n\t * @param ns An optional namespace string under which the file is to be loaded, allowing the differentiation of two resources with identical assets\n\t * @param parser An optional parser object for translating the loaded data into a usable resource. If not provided, Loader will attempt to auto-detect the file type.\n\t */\n\tpublic loadData(data:any, id:string, context:LoaderContext = null, ns:string = null, parser:ParserBase = null)\n\t{\n\t\tthis._uri = id;\n\t\tthis._context = context;\n\t\tthis._namespace = ns;\n\n\t\tthis._baseDependency = new ResourceDependency(id, null, data, parser, null);\n\t\tthis.retrieveDependency(this._baseDependency);\n\t}\n\n\t/**\n\t * Recursively retrieves the next to-be-loaded and parsed dependency on the stack, or pops the list off the\n\t * stack when complete and continues on the top set.\n\t * @param parser The parser that will translate the data into a usable resource.\n\t */\n\tprivate retrieveNext(parser:ParserBase = null)\n\t{\n\t\tif (this._currentDependency.dependencies.length) {\n\n\t\t\tvar next:ResourceDependency = this._currentDependency.dependencies.pop();\n\n\t\t\tthis._stack.push(this._currentDependency);\n\t\t\tthis.retrieveDependency(next);\n\n\t\t} else if (this._currentDependency.parser && this._currentDependency.parser.parsingPaused) {\n\n\t\t\tthis._currentDependency.parser._iResumeParsing();\n\t\t\tthis._stack.pop();\n\n\t\t} else if (this._stack.length) {\n\n\t\t\tvar prev:ResourceDependency = this._currentDependency;\n\n\t\t\tthis._currentDependency = this._stack.pop();\n\n\t\t\tif (prev._iSuccess)\n\t\t\t\tprev.resolve();\n\n\t\t\tthis.retrieveNext(parser);\n\n\t\t} else {\n\t\t\tthis.dispatchEvent(new LoaderEvent(LoaderEvent.LOAD_COMPLETE, this._uri, this._baseDependency.parser.content, this._baseDependency.assets));\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves a single dependency.\n\t * @param parser The parser that will translate the data into a usable resource.\n\t */\n\tprivate retrieveDependency(dependency:ResourceDependency)\n\t{\n\t\tvar data:any;\n\n\t\tif (this._context && this._context.materialMode != 0)\n\t\t\tthis._materialMode = this._context.materialMode;\n\n\t\tthis._currentDependency = dependency;\n\n\t\tdependency._iLoader = new URLLoader();\n\n\t\tthis.addEventListeners(dependency._iLoader);\n\n\t\t// Get already loaded (or mapped) data if available\n\t\tdata = dependency.data;\n\n\t\tif (this._context && dependency.request && this._context._iHasDataForUrl(dependency.request.url))\n\t\t\tdata = this._context._iGetDataForUrl(dependency.request.url);\n\n\t\tif (data) {\n\t\t\tif (data.constructor === Function)\n\t\t\t\tdata = new data();\n\n\t\t\tdependency._iSetData(data);\n\n\t\t\tif (dependency.retrieveAsRawData) {\n\t\t\t\t// No need to parse. The parent parser is expecting this\n\t\t\t\t// to be raw data so it can be passed directly.\n\t\t\t\tdependency.resolve();\n\n\t\t\t\t// Move on to next dependency\n\t\t\t\tthis.retrieveNext();\n\n\t\t\t} else {\n\t\t\t\tthis.parseDependency(dependency);\n\t\t\t}\n\n\t\t} else {\n\t\t\t// Resolve URL and start loading\n\t\t\tdependency.request.url = this.resolveDependencyUrl(dependency);\n\n\t\t\tif (dependency.retrieveAsRawData) {\n\t\t\t\t// Always use binary for raw data loading\n\t\t\t\tdependency._iLoader.dataFormat = URLLoaderDataFormat.BINARY;\n\t\t\t} else {\n\n\t\t\t\tif (!dependency.parser)\n\t\t\t\t\tdependency._iSetParser(this.getParserFromSuffix(dependency.request.url));\n\n\t\t\t\tif (dependency.parser) {\n\t\t\t\t\tdependency._iLoader.dataFormat = dependency.parser.dataFormat;\n\t\t\t\t} else {\n\t\t\t\t\t// Always use BINARY for unknown file formats. The thorough\n\t\t\t\t\t// file type check will determine format after load, and if\n\t\t\t\t\t// binary, a text load will have broken the file data.\n\t\t\t\t\tdependency._iLoader.dataFormat = URLLoaderDataFormat.BINARY;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdependency._iLoader.load(dependency.request);\n\t\t}\n\t}\n\n\tprivate joinUrl(base:string, end:string):string\n\t{\n\t\tif (end.charAt(0) == '/' || end.charAt(0) == '\\\\')\n\t\t\tend = end.substr(1);\n\n\t\tif (end.charAt(0) == '.')\n\t\t\tend = end.substr(2);\n\n\t\tif (base.length == 0)\n\t\t\treturn end;\n\n\t\tif (base.charAt(base.length - 1) == '/' || base.charAt(base.length - 1) == '\\\\')\n\t\t\tbase = base.substr(0, base.length - 1);\n\n\t\treturn base.concat('/', end);\n\n\t}\n\n\tprivate resolveDependencyUrl(dependency:ResourceDependency):string\n\t{\n\t\tvar scheme_re:RegExp;\n\t\tvar base:string;\n\t\tvar url:string = dependency.request.url;\n\n\t\t// Has the user re-mapped this URL?\n\t\tif (this._context && this._context._iHasMappingForUrl(url))\n\t\t\treturn this._context._iGetRemappedUrl(url);\n\n\t\t// This is the \"base\" dependency, i.e. the actual requested asset.\n\t\t// We will not try to resolve this since the user can probably be\n\t\t// thrusted to know this URL better than our automatic resolver. :)\n\t\tif (url == this._uri)\n\t\t\treturn url;\n\n\n\t\t// Absolute URL? Check if starts with slash or a URL\n\t\t// scheme definition (e.g. ftp://, http://, file://)\n\t\tscheme_re = new RegExp('/^[a-zA-Z]{3,4}:\\/\\//');\n\n\t\tif (url.charAt(0) == '/') {\n\t\t\tif (this._context && this._context.overrideAbsolutePaths)\n\t\t\t\treturn this.joinUrl(this._context.dependencyBaseUrl, url); else\n\t\t\t\treturn url;\n\t\t} else if (scheme_re.test(url)) {\n\t\t\t// If overriding full URLs, get rid of scheme (e.g. \"http://\")\n\t\t\t// and replace with the dependencyBaseUrl defined by user.\n\t\t\tif (this._context && this._context.overrideFullURLs) {\n\n\t\t\t\tvar noscheme_url : string  = url.replace( scheme_re , '' );//url['replace'](scheme_re);\n\t\t\t\treturn this.joinUrl(this._context.dependencyBaseUrl, <string> noscheme_url);\n\t\t\t}\n\t\t}\n\n\t\t// Since not absolute, just get rid of base file name to find it's\n\t\t// folder and then concatenate dynamic URL\n\t\tif (this._context && this._context.dependencyBaseUrl) {\n\t\t\tbase = this._context.dependencyBaseUrl;\n\t\t\treturn this.joinUrl(base, url);\n\t\t} else {\n\t\t\tbase = this._uri.substring(0, this._uri.lastIndexOf('/') + 1);\n\t\t\treturn this.joinUrl(base, url);\n\t\t}\n\t}\n\n\tprivate retrieveParserDependencies()\n\t{\n\t\tif (!this._currentDependency)\n\t\t\treturn;\n\n\t\tvar parserDependancies = this._currentDependency.parser.dependencies;\n\t\tvar i:number, len:number = parserDependancies.length;\n\n\t\tfor (i = 0; i < len; i++)\n\t\t\tthis._currentDependency.dependencies[i] = parserDependancies[i];\n\n\t\t// Since more dependencies might be added eventually, empty this\n\t\t// list so that the same dependency isn't retrieved more than once.\n\t\tparserDependancies.length = 0;\n\n\t\tthis._stack.push(this._currentDependency);\n\n\t\tthis.retrieveNext();\n\t}\n\n\tprivate resolveParserDependencies()\n\t{\n\t\tthis._currentDependency._iSuccess = true;\n\n\t\t// Retrieve any last dependencies remaining on this parser, or\n\t\t// if none exists, just move on.\n\t\tif (this._currentDependency.parser && this._currentDependency.parser.dependencies.length && (!this._context || this._context.includeDependencies))//context may be null\n\t\t\tthis.retrieveParserDependencies();\n\t\telse\n\t\t\tthis.retrieveNext();\n\t}\n\n\t/**\n\t * Called when a single dependency loading failed, and pushes further dependencies onto the stack.\n\t * @param event\n\t */\n\tprivate onLoadError(event:URLLoaderEvent)\n\t{\n\t\tvar handled:boolean;\n\t\tvar isDependency:boolean = (this._currentDependency != this._baseDependency);\n\t\tvar loader:URLLoader = event.urlLoader;\n\n\t\tthis.removeEventListeners(loader);\n\n\t\tif (this.hasEventListener(URLLoaderEvent.LOAD_ERROR)) {\n\t\t\tthis.dispatchEvent(event);\n\t\t\thandled = true;\n\t\t} else {\n\t\t\t// TODO: Consider not doing this even when Loader does have it's own LOAD_ERROR listener\n\t\t\tvar i:number, len:number = this._errorHandlers.length;\n\t\t\tfor (i = 0; i < len; i++)\n\t\t\t\tif (!handled)\n\t\t\t\t\thandled = this._errorHandlers[i](event);\n\t\t}\n\n\t\tif (handled) {\n\n\t\t\t//if (isDependency && ! event.isDefaultPrevented()) {\n\t\t\tif (isDependency) { // TODO: JS / AS3 Change - we don't have isDefaultPrevented - so will this work\n\n\t\t\t\tthis._currentDependency.resolveFailure();\n\t\t\t\tthis.retrieveNext();\n\n\t\t\t} else {\n\t\t\t\t// Either this was the base file (last left in the stack) or\n\t\t\t\t// default behavior was prevented by the handlers, and hence\n\t\t\t\t// there is nothing more to do than clean up and bail.\n\t\t\t\tthis.dispose();\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\n\t\t\t// Error event was not handled by listeners directly on Loader or\n\t\t\t// on any of the subscribed loaders (in the list of error handlers.)\n\t\t\tthrow new Error();\n\t\t}\n\t}\n\n\t/**\n\t * Called when a dependency parsing failed, and dispatches a <code>ParserEvent.PARSE_ERROR</code>\n\t * @param event\n\t */\n\tprivate onParseError(event:ParserEvent)\n\t{\n\t\tvar handled:boolean;\n\n\t\tvar isDependency:boolean = (this._currentDependency != this._baseDependency);\n\n\t\tvar loader:URLLoader = <URLLoader>event.target;\n\n\t\tthis.removeEventListeners(loader);\n\n\t\tif (this.hasEventListener(ParserEvent.PARSE_ERROR)) {\n\t\t\tthis.dispatchEvent(event);\n\t\t\thandled = true;\n\t\t} else {\n\t\t\t// TODO: Consider not doing this even when Loader does\n\t\t\t// have it's own LOAD_ERROR listener\n\t\t\tvar i:number, len:number = this._parseErrorHandlers.length;\n\n\t\t\tfor (i = 0; i < len; i++)\n\t\t\t\tif (!handled)\n\t\t\t\t\thandled = this._parseErrorHandlers[i](event);\n\t\t}\n\n\t\tif (handled) {\n\t\t\tthis.retrieveNext();\n\t\t} else {\n\t\t\t// Error event was not handled by listeners directly on Loader or\n\t\t\t// on any of the subscribed loaders (in the list of error handlers.)\n\t\t\tthrow new Error(event.message);\n\t\t}\n\t}\n\n\tprivate onAssetComplete(event:AssetEvent)\n\t{\n\t\t// Add loaded asset to list of assets retrieved as part\n\t\t// of the current dependency. This list will be inspected\n\t\t// by the parent parser when dependency is resolved\n\t\tif (this._currentDependency)\n\t\t\tthis._currentDependency.assets.push(event.asset);\n\n\t\tevent.asset.resetAssetPath(event.asset.name, this._namespace);\n\n\t\tif (!this._currentDependency.suppresAssetEvents)\n\t\t\tthis.dispatchEvent(event);\n\t}\n\n\tprivate onReadyForDependencies(event:ParserEvent)\n\t{\n\t\tvar parser:ParserBase = <ParserBase> event.target;\n\n\t\tif (this._context && !this._context.includeDependencies)\n\t\t\tparser._iResumeParsing();\n\t\telse\n\t\t\tthis.retrieveParserDependencies();\n\t}\n\n\t/**\n\t * Called when a single dependency was parsed, and pushes further dependencies onto the stack.\n\t * @param event\n\t */\n\tprivate onLoadComplete(event:URLLoaderEvent)\n\t{\n\t\tvar loader:URLLoader = event.urlLoader;\n\n\t\tthis.removeEventListeners(loader);\n\n\t\t// Resolve this dependency\n\t\tthis._currentDependency._iSetData(loader.data);\n\n\t\tif (this._currentDependency.retrieveAsRawData) {\n\t\t\t// No need to parse this data, which should be returned as is\n\t\t\tthis.resolveParserDependencies();\n\t\t} else {\n\t\t\tthis.parseDependency(this._currentDependency);\n\t\t}\n\t}\n\n\t/**\n\t * Called when parsing is complete.\n\t */\n\tprivate onParseComplete(event:ParserEvent):void\n\t{\n\t\tvar parser:ParserBase = <ParserBase> event.target;\n\n\t\tthis.resolveParserDependencies();//resolve in front of removing listeners to allow any remaining asset events to propagate\n\n\t\tparser.removeEventListener(ParserEvent.READY_FOR_DEPENDENCIES, this._onReadyForDependenciesDelegate);\n\t\tparser.removeEventListener(ParserEvent.PARSE_COMPLETE, this._onParseCompleteDelegate);\n\t\tparser.removeEventListener(ParserEvent.PARSE_ERROR, this._onParseErrorDelegate);\n\t\tparser.removeEventListener(AssetEvent.TEXTURE_SIZE_ERROR, this._onTextureSizeErrorDelegate);\n\t\tparser.removeEventListener(AssetEvent.ASSET_COMPLETE, this._onAssetCompleteDelegate);\n\t}\n\n\t/**\n\t * Called when an image is too large or it's dimensions are not a power of 2\n\t * @param event\n\t */\n\tprivate onTextureSizeError(event:AssetEvent)\n\t{\n\t\tevent.asset.name = this._currentDependency.resolveName(event.asset);\n\n\t\tthis.dispatchEvent(event);\n\t}\n\n\tprivate addEventListeners(loader:URLLoader)\n\t{\n\t\tloader.addEventListener(URLLoaderEvent.LOAD_COMPLETE, this._onLoadCompleteDelegate);\n\t\tloader.addEventListener(URLLoaderEvent.LOAD_ERROR, this._onLoadErrorDelegate);\n\t}\n\n\tprivate removeEventListeners(loader:URLLoader)\n\t{\n\t\tloader.removeEventListener(URLLoaderEvent.LOAD_COMPLETE, this._onLoadCompleteDelegate);\n\t\tloader.removeEventListener(URLLoaderEvent.LOAD_ERROR, this._onLoadErrorDelegate);\n\t}\n\n\tpublic stop()\n\t{\n\t\tthis.dispose();\n\t}\n\n\tprivate dispose()\n\t{\n\t\tthis._errorHandlers = null;\n\t\tthis._parseErrorHandlers = null;\n\t\tthis._context = null;\n\t\tthis._stack = null;\n\n\t\tif (this._currentDependency && this._currentDependency._iLoader)\n\t\t\tthis.removeEventListeners(this._currentDependency._iLoader);\n\n\t\tthis._currentDependency = null;\n\n\t}\n\n\t/**\n\t * @private\n\t * This method is used by other loader classes (e.g. Loader3D and AssetLibraryBundle) to\n\t * add error event listeners to the Loader instance. This system is used instead of\n\t * the regular EventDispatcher system so that the AssetLibrary error handler can be sure\n\t * that if hasEventListener() returns true, it's client code that's listening for the\n\t * event. Secondly, functions added as error handler through this custom method are\n\t * expected to return a boolean value indicating whether the event was handled (i.e.\n\t * whether they in turn had any client code listening for the event.) If no handlers\n\t * return true, the Loader knows that the event wasn't handled and will throw an RTE.\n\t */\n\n\tpublic _iAddParseErrorHandler(handler)\n\t{\n\t\tif (this._parseErrorHandlers.indexOf(handler) < 0)\n\t\t\tthis._parseErrorHandlers.push(handler);\n\t}\n\n\tpublic _iAddErrorHandler(handler)\n\t{\n\t\tif (this._errorHandlers.indexOf(handler) < 0)\n\t\t\tthis._errorHandlers.push(handler);\n\t}\n\n\n\t/**\n\t * Guesses the parser to be used based on the file contents.\n\t * @param data The data to be parsed.\n\t * @param uri The url or id of the object to be parsed.\n\t * @return An instance of the guessed parser.\n\t */\n\tprivate getParserFromData(data:any):ParserBase\n\t{\n\t\tvar len:number = Loader._parsers.length;\n\n\t\t// go in reverse order to allow application override of default parser added in away.proper\n\t\tfor (var i:number = len - 1; i >= 0; i--)\n\t\t\tif (Loader._parsers[i].supportsData(data))\n\t\t\t\treturn new Loader._parsers[i]();\n\n\t\treturn null;\n\t}\n\n\n\t/**\n\t * Initiates parsing of the loaded dependency.\n\t *\n\t * @param The dependency to be parsed.\n\t */\n\tprivate parseDependency(dependency:ResourceDependency):void\n\t{\n\t\tvar parser:ParserBase = dependency.parser;\n\n\t\t// If no parser has been defined, try to find one by letting\n\t\t// all plugged in parsers inspect the actual data.\n\t\tif (!parser)\n\t\t\tdependency._iSetParser(parser = this.getParserFromData(dependency.data));\n\n\t\tif (parser) {\n\t\t\tparser.addEventListener(ParserEvent.READY_FOR_DEPENDENCIES, this._onReadyForDependenciesDelegate);\n\t\t\tparser.addEventListener(ParserEvent.PARSE_COMPLETE, this._onParseCompleteDelegate);\n\t\t\tparser.addEventListener(ParserEvent.PARSE_ERROR, this._onParseErrorDelegate);\n\t\t\tparser.addEventListener(AssetEvent.TEXTURE_SIZE_ERROR, this._onTextureSizeErrorDelegate);\n\t\t\tparser.addEventListener(AssetEvent.ASSET_COMPLETE, this._onAssetCompleteDelegate);\n\n\t\t\tif (dependency.request && dependency.request.url)\n\t\t\t\tparser._iFileName = dependency.request.url;\n\n\t\t\tparser.materialMode = this._materialMode;\n\n\t\t\tparser.parseAsync(dependency.data);\n\n\t\t} else {\n\t\t\tvar handled:boolean;\n\t\t\tvar message:string = \"No parser defined. To enable all parsers for auto-detection, use Parsers.enableAllBundled()\";\n\t\t\tvar event:ParserEvent = new ParserEvent(ParserEvent.PARSE_ERROR, message);\n\t\t\tif (this.hasEventListener(ParserEvent.PARSE_ERROR)) {\n\t\t\t\tthis.dispatchEvent(event);\n\t\t\t\thandled = true;\n\t\t\t} else {\n\t\t\t\t// TODO: Consider not doing this even when Loader does\n\t\t\t\t// have it's own LOAD_ERROR listener\n\t\t\t\tvar i:number, len:number = this._parseErrorHandlers.length;\n\n\t\t\t\tfor (i = 0; i < len; i++)\n\t\t\t\t\tif (!handled)\n\t\t\t\t\t\thandled = <boolean> this._parseErrorHandlers[i](event);\n\t\t\t}\n\n\t\t\tif (handled) {\n\t\t\t\tthis.retrieveNext();\n\t\t\t} else {\n\t\t\t\t// Error event was not handled by listeners directly on Loader or\n\t\t\t\t// on any of the subscribed loaders (in the list of error handlers.)\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Guesses the parser to be used based on the file extension.\n\t * @return An instance of the guessed parser.\n\t */\n\tprivate getParserFromSuffix(url:string):ParserBase\n\t{\n\t\t// Get rid of query string if any and extract extension\n\t\tvar base:string = (url.indexOf('?') > 0)? url.split('?')[0] : url;\n\t\tvar fileExtension:string = base.substr(base.lastIndexOf('.') + 1).toLowerCase();\n\n\t\tvar len:number = Loader._parsers.length;\n\n\t\t// go in reverse order to allow application override of default parser added in away.proper\n\t\tfor (var i:number = len - 1; i >= 0; i--) {\n\t\t\tvar parserClass:any = Loader._parsers[i];\n\t\t\tif (parserClass.supportsType(fileExtension))\n\t\t\t\treturn new parserClass();\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport = Loader;",
    "import ConflictStrategyBase\t\t= require(\"awayjs-core/lib/library/ConflictStrategyBase\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\n\nclass NumSuffixConflictStrategy extends ConflictStrategyBase\n{\n\tprivate _separator:string;\n\tprivate _next_suffix:Object;\n\n\tconstructor(separator:string = '.')\n\t{\n\t\tsuper();\n\n\t\tthis._separator = separator;\n\t\tthis._next_suffix = {};\n\t}\n\n\tpublic resolveConflict(changedAsset:IAsset, oldAsset:IAsset, assetsDictionary:Object, precedence:string)\n\t{\n\t\tvar orig:string;\n\t\tvar new_name:string;\n\t\tvar base:string;\n\t\tvar suffix:number;\n\n\t\torig = changedAsset.name;\n\n\t\tif (orig.indexOf(this._separator) >= 0) {\n\t\t\t// Name has an ocurrence of the separator, so get base name and suffix,\n\t\t\t// unless suffix is non-numerical, in which case revert to zero and\n\t\t\t// use entire name as base\n\t\t\tbase = orig.substring(0, orig.lastIndexOf(this._separator));\n\t\t\tsuffix = parseInt(orig.substring(base.length - 1));\n\n\t\t\tif (isNaN(suffix)) {\n\t\t\t\tbase = orig;\n\t\t\t\tsuffix = 0;\n\t\t\t}\n\n\t\t} else {\n\t\t\tbase = orig;\n\t\t\tsuffix = 0;\n\t\t}\n\n\t\tif (suffix == 0 && this._next_suffix.hasOwnProperty(base)) {\n\n\t\t\tsuffix = this._next_suffix[base];\n\n\t\t}\n\n\t\t// Find the first suffixed name that does\n\t\t// not collide with other names.\n\t\tdo {\n\n\t\t\tsuffix++;\n\n\t\t\tnew_name = base.concat(this._separator, suffix.toString());\n\n\t\t} while (assetsDictionary.hasOwnProperty(new_name));\n\n\t\tthis._next_suffix[ base ] = suffix;\n\t\tthis._pUpdateNames(oldAsset.assetNamespace, new_name, oldAsset, changedAsset, assetsDictionary, precedence);\n\n\t}\n\n\tpublic create():ConflictStrategyBase\n\t{\n\t\treturn new NumSuffixConflictStrategy(this._separator);\n\t}\n}\n\nexport = NumSuffixConflictStrategy;",
    "\nclass AudioChannel\n{\n\tpublic static maxChannels:number = 16;\n\n\tpublic static _channels:Array<AudioChannel> = new Array<AudioChannel>();\n\n\tprivate _isPlaying:boolean = false;\n\tprivate _isLooping:boolean = false;\n\n\tprivate static _audioCtx;\n\tprivate _audioCtx;\n\n\tprivate _gainNode;\n\n\tprivate _audio:HTMLAudioElement;\n\n\tpublic get currentTime():number\n\t{\n\t\treturn this._audio.currentTime;\n\t}\n\n\n\tpublic get volume():number\n\t{\n\t\treturn this._gainNode.gain.value;\n\t}\n\n\tpublic set volume(value:number)\n\t{\n\t\tthis._gainNode.gain.value = value;\n\t}\n\n\tpublic isPlaying():boolean\n\t{\n\t\treturn this._isPlaying;\n\t}\n\n\tpublic isLooping():boolean\n\t{\n\t\treturn this._isLooping;\n\t}\n\n\tpublic isDecoding():boolean\n\t{\n\t\treturn false;\n\t}\n\n\tconstructor()\n\t{\n\t\tthis._audioCtx = AudioChannel._audioCtx || (AudioChannel._audioCtx = new (window[\"AudioContext\"] || window[\"webkitAudioContext\"])());\n\n\t\tthis._gainNode = this._audioCtx.createGain();\n\t\tthis._gainNode = this._audioCtx.createGain();\n\t\tthis._gainNode.connect(this._audioCtx.destination);\n\n\t\tthis._audio = new Audio();\n\t\tthis._audio.onended = (event) => this._onEnded(event);\n\t\tthis._audio[\"crossOrigin\"] = \"anonymous\";\n\n\t\tvar source = this._audioCtx.createMediaElementSource(this._audio);\n\t\tsource.connect(this._gainNode);\n\t}\n\t\n\tpublic play(url:string, offset:number = 0, loop:boolean = false)\n\t{\n\t\tthis._isPlaying = true;\n\t\tthis._isLooping = loop;\n\n\t\tthis._audio.src = url;\n\t\tthis._audio.loop = loop;\n\t\tthis._audio.currentTime = offset;\n\t\tthis._audio.play();\n\t}\n\n\tpublic stop()\n\t{\n\t\tthis._audio.pause();\n\t\tthis._isPlaying = false;\n\t\tthis._isLooping = false;\n\t}\n\n\tprivate _onEnded(event)\n\t{\n\t\tthis.stop();\n\t}\n}\n\nexport = AudioChannel;",
    "import StreamingAudioChannel\t= require(\"awayjs-core/lib/managers/StreamingAudioChannel\");\nimport WebAudioChannel\t\t\t= require(\"awayjs-core/lib/managers/WebAudioChannel\");\nimport IAudioChannel\t\t\t= require(\"awayjs-core/lib/managers/IAudioChannel\");\nimport IAudioChannelClass\t\t= require(\"awayjs-core/lib/managers/IAudioChannelClass\");\n\nclass AudioManager\n{\n\tpublic static getChannel(byteLength:number):IAudioChannel\n\t{\n\t\t//choose best audio channel by bytelength\n\t\tvar channelClass:IAudioChannelClass = (byteLength > 50000)? StreamingAudioChannel : WebAudioChannel;\n\n\t\tvar i:number = 0;\n\t\twhile(channelClass._channels[i] && channelClass._channels[i].isPlaying())\n\t\t\ti++;\n\n\t\tif (i == channelClass.maxChannels) {\n\t\t\t//pick the oldest channel to reuse, ignoring looping channels\n\t\t\tvar channel:IAudioChannel;\n\t\t\tvar len:number = channelClass._channels.length;\n\t\t\tfor (var j:number = 0; j < len; j++) {\n\t\t\t\tchannel = channelClass._channels[j];\n\t\t\t\tif (!channel.isLooping() && !channel.isDecoding()) {\n\t\t\t\t\tchannelClass._channels.push(channelClass._channels.splice(j, 1)[0]);\n\t\t\t\t\tchannel.stop();\n\t\t\t\t\treturn channel;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//do not return channel until one is freed up\n\t\t\treturn null;\n\t\t}\n\n\t\treturn channelClass._channels[i] || (channelClass._channels[i] = new channelClass());\n\t}\n\n\n}\n\nexport = AudioManager;",
    "import ParserUtils\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserUtils\");\n\nclass EventAudioChannel\n{\n\tpublic static maxChannels:number = 4;\n\n\tpublic static _channels:Array<EventAudioChannel> = new Array<EventAudioChannel>();\n\n\tpublic static _base64Cache:Object = new Object();\n\n\tprivate _isPlaying:boolean = false;\n\tprivate _isLooping:boolean = false;\n\tprivate _volume:number;\n\tprivate _startTime:number = 0;\n\tprivate _duration:number;\n\t\n\tprivate _audio:HTMLAudioElement;\n\n\tpublic get duration():number\n\t{\n\t\treturn this._duration;\n\t}\n\n\tpublic get currentTime():number\n\t{\n\t\treturn this._audio.currentTime - this._startTime;\n\t}\n\n\n\tpublic get volume():number\n\t{\n\t\treturn this._volume;\n\t}\n\n\tpublic set volume(value:number)\n\t{\n\t\tif (this._volume == value)\n\t\t\treturn;\n\n\t\tthis._volume = value;\n\n\t\tthis._audio.volume = this._volume;\n\t}\n\n\tpublic isPlaying():boolean\n\t{\n\t\treturn this._isPlaying;\n\t}\n\n\tpublic isLooping():boolean\n\t{\n\t\treturn this._isLooping;\n\t}\n\n\tpublic isDecoding():boolean\n\t{\n\t\treturn false;\n\t}\n\n\tconstructor()\n\t{\n\t\tthis._audio = new Audio();\n\t\tthis._audio.ontimeupdate = (event) => this._onTimeUpdate(event);\n\t}\n\t\n\tpublic play(buffer:ArrayBuffer, offset:number = 0, loop:boolean = false, id:number = 0)\n\t{\n\t\tthis._isPlaying = true;\n\t\tthis._isLooping = loop;\n\n\t\tthis._audio.src = EventAudioChannel._base64Cache[id] || (EventAudioChannel._base64Cache[id] = ParserUtils.arrayBufferToBase64(buffer, \"audio/mp3\"));\n\t\tthis._audio.loop = this._isLooping;\n\n\t\tthis._audio.currentTime = offset;\n\t\tthis._audio.play();\n\t}\n\n\tpublic stop()\n\t{\n\t\tthis._audio.pause();\n\t\tthis._isPlaying = false;\n\t\tthis._isLooping = false;\n\t}\n\n\tprivate _onTimeUpdate(event)\n\t{\n\t\t//TODO: more accurate end detection\n\t\tif (!this._isLooping && this._duration < this._audio.currentTime - this._startTime + 0.1)\n\t\t\tthis.stop();\n\t}\n}\n\nexport = EventAudioChannel;",
    "\nclass StreamingAudioChannel\n{\n\tpublic static maxChannels:number = 4;\n\n\tpublic static _channels:Array<StreamingAudioChannel> = new Array<StreamingAudioChannel>();\n\n\tprivate _sourceOpenDelegate:(event) => void;\n\tprivate _updateEndDelegate:(event) => void;\n\tprivate _sourceBuffer:SourceBuffer;\n\tprivate _sourceDirty:boolean;\n\tprivate _isPlaying:boolean = false;\n\tprivate _isLooping:boolean = false;\n\tprivate _isQueuing:boolean;\n\tprivate _isOpening:boolean;\n\tprivate _buffer:ArrayBuffer;\n\tprivate _offset:number;\n\tprivate _volume:number;\n\tprivate _startTime:number = 0;\n\tprivate _duration:number;\n\t\n\tprivate _audio:HTMLAudioElement;\n\t\n\tprivate _mediaSource:MediaSource;\n\tprivate _urlString:string;\n\n\tpublic get duration():number\n\t{\n\t\treturn this._duration;\n\t}\n\n\tpublic get currentTime():number\n\t{\n\t\treturn this._audio.currentTime - this._startTime;\n\t}\n\n\n\tpublic get volume():number\n\t{\n\t\treturn this._volume;\n\t}\n\n\tpublic set volume(value:number)\n\t{\n\t\tif (this._volume == value)\n\t\t\treturn;\n\n\t\tthis._volume = value;\n\n\t\tthis._audio.volume = this._volume;\n\t}\n\n\tpublic isPlaying():boolean\n\t{\n\t\treturn this._isPlaying;\n\t}\n\n\tpublic isLooping():boolean\n\t{\n\t\treturn this._isLooping;\n\t}\n\n\tpublic isDecoding():boolean\n\t{\n\t\treturn false;\n\t}\n\n\tconstructor()\n\t{\n\t\tthis._sourceOpenDelegate = (event) => this._sourceOpen(event);\n\t\tthis._updateEndDelegate = (event) => this._updateEnd(event);\n\n\t\tthis._audio = new Audio();\n\t\tthis._audio.ontimeupdate = (event) => this._onTimeUpdate(event);\n\n\t\tthis._updateSource();\n\n\t}\n\t\n\tpublic play(buffer:ArrayBuffer, offset:number = 0, loop:boolean = false)\n\t{\n\t\tthis._isPlaying = true;\n\n\t\tif (this._isLooping || this._isLooping != loop) {\n\t\t\tthis._isLooping = loop;\n\t\t\tthis._sourceDirty = true;\n\t\t}\n\n\t\tif (this._sourceDirty)\n\t\t\tthis._updateSource();\n\n\t\tthis._buffer = buffer;\n\t\tthis._offset = offset;\n\n\t\tif (!this._isQueuing && !this._isOpening)\n\t\t\tthis._queueBuffer();\n\t}\n\n\tpublic stop()\n\t{\n\t\tthis._audio.pause();\n\t\tthis._isPlaying = false;\n\t\tthis._isLooping = false;\n\t}\n\t\n\tprivate _sourceOpen(event)\n\t{\n\t\tthis._isOpening = false;\n\n\t\t//TODO: find out how in the name of all that is holy how this can be executed more than once on a MediaSource object\n\t\tif (this._mediaSource.activeSourceBuffers.length) {\n\t\t\tconsole.log(\"ERR: double sourceopen event called\")\n\t\t\treturn;\n\t\t}\n\n\t\tthis._sourceBuffer = this._mediaSource.addSourceBuffer('audio/mpeg');\n\t\tthis._sourceBuffer.addEventListener(\"updateend\", this._updateEndDelegate);\n\n\t\tif (this._isPlaying)\n\t\t\tthis._queueBuffer();\n\t}\n\n\tprivate _queueBuffer()\n\t{\n\t\tthis._isQueuing = true;\n\n\t\tthis._startTime = this._sourceBuffer.timestampOffset;\n\t\tthis._sourceBuffer.appendBuffer(this._buffer);\n\t}\n\n\tprivate _updateEnd(event)\n\t{\n\t\tthis._isQueuing = false;\n\n\t\tif (this._isLooping)\n\t\t\tthis._mediaSource.endOfStream();\n\n\t\tthis._duration = this._sourceBuffer.timestampOffset - this._startTime;\n\n\t\tthis._audio.currentTime = this._startTime + this._offset;\n\t\tthis._audio.play();\n\t}\n\n\tprivate _onTimeUpdate(event)\n\t{\n\t\t//TODO: more accurate end detection\n\t\tif (!this._isLooping && this._duration < this._audio.currentTime - this._startTime + 0.1)\n\t\t\tthis.stop();\n\t}\n\n\tprivate _updateSource()\n\t{\n\t\tif(this._mediaSource)\n\t\t\tthis._disposeSource();\n\n\t\tthis._isQueuing = false;\n\t\tthis._isOpening = true;\n\n\t\tthis._mediaSource = new MediaSource();\n\t\tthis._mediaSource.addEventListener(\"sourceopen\", this._sourceOpenDelegate);\n\t\tthis._urlString = URL.createObjectURL(this._mediaSource);\n\t\tthis._audio.src = this._urlString;\n\t\tthis._audio.loop = this._isLooping;\n\n\t\tthis._sourceDirty = false;\n\t}\n\n\tprivate _disposeSource()\n\t{\n\t\tif (!this._isOpening) {\n\t\t\tif (this._sourceBuffer.timestampOffset)\n\t\t\t\tthis._sourceBuffer.remove(0, this._sourceBuffer.timestampOffset);\n\n\t\t\tthis._sourceBuffer.removeEventListener(\"updateend\", this._updateEndDelegate);\n\t\t\tthis._mediaSource.removeSourceBuffer(this._sourceBuffer);\n\t\t\tdelete this._sourceBuffer;\n\t\t\tthis._sourceBuffer = null;\n\t\t}\n\n\t\tthis._mediaSource.removeEventListener(\"sourceopen\", this._sourceOpenDelegate);\n\t\tURL.revokeObjectURL(this._urlString);\n\t\tdelete this._mediaSource;\n\t\tthis._mediaSource = null;\n\t}\n}\n\nexport = StreamingAudioChannel;",
    "\nclass WebAudioChannel\n{\n\tpublic static maxChannels:number = 64;\n\n\tpublic static _channels:Array<WebAudioChannel> = new Array<WebAudioChannel>();\n\n\tpublic static _decodeCache:Object = new Object();\n\tpublic static _errorCache:Object = new Object();\n\n\tprivate static _audioCtx;\n\tprivate _audioCtx;\n\n\tprivate _gainNode;\n\tprivate _source;\n\n\tprivate _isPlaying:boolean = false;\n\tprivate _isLooping:boolean = false;\n\tprivate _isDecoding:boolean = false;\n\tprivate _currentTime:number;\n\tprivate _id:number;\n\tprivate _volume:number = 1;\n\tprivate _startTime:number = 0;\n\tprivate _duration:number;\n\n\tprivate _onEndedDelegate : (event:any) => void;\n\n\tpublic get duration():number\n\t{\n\t\treturn this._duration;\n\t}\n\n\tpublic get currentTime():number\n\t{\n\t\treturn this._audioCtx.currentTime - this._startTime;\n\t}\n\n\tpublic get volume():number\n\t{\n\t\treturn this._volume;\n\t}\n\n\tpublic set volume(value:number)\n\t{\n\t\tif (this._volume == value)\n\t\t\treturn;\n\n\t\tthis._volume = value;\n\n\t\tthis._gainNode.gain.value = this._volume;\n\t}\n\n\n\tpublic isPlaying():boolean\n\t{\n\t\treturn this._isPlaying;\n\t}\n\n\tpublic isLooping():boolean\n\t{\n\t\treturn this._isLooping;\n\t}\n\n\tpublic isDecoding():boolean\n\t{\n\t\treturn this._isDecoding;\n\t}\n\n\tconstructor()\n\t{\n\t\tthis._audioCtx = WebAudioChannel._audioCtx || (WebAudioChannel._audioCtx = new (window[\"AudioContext\"] || window[\"webkitAudioContext\"])());\n\n\t\tthis._gainNode = this._audioCtx.createGain();\n\t\tthis._gainNode.gain.value = this._volume;\n\n\t\tthis._gainNode.connect(this._audioCtx.destination);\n\n\t\tthis._onEndedDelegate = (event) => this._onEnded(event);\n\t}\n\n\tpublic play(buffer:ArrayBuffer, offset:number = 0, loop:boolean = false, id:number = 0)\n\t{\n\t\tthis._isPlaying = true;\n\t\tthis._isLooping = loop;\n\n\t\tthis._currentTime = offset;\n\n\t\tthis._id = id;\n\n\t\tthis._isDecoding = true;\n\n\t\t//fast path for short sounds\n\t\tif (WebAudioChannel._decodeCache[id])\n\t\t\tthis._onDecodeComplete(WebAudioChannel._decodeCache[id]);\n\t\telse if (!WebAudioChannel._errorCache[id])\n\t\t\tthis._audioCtx.decodeAudioData(buffer, (buffer) => this._onDecodeComplete(buffer), (event) => this._onError(event));\n\t\telse\n\t\t\tthis.stop();\n\t}\n\n\tpublic stop()\n\t{\n\t\tif (!this._isPlaying)\n\t\t\treturn;\n\n\t\tthis._isPlaying = false;\n\t\tthis._isLooping = false;\n\t\tthis._isDecoding = false;\n\n\t\tif (this._source)\n\t\t\tthis._disposeSource();\n\t}\n\n\tpublic _onDecodeComplete(buffer)\n\t{\n\t\tif (!this._isPlaying)\n\t\t\treturn;\n\n\t\tthis._isDecoding = false;\n\n\t\t//if (buffer.duration < 2) //cache all buffers?\n\t\tWebAudioChannel._decodeCache[this._id] = buffer;\n\n\t\tif (this._source)\n\t\t\tthis._disposeSource();\n\n\t\tthis._source = this._audioCtx.createBufferSource();\n\n\t\tthis._source.loop = this._isLooping;\n\t\tthis._source.connect(this._gainNode);\n\n\t\tthis._source.buffer = buffer;\n\t\tthis._duration = buffer.duration;\n\n\t\tthis._startTime = this._audioCtx.currentTime - this._currentTime;\n\t\tthis._source.onended = this._onEndedDelegate;\n\t\ttry {\n\t\t\tthis._source.start(this._audioCtx.currentTime, this._currentTime);\n\t\t} catch (error) {\n\t\t\tconsole.log(\"Error starting audio: \" + error);\n\t\t\tthis._disposeSource();\n\t\t}\n\t}\n\n\tpublic _onError(event)\n\t{\n\t\tconsole.log(\"Error with decoding audio data\");\n\t\tWebAudioChannel._errorCache[this._id] = true;\n\t\tthis.stop();\n\t}\n\n\tprivate _onEnded(event):void\n\t{\n\t\tthis.stop();\n\t}\n\n\tprivate _disposeSource()\n\t{\n\t\t//clean up\n\t\tthis._source.stop(this._audioCtx.currentTime);\n\t\tthis._source.onended = null;\n\t\tthis._source.disconnect();\n\t\tdelete this._source.buffer;\n\t\tdelete this._source;\n\t\tthis._source = null;\n\t}\n}\n\nexport = WebAudioChannel;",
    "class CrossDomainPolicy\n{\n\tpublic static ANONYMOUS:string = 'anonymous';\n\n\tpublic static USE_CREDENTIALS:string = 'use-credentials';\n}\n\nexport = CrossDomainPolicy;\n",
    "class URLLoaderDataFormat\n{\n\t/**\n\t * TEXT\n\t * @type {string}\n\t */\n\tpublic static TEXT:string = \"text\";\n\n\t/**\n\t * Variables / Value Pairs\n\t * @type {string}\n\t */\n\tpublic static VARIABLES:string = \"variables\";\n\n\t/**\n\t *\n\t * @type {string}\n\t */\n\tpublic static BLOB:string = \"blob\";\n\n\t/**\n\t *\n\t * @type {string}\n\t */\n\tpublic static ARRAY_BUFFER:string = \"arraybuffer\";\n\n\t/**\n\t *\n\t * @type {string}\n\t */\n\tpublic static BINARY:string = \"binary\";\n}\n\nexport = URLLoaderDataFormat;",
    "import URLLoaderDataFormat\t\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport URLRequest\t\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport URLRequestMethod\t\t\t\t= require(\"awayjs-core/lib/net/URLRequestMethod\");\nimport URLVariables\t\t\t\t\t= require(\"awayjs-core/lib/net/URLVariables\");\nimport EventDispatcher\t\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport URLLoaderEvent\t\t\t\t= require(\"awayjs-core/lib/events/URLLoaderEvent\");\n\n/**\n * The URLLoader is used to load a single file, as part of a resource.\n *\n * While URLLoader can be used directly, e.g. to create a third-party asset\n * management system, it's recommended to use any of the classes Loader3D, Loader\n * and AssetLibrary instead in most cases.\n *\n * @see Loader\n * @see away.library.AssetLibrary\n */\nclass URLLoader extends EventDispatcher\n{\n\tprivate _XHR:XMLHttpRequest;\n\tprivate _status:number;\n\tprivate _bytesLoaded:number = 0;\n\tprivate _bytesTotal:number = 0;\n\tprivate _dataFormat:string = URLLoaderDataFormat.TEXT;\n\tprivate _loadError:boolean = false;\n\n\tprivate _request:URLRequest;\n\tprivate _data:any;\n\n\tprivate _loadStartEvent:URLLoaderEvent;\n\tprivate _loadErrorEvent:URLLoaderEvent;\n\tprivate _loadCompleteEvent:URLLoaderEvent;\n\tprivate _progressEvent:URLLoaderEvent;\n\tprivate _statusEvent:URLLoaderEvent;\n\n\t/**\n\t * Creates a new URLLoader object.\n\t */\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get url():string\n\t{\n\n\t\treturn this._request? this._request.url : '';\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get data():any\n\t{\n\t\treturn this._data;\n\t}\n\n\n\t/**\n\t *\n\t * URLLoaderDataFormat.BINARY\n\t * URLLoaderDataFormat.TEXT\n\t * URLLoaderDataFormat.VARIABLES\n\t *\n\t * @param format\n\t */\n\tpublic set dataFormat(format:string)\n\t{\n\t\tthis._dataFormat = format;\n\t}\n\n\tpublic get dataFormat():string\n\t{\n\t\treturn this._dataFormat;\n\t}\n\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tpublic get bytesLoaded():number\n\t{\n\t\treturn this._bytesLoaded;\n\t}\n\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tpublic get bytesTotal():number\n\t{\n\t\treturn this._bytesTotal;\n\t}\n\n\t/**\n\t * Load a resource from a file.\n\t *\n\t * @param request The URLRequest object containing the URL of the object to be loaded.\n\t */\n\tpublic load(request:URLRequest):void\n\t{\n\t\tthis._request = request;\n\n\t\tthis.initXHR();\n\n\t\tif (request.method === URLRequestMethod.POST)\n\t\t\tthis.postRequest(request);\n\t\telse\n\t\t\tthis.getRequest(request);\n\t}\n\n\tpublic isSupported():boolean {\n\t\treturn window != null;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic close():void\n\t{\n\t\tthis._XHR.abort();\n\n\t\tthis.disposeXHR();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic dispose():void\n\t{\n\t\tif (this._XHR)\n\t\t\tthis._XHR.abort();\n\n\t\tthis.disposeXHR();\n\t}\n\n\t/**\n\t *\n\t * @param xhr\n\t * @param responseType\n\t */\n\tprivate setResponseType(xhr:XMLHttpRequest, responseType:string):void\n\t{\n\t\tswitch (responseType) {\n\t\t\tcase URLLoaderDataFormat.ARRAY_BUFFER:\n\t\t\tcase URLLoaderDataFormat.BLOB:\n\t\t\tcase URLLoaderDataFormat.TEXT:\n\t\t\t\txhr.responseType = responseType;\n\t\t\t\tbreak;\n\n\t\t\tcase URLLoaderDataFormat.VARIABLES:\n\t\t\t\txhr.responseType = URLLoaderDataFormat.TEXT;\n\t\t\t\tbreak;\n\n\t\t\tcase URLLoaderDataFormat.BINARY:\n\t\t\t\txhr.responseType = '';\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param request {URLRequest}\n\t */\n\tprivate getRequest(request:URLRequest):void\n\t{\n\t\ttry {\n\t\t\tthis._XHR.open(request.method, request.url, request.async);\n\t\t\tthis.setResponseType(this._XHR, this._dataFormat);\n\t\t\tthis._XHR.send(); // No data to send\n\t\t} catch (e /* <XMLHttpRequestException> */) {\n\t\t\tthis.handleXmlHttpRequestException(e);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param request {URLRequest}\n\t */\n\tprivate postRequest(request:URLRequest):void\n\t{\n\t\tthis._loadError = false;\n\n\t\tthis._XHR.open(request.method, request.url, request.async);\n\n\t\tif (request.data != null) {\n\t\t\tif (request.data instanceof URLVariables) {\n\t\t\t\tvar urlVars:URLVariables = <URLVariables> request.data;\n\n\t\t\t\ttry {\n\t\t\t\t\tthis._XHR.responseType = 'text';\n\t\t\t\t\tthis._XHR.send(urlVars.formData);\n\t\t\t\t} catch (e /* <XMLHttpRequestException> */) {\n\t\t\t\t\tthis.handleXmlHttpRequestException(e);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.setResponseType(this._XHR, this._dataFormat);\n\n\t\t\t\tif (request.data)\n\t\t\t\t\tthis._XHR.send(request.data); // TODO: Test\n\t\t\t\telse\n\t\t\t\t\tthis._XHR.send(); // no data to send\n\t\t\t}\n\t\t} else {\n\t\t\tthis._XHR.send(); // No data to send\n\t\t}\n\n\t}\n\n\t/**\n\t *\n\t * @param error {XMLHttpRequestException}\n\t */\n\tprivate handleXmlHttpRequestException(error:any /* <XMLHttpRequestException> */):void\n\t{\n\t\tswitch (error.code) {\n\n\t\t/******************************************************************************************************************************************************************************************************\n\t\t *\n\t\t *  XMLHttpRequestException { message: \"NETWORK_ERR: XMLHttpRequest Exception 101\", name: \"NETWORK_ERR\", code: 101, stack: \"Error: A network error occurred in synchronous req\",NETWORK_ERR: 101 }\n\t\t *  code: 101 , message: \"NETWORK_ERR: XMLHttpRequest Exception 101\" ,  name: \"NETWORK_ERR\"\n\t\t *\n\t\t ******************************************************************************************************************************************************************************************************/\n\n\t\t\tcase 101:\n\t\t\t\t// Note: onLoadError event throws IO_ERROR event - this case is already Covered\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initXHR()\n\t{\n\t\tif (!this._XHR) {\n\t\t\tthis._XHR = new XMLHttpRequest();\n\n\t\t\tthis._XHR.onloadstart = (event:ProgressEvent) => this.onLoadStart(event);                 // loadstart\t        - When the request starts.\n\t\t\tthis._XHR.onprogress = (event:ProgressEvent) => this.onProgress(event);\t                // progress\t            - While loading and sending data.\n\t\t\tthis._XHR.onabort = (event:UIEvent) => this.onAbort(event);\t                        // abort\t            - When the request has been aborted, either by invoking the abort() method or navigating away from the page.\n\t\t\tthis._XHR.onerror = (event:ErrorEvent) => this.onLoadError(event);                     // error\t            - When the request has failed.\n\t\t\tthis._XHR.onload = (event:Event) => this.onLoadComplete(event);                   // load\t                - When the request has successfully completed.\n\t\t\tthis._XHR.ontimeout = (event:Event) => this.onTimeOut(event);                     // timeout\t            - When the author specified timeout has passed before the request could complete.\n\t\t\tthis._XHR.onloadend = (event:ProgressEvent) => this.onLoadEnd(event);                     // loadend\t            - When the request has completed, regardless of whether or not it was successful.\n\t\t\tthis._XHR.onreadystatechange = (event:Event) => this.onReadyStateChange(event);   // onreadystatechange   - When XHR state changes\n\t\t}\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate disposeXHR()\n\t{\n\t\tif (this._XHR !== null) {\n\t\t\tthis._XHR.onloadstart = null;\n\t\t\tthis._XHR.onprogress = null;\n\t\t\tthis._XHR.onabort = null;\n\t\t\tthis._XHR.onerror = null;\n\t\t\tthis._XHR.onload = null;\n\t\t\tthis._XHR.ontimeout = null;\n\t\t\tthis._XHR.onloadend = null;\n\t\t\tthis._XHR = null;\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param source\n\t */\n\tpublic decodeURLVariables(source:string):Object\n\t{\n\t\tvar result:Object = new Object();\n\n\t\tsource = source.split(\"+\").join(\" \");\n\n\t\tvar tokens, re = /[?&]?([^=]+)=([^&]*)/g;\n\n\t\twhile (tokens = re.exec(source))\n\t\t\tresult[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\n\t\treturn result;\n\t}\n\n\t// XMLHttpRequest - Event Handlers\n\n\t/**\n\t * When XHR state changes\n\t * @param event\n\t */\n\tprivate onReadyStateChange(event:Event)\n\t{\n\t\tif (this._XHR.readyState == 4) {\n\t\t\tthis._status = this._XHR.status;\n\t\t\tif (this._status == 404) {\n\t\t\t\tthis._loadError = true;\n\n\t\t\t\tthis.dispatchEvent(this._loadErrorEvent || (this._loadErrorEvent = new URLLoaderEvent(URLLoaderEvent.LOAD_ERROR, this)));\n\t\t\t}\n\n\t\t\tthis.dispatchEvent(this._statusEvent || (this._statusEvent = new URLLoaderEvent(URLLoaderEvent.HTTP_STATUS, this)));\n\t\t}\n\t}\n\n\t/**\n\t * When the request has completed, regardless of whether or not it was successful.\n\t * @param event\n\t */\n\tprivate onLoadEnd(event:ProgressEvent)\n\t{\n\t\tif (this._loadError === true)\n\t\t\treturn;\n\t}\n\n\t/**\n\t * When the author specified timeout has passed before the request could complete.\n\t * @param event\n\t */\n\tprivate onTimeOut(event:Event)\n\t{\n\t\t//TODO: Timeout not currently implemented ( also not part of AS3 API )\n\t}\n\n\t/**\n\t * When the request has been aborted, either by invoking the abort() method or navigating away from the page.\n\t * @param event\n\t */\n\tprivate onAbort(event:UIEvent)\n\t{\n\t\t// TODO: investigate whether this needs to be an IOError\n\t}\n\n\t/**\n\t * While loading and sending data.\n\t * @param event\n\t */\n\tprivate onProgress(event:ProgressEvent)\n\t{\n\t\tthis._bytesTotal = event.total;\n\t\tthis._bytesLoaded = event.loaded;\n\n\t\tthis.dispatchEvent(this._progressEvent || (this._progressEvent = new URLLoaderEvent(URLLoaderEvent.LOAD_PROGRESS, this)));\n\t}\n\n\t/**\n\t * When the request starts.\n\t * @param event\n\t */\n\tprivate onLoadStart(event:ProgressEvent)\n\t{\n\t\tthis.dispatchEvent(this._loadStartEvent || (this._loadStartEvent = new URLLoaderEvent(URLLoaderEvent.LOAD_START, this)));\n\t}\n\n\t/**\n\t * When the request has successfully completed.\n\t * @param event\n\t */\n\tprivate onLoadComplete(event:Event)\n\t{\n\t\tif (this._loadError === true)\n\t\t\treturn;\n\n\t\tswitch (this._dataFormat) {\n\t\t\tcase URLLoaderDataFormat.TEXT:\n\t\t\t\tthis._data = this._XHR.responseText;\n\t\t\t\tbreak;\n\n\t\t\tcase URLLoaderDataFormat.VARIABLES:\n\t\t\t\tthis._data = this.decodeURLVariables(this._XHR.responseText);\n\t\t\t\tbreak;\n\n\t\t\tcase URLLoaderDataFormat.BLOB:\n\t\t\tcase URLLoaderDataFormat.ARRAY_BUFFER:\n\t\t\tcase URLLoaderDataFormat.BINARY:\n\t\t\t\tthis._data = this._XHR.response;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthis._data = this._XHR.responseText;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.dispatchEvent(this._loadCompleteEvent || (this._loadCompleteEvent = new URLLoaderEvent(URLLoaderEvent.LOAD_COMPLETE, this)));\n\t}\n\n\t/**\n\t * When the request has failed. ( due to network issues ).\n\t * @param event\n\t */\n\tprivate onLoadError(event:Event)\n\t{\n\t\tthis._loadError = true;\n\n\t\tthis.dispatchEvent(this._loadErrorEvent || (this._loadErrorEvent  = new URLLoaderEvent(URLLoaderEvent.LOAD_ERROR, this)));\n\t}\n}\n\nexport = URLLoader;",
    "class URLRequestMethod\n{\n\t/**\n\t *\n\t * @type {string}\n\t */\n\tpublic static POST:string = 'POST';\n\t/**\n\t *\n\t * @type {string}\n\t */\n\tpublic static GET:string = 'GET';\n}\n\nexport = URLRequestMethod;",
    "import URLRequestMethod\t\t\t\t= require(\"awayjs-core/lib/net/URLRequestMethod\");\n\nclass URLRequest\n{\n\t/*\n\t * The MIME content type of the content in the the data property.\n\t * @type {string}\n\t */\n\t//public contentType      : string = 'application/x-www-form-urlencoded'; //Note: Not used for now.\n\n\t/**\n\t * Object containing data to be transmited with URL Request ( URL Variables / binary / string )\n\t *\n\t */\n\tpublic data:any;\n\n\t/**\n\t *\n\t * away.net.URLRequestMethod.GET\n\t * away.net.URLRequestMethod.POST\n\t *\n\t * @type {string}\n\t */\n\tpublic method:string = URLRequestMethod.GET;\n\n\t/**\n\t * Use asynchronous XMLHttpRequest\n\t * @type {boolean}\n\t */\n\tpublic async:boolean = true;\n\n\t/**\n\t *\n\t */\n\tprivate _url:string;\n\n\t/**\n\n\t * @param url\n\t */\n\tconstructor(url:string = null)\n\t{\n\t\tthis._url = url;\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get url():string\n\t{\n\t\treturn this._url;\n\t}\n\n\t/**\n\t *\n\t * @param value\n\t */\n\tpublic set url(value:string)\n\t{\n\t\tthis._url = value;\n\t}\n\n\t/**\n\t * dispose\n\t */\n\tpublic dispose():void\n\t{\n\t\tthis.data = null;\n\t\tthis._url = null;\n\t}\n}\n\nexport = URLRequest;",
    "class URLVariables\n{\n\tprivate _variables:Object = new Object();\n\n\t/**\n\t *\n\t * @param source\n\t */\n\tconstructor(source:string = null)\n\t{\n\t\tif (source !== null)\n\t\t\tthis.decode(source);\n\t}\n\n\t/**\n\t *\n\t * @param source\n\t */\n\tpublic decode(source:string):void\n\t{\n\t\tsource = source.split(\"+\").join(\" \");\n\n\t\tvar tokens, re = /[?&]?([^=]+)=([^&]*)/g;\n\n\t\twhile (tokens = re.exec(source))\n\t\t\tthis._variables[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic toString():string\n\t{\n\t\treturn '';\n\t}\n\n\t/**\n\t *\n\t * @returns {Object}\n\t */\n\tpublic get variables():Object\n\t{\n\t\treturn this._variables;\n\t}\n\n\t/**\n\t *\n\t * @returns {Object}\n\t */\n\tpublic get formData():FormData\n\t{\n\t\tvar fd:FormData = new FormData();\n\n\t\tfor (var s in this._variables)\n\t\t\tfd.append(s, this._variables[s]);\n\n\t\treturn fd;\n\t}\n\n\t/**\n\t *\n\t * @returns {Object}\n\t */\n\tpublic set variables(obj:Object)\n\t{\n\t\tthis._variables = obj;\n\t}\n}\n\nexport = URLVariables;",
    "import BitmapImage2D\t\t\t= require(\"awayjs-core/lib/image/BitmapImage2D\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLLoaderDataFormat\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\nimport ParserUtils\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserUtils\");\nimport ByteArray\t\t\t\t= require(\"awayjs-core/lib/utils/ByteArray\");\nimport ImageUtils\t\t\t\t= require(\"awayjs-core/lib/utils/ImageUtils\");\n\n/**\n * Image2DParser provides a \"parser\" for natively supported image types (jpg, png). While it simply loads bytes into\n * a loader object, it wraps it in a BitmapDataResource so resource management can happen consistently without\n * exception cases.\n */\nclass Image2DParser extends ParserBase\n{\n\tprivate _startedParsing:boolean;\n\tprivate _doneParsing:boolean;\n\tprivate _loadingImage:boolean;\n\tprivate _htmlImageElement:HTMLImageElement;\n\n\t/**\n\t * Creates a new Image2DParser object.\n\t * @param uri The url or id of the data or file to be parsed.\n\t * @param extra The holder for extra contextual data that the parser might need.\n\t */\n\tconstructor()\n\t{\n\t\tsuper(URLLoaderDataFormat.BLOB);\n\t}\n\n\t/**\n\t * Indicates whether or not a given file extension is supported by the parser.\n\t * @param extension The file extension of a potential file to be parsed.\n\t * @return Whether or not the given file type is supported.\n\t */\n\tpublic static supportsType(extension:string):boolean\n\t{\n\n\t\textension = extension.toLowerCase();\n\t\treturn extension == \"jpg\" || extension == \"jpeg\" || extension == \"png\" || extension == \"gif\";//|| extension == \"bmp\";//|| extension == \"atf\";\n\n\t}\n\n\t/**\n\t * Tests whether a data block can be parsed by the parser.\n\t * @param data The data block to potentially be parsed.\n\t * @return Whether or not the given data is supported.\n\t */\n\tpublic static supportsData(data:any):boolean\n\t{\n\n\t\tif (data  instanceof HTMLImageElement)\n\t\t\treturn true;\n\n\t\tif (!(data instanceof ByteArray))\n\t\t\treturn false;\n\n\t\tvar ba:ByteArray = <ByteArray> data;\n\t\tba.position = 0;\n\n\t\tif (ba.readUnsignedShort() == 0xd8ff)\n\t\t\treturn true; // JPEG, maybe check for \"JFIF\" as well?\n\n\t\tba.position = 0;\n\t\tif (ba.readShort() == 0x424D)\n\t\t\treturn true; // BMP\n\n\t\tba.position = 1;\n\t\tif (ba.readUTFBytes(3) == 'PNG')\n\t\t\treturn true;\n\n\t\tba.position = 0;\n\t\tif (ba.readUTFBytes(3) == 'GIF' && ba.readShort() == 0x3839 && ba.readByte() == 0x61)\n\t\t\treturn true;\n\n\t\tba.position = 0;\n\t\tif (ba.readUTFBytes(3) == 'ATF')\n\t\t\treturn true;\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic _pProceedParsing():boolean\n\t{\n\n\t\tvar asset:BitmapImage2D;\n\t\tvar sizeError:boolean = false;\n\n\t\tif (this._loadingImage) {\n\t\t\treturn ParserBase.MORE_TO_PARSE;\n\t\t} else if (this._htmlImageElement) {\n\t\t\t//if (ImageUtils.isHTMLImageElementValid(this._htmlImageElement)) {\n\t\t\t\tasset = ParserUtils.imageToBitmapImage2D(this._htmlImageElement, false);\n\t\t\t\tthis._pFinalizeAsset(<IAsset> asset, this._iFileName);\n\t\t\t//}\n\t\t} else if (this.data instanceof HTMLImageElement) {// Parse HTMLImageElement\n\t\t\tvar htmlImageElement:HTMLImageElement = <HTMLImageElement> this.data;\n\t\t\t//if (ImageUtils.isHTMLImageElementValid(htmlImageElement)) {\n\n\t\t\t\tasset = ParserUtils.imageToBitmapImage2D(htmlImageElement, false);\n\t\t\t\tthis._pFinalizeAsset(<IAsset> asset, this._iFileName);\n\t\t\t//} else {\n\t\t\t//\tsizeError = true;\n\t\t\t//}\n\n\t\t} else if (this.data instanceof ByteArray) { // Parse a ByteArray\n\n\t\t\tvar ba:ByteArray = this.data;\n\t\t\tba.position = 0;\n\t\t\tthis._htmlImageElement = ParserUtils.byteArrayToImage(this.data);\n\n\t\t\tif (!this._htmlImageElement.complete) {\n\t\t\t\tthis._htmlImageElement.onload = (event) => this.onLoadComplete(event);\n\t\t\t\tthis._loadingImage = true;\n\n\t\t\t\treturn ParserBase.MORE_TO_PARSE;\n\t\t\t}\n\n\t\t\t//if (ImageUtils.isHTMLImageElementValid(this._htmlImageElement)) {\n\t\t\t\tasset = ParserUtils.imageToBitmapImage2D(this._htmlImageElement, false);\n\t\t\t\tthis._pFinalizeAsset(<IAsset> asset, this._iFileName);\n\t\t\t//} else {\n\t\t\t//\tsizeError = true;\n\t\t\t//\n\t\t\t//}\n\n\t\t} else if (this.data instanceof ArrayBuffer) {// Parse an ArrayBuffer\n\n\t\t\tthis._htmlImageElement = ParserUtils.arrayBufferToImage(this.data);\n\n\t\t\tasset = ParserUtils.imageToBitmapImage2D(this._htmlImageElement, false);\n\t\t\tthis._pFinalizeAsset(<IAsset> asset, this._iFileName);\n\n\t\t} else if (this.data instanceof Blob) { // Parse a Blob\n\n\t\t\tthis._htmlImageElement = ParserUtils.blobToImage(this.data);\n\n\t\t\tthis._htmlImageElement.onload = (event) => this.onLoadComplete(event);\n\t\t\tthis._loadingImage = true;\n\n\t\t\treturn ParserBase.MORE_TO_PARSE;\n\t\t}\n\n\t\tif (sizeError == true) // Generate new Checkerboard texture material\n\t\t{\n//\t\t\t\tasset = new BitmapTexture(DefaultMaterialManager.createCheckeredBitmapData(), false);\n//\t\t\t\tthis._pFinalizeAsset(<IAsset> asset, this._iFileName);\n//\t\t\t\tthis.dispatchEvent(new away.events.AssetEvent(away.events.AssetEvent.TEXTURE_SIZE_ERROR, <IAsset> asset));\n\t\t}\n\n\t\tthis._pContent = asset;\n\n\t\treturn ParserBase.PARSING_DONE;\n\n\t}\n\n\tpublic onLoadComplete(event)\n\t{\n\t\tthis._loadingImage = false;\n\t}\n}\n\nexport = Image2DParser;",
    "import BitmapImage2D\t\t\t= require(\"awayjs-core/lib/image/BitmapImage2D\");\nimport BitmapImageCube\t\t\t= require(\"awayjs-core/lib/image/BitmapImageCube\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLLoaderDataFormat\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\nimport ResourceDependency\t\t= require(\"awayjs-core/lib/parsers/ResourceDependency\");\n\n/**\n * ImageCubeParser provides a \"parser\" for natively supported image types (jpg, png). While it simply loads bytes into\n * a loader object, it wraps it in a BitmapImage2DResource so resource management can happen consistently without\n * exception cases.\n */\nclass ImageCubeParser extends ParserBase\n{\n\tprivate static posX:string = 'posX';\n\tprivate static negX:string = 'negX';\n\tprivate static posY:string = 'posY';\n\tprivate static negY:string = 'negY';\n\tprivate static posZ:string = 'posZ';\n\tprivate static negZ:string = 'negZ';\n\n\tprivate _imgDependencyDictionary:Object;\n\n\t/**\n\t * Creates a new ImageCubeParser object.\n\t * @param uri The url or id of the data or file to be parsed.\n\t * @param extra The holder for extra contextual data that the parser might need.\n\t */\n\tconstructor()\n\t{\n\t\tsuper(URLLoaderDataFormat.TEXT);\n\t}\n\n\t/**\n\t * Indicates whether or not a given file extension is supported by the parser.\n\t * @param extension The file extension of a potential file to be parsed.\n\t * @return Whether or not the given file type is supported.\n\t */\n\n\tpublic static supportsType(extension:string):boolean\n\t{\n\t\textension = extension.toLowerCase();\n\t\treturn extension == \"cube\";\n\t}\n\n\t/**\n\t * Tests whether a data block can be parsed by the parser.\n\t * @param data The data block to potentially be parsed.\n\t * @return Whether or not the given data is supported.\n\t */\n\tpublic static supportsData(data:any):boolean\n\t{\n\t\ttry {\n\t\t\tvar obj = JSON.parse(data);\n\n\t\t\tif (obj) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic _iResolveDependency(resourceDependency:ResourceDependency)\n\t{\n\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic _iResolveDependencyFailure(resourceDependency:ResourceDependency)\n\t{\n\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic _pProceedParsing():boolean\n\t{\n\t\tif (this._imgDependencyDictionary != null) { //all images loaded\n\t\t\tvar asset:BitmapImageCube = new BitmapImageCube(this._getBitmapImage2D(ImageCubeParser.posX).width);\n\n\t\t\tasset.draw(BitmapImageCube.posX, this._getBitmapImage2D(ImageCubeParser.posX));\n\t\t\tasset.draw(BitmapImageCube.negX, this._getBitmapImage2D(ImageCubeParser.negX));\n\t\t\tasset.draw(BitmapImageCube.posY, this._getBitmapImage2D(ImageCubeParser.posY));\n\t\t\tasset.draw(BitmapImageCube.negY, this._getBitmapImage2D(ImageCubeParser.negY));\n\t\t\tasset.draw(BitmapImageCube.posZ, this._getBitmapImage2D(ImageCubeParser.posZ));\n\t\t\tasset.draw(BitmapImageCube.negZ, this._getBitmapImage2D(ImageCubeParser.negZ));\n\n\t\t\t//clear dictionary\n\t\t\tthis._imgDependencyDictionary = null;\n\n\t\t\tasset.name = this._iFileName;\n\n\t\t\tthis._pFinalizeAsset(<IAsset> asset, this._iFileName);\n\n\t\t\treturn ParserBase.PARSING_DONE;\n\t\t}\n\n\t\ttry {\n\t\t\tvar json:any = JSON.parse(this.data);\n\t\t\tvar data:Array<Object> = <Array<Object>> json.data;\n\t\t\tvar rec:any;\n\n\t\t\tif (data.length != 6)\n\t\t\t\tthis._pDieWithError('ImageCubeParser: Error - cube texture should have exactly 6 images');\n\n\t\t\tif (json) {\n\t\t\t\tthis._imgDependencyDictionary = new Object();\n\n\t\t\t\tfor (var c:number = 0; c < data.length; c++) {\n\t\t\t\t\trec = data[c];\n\t\t\t\t\tthis._imgDependencyDictionary[rec.id] = this._pAddDependency(rec.id, new URLRequest(rec.image.toString()));\n\t\t\t\t}\n\n\t\t\t\tif (!this._validateCubeData()) {\n\n\t\t\t\t\tthis._pDieWithError(\"ImageCubeParser: JSON data error - cubes require id of:   \\n\" + ImageCubeParser.posX + ', ' + ImageCubeParser.negX + ',  \\n' + ImageCubeParser.posY + ', ' + ImageCubeParser.negY + ',  \\n' + ImageCubeParser.posZ + ', ' + ImageCubeParser.negZ);\n\n\t\t\t\t\treturn ParserBase.PARSING_DONE;\n\n\t\t\t\t}\n\n\t\t\t\tthis._pPauseAndRetrieveDependencies();\n\n\t\t\t\treturn ParserBase.MORE_TO_PARSE;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tthis._pDieWithError('CubeTexturePaser Error parsing JSON');\n\t\t}\n\n\t\treturn ParserBase.PARSING_DONE;\n\n\t}\n\n\tprivate _validateCubeData():boolean\n\t{\n\t\treturn  ( this._imgDependencyDictionary[ ImageCubeParser.posX ] != null && this._imgDependencyDictionary[ ImageCubeParser.negX ] != null && this._imgDependencyDictionary[ ImageCubeParser.posY ] != null && this._imgDependencyDictionary[ ImageCubeParser.negY ] != null && this._imgDependencyDictionary[ ImageCubeParser.posZ ] != null && this._imgDependencyDictionary[ ImageCubeParser.negZ ] != null );\n\t}\n\n\tprivate _getBitmapImage2D(name:string):BitmapImage2D\n\t{\n\t\tvar dependency:ResourceDependency = <ResourceDependency> this._imgDependencyDictionary[ name ];\n\n\t\tif (dependency)\n\t\t\treturn <BitmapImage2D> dependency.assets[0];\n\n\t\treturn null;\n\t}\n\n}\n\nexport = ImageCubeParser;",
    "import BitmapImage2D\t\t\t= require(\"awayjs-core/lib/image/BitmapImage2D\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\nimport AssetEvent\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport ParserEvent\t\t\t\t= require(\"awayjs-core/lib/events/ParserEvent\");\nimport TimerEvent\t\t\t\t= require(\"awayjs-core/lib/events/TimerEvent\");\nimport ParserUtils\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserUtils\");\nimport ResourceDependency\t\t= require(\"awayjs-core/lib/parsers/ResourceDependency\");\nimport ByteArray\t\t\t\t= require(\"awayjs-core/lib/utils/ByteArray\");\nimport ImageUtils\t\t\t\t= require(\"awayjs-core/lib/utils/ImageUtils\");\nimport Timer\t\t\t\t\t= require(\"awayjs-core/lib/utils/Timer\");\nimport getTimer\t\t\t\t\t= require(\"awayjs-core/lib/utils/getTimer\");\n\n/**\n * <code>ParserBase</code> provides an abstract base class for objects that convert blocks of data to data structures\n * supported by away.\n *\n * If used by <code>Loader</code> to automatically determine the parser type, two public static methods should\n * be implemented, with the following signatures:\n *\n * <code>public static supportsType(extension : string) : boolean</code>\n * Indicates whether or not a given file extension is supported by the parser.\n *\n * <code>public static supportsData(data : *) : boolean</code>\n * Tests whether a data block can be parsed by the parser.\n *\n * Furthermore, for any concrete subtype, the method <code>initHandle</code> should be overridden to immediately\n * create the object that will contain the parsed data. This allows <code>ResourceManager</code> to return an object\n * handle regardless of whether the object was loaded or not.\n *\n * @see Loader\n */\nclass ParserBase extends EventDispatcher\n{\n\tpublic _isParsing:boolean;\n\tpublic _iFileName:string;\n\tprivate _dataFormat:string;\n\tprivate _data:any;\n\tprivate _frameLimit:number;\n\tprivate _lastFrameTime:number;\n\tprivate _pOnIntervalDelegate:(event:TimerEvent) => void;\n\tpublic _pContent:IAsset;\n\n\t//----------------------------------------------------------------------------------------------------------------------------------------------------------------\n\t// TODO: add error checking for the following ( could cause a problem if this function is not implemented )\n\t//----------------------------------------------------------------------------------------------------------------------------------------------------------------\n\t// Needs to be implemented in all Parsers (\n\t//<code>public static supportsType(extension : string) : boolean</code>\n\t//* Indicates whether or not a given file extension is supported by the parser.\n\t//----------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\tpublic static supportsType(extension:string):boolean\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tprivate _dependencies:Array<ResourceDependency>;\n\tprivate _parsingPaused:boolean;\n\tprivate _parsingComplete:boolean;\n\tprivate _parsingFailure:boolean;\n\tprivate _timer:Timer;\n\tprivate _materialMode:number;\n\n\t/**\n\t * Returned by <code>proceedParsing</code> to indicate no more parsing is needed.\n\t */\n\tpublic static PARSING_DONE:boolean = true;\n\t/* Protected */\n\n\t/**\n\t * Returned by <code>proceedParsing</code> to indicate more parsing is needed, allowing asynchronous parsing.\n\t */\n\tpublic static MORE_TO_PARSE:boolean = false;\n\t/* Protected */\n\n\n\tpublic get content():IAsset\n\t{\n\t\treturn this._pContent;\n\t}\n\n\t/**\n\t * Creates a new ParserBase object\n\t * @param format The data format of the file data to be parsed. Can be either <code>ParserDataFormat.BINARY</code> or <code>ParserDataFormat.PLAIN_TEXT</code>, and should be provided by the concrete subtype.\n\t *\n\t * @see away.loading.parsers.ParserDataFormat\n\t */\n\tconstructor(format:string)\n\t{\n\t\tsuper();\n\n\t\tthis._materialMode = 0;\n\t\tthis._dataFormat = format;\n\t\tthis._dependencies = new Array<ResourceDependency>();\n\n\t\tthis._pOnIntervalDelegate = (event:TimerEvent) => this._pOnInterval(event);\n\t}\n\n\t/**\n\t * Validates a bitmapData loaded before assigning to a default BitmapMaterial\n\t */\n\n\tpublic isBitmapImage2DValid(bitmapImage2D:BitmapImage2D):boolean\n\t{\n\t\tvar isValid:boolean = ImageUtils.isImage2DValid(bitmapImage2D);\n\n\t\tif (!isValid) {\n\n\t\t\tconsole.log(\">> Bitmap loaded is not having power of 2 dimensions or is higher than 2048\");\n\t\t}\n\n\t\treturn isValid;\n\t}\n\n\tpublic set parsingFailure(b:boolean)\n\t{\n\t\tthis._parsingFailure = b;\n\t}\n\n\tpublic get parsingFailure():boolean\n\t{\n\t\treturn this._parsingFailure;\n\t}\n\n\tpublic get parsingPaused():boolean\n\t{\n\t\treturn this._parsingPaused;\n\t}\n\n\tpublic get parsingComplete():boolean\n\t{\n\t\treturn this._parsingComplete;\n\t}\n\n\tpublic set materialMode(newMaterialMode:number)\n\t{\n\t\tthis._materialMode = newMaterialMode;\n\t}\n\n\tpublic get materialMode():number\n\t{\n\t\treturn this._materialMode;\n\t}\n\n\tpublic get data():any\n\t{\n\t\treturn this._data;\n\t}\n\n\t/**\n\t * The data format of the file data to be parsed. Options are <code>URLLoaderDataFormat.BINARY</code>, <code>URLLoaderDataFormat.ARRAY_BUFFER</code>, <code>URLLoaderDataFormat.BLOB</code>, <code>URLLoaderDataFormat.VARIABLES</code> or <code>URLLoaderDataFormat.TEXT</code>.\n\t */\n\tpublic get dataFormat():string\n\t{\n\t\treturn this._dataFormat;\n\t}\n\n\t/**\n\t * Parse data (possibly containing bytearry, plain text or BitmapAsset) asynchronously, meaning that\n\t * the parser will periodically stop parsing so that the AVM may proceed to the\n\t * next frame.\n\t *\n\t * @param data The untyped data object in which the loaded data resides.\n\t * @param frameLimit number of milliseconds of parsing allowed per frame. The\n\t * actual time spent on a frame can exceed this number since time-checks can\n\t * only be performed between logical sections of the parsing procedure.\n\t */\n\tpublic parseAsync(data:any, frameLimit:number = 30)\n\t{\n\t\tthis._data = data;\n\t\tthis._pStartParsing(frameLimit);\n\t}\n\n\t/**\n\t * A list of dependencies that need to be loaded and resolved for the object being parsed.\n\t */\n\tpublic get dependencies():Array<ResourceDependency>\n\t{\n\t\treturn this._dependencies;\n\t}\n\n\t/**\n\t * Resolve a dependency when it's loaded. For example, a dependency containing an ImageResource would be assigned\n\t * to a Mesh instance as a BitmapMaterial, a scene graph object would be added to its intended parent. The\n\t * dependency should be a member of the dependencies property.\n\t *\n\t * @param resourceDependency The dependency to be resolved.\n\t */\n\tpublic _iResolveDependency(resourceDependency:ResourceDependency)\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/**\n\t * Resolve a dependency loading failure. Used by parser to eventually provide a default map\n\t *\n\t * @param resourceDependency The dependency to be resolved.\n\t */\n\tpublic _iResolveDependencyFailure(resourceDependency:ResourceDependency)\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/**\n\t * Resolve a dependency name\n\t *\n\t * @param resourceDependency The dependency to be resolved.\n\t */\n\tpublic _iResolveDependencyName(resourceDependency:ResourceDependency, asset:IAsset):string\n\t{\n\t\treturn asset.name;\n\t}\n\n\tpublic _iResumeParsing()\n\t{\n\t\tthis._parsingPaused = false;\n\n\t\tif (this._timer)\n\t\t\tthis._timer.start();\n\n\t\t//get started!\n\t\tif (!this._isParsing)\n\t\t\tthis._pOnInterval();\n\t}\n\n\tpublic _pFinalizeAsset(asset:IAsset, name:string = null)\n\t{\n\t\tvar type_event:string;\n\t\tvar type_name:string;\n\n\t\tif (name != null)\n\t\t\tasset.name = name;\n\n\t\t// If the asset has no name, give it\n\t\t// a per-type default name.\n\t\tif (!asset.name)\n\t\t\tasset.name = asset.assetType;\n\n\t\tthis.dispatchEvent(new AssetEvent(AssetEvent.ASSET_COMPLETE, asset));\n\t}\n\n\t/**\n\t * Parse the next block of data.\n\t * @return Whether or not more data needs to be parsed. Can be <code>ParserBase.ParserBase.PARSING_DONE</code> or\n\t * <code>ParserBase.ParserBase.MORE_TO_PARSE</code>.\n\t */\n\tpublic _pProceedParsing():boolean\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tpublic _pDieWithError(message:string = 'Unknown parsing error')\n\t{\n\t\tif (this._timer) {\n\t\t\tthis._timer.removeEventListener(TimerEvent.TIMER, this._pOnIntervalDelegate);\n\t\t\tthis._timer.stop();\n\t\t\tthis._timer = null;\n\t\t}\n\n\t\tthis.dispatchEvent(new ParserEvent(ParserEvent.PARSE_ERROR, message));\n\t}\n\n\tpublic _pAddDependency(id:string, req:URLRequest, retrieveAsRawData:boolean = false, data:any = null, suppressErrorEvents:boolean = false, sub_id:number=0):ResourceDependency\n\t{\n\t\tvar dependency:ResourceDependency = new ResourceDependency(id, req, data, null, this, retrieveAsRawData, suppressErrorEvents, sub_id);\n\t\tthis._dependencies.push(dependency);\n\n\t\treturn dependency;\n\t}\n\n\tpublic _pPauseAndRetrieveDependencies()\n\t{\n\t\tthis._pPauseParsing();\n\n\t\tthis.dispatchEvent(new ParserEvent(ParserEvent.READY_FOR_DEPENDENCIES));\n\t}\n\n\tpublic _pPauseParsing()\n\t{\n\t\tif (this._timer)\n\t\t\tthis._timer.stop();\n\n\t\tthis._parsingPaused = true;\n\t}\n\n\t/**\n\t * Tests whether or not there is still time left for parsing within the maximum allowed time frame per session.\n\t * @return True if there is still time left, false if the maximum allotted time was exceeded and parsing should be interrupted.\n\t */\n\tpublic _pHasTime():boolean\n\t{\n\t\treturn ((getTimer() - this._lastFrameTime) < this._frameLimit);\n\t}\n\n\t/**\n\t * Called when the parsing pause interval has passed and parsing can proceed.\n\t */\n\tpublic _pOnInterval(event:TimerEvent = null)\n\t{\n\t\tthis._lastFrameTime = getTimer();\n\t\tthis._isParsing = true;\n\n\t\tif (this._pProceedParsing() && !this._parsingFailure)\n\t\t\tthis._pFinishParsing();\n\n\t\tthis._isParsing = false;\n\t}\n\n\t/**\n\t * Initializes the parsing of data.\n\t * @param frameLimit The maximum duration of a parsing session.\n\t */\n\tpublic _pStartParsing(frameLimit:number)\n\t{\n\t\tthis._frameLimit = frameLimit;\n\t\tthis._timer = new Timer(this._frameLimit, 0);\n\t\tthis._timer.addEventListener(TimerEvent.TIMER, this._pOnIntervalDelegate);\n\t\tthis._timer.start();\n\n\t\t//get started!\n\t\tthis._pOnInterval();\n\t}\n\n\t/**\n\t * Finish parsing the data.\n\t */\n\tpublic _pFinishParsing()\n\t{\n\t\tif (this._timer) {\n\t\t\tthis._timer.removeEventListener(TimerEvent.TIMER, this._pOnIntervalDelegate);\n\t\t\tthis._timer.stop();\n\t\t}\n\n\t\tthis._timer = null;\n\t\tthis._parsingComplete = true;\n\t\tthis._isParsing = false;\n\n\t\tthis.dispatchEvent(new ParserEvent(ParserEvent.PARSE_COMPLETE));\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t * @private\n\t */\n\tpublic _pGetTextData():string\n\t{\n\t\treturn ParserUtils.toString(this._data);\n\t}\n\n\t/**\n\t *\n\t * @returns {ByteArray}\n\t * @private\n\t */\n\tpublic _pGetByteData():ByteArray\n\t{\n\t\treturn ParserUtils.toByteArray(this._data);\n\t}\n\n\t/**\n\t *\n\t * @returns {any}\n\t * @private\n\t */\n\tpublic _pGetData():any\n\t{\n\t\treturn this._data;\n\t}\n\n}\n\nexport = ParserBase;",
    "/**\n * An enumeration providing values to describe the data format of parsed data.\n */\nclass ParserDataFormat\n{\n\t/**\n\t * Describes the format of a binary file.\n\t */\n\tpublic static BINARY:string = \"binary\";\n\n\t/**\n\t * Describes the format of a plain text file.\n\t */\n\tpublic static PLAIN_TEXT:string = \"plainText\";\n\n\t/**\n\t * Describes the format of an image file\n\t */\n\tpublic static IMAGE:string = \"image\";\n\n}\n\nexport = ParserDataFormat;",
    "import BitmapImage2D\t\t\t= require(\"awayjs-core/lib/image/BitmapImage2D\");\nimport WaveAudio\t\t\t\t= require(\"awayjs-core/lib/audio/WaveAudio\");\nimport ByteArray\t\t\t\t= require(\"awayjs-core/lib/utils/ByteArray\");\n\nclass ParserUtils\n{\n\tpublic static arrayBufferToBase64(data:ArrayBuffer, mimeType:string)\n\t{\n\t\tvar byteStr:string = '';\n\t\tvar bytes:Uint8Array = new Uint8Array(data);\n\t\tvar len:number = bytes.byteLength;\n\n\t\tfor (var i = 0; i < len; i++)\n\t\t\tbyteStr += String.fromCharCode(bytes[ i ])\n\n\t\tvar base64Image:string = window.btoa(byteStr);\n\t\treturn 'data:' + mimeType + ';base64,' + base64Image;\n\t}\n\n\tpublic static arrayBufferToAudio(data:ArrayBuffer, fileType:string):HTMLAudioElement\n\t{\n\t\tvar str:string = ParserUtils.arrayBufferToBase64(data, 'audio/' + fileType);\n\t\tvar audio:HTMLAudioElement = <HTMLAudioElement> new Audio();\n\t\taudio.src = str;\n\t\treturn audio;\n\t}\n\n\t/**\n\t * Converts an ArrayBuffer to a base64 string\n\t *\n\t * @param image data as a ByteArray\n\t *\n\t * @return HTMLImageElement\n\t *\n\t */\n\tpublic static arrayBufferToImage(data:ArrayBuffer):HTMLImageElement\n\t{\n\t\tvar str:string = ParserUtils.arrayBufferToBase64(data, 'image/png');\n\t\tvar img:HTMLImageElement = <HTMLImageElement> new Image();\n\t\timg.src = str;\n\t\treturn img;\n\t}\n\n\t/**\n\t * Converts an ByteArray to an Image - returns an HTMLImageElement\n\t *\n\t * @param image data as a ByteArray\n\t *\n\t * @return HTMLImageElement\n\t *\n\t */\n\tpublic static byteArrayToImage(data:ByteArray):HTMLImageElement\n\t{\n\t\tvar str:string = ParserUtils.arrayBufferToBase64(data.arraybytes, 'image/png');\n\t\tvar img:HTMLImageElement = <HTMLImageElement> new Image();\n\t\timg.src = str;\n\t\treturn img;\n\t}\n\n\tpublic static byteArrayToAudio(data:ByteArray, filetype:string):HTMLAudioElement\n\t{\n\t\tvar str:string = ParserUtils.arrayBufferToBase64(data.arraybytes, 'audio/' + filetype);\n\t\tvar audio:HTMLAudioElement = <HTMLAudioElement> new Audio();\n\t\taudio.src = str;\n\t\treturn audio;\n\t}\n\n\t/**\n\t * Converts an Blob to an Image - returns an HTMLImageElement\n\t *\n\t * @param image data as a Blob\n\t *\n\t * @return HTMLImageElement\n\t *\n\t */\n\tpublic static blobToImage(data:Blob):HTMLImageElement\n\t{\n\t\tvar URLObj:URL = window['URL'] || window['webkitURL'];\n\t\tvar src = URLObj.createObjectURL(data);\n\t\tvar img:HTMLImageElement = <HTMLImageElement> new Image();\n\t\timg.src = src;\n\t\treturn img;\n\t}\n\n\t/**\n\t * Converts an Blob to audio - returns an HTMLAudioElement\n\t *\n\t * @param audio data as a Blob\n\t *\n\t * @return HTMLAudioElement\n\t *\n\t */\n\tpublic static blobToAudio(data:Blob):HTMLAudioElement\n\t{\n\t\tvar URLObj:URL = window['URL'] || window['webkitURL'];\n\t\tvar src = URLObj.createObjectURL(data);\n\t\tvar img:HTMLAudioElement = <HTMLAudioElement> new Audio();\n\t\timg.src = src;\n\t\treturn img;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic static imageToBitmapImage2D(img:HTMLImageElement, powerOfTwo:boolean = true):BitmapImage2D\n\t{\n\t\tvar bitmapData:BitmapImage2D = new BitmapImage2D(img.width, img.height, true, null, powerOfTwo);\n\t\tbitmapData.draw(img);\n\n\t\treturn bitmapData;\n\t}\n\n\t/**\n\t * Returns a object as ByteArray, if possible.\n\t *\n\t * @param data The object to return as ByteArray\n\t *\n\t * @return The ByteArray or null\n\t *\n\t */\n\tpublic static toByteArray(data:any):ByteArray\n\t{\n\t\tvar b:ByteArray = new ByteArray();\n\t\tb.setArrayBuffer(data);\n\t\treturn b;\n\t}\n\n\t/**\n\t * Returns a object as String, if possible.\n\t *\n\t * @param data The object to return as String\n\t * @param length The length of the returned String\n\t *\n\t * @return The String or null\n\t *\n\t */\n\tpublic static toString(data:any, length:number = 0):string\n\t{\n\n\t\tif (typeof data === 'string') {\n\t\t\tvar s:string = <string> data;\n\n\t\t\tif (s['substr'] != null)\n\t\t\t\treturn s.substr(0, s.length);\n\t\t}\n\n\t\tif (data instanceof ByteArray) {\n\t\t\tvar ba:ByteArray = <ByteArray> data;\n\t\t\tba.position = 0;\n\t\t\treturn ba.readUTFBytes(Math.min(ba.getBytesAvailable(), length));\n\t\t}\n\n\t\treturn null;\n\n\t\t/*\n\t\t var ba:ByteArray;\n\n\t\t length ||= uint.MAX_VALUE;\n\n\t\t if (data is String)\n\t\t return String(data).substr(0, length);\n\n\t\t ba = toByteArray(data);\n\t\t if (ba) {\n\t\t ba.position = 0;\n\t\t return ba.readUTFBytes(Math.min(ba.bytesAvailable, length));\n\t\t }\n\n\t\t return null;\n\n\t\t */\n\n\t}\n}\n\nexport = ParserUtils;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLLoader\t\t\t\t= require(\"awayjs-core/lib/net/URLLoader\");\nimport URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\n\n/**\n * ResourceDependency represents the data required to load, parse and resolve additional files (\"dependencies\")\n * required by a parser, used by ResourceLoadSession.\n *\n */\nclass ResourceDependency\n{\n\tprivate _id:string;\n\tprivate _sub_id:number;\n\n\tprivate _request:URLRequest;\n\tprivate _assets:Array<IAsset>;\n\tprivate _parser:ParserBase;\n\tprivate _parentParser:ParserBase;\n\tprivate _data:any;\n\tprivate _retrieveAsRawData:boolean;\n\tprivate _suppressAssetEvents:boolean;\n\tprivate _dependencies:Array<ResourceDependency>;\n\n\tpublic _iLoader:URLLoader;\n\tpublic _iSuccess:boolean;\n\n\n\tconstructor(id:string, request:URLRequest, data:any, parser:ParserBase, parentParser:ParserBase, retrieveAsRawData:boolean = false, suppressAssetEvents:boolean = false, sub_id:number=0)\n\t{\n\t\tthis._id = id;\n\t\tthis._sub_id = sub_id;\n\t\tthis._request = request;\n\t\tthis._data = data;\n\t\tthis._parser = parser;\n\t\tthis._parentParser = parentParser;\n\t\tthis._retrieveAsRawData = retrieveAsRawData;\n\t\tthis._suppressAssetEvents = suppressAssetEvents;\n\t\tthis._assets = new Array<IAsset>();\n\t\tthis._dependencies = new Array<ResourceDependency>();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get id():string\n\t{\n\t\treturn this._id;\n\t}\n\tpublic get sub_id():number\n\t{\n\t\treturn this._sub_id;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get request():URLRequest\n\t{\n\t\treturn this._request;\n\t}\n\n\t/**\n\t * The data containing the dependency to be parsed, if the resource was already loaded.\n\t */\n\tpublic get data():any\n\t{\n\t\treturn this._data;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get parser():ParserBase\n\t{\n\t\treturn this._parser;\n\t}\n\n\t/**\n\t * The parser which is dependent on this ResourceDependency object.\n\t */\n\tpublic get parentParser():ParserBase\n\t{\n\t\treturn this._parentParser;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get retrieveAsRawData():boolean\n\t{\n\t\treturn this._retrieveAsRawData;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get suppresAssetEvents():boolean\n\t{\n\t\treturn this._suppressAssetEvents;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get assets():Array<IAsset>\n\t{\n\t\treturn this._assets;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get dependencies():Array<ResourceDependency>\n\t{\n\t\treturn this._dependencies;\n\t}\n\n\t/**\n\t * @private\n\t * Method to set data after having already created the dependency object, e.g. after load.\n\t */\n\tpublic _iSetData(data:any):void\n\t{\n\t\tthis._data = data;\n\t}\n\n\t/**\n\t * @private\n\t *\n\t */\n\tpublic _iSetParser(parser:ParserBase):void\n\t{\n\t\tthis._parser = parser;\n\t}\n\n\t/**\n\t * Resolve the dependency when it's loaded with the parent parser. For example, a dependency containing an\n\t * ImageResource would be assigned to a Mesh instance as a BitmapMaterial, a scene graph object would be added\n\t * to its intended parent. The dependency should be a member of the dependencies property.\n\t */\n\tpublic resolve():void\n\t{\n\t\tif (this._parentParser)\n\t\t\tthis._parentParser._iResolveDependency(this);\n\t}\n\n\t/**\n\t * Resolve a dependency failure. For example, map loading failure from a 3d file\n\t */\n\tpublic resolveFailure():void\n\t{\n\t\tif (this._parentParser)\n\t\t\tthis._parentParser._iResolveDependencyFailure(this);\n\t}\n\n\t/**\n\t * Resolve the dependencies name\n\t */\n\tpublic resolveName(asset:IAsset):string\n\t{\n\t\tif (this._parentParser)\n\t\t\treturn this._parentParser._iResolveDependencyName(this, asset);\n\n\t\treturn asset.name;\n\t}\n}\n\nexport = ResourceDependency;",
    "import Sampler2D\t\t\t\t= require(\"awayjs-core/lib/image/Sampler2D\");\nimport BitmapImage2D\t\t\t= require(\"awayjs-core/lib/image/BitmapImage2D\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLLoaderDataFormat\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\nimport ParserUtils\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserUtils\");\nimport ResourceDependency\t\t= require(\"awayjs-core/lib/parsers/ResourceDependency\");\nimport XmlUtils\t\t\t\t\t= require(\"awayjs-core/lib/utils/XmlUtils\");\n\n/**\n * TextureAtlasParser provides a \"parser\" for natively supported image types (jpg, png). While it simply loads bytes into\n * a loader object, it wraps it in a BitmapImage2DResource so resource management can happen consistently without\n * exception cases.\n */\nclass TextureAtlasParser extends ParserBase\n{\n\tprivate _doc:Node;\n\tprivate _imagePath:string;\n\tprivate _imageData:BitmapImage2D;\n\tprivate _subTextureNodes:NodeList;\n\tprivate _parseState:number = 0;\n\n\t/**\n\t * Creates a new TextureAtlasParser object.\n\t * @param uri The url or id of the data or file to be parsed.\n\t * @param extra The holder for extra contextual data that the parser might need.\n\t */\n\tconstructor()\n\t{\n\t\tsuper(URLLoaderDataFormat.TEXT);\n\t}\n\n\t/**\n\t * Indicates whether or not a given file extension is supported by the parser.\n\t * @param extension The file extension of a potential file to be parsed.\n\t * @return Whether or not the given file type is supported.\n\t */\n\n\tpublic static supportsType(extension:string):boolean\n\t{\n\t\textension = extension.toLowerCase();\n\t\treturn extension == \"xml\";\n\t}\n\n\t/**\n\t * Tests whether a data block can be parsed by the parser.\n\t * @param data The data block to potentially be parsed.\n\t * @return Whether or not the given data is supported.\n\t */\n\tpublic static supportsData(data:any):boolean\n\t{\n\t\ttry {\n\t\t\tvar content:string = ParserUtils.toString(data);\n\t\t\tif(content.indexOf(\"TextureAtlas\") != -1 || content.indexOf(\"textureatlas\") != -1)\n\t\t\t\treturn true;\n\n\t\t\treturn false;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic _iResolveDependency(resourceDependency:ResourceDependency)\n\t{\n\t\tif(resourceDependency.assets.length) {\n\t\t\tthis._imageData = <BitmapImage2D> resourceDependency.assets[0];\n\t\t\tthis._pFinalizeAsset(this._imageData);\n\t\t\tthis._parseState = TextureAtlasParserState.PARSE_SUBTEXTURES;\n\t\t} else {\n\t\t\tthis._parseState = TextureAtlasParserState.PARSE_COMPLETE;\n\t\t}\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic _iResolveDependencyFailure(resourceDependency:ResourceDependency)\n\t{\n\t\tthis._parseState = TextureAtlasParserState.PARSE_COMPLETE;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic _pProceedParsing():boolean\n\t{\n\t\tvar nodes:NodeList;\n\n\t\tswitch(this._parseState) {\n\t\t\tcase TextureAtlasParserState.PARSE_XML:\n\t\t\t\ttry {\n\t\t\t\t\tthis._doc = XmlUtils.getChildrenWithTag(XmlUtils.strToXml(this._pGetTextData()), \"TextureAtlas\")[0];\n\n\t\t\t\t\tthis._imagePath = XmlUtils.readAttributeValue(this._doc, \"imagePath\");\n\n\t\t\t\t\tthis._subTextureNodes = XmlUtils.getChildrenWithTag(this._doc, \"SubTexture\");\n\n\t\t\t\t\tthis._parseState = TextureAtlasParserState.PARSE_IMAGE;\n\n\t\t\t\t} catch(Error) {\n\t\t\t\t\treturn ParserBase.PARSING_DONE;\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase TextureAtlasParserState.PARSE_IMAGE:\n\t\t\t\tif (this._imagePath){\n\t\t\t\t\tthis._pAddDependency(this._imagePath, new URLRequest(this._imagePath));\n\t\t\t\t\tthis._pPauseAndRetrieveDependencies();\n\t\t\t\t} else {\n\t\t\t\t\treturn ParserBase.PARSING_DONE;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase TextureAtlasParserState.PARSE_SUBTEXTURES:\n\t\t\t\tvar sampler:Sampler2D;\n\t\t\t\tvar element:Node;\n\t\t\t\tvar x:string;\n\t\t\t\tvar y:string;\n\t\t\t\tvar width:string;\n\t\t\t\tvar height:string;\n\t\t\t\tvar len:number = this._subTextureNodes.length;\n\t\t\t\tfor (var i:number = 0; i < len; i++) {\n\t\t\t\t\telement = this._subTextureNodes[i];\n\t\t\t\t\tsampler = new Sampler2D();\n\n\t\t\t\t\t//setup subtexture rect\n\t\t\t\t\tx = XmlUtils.readAttributeValue(element, \"x\");\n\t\t\t\t\ty = XmlUtils.readAttributeValue(element, \"y\");\n\t\t\t\t\twidth = XmlUtils.readAttributeValue(element, \"width\");\n\t\t\t\t\theight = XmlUtils.readAttributeValue(element, \"height\");\n\t\t\t\t\tif (x || y || width || height)\n\t\t\t\t\t\tsampler.imageRect = new Rectangle(parseInt(x)/this._imageData.width, parseInt(y)/this._imageData.height, parseInt(width)/this._imageData.width, parseInt(height)/this._imageData.height);\n\n\t\t\t\t\t//setup frame rect\n\t\t\t\t\tx = XmlUtils.readAttributeValue(element, \"frameX\");\n\t\t\t\t\ty = XmlUtils.readAttributeValue(element, \"frameY\");\n\t\t\t\t\twidth = XmlUtils.readAttributeValue(element, \"frameWidth\");\n\t\t\t\t\theight = XmlUtils.readAttributeValue(element, \"frameHeight\");\n\t\t\t\t\tif (x || y || width || height)\n\t\t\t\t\t\tsampler.frameRect = new Rectangle(parseInt(x), parseInt(y), parseInt(width), parseInt(height));\n\n\t\t\t\t\tthis._pFinalizeAsset(sampler, XmlUtils.readAttributeValue(element, \"name\"));\n\t\t\t\t}\n\n\t\t\t\tthis._parseState = TextureAtlasParserState.PARSE_COMPLETE;\n\n\t\t\t\tbreak;\n\n\t\t\tcase TextureAtlasParserState.PARSE_COMPLETE:\n\t\t\t\treturn ParserBase.PARSING_DONE;\n\t\t}\n\n\t\treturn ParserBase.MORE_TO_PARSE;\n\t}\n}\n\nexport = TextureAtlasParser;\n\nclass TextureAtlasParserState {\n\tpublic static PARSE_XML:number = 0;\n\tpublic static PARSE_IMAGE:number = 1;\n\tpublic static PARSE_SUBTEXTURES:number = 2;\n\tpublic static PARSE_COMPLETE:number = 3;\n}",
    "import WaveAudio\t\t\t\t= require(\"awayjs-core/lib/audio/WaveAudio\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLLoaderDataFormat\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\nimport ParserUtils\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserUtils\");\nimport ByteArray\t\t\t\t= require(\"awayjs-core/lib/utils/ByteArray\");\n\nclass WaveAudioParser extends ParserBase\n{\n\tconstructor()\n\t{\n\t\tsuper(URLLoaderDataFormat.BLOB);\n\t}\n\n\tpublic static supportsType(extension:string):boolean\n\t{\n\n\t\textension = extension.toLowerCase();\n\t\treturn extension == \"wav\" || extension == \"mp3\" || extension == \"ogg\";\n\n\t}\n\n\tpublic static supportsData(data:any):boolean\n\t{\n\t\tif (!(data instanceof ByteArray))\n\t\t\treturn false;\n\n\t\tvar ba:ByteArray = <ByteArray> data;\n\t\tvar filetype : string = WaveAudioParser.parseFileType(ba);\n\t\treturn filetype? true : false;\n\t}\n\n\tpublic _pStartParsing(frameLimit:number)\n\t{\n\t\t//clear content\n\t\tdelete this._pContent;\n\t\tthis._pContent = null;\n\n\t\tsuper._pStartParsing(frameLimit);\n\t}\n\n\tpublic _pProceedParsing():boolean\n\t{\n\t\tif (this.data instanceof ByteArray) { // Parse a ByteArray\n\t\t\tthis._pContent = new WaveAudio(this.data.arraybytes);\n\t\t\tthis._pFinalizeAsset(this._pContent, this._iFileName);\n\t\t} else if (this.data instanceof ArrayBuffer) {// Parse an ArrayBuffer\n\t\t\tthis._pContent = new WaveAudio(this.data);\n\t\t\tthis._pFinalizeAsset(this._pContent, this._iFileName);\n\t\t}\n\n\t\treturn ParserBase.PARSING_DONE;\n\n\t}\n\n\tprivate static parseFileType(ba:ByteArray):string\n\t{\n\t\tba.position = 0;\n\n\t\tba.position = 0;\n\t\tif ((ba.readUnsignedShort() & 0xFFE0) == 0xFFE0) {\n\t\t\treturn 'mp3'; // test for MP3 syncword\n\t\t}\n\n\t\tba.position = 0;\n\t\tif (ba.readUTFBytes(4) == 'RIFF')\n\t\t\treturn 'wav';\n\n\t\tba.position = 0;\n\t\tif (ba.readUTFBytes(4) == 'OggS')\n\t\t\treturn 'ogg';\n\n\t\tba.position = 0;\n\n\t\treturn null;\n\t}\n}\n\nexport = WaveAudioParser;",
    "/**\n * Provides constant values for camera lens projection options use the the <code>coordinateSystem</code> property\n *\n * @see away.projections.PerspectiveLens#coordinateSystem\n */\nclass CoordinateSystem\n{\n\t/**\n\t * Default option, projects to a left-handed coordinate system\n\t */\n\tpublic static LEFT_HANDED:string = \"leftHanded\";\n\n\t/**\n\t * Projects to a right-handed coordinate system\n\t */\n\tpublic static RIGHT_HANDED:string = \"rightHanded\";\n}\n\nexport = CoordinateSystem;",
    "import PerspectiveProjection\t= require(\"awayjs-core/lib/projections/PerspectiveProjection\");\nimport ProjectionBase\t\t\t= require(\"awayjs-core/lib/projections/ProjectionBase\");\n\nclass FreeMatrixProjection extends ProjectionBase\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\tthis._pMatrix.copyFrom(new PerspectiveProjection().matrix);\n\t}\n\n\t//@override\n\tpublic set near(value:number)\n\t{\n\t\tthis._pNear = value;\n\t}\n\n\t//@override\n\tpublic set far(value:number)\n\t{\n\t\tthis._pFar = value;\n\t}\n\n\t//@override\n\tpublic set iAspectRatio(value:number)\n\t{\n\t\tthis._pAspectRatio = value;\n\t}\n\n\t//@override\n\tpublic clone():ProjectionBase\n\t{\n\t\tvar clone:FreeMatrixProjection = new FreeMatrixProjection();\n\t\tclone._pMatrix.copyFrom(this._pMatrix);\n\t\tclone._pNear = this._pNear;\n\t\tclone._pFar = this._pFar;\n\t\tclone._pAspectRatio = this._pAspectRatio;\n\t\tclone.pInvalidateMatrix();\n\t\treturn clone;\n\t}\n\n\t//@override\n\tpublic pUpdateMatrix()\n\t{\n\t\tthis._pMatrixInvalid = false;\n\t}\n}\n\nexport = FreeMatrixProjection;",
    "import Matrix3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Plane3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Plane3D\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport ProjectionEvent\t\t\t= require(\"awayjs-core/lib/events/ProjectionEvent\");\nimport IProjection\t\t\t\t= require(\"awayjs-core/lib/projections/IProjection\");\nimport ProjectionBase\t\t\t= require(\"awayjs-core/lib/projections/ProjectionBase\");\n\nclass ObliqueNearPlaneProjection extends ProjectionBase\n{\n\n\tprivate _baseProjection:IProjection;\n\tprivate _plane:Plane3D;\n\tprivate _onProjectionMatrixChangedDelegate:(event:ProjectionEvent) => void;\n\n\tconstructor(baseProjection:IProjection, plane:Plane3D)\n\t{\n\t\tsuper();\n\t\tthis.baseProjection = baseProjection;\n\t\tthis.plane = plane;\n\n\t\tthis._onProjectionMatrixChangedDelegate = (event:ProjectionEvent) => this.onProjectionMatrixChanged(event);\n\t}\n\n\t//@override\n\tpublic get frustumCorners():number[]\n\t{\n\t\treturn this._baseProjection.frustumCorners;\n\t}\n\n\t//@override\n\tpublic get near():number\n\t{\n\t\treturn this._baseProjection.near;\n\t}\n\n\t//@override\n\tpublic set near(value:number)\n\t{\n\t\tthis._baseProjection.near = value;\n\t}\n\n\t//@override\n\tpublic get far():number\n\t{\n\t\treturn this._baseProjection.far;\n\t}\n\n\t//@override\n\tpublic set far(value:number)\n\t{\n\t\tthis._baseProjection.far = value;\n\t}\n\n\t//@override\n\tpublic get iAspectRatio():number\n\t{\n\t\treturn this._baseProjection._iAspectRatio;\n\t}\n\n\t//@override\n\tpublic set iAspectRatio(value:number)\n\t{\n\t\tthis._baseProjection._iAspectRatio = value;\n\t}\n\n\tpublic get plane():Plane3D\n\t{\n\t\treturn this._plane;\n\t}\n\n\tpublic set plane(value:Plane3D)\n\t{\n\t\tthis._plane = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic set baseProjection(value:IProjection)\n\t{\n\t\tif (this._baseProjection) {\n\t\t\tthis._baseProjection.removeEventListener(ProjectionEvent.MATRIX_CHANGED, this._onProjectionMatrixChangedDelegate);\n\t\t}\n\t\tthis._baseProjection = value;\n\n\t\tif (this._baseProjection) {\n\t\t\tthis._baseProjection.addEventListener(ProjectionEvent.MATRIX_CHANGED, this._onProjectionMatrixChangedDelegate);\n\t\t}\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tprivate onProjectionMatrixChanged(event:ProjectionEvent)\n\t{\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t//@override\n\tpublic pUpdateMatrix()\n\t{\n\t\tthis._pMatrix.copyFrom(this._baseProjection.matrix);\n\n\t\tvar cx:number = this._plane.a;\n\t\tvar cy:number = this._plane.b;\n\t\tvar cz:number = this._plane.c;\n\t\tvar cw:number = -this._plane.d + .05;\n\t\tvar signX:number = cx >= 0? 1 : -1;\n\t\tvar signY:number = cy >= 0? 1 : -1;\n\t\tvar p:Vector3D = new Vector3D(signX, signY, 1, 1);\n\t\tvar inverse:Matrix3D = this._pMatrix.clone();\n\t\tinverse.invert();\n\t\tvar q:Vector3D = inverse.transformVector(p);\n\t\tthis._pMatrix.copyRowTo(3, p);\n\t\tvar a:number = (q.x*p.x + q.y*p.y + q.z*p.z + q.w*p.w)/(cx*q.x + cy*q.y + cz*q.z + cw*q.w);\n\t\tthis._pMatrix.copyRowFrom(2, new Vector3D(cx*a, cy*a, cz*a, cw*a));\n\t}\n}\n\nexport = ObliqueNearPlaneProjection;",
    "import Matrix3DUtils\t\t\t= require(\"awayjs-core/lib/geom/Matrix3DUtils\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport ProjectionBase\t\t\t= require(\"awayjs-core/lib/projections/ProjectionBase\");\n\nclass OrthographicOffCenterProjection extends ProjectionBase\n{\n\n\tprivate _minX:number;\n\tprivate _maxX:number;\n\tprivate _minY:number;\n\tprivate _maxY:number;\n\n\tconstructor(minX:number, maxX:number, minY:number, maxY:number)\n\t{\n\t\tsuper();\n\t\tthis._minX = minX;\n\t\tthis._maxX = maxX;\n\t\tthis._minY = minY;\n\t\tthis._maxY = maxY;\n\t}\n\n\tpublic get minX():number\n\t{\n\t\treturn this._minX;\n\t}\n\n\tpublic set minX(value:number)\n\t{\n\t\tthis._minX = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic get maxX():number\n\t{\n\t\treturn this._maxX;\n\t}\n\n\tpublic set maxX(value:number)\n\t{\n\t\tthis._maxX = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic get minY():number\n\t{\n\t\treturn this._minY;\n\t}\n\n\tpublic set minY(value:number)\n\t{\n\t\tthis._minY = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic get maxY():number\n\t{\n\t\treturn this._maxY;\n\t}\n\n\tpublic set maxY(value:number)\n\t{\n\t\tthis._maxY = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t//@override\n\tpublic unproject(nX:number, nY:number, sZ:number):Vector3D\n\t{\n\t\tvar v:Vector3D = new Vector3D(nX, -nY, sZ, 1.0);\n\t\tv = this.unprojectionMatrix.transformVector(v);\n\t\t//z is unaffected by transform\n\t\tv.z = sZ;\n\n\t\treturn v;\n\t}\n\n\t//@override\n\tpublic clone():ProjectionBase\n\t{\n\t\tvar clone:OrthographicOffCenterProjection = new OrthographicOffCenterProjection(this._minX, this._maxX, this._minY, this._maxY);\n\t\tclone._pNear = this._pNear;\n\t\tclone._pFar = this._pFar;\n\t\tclone._pAspectRatio = this._pAspectRatio;\n\t\treturn clone;\n\t}\n\n\t//@override\n\tpublic pUpdateMatrix()\n\t{\n\t\tvar raw:Float32Array = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tvar w:number = 1/(this._maxX - this._minX);\n\t\tvar h:number = 1/(this._maxY - this._minY);\n\t\tvar d:number = 1/(this._pFar - this._pNear);\n\n\t\traw[0] = 2*w;\n\t\traw[5] = 2*h;\n\t\traw[10] = d;\n\t\traw[12] = -(this._maxX + this._minX)*w;\n\t\traw[13] = -(this._maxY + this._minY)*h;\n\t\traw[14] = -this._pNear*d;\n\t\traw[15] = 1;\n\t\traw[1] = raw[2] = raw[3] = raw[4] = raw[6] = raw[7] = raw[8] = raw[9] = raw[11] = 0;\n\t\tthis._pMatrix.copyRawDataFrom(raw);\n\n\t\tthis._pFrustumCorners[0] = this._pFrustumCorners[9] = this._pFrustumCorners[12] = this._pFrustumCorners[21] = this._minX;\n\t\tthis._pFrustumCorners[3] = this._pFrustumCorners[6] = this._pFrustumCorners[15] = this._pFrustumCorners[18] = this._maxX;\n\t\tthis._pFrustumCorners[1] = this._pFrustumCorners[4] = this._pFrustumCorners[13] = this._pFrustumCorners[16] = this._minY;\n\t\tthis._pFrustumCorners[7] = this._pFrustumCorners[10] = this._pFrustumCorners[19] = this._pFrustumCorners[22] = this._maxY;\n\t\tthis._pFrustumCorners[2] = this._pFrustumCorners[5] = this._pFrustumCorners[8] = this._pFrustumCorners[11] = this._pNear;\n\t\tthis._pFrustumCorners[14] = this._pFrustumCorners[17] = this._pFrustumCorners[20] = this._pFrustumCorners[23] = this._pFar;\n\n\t\tthis._pMatrixInvalid = false;\n\t}\n}\n\nexport = OrthographicOffCenterProjection;",
    "import Matrix3DUtils\t\t\t= require(\"awayjs-core/lib/geom/Matrix3DUtils\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport ProjectionBase\t\t\t= require(\"awayjs-core/lib/projections/ProjectionBase\");\n\nclass OrthographicProjection extends ProjectionBase\n{\n\n\tprivate _projectionHeight:number;\n\tprivate _xMax:number;\n\tprivate _yMax:number;\n\n\tconstructor(projectionHeight:number = 500)\n\t{\n\t\tsuper();\n\t\tthis._projectionHeight = projectionHeight;\n\t}\n\n\tpublic get projectionHeight():number\n\t{\n\t\treturn this._projectionHeight;\n\t}\n\n\tpublic set projectionHeight(value:number)\n\t{\n\t\tif (value == this._projectionHeight) {\n\t\t\treturn;\n\t\t}\n\t\tthis._projectionHeight = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t//@override\n\tpublic unproject(nX:number, nY:number, sZ:number):Vector3D\n\t{\n\t\tvar v:Vector3D = new Vector3D(nX + this.matrix.rawData[12], -nY + this.matrix.rawData[13], sZ, 1.0);\n\t\tv = this.unprojectionMatrix.transformVector(v);\n\n\t\t//z is unaffected by transform\n\t\tv.z = sZ;\n\n\t\treturn v;\n\t}\n\n\t//@override\n\tpublic clone():ProjectionBase\n\t{\n\t\tvar clone:OrthographicProjection = new OrthographicProjection();\n\t\tclone._pNear = this._pNear;\n\t\tclone._pFar = this._pFar;\n\t\tclone._pAspectRatio = this._pAspectRatio;\n\t\tclone.projectionHeight = this._projectionHeight;\n\t\treturn clone;\n\t}\n\n\t//@override\n\tpublic pUpdateMatrix()\n\t{\n\t\tvar raw:Float32Array = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tthis._yMax = this._projectionHeight*.5;\n\t\tthis._xMax = this._yMax*this._pAspectRatio;\n\n\t\tvar left:number;\n\t\tvar right:number;\n\t\tvar top:number;\n\t\tvar bottom:number;\n\n\t\tif (this._pScissorRect.x == 0 && this._pScissorRect.y == 0 && this._pScissorRect.width == this._pViewPort.width && this._pScissorRect.height == this._pViewPort.height) {\n\t\t\t// assume symmetric frustum\n\n\t\t\tleft = -this._xMax;\n\t\t\tright = this._xMax;\n\t\t\ttop = -this._yMax;\n\t\t\tbottom = this._yMax;\n\n\t\t\traw[0] = 2/(this._projectionHeight*this._pAspectRatio);\n\t\t\traw[5] = 2/this._projectionHeight;\n\t\t\traw[10] = 1/(this._pFar - this._pNear);\n\t\t\traw[14] = this._pNear/(this._pNear - this._pFar);\n\t\t\traw[1] = raw[2] = raw[3] = raw[4] = raw[6] = raw[7] = raw[8] = raw[9] = raw[11] = raw[12] = raw[13] = 0;\n\t\t\traw[15] = 1;\n\n\t\t} else {\n\n\t\t\tvar xWidth:number = this._xMax*(this._pViewPort.width/this._pScissorRect.width);\n\t\t\tvar yHgt:number = this._yMax*(this._pViewPort.height/this._pScissorRect.height);\n\t\t\tvar center:number = this._xMax*(this._pScissorRect.x*2 - this._pViewPort.width)/this._pScissorRect.width + this._xMax;\n\t\t\tvar middle:number = -this._yMax*(this._pScissorRect.y*2 - this._pViewPort.height)/this._pScissorRect.height - this._yMax;\n\n\t\t\tleft = center - xWidth;\n\t\t\tright = center + xWidth;\n\t\t\ttop = middle - yHgt;\n\t\t\tbottom = middle + yHgt;\n\n\t\t\traw[0] = 2*1/(right - left);\n\t\t\traw[5] = -2*1/(top - bottom);\n\t\t\traw[10] = 1/(this._pFar - this._pNear);\n\n\t\t\traw[12] = (right + left)/(right - left);\n\t\t\traw[13] = (bottom + top)/(bottom - top);\n\t\t\traw[14] = this._pNear/(this.near - this.far);\n\n\t\t\traw[1] = raw[2] = raw[3] = raw[4] = raw[6] = raw[7] = raw[8] = raw[9] = raw[11] = 0;\n\t\t\traw[15] = 1;\n\t\t}\n\n\t\tthis._pFrustumCorners[0] = this._pFrustumCorners[9] = this._pFrustumCorners[12] = this._pFrustumCorners[21] = left;\n\t\tthis._pFrustumCorners[3] = this._pFrustumCorners[6] = this._pFrustumCorners[15] = this._pFrustumCorners[18] = right;\n\t\tthis._pFrustumCorners[1] = this._pFrustumCorners[4] = this._pFrustumCorners[13] = this._pFrustumCorners[16] = top;\n\t\tthis._pFrustumCorners[7] = this._pFrustumCorners[10] = this._pFrustumCorners[19] = this._pFrustumCorners[22] = bottom;\n\t\tthis._pFrustumCorners[2] = this._pFrustumCorners[5] = this._pFrustumCorners[8] = this._pFrustumCorners[11] = this._pNear;\n\t\tthis._pFrustumCorners[14] = this._pFrustumCorners[17] = this._pFrustumCorners[20] = this._pFrustumCorners[23] = this._pFar;\n\n\t\tthis._pMatrix.copyRawDataFrom(raw);\n\n\t\tthis._pMatrixInvalid = false;\n\t}\n}\n\nexport= OrthographicProjection;",
    "import Matrix3DUtils\t\t\t= require(\"awayjs-core/lib/geom/Matrix3DUtils\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport CoordinateSystem\t\t\t= require(\"awayjs-core/lib/projections/CoordinateSystem\");\nimport ProjectionBase\t\t\t= require(\"awayjs-core/lib/projections/ProjectionBase\");\n\nclass PerspectiveProjection extends ProjectionBase\n{\n\tprivate _fieldOfView:number = 60;\n\tprivate _focalLength:number = 1000;\n\tprivate _hFieldOfView:number = 60;\n\tprivate _hFocalLength:number = 1000;\n\tprivate _preserveAspectRatio:boolean = true;\n\tprivate _preserveFocalLength:boolean = false;\n\n\tconstructor(fieldOfView:number = 60, coordinateSystem:string = \"leftHanded\")\n\t{\n\t\tsuper(coordinateSystem);\n\t\tthis.fieldOfView = fieldOfView;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get preserveAspectRatio():boolean\n\t{\n\t\treturn this._preserveAspectRatio;\n\t}\n\n\tpublic set preserveAspectRatio(value:boolean)\n\t{\n\t\tif (this._preserveAspectRatio == value)\n\t\t\treturn;\n\n\t\tthis._preserveAspectRatio = value;\n\n\t\tif (this._preserveAspectRatio)\n\t\t\tthis.pInvalidateMatrix();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get preserveFocalLength():boolean\n\t{\n\t\treturn this._preserveFocalLength;\n\t}\n\n\tpublic set preserveFocalLength(value:boolean)\n\t{\n\t\tif (this._preserveFocalLength == value)\n\t\t\treturn;\n\n\t\tthis._preserveFocalLength = value;\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get fieldOfView():number\n\t{\n\t\treturn this._fieldOfView;\n\t}\n\n\tpublic set fieldOfView(value:number)\n\t{\n\t\tif (this._fieldOfView == value)\n\t\t\treturn;\n\n\t\tthis._fieldOfView = value;\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get focalLength():number\n\t{\n\t\treturn this._focalLength;\n\t}\n\n\tpublic set focalLength(value:number)\n\t{\n\t\tif (this._focalLength == value)\n\t\t\treturn;\n\n\t\tthis._focalLength = value;\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get hFieldOfView():number\n\t{\n\t\treturn this._hFieldOfView;\n\t}\n\n\tpublic set hFieldOfView(value:number)\n\t{\n\t\tif (this._hFieldOfView == value)\n\t\t\treturn;\n\n\t\tthis._hFieldOfView = value;\n\n\t\tthis._hFocalLength = 1/Math.tan(this._hFieldOfView*Math.PI/360);\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get hFocalLength():number\n\t{\n\t\treturn this._hFocalLength;\n\t}\n\n\tpublic set hFocalLength(value:number)\n\t{\n\t\tif (this._hFocalLength == value)\n\t\t\treturn;\n\n\t\tthis._hFocalLength = value;\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\n\t//@override\n\tpublic unproject(nX:number, nY:number, sZ:number):Vector3D\n\t{\n\t\tvar v:Vector3D = new Vector3D(nX, -nY, sZ, 1.0);\n\n\t\tv.x *= sZ;\n\t\tv.y *= sZ;\n\n\t\tv = this.unprojectionMatrix.transformVector(v);\n\n\t\t//z is unaffected by transform\n\t\tv.z = sZ;\n\n\t\treturn v;\n\t}\n\n\t//@override\n\tpublic clone():ProjectionBase\n\t{\n\t\tvar clone:PerspectiveProjection = new PerspectiveProjection(this._fieldOfView);\n\t\tclone._pNear = this._pNear;\n\t\tclone._pFar = this._pFar;\n\t\tclone._pAspectRatio = this._pAspectRatio;\n\t\tclone._pCoordinateSystem = this._pCoordinateSystem;\n\t\treturn clone;\n\t}\n\n\t//@override\n\tpublic pUpdateMatrix()\n\t{\n\t\tvar raw:Float32Array = Matrix3DUtils.RAW_DATA_CONTAINER;\n\n\t\tif (this._preserveFocalLength) {\n\t\t\tif (this._preserveAspectRatio)\n\t\t\t\tthis._hFocalLength = this._focalLength;\n\n\t\t\tthis._fieldOfView = Math.atan(0.5*this._pScissorRect.height/this._focalLength)*360/Math.PI;\n\t\t\tthis._hFieldOfView = Math.atan(0.5*this._pScissorRect.width/this._hFocalLength)*360/Math.PI;\n\t\t} else {\n\t\t\tthis._focalLength = 0.5*this._pScissorRect.height/Math.tan(this._fieldOfView*Math.PI/360);\n\n\t\t\tif (this._preserveAspectRatio)\n\t\t\t\tthis._hFocalLength = this._focalLength;\n\t\t\telse\n\t\t\t\tthis._hFocalLength = 0.5*this._pScissorRect.width/Math.tan(this._hFieldOfView*Math.PI/360);\n\t\t}\n\n\t\tvar tanMinX = -this._pOriginX/this._hFocalLength;\n\t\tvar tanMaxX = (1 - this._pOriginX)/this._hFocalLength;\n\t\tvar tanMinY = -this._pOriginY/this._focalLength;\n\t\tvar tanMaxY = (1 - this._pOriginY)/this._focalLength;\n\n\t\tvar left:number;\n\t\tvar right:number;\n\t\tvar top:number;\n\t\tvar bottom:number;\n\n\t\t// assume scissored frustum\n\t\tvar center:number = -((tanMinX - tanMaxX)*this._pScissorRect.x + tanMinX*this._pScissorRect.width);\n\t\tvar middle:number = ((tanMinY - tanMaxY)*this._pScissorRect.y + tanMinY*this._pScissorRect.height);\n\n\t\tleft = center - (tanMaxX - tanMinX)*this._pViewPort.width;\n\t\tright = center;\n\t\ttop = middle;\n\t\tbottom = middle + (tanMaxY - tanMinY)*this._pViewPort.height;\n\n\t\traw[0] = 2/(right - left);\n\t\traw[5] = 2/(bottom - top);\n\t\traw[8] = (right + left)/(right - left);\n\t\traw[9] = (bottom + top)/(bottom - top);\n\t\traw[10] = (this._pFar + this._pNear)/(this._pFar - this._pNear);\n\t\traw[11] = 1;\n\t\traw[1] = raw[2] = raw[3] = raw[4] = raw[6] = raw[7] = raw[12] = raw[13] = raw[15] = 0;\n\t\traw[14] = -2*this._pFar*this._pNear/(this._pFar - this._pNear);\n\n\t\tif (this._pCoordinateSystem == CoordinateSystem.RIGHT_HANDED)\n\t\t\traw[5] = -raw[5];\n\n\t\tthis._pMatrix.copyRawDataFrom(raw);\n\n\t\tthis._pFrustumCorners[0] = this._pFrustumCorners[9] = this._pNear*left;\n\t\tthis._pFrustumCorners[3] = this._pFrustumCorners[6] = this._pNear*right;\n\t\tthis._pFrustumCorners[1] = this._pFrustumCorners[4] = this._pNear*top;\n\t\tthis._pFrustumCorners[7] = this._pFrustumCorners[10] = this._pNear*bottom;\n\n\t\tthis._pFrustumCorners[12] = this._pFrustumCorners[21] = this._pFar*left;\n\t\tthis._pFrustumCorners[15] = this._pFrustumCorners[18] = this._pFar*right;\n\t\tthis._pFrustumCorners[13] = this._pFrustumCorners[16] = this._pFar*top;\n\t\tthis._pFrustumCorners[19] = this._pFrustumCorners[22] = this._pFar*bottom;\n\n\t\tthis._pFrustumCorners[2] = this._pFrustumCorners[5] = this._pFrustumCorners[8] = this._pFrustumCorners[11] = this._pNear;\n\t\tthis._pFrustumCorners[14] = this._pFrustumCorners[17] = this._pFrustumCorners[20] = this._pFrustumCorners[23] = this._pFar;\n\n\t\tthis._pMatrixInvalid = false;\n\n\n\t}\n}\n\nexport = PerspectiveProjection;",
    "import Matrix3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport ProjectionEvent\t\t\t= require(\"awayjs-core/lib/events/ProjectionEvent\");\nimport AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\nimport IProjection\t\t\t\t= require(\"awayjs-core/lib/projections/IProjection\");\n\nclass ProjectionBase extends EventDispatcher implements IProjection\n{\n\tpublic _pMatrix:Matrix3D = new Matrix3D();\n\tpublic _pScissorRect:Rectangle = new Rectangle();\n\tpublic _pViewPort:Rectangle = new Rectangle();\n\tpublic _pNear:number = 20;\n\tpublic _pFar:number = 3000;\n\tpublic _pAspectRatio:number = 1;\n\n\tpublic _pMatrixInvalid:boolean = true;\n\tpublic _pFrustumCorners:number[] = [];\n\tpublic _pCoordinateSystem:string;\n\tpublic _pOriginX:number = 0.5;\n\tpublic _pOriginY:number = 0.5;\n\n\tprivate _unprojection:Matrix3D;\n\tprivate _unprojectionInvalid:boolean = true;\n\n\tconstructor(coordinateSystem:string = \"leftHanded\")\n\t{\n\t\tsuper();\n\n\t\tthis.coordinateSystem = coordinateSystem;\n\t}\n\n\t/**\n\t * The handedness of the coordinate system projection. The default is LEFT_HANDED.\n\t */\n\tpublic get coordinateSystem():string\n\t{\n\t\treturn this._pCoordinateSystem;\n\t}\n\n\tpublic set coordinateSystem(value:string)\n\t{\n\t\tif (this._pCoordinateSystem == value)\n\t\t\treturn;\n\n\t\tthis._pCoordinateSystem = value;\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic get frustumCorners():number[]\n\t{\n\t\treturn this._pFrustumCorners;\n\t}\n\n\tpublic set frustumCorners(frustumCorners:number[])\n\t{\n\t\tthis._pFrustumCorners = frustumCorners;\n\t}\n\n\tpublic get matrix():Matrix3D\n\t{\n\t\tif (this._pMatrixInvalid) {\n\t\t\tthis.pUpdateMatrix();\n\t\t\tthis._pMatrixInvalid = false;\n\t\t}\n\t\treturn this._pMatrix;\n\t}\n\n\tpublic set matrix(value:Matrix3D)\n\t{\n\t\tthis._pMatrix = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic get near():number\n\t{\n\t\treturn this._pNear;\n\t}\n\n\tpublic set near(value:number)\n\t{\n\t\tif (value == this._pNear) {\n\t\t\treturn;\n\t\t}\n\t\tthis._pNear = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic get originX():number\n\t{\n\t\treturn this._pOriginX;\n\t}\n\n\tpublic set originX(value:number)\n\t{\n\t\tif (this._pOriginX == value)\n\t\t\treturn;\n\n\t\tthis._pOriginX = value;\n\t}\n\n\tpublic get originY():number\n\t{\n\t\treturn this._pOriginY;\n\t}\n\n\tpublic set originY(value:number)\n\t{\n\t\tif (this._pOriginY == value)\n\t\t\treturn;\n\n\t\tthis._pOriginY = value;\n\t}\n\n\tpublic get far():number\n\t{\n\t\treturn this._pFar;\n\t}\n\n\tpublic set far(value:number)\n\t{\n\t\tif (value == this._pFar) {\n\t\t\treturn;\n\t\t}\n\t\tthis._pFar = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic project(point3d:Vector3D):Vector3D\n\t{\n\t\tvar v:Vector3D = this.matrix.transformVector(point3d);\n\t\tv.x = v.x/v.w;\n\t\tv.y = -v.y/v.w;\n\n\t\t//z is unaffected by transform\n\t\tv.z = point3d.z;\n\n\t\treturn v;\n\t}\n\n\tpublic get unprojectionMatrix():Matrix3D\n\t{\n\t\tif (this._unprojectionInvalid) {\n\t\t\tif (!this._unprojection)\n\t\t\t\tthis._unprojection = new Matrix3D();\n\n\t\t\tthis._unprojection.copyFrom(this.matrix);\n\t\t\tthis._unprojection.invert();\n\t\t\tthis._unprojectionInvalid = false;\n\t\t}\n\t\treturn this._unprojection;\n\t}\n\n\tpublic unproject(nX:number, nY:number, sZ:number):Vector3D\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tpublic clone():ProjectionBase\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tpublic get _iAspectRatio():number\n\t{\n\t\treturn this._pAspectRatio;\n\t}\n\n\tpublic set _iAspectRatio(value:number)\n\t{\n\t\tif (this._pAspectRatio == value)\n\t\t\treturn;\n\n\t\tthis._pAspectRatio = value;\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic pInvalidateMatrix()\n\t{\n\t\tthis._pMatrixInvalid = true;\n\t\tthis._unprojectionInvalid = true;\n\t\tthis.dispatchEvent(new ProjectionEvent(ProjectionEvent.MATRIX_CHANGED, this));\n\t}\n\n\tpublic pUpdateMatrix()\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tpublic _iUpdateScissorRect(x:number, y:number, width:number, height:number)\n\t{\n\t\tthis._pScissorRect.x = x;\n\t\tthis._pScissorRect.y = y;\n\t\tthis._pScissorRect.width = width;\n\t\tthis._pScissorRect.height = height;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic _iUpdateViewport(x:number, y:number, width:number, height:number)\n\t{\n\t\tthis._pViewPort.x = x;\n\t\tthis._pViewPort.y = y;\n\t\tthis._pViewPort.width = width;\n\t\tthis._pViewPort.height = height;\n\t\tthis.pInvalidateMatrix();\n\t}\n}\n\nexport = ProjectionBase;",
    "class Keyboard\n{\n\t/**\n\t * Constant associated with the key code value for the A key (65).\n\t */\n\tpublic static A:number /*uint*/ = 65;\n\n\t/**\n\t * Constant associated with the key code value for the Alternate (Option) key  (18).\n\t */\n\tpublic static ALTERNATE:number /*uint*/ = 18;\n\n\t/**\n\t * Select the audio mode\n\t */\n\tpublic static AUDIO:number /*uint*/ = 0x01000017;\n\n\t/**\n\t * Constant associated with the key code value for the B key (66).\n\t */\n\tpublic static B:number /*uint*/ = 66;\n\n\t/**\n\t * Return to previous page in application\n\t */\n\tpublic static BACK:number /*uint*/ = 0x01000016;\n\n\t/**\n\t * Constant associated with the key code value for the ` key (192).\n\t */\n\tpublic static BACKQUOTE:number /*uint*/ = 192;\n\n\t/**\n\t * Constant associated with the key code value for the \\ key (220).\n\t */\n\tpublic static BACKSLASH:number /*uint*/ = 220;\n\n\t/**\n\t * Constant associated with the key code value for the Backspace key (8).\n\t */\n\tpublic static BACKSPACE:number /*uint*/ = 8;\n\n\t/**\n\t * Blue function key button\n\t */\n\tpublic static BLUE:number /*uint*/ = 0x01000003;\n\n\t/**\n\t * Constant associated with the key code value for the C key (67).\n\t */\n\tpublic static C:number /*uint*/ = 67;\n\n\t/**\n\t * Constant associated with the key code value for the Caps Lock key (20).\n\t */\n\tpublic static CAPS_LOCK:number /*uint*/ = 20;\n\n\t/**\n\t * Channel down\n\t */\n\tpublic static CHANNEL_DOWN:number /*uint*/ = 0x01000005;\n\n\t/**\n\t * Channel up\n\t */\n\tpublic static CHANNEL_UP:number /*uint*/ = 0x01000005;\n\n\t/**\n\t * Constant associated with the key code value for the , key (188).\n\t */\n\tpublic static COMMA:number /*uint*/ = 188;\n\n\t/**\n\t * Constant associated with the Mac command key (15). This constant is\n\t * currently only used for setting menu key equivalents.\n\t */\n\tpublic static COMMAND:number /*uint*/ = 15;\n\n\t/**\n\t * Constant associated with the key code value for the Control key (17).\n\t */\n\tpublic static CONTROL:number /*uint*/ = 17;\n\n\t/**\n\t * An array containing all the defined key name constants.\n\t */\n\tpublic static CharCodeStrings:Array<any>;\n\n\t/**\n\t * Constant associated with the key code value for the D key (68).\n\t */\n\tpublic static D:number /*uint*/ = 68;\n\n\t/**\n\t * Constant associated with the key code value for the Delete key (46).\n\t */\n\tpublic static DELETE:number /*uint*/ = 46;\n\n\t/**\n\t * Constant associated with the key code value for the Down Arrow key (40).\n\t */\n\tpublic static DOWN:number /*uint*/ = 40;\n\n\t/**\n\t * Engage DVR application mode\n\t */\n\tpublic static DVR:number /*uint*/ = 0x01000019;\n\n\t/**\n\t * Constant associated with the key code value for the E key (69).\n\t */\n\tpublic static E:number /*uint*/ = 69;\n\n\t/**\n\t * Constant associated with the key code value for the End key (35).\n\t */\n\tpublic static END:number /*uint*/ = 35;\n\n\t/**\n\t * Constant associated with the key code value for the Enter key (13).\n\t */\n\tpublic static ENTER:number /*uint*/ = 13;\n\n\t/**\n\t * Constant associated with the key code value for the = key (187).\n\t */\n\tpublic static EQUAL:number /*uint*/ = 187;\n\n\t/**\n\t * Constant associated with the key code value for the Escape key (27).\n\t */\n\tpublic static ESCAPE:number /*uint*/ = 27;\n\n\t/**\n\t * Exits current application mode\n\t */\n\tpublic static EXIT:number /*uint*/ = 0x01000015;\n\n\t/**\n\t * Constant associated with the key code value for the F key (70).\n\t */\n\tpublic static F:number /*uint*/ = 70;\n\n\t/**\n\t * Constant associated with the key code value for the F1 key (112).\n\t */\n\tpublic static F1:number /*uint*/ = 112;\n\n\t/**\n\t * Constant associated with the key code value for the F10 key (121).\n\t */\n\tpublic static F10:number /*uint*/ = 121;\n\n\t/**\n\t * Constant associated with the key code value for the F11 key (122).\n\t */\n\tpublic static F11:number /*uint*/ = 122;\n\n\t/**\n\t * Constant associated with the key code value for the F12 key (123).\n\t */\n\tpublic static F12:number /*uint*/ = 123;\n\n\t/**\n\t * Constant associated with the key code value for the F13 key (124).\n\t */\n\tpublic static F13:number /*uint*/ = 124;\n\n\t/**\n\t * Constant associated with the key code value for the F14 key (125).\n\t */\n\tpublic static F14:number /*uint*/ = 125;\n\n\t/**\n\t * Constant associated with the key code value for the F15 key (126).\n\t */\n\tpublic static F15:number /*uint*/ = 126;\n\n\t/**\n\t * Constant associated with the key code value for the F2 key (113).\n\t */\n\tpublic static F2:number /*uint*/ = 113;\n\n\t/**\n\t * Constant associated with the key code value for the F3 key (114).\n\t */\n\tpublic static F3:number /*uint*/ = 114;\n\n\t/**\n\t * Constant associated with the key code value for the F4 key (115).\n\t */\n\tpublic static F4:number /*uint*/ = 115;\n\n\t/**\n\t * Constant associated with the key code value for the F5 key (116).\n\t */\n\tpublic static F5:number /*uint*/ = 116;\n\n\t/**\n\t * Constant associated with the key code value for the F6 key (117).\n\t */\n\tpublic static F6:number /*uint*/ = 117;\n\n\t/**\n\t * Constant associated with the key code value for the F7 key (118).\n\t */\n\tpublic static F7:number /*uint*/ = 118;\n\n\t/**\n\t * Constant associated with the key code value for the F8 key (119).\n\t */\n\tpublic static F8:number /*uint*/ = 119;\n\n\t/**\n\t * Constant associated with the key code value for the F9 key (120).\n\t */\n\tpublic static F9:number /*uint*/ = 120;\n\n\t/**\n\t * Engage fast-forward transport mode\n\t */\n\tpublic static FAST_FORWARD:number /*uint*/ = 0x0100000A;\n\n\t/**\n\t * Constant associated with the key code value for the G key (71).\n\t */\n\tpublic static G:number /*uint*/ = 71;\n\n\t/**\n\t * Green function key button\n\t */\n\tpublic static GREEN:number /*uint*/ = 0x01000001;\n\n\t/**\n\t * Engage program guide\n\t */\n\tpublic static GUIDE:number /*uint*/ = 0x01000014;\n\n\t/**\n\t * Constant associated with the key code value for the H key (72).\n\t */\n\tpublic static H:number /*uint*/ = 72;\n\n\t/**\n\t * Engage help application or context-sensitive help\n\t */\n\tpublic static HELP:number /*uint*/ = 0x0100001D;\n\n\t/**\n\t * Constant associated with the key code value for the Home key (36).\n\t */\n\tpublic static HOME:number /*uint*/ = 36;\n\n\t/**\n\t * Constant associated with the key code value for the I key (73).\n\t */\n\tpublic static I:number /*uint*/ = 73;\n\n\t/**\n\t * Info button\n\t */\n\tpublic static INFO:number /*uint*/ = 0x01000013;\n\n\t/**\n\t * Cycle input\n\t */\n\tpublic static INPUT:number /*uint*/ = 0x0100001B;\n\n\t/**\n\t * Constant associated with the key code value for the Insert key (45).\n\t */\n\tpublic static INSERT:number /*uint*/ = 45;\n\n\t/**\n\t * Constant associated with the key code value for the J key (74).\n\t */\n\tpublic static J:number /*uint*/ = 74;\n\n\t/**\n\t * Constant associated with the key code value for the K key (75).\n\t */\n\tpublic static K:number /*uint*/ = 75;\n\n\t/**\n\t * The Begin key\n\t */\n\tpublic static KEYNAME_BEGIN:string = \"Begin\";\n\n\t/**\n\t * The Break key\n\t */\n\tpublic static KEYNAME_BREAK:string = \"Break\";\n\n\t/**\n\t * The Clear Display key\n\t */\n\tpublic static KEYNAME_CLEARDISPLAY:string = \"ClrDsp\";\n\n\t/**\n\t * The Clear Line key\n\t */\n\tpublic static KEYNAME_CLEARLINE:string = \"ClrLn\";\n\n\t/**\n\t * The Delete key\n\t */\n\tpublic static KEYNAME_DELETE:string = \"Delete\";\n\n\t/**\n\t * The Delete Character key\n\t */\n\tpublic static KEYNAME_DELETECHAR:string = \"DelChr\";\n\n\t/**\n\t * The Delete Line key\n\t */\n\tpublic static KEYNAME_DELETELINE:string = \"DelLn\";\n\n\t/**\n\t * The down arrow\n\t */\n\tpublic static KEYNAME_DOWNARROW:string = \"Down\";\n\n\t/**\n\t * The End key\n\t */\n\tpublic static KEYNAME_END:string = \"End\";\n\n\t/**\n\t * The Execute key\n\t */\n\tpublic static KEYNAME_EXECUTE:string = \"Exec\";\n\n\t/**\n\t * The F1 key\n\t */\n\tpublic static KEYNAME_F1:string = \"F1\";\n\n\t/**\n\t * The F10 key\n\t */\n\tpublic static KEYNAME_F10:string = \"F10\";\n\n\t/**\n\t * The F11 key\n\t */\n\tpublic static KEYNAME_F11:string = \"F11\";\n\n\t/**\n\t * The F12 key\n\t */\n\tpublic static KEYNAME_F12:string = \"F12\";\n\n\t/**\n\t * The F13 key\n\t */\n\tpublic static KEYNAME_F13:string = \"F13\";\n\n\t/**\n\t * The F14 key\n\t */\n\tpublic static KEYNAME_F14:string = \"F14\";\n\n\t/**\n\t * The F15 key\n\t */\n\tpublic static KEYNAME_F15:string = \"F15\";\n\n\t/**\n\t * The F16 key\n\t */\n\tpublic static KEYNAME_F16:string = \"F16\";\n\n\t/**\n\t * The F17 key\n\t */\n\tpublic static KEYNAME_F17:string = \"F17\";\n\n\t/**\n\t * The F18 key\n\t */\n\tpublic static KEYNAME_F18:string = \"F18\";\n\n\t/**\n\t * The F19 key\n\t */\n\tpublic static KEYNAME_F19:string = \"F19\";\n\n\t/**\n\t * The F2 key\n\t */\n\tpublic static KEYNAME_F2:string = \"F2\";\n\n\t/**\n\t * The F20 key\n\t */\n\tpublic static KEYNAME_F20:string = \"F20\";\n\n\t/**\n\t * The F21 key\n\t */\n\tpublic static KEYNAME_F21:string = \"F21\";\n\n\t/**\n\t * The F22 key\n\t */\n\tpublic static KEYNAME_F22:string = \"F22\";\n\n\t/**\n\t * The F23 key\n\t */\n\tpublic static KEYNAME_F23:string = \"F23\";\n\n\t/**\n\t * The F24 key\n\t */\n\tpublic static KEYNAME_F24:string = \"F24\";\n\n\t/**\n\t * The F25 key\n\t */\n\tpublic static KEYNAME_F25:string = \"F25\";\n\n\t/**\n\t * The F26 key\n\t */\n\tpublic static KEYNAME_F26:string = \"F26\";\n\n\t/**\n\t * The F27 key\n\t */\n\tpublic static KEYNAME_F27:string = \"F27\";\n\n\t/**\n\t * The F28 key\n\t */\n\tpublic static KEYNAME_F28:string = \"F28\";\n\n\t/**\n\t * The F29 key\n\t */\n\tpublic static KEYNAME_F29:string = \"F29\";\n\n\t/**\n\t * The F3 key\n\t */\n\tpublic static KEYNAME_F3:string = \"F3\";\n\n\t/**\n\t * The F30 key\n\t */\n\tpublic static KEYNAME_F30:string = \"F30\";\n\n\t/**\n\t * The F31 key\n\t */\n\tpublic static KEYNAME_F31:string = \"F31\";\n\n\t/**\n\t * The F32 key\n\t */\n\tpublic static KEYNAME_F32:string = \"F32\";\n\n\t/**\n\t * The F33 key\n\t */\n\tpublic static KEYNAME_F33:string = \"F33\";\n\n\t/**\n\t * The F34 key\n\t */\n\tpublic static KEYNAME_F34:string = \"F34\";\n\n\t/**\n\t * The F35 key\n\t */\n\tpublic static KEYNAME_F35:string = \"F35\";\n\n\t/**\n\t * The F4 key\n\t */\n\tpublic static KEYNAME_F4:string = \"F4\";\n\n\t/**\n\t * The F5 key\n\t */\n\tpublic static KEYNAME_F5:string = \"F5\";\n\n\t/**\n\t * The F6 key\n\t */\n\tpublic static KEYNAME_F6:string = \"F6\";\n\n\t/**\n\t * The F7 key\n\t */\n\tpublic static KEYNAME_F7:string = \"F7\";\n\n\t/**\n\t * The F8 key\n\t */\n\tpublic static KEYNAME_F8:string = \"F8\";\n\n\t/**\n\t * The F9 key\n\t */\n\tpublic static KEYNAME_F9:string = \"F9\";\n\n\t/**\n\t * The Find key\n\t */\n\tpublic static KEYNAME_FIND:string = \"Find\";\n\n\t/**\n\t * The Help key\n\t */\n\tpublic static KEYNAME_HELP:string = \"Help\";\n\n\t/**\n\t * The Home key\n\t */\n\tpublic static KEYNAME_HOME:string = \"Home\";\n\n\t/**\n\t * The Insert key\n\t */\n\tpublic static KEYNAME_INSERT:string = \"Insert\";\n\n\t/**\n\t * The Insert Character key\n\t */\n\tpublic static KEYNAME_INSERTCHAR:string = \"InsChr\";\n\n\t/**\n\t * The Insert Line key\n\t */\n\tpublic static KEYNAME_INSERTLINE:string = \"LnsLn\";\n\n\t/**\n\t * The left arrow\n\t */\n\tpublic static KEYNAME_LEFTARROW:string = \"Left\";\n\n\t/**\n\t * The Menu key\n\t */\n\tpublic static KEYNAME_MENU:string = \"Menu\";\n\n\t/**\n\t * The Mode Switch key\n\t */\n\tpublic static KEYNAME_MODESWITCH:string = \"ModeSw\";\n\n\t/**\n\t * The Next key\n\t */\n\tpublic static KEYNAME_NEXT:string = \"Next\";\n\n\t/**\n\t * The Page Down key\n\t */\n\tpublic static KEYNAME_PAGEDOWN:string = \"PgDn\";\n\n\t/**\n\t * The Page Up key\n\t */\n\tpublic static KEYNAME_PAGEUP:string = \"PgUp\";\n\n\t/**\n\t * The Pause key\n\t */\n\tpublic static KEYNAME_PAUSE:string = \"Pause\";\n\n\t/**\n\t * The Previous key\n\t */\n\tpublic static KEYNAME_PREV:string = \"Prev\";\n\n\t/**\n\t * The PRINT key\n\t */\n\tpublic static KEYNAME_PRINT:string = \"Print\";\n\n\t/**\n\t * The PRINT Screen\n\t */\n\tpublic static KEYNAME_PRINTSCREEN:string = \"PrntScrn\";\n\n\t/**\n\t * The Redo key\n\t */\n\tpublic static KEYNAME_REDO:string = \"Redo\";\n\n\t/**\n\t * The Reset key\n\t */\n\tpublic static KEYNAME_RESET:string = \"Reset\";\n\n\t/**\n\t * The right arrow\n\t */\n\tpublic static KEYNAME_RIGHTARROW:string = \"Right\";\n\n\t/**\n\t * The Scroll Lock key\n\t */\n\tpublic static KEYNAME_SCROLLLOCK:string = \"ScrlLck\";\n\n\t/**\n\t * The Select key\n\t */\n\tpublic static KEYNAME_SELECT:string = \"Select\";\n\n\t/**\n\t * The Stop key\n\t */\n\tpublic static KEYNAME_STOP:string = \"Stop\";\n\n\t/**\n\t * The System Request key\n\t */\n\tpublic static KEYNAME_SYSREQ:string = \"SysReq\";\n\n\t/**\n\t * The System key\n\t */\n\tpublic static KEYNAME_SYSTEM:string = \"Sys\";\n\n\t/**\n\t * The Undo key\n\t */\n\tpublic static KEYNAME_UNDO:string = \"Undo\";\n\n\t/**\n\t * The up arrow\n\t */\n\tpublic static KEYNAME_UPARROW:string = \"Up\";\n\n\t/**\n\t * The User key\n\t */\n\tpublic static KEYNAME_USER:string = \"User\";\n\n\t/**\n\t * Constant associated with the key code value for the L key (76).\n\t */\n\tpublic static L:number /*uint*/ = 76;\n\n\t/**\n\t * Watch last channel or show watched\n\t */\n\tpublic static LAST:number /*uint*/ = 0x01000011;\n\n\t/**\n\t * Constant associated with the key code value for the Left Arrow key (37).\n\t */\n\tpublic static LEFT:number /*uint*/ = 37;\n\n\t/**\n\t * Constant associated with the key code value for the [ key (219).\n\t */\n\tpublic static LEFTBRACKET:number /*uint*/ = 219;\n\n\t/**\n\t * Return to live [position in broadcast]\n\t */\n\tpublic static LIVE:number /*uint*/ = 0x01000010;\n\n\t/**\n\t * Constant associated with the key code value for the M key (77).\n\t */\n\tpublic static M:number /*uint*/ = 77;\n\n\t/**\n\t * Engage \"Master Shell\" e.g. TiVo or other vendor button\n\t */\n\tpublic static MASTER_SHELL:number /*uint*/ = 0x0100001E;\n\n\t/**\n\t * Engage menu\n\t */\n\tpublic static MENU:number /*uint*/ = 0x01000012;\n\n\t/**\n\t * Constant associated with the key code value for the - key (189).\n\t */\n\tpublic static MINUS:number /*uint*/ = 189;\n\n\t/**\n\t * Constant associated with the key code value for the N key (78).\n\t */\n\tpublic static N:number /*uint*/ = 78;\n\n\t/**\n\t * Skip to next track or chapter\n\t */\n\tpublic static NEXT:number /*uint*/ = 0x0100000E;\n\n\t/**\n\t * Constant associated with the key code value for the 0 key (48).\n\t */\n\tpublic static NUMBER_0:number /*uint*/ = 48;\n\n\t/**\n\t * Constant associated with the key code value for the 1 key (49).\n\t */\n\tpublic static NUMBER_1:number /*uint*/ = 49;\n\n\t/**\n\t * Constant associated with the key code value for the 2 key (50).\n\t */\n\tpublic static NUMBER_2:number /*uint*/ = 50;\n\n\t/**\n\t * Constant associated with the key code value for the 3 key (51).\n\t */\n\tpublic static NUMBER_3:number /*uint*/ = 51;\n\n\t/**\n\t * Constant associated with the key code value for the 4 key (52).\n\t */\n\tpublic static NUMBER_4:number /*uint*/ = 52;\n\n\t/**\n\t * Constant associated with the key code value for the 5 key (53).\n\t */\n\tpublic static NUMBER_5:number /*uint*/ = 53;\n\n\t/**\n\t * Constant associated with the key code value for the 6 key (54).\n\t */\n\tpublic static NUMBER_6:number /*uint*/ = 54;\n\n\t/**\n\t * Constant associated with the key code value for the 7 key (55).\n\t */\n\tpublic static NUMBER_7:number /*uint*/ = 55;\n\n\t/**\n\t * Constant associated with the key code value for the 8 key (56).\n\t */\n\tpublic static NUMBER_8:number /*uint*/ = 56;\n\n\t/**\n\t * Constant associated with the key code value for the 9 key (57).\n\t */\n\tpublic static NUMBER_9:number /*uint*/ = 57;\n\n\t/**\n\t * Constant associated with the pseudo-key code for the the number pad (21). Use to set numpad modifier on key equivalents\n\t */\n\tpublic static NUMPAD:number /*uint*/ = 21;\n\n\t/**\n\t * Constant associated with the key code value for the number 0 key on the number pad (96).\n\t */\n\tpublic static NUMPAD_0:number /*uint*/ = 96;\n\n\t/**\n\t * Constant associated with the key code value for the number 1 key on the number pad (97).\n\t */\n\tpublic static NUMPAD_1:number /*uint*/ = 97;\n\n\t/**\n\t * Constant associated with the key code value for the number 2 key on the number pad (98).\n\t */\n\tpublic static NUMPAD_2:number /*uint*/ = 98;\n\n\t/**\n\t * Constant associated with the key code value for the number 3 key on the number pad (99).\n\t */\n\tpublic static NUMPAD_3:number /*uint*/ = 99;\n\n\t/**\n\t * Constant associated with the key code value for the number 4 key on the number pad (100).\n\t */\n\tpublic static NUMPAD_4:number /*uint*/ = 100;\n\n\t/**\n\t * Constant associated with the key code value for the number 5 key on the number pad (101).\n\t */\n\tpublic static NUMPAD_5:number /*uint*/ = 101;\n\n\t/**\n\t * Constant associated with the key code value for the number 6 key on the number pad (102).\n\t */\n\tpublic static NUMPAD_6:number /*uint*/ = 102;\n\n\t/**\n\t * Constant associated with the key code value for the number 7 key on the number pad (103).\n\t */\n\tpublic static NUMPAD_7:number /*uint*/ = 103;\n\n\t/**\n\t * Constant associated with the key code value for the number 8 key on the number pad (104).\n\t */\n\tpublic static NUMPAD_8:number /*uint*/ = 104;\n\n\t/**\n\t * Constant associated with the key code value for the number 9 key on the number pad (105).\n\t */\n\tpublic static NUMPAD_9:number /*uint*/ = 105;\n\n\t/**\n\t * Constant associated with the key code value for the addition key on the number pad (107).\n\t */\n\tpublic static NUMPAD_ADD:number /*uint*/ = 107;\n\n\t/**\n\t * Constant associated with the key code value for the decimal key on the number pad (110).\n\t */\n\tpublic static NUMPAD_DECIMAL:number /*uint*/ = 110;\n\n\t/**\n\t * Constant associated with the key code value for the division key on the number pad (111).\n\t */\n\tpublic static NUMPAD_DIVIDE:number /*uint*/ = 111;\n\n\t/**\n\t * Constant associated with the key code value for the Enter key on the number pad (108).\n\t */\n\tpublic static NUMPAD_ENTER:number /*uint*/ = 108;\n\n\t/**\n\t * Constant associated with the key code value for the multiplication key on the number pad (106).\n\t */\n\tpublic static NUMPAD_MULTIPLY:number /*uint*/ = 106;\n\n\t/**\n\t * Constant associated with the key code value for the subtraction key on the number pad (109).\n\t */\n\tpublic static NUMPAD_SUBTRACT:number /*uint*/ = 109;\n\n\t/**\n\t * Constant associated with the key code value for the O key (79).\n\t */\n\tpublic static O:number /*uint*/ = 79;\n\n\t/**\n\t * Constant associated with the key code value for the P key (80).\n\t */\n\tpublic static P:number /*uint*/ = 80;\n\n\t/**\n\t * Constant associated with the key code value for the Page Down key (34).\n\t */\n\tpublic static PAGE_DOWN:number /*uint*/ = 34;\n\n\t/**\n\t * Constant associated with the key code value for the Page Up key (33).\n\t */\n\tpublic static PAGE_UP:number /*uint*/ = 33;\n\n\t/**\n\t * Engage pause transport mode\n\t */\n\tpublic static PAUSE:number /*uint*/ = 0x01000008;\n\n\t/**\n\t * Constant associated with the key code value for the . key (190).\n\t */\n\tpublic static PERIOD:number /*uint*/ = 190;\n\n\t/**\n\t * Engage play transport mode\n\t */\n\tpublic static PLAY:number /*uint*/ = 0x01000007;\n\n\t/**\n\t * Skip to previous track or chapter\n\t */\n\tpublic static PREVIOUS:number /*uint*/ = 0x0100000F;\n\n\t/**\n\t * Constant associated with the key code value for the Q key (81).\n\t */\n\tpublic static Q:number /*uint*/ = 81;\n\n\t/**\n\t * Constant associated with the key code value for the ' key (222).\n\t */\n\tpublic static QUOTE:number /*uint*/ = 222;\n\n\t/**\n\t * Constant associated with the key code value for the R key (82).\n\t */\n\tpublic static R:number /*uint*/ = 82;\n\n\t/**\n\t * Record item or engage record transport mode\n\t */\n\tpublic static RECORD:number /*uint*/ = 0x01000006;\n\n\t/**\n\t * Red function key button\n\t */\n\tpublic static RED:number /*uint*/ = 0x01000000;\n\n\t/**\n\t * Engage rewind transport mode\n\t */\n\tpublic static REWIND:number /*uint*/ = 0x0100000B;\n\n\t/**\n\t * Constant associated with the key code value for the Right Arrow key (39).\n\t */\n\tpublic static RIGHT:number /*uint*/ = 39;\n\n\t/**\n\t * Constant associated with the key code value for the ] key (221).\n\t */\n\tpublic static RIGHTBRACKET:number /*uint*/ = 221;\n\n\t/**\n\t * Constant associated with the key code value for the S key (83).\n\t */\n\tpublic static S:number /*uint*/ = 83;\n\n\t/**\n\t * Search button\n\t */\n\tpublic static SEARCH:number /*uint*/ = 0x0100001F;\n\n\t/**\n\t * Constant associated with the key code value for the ; key (186).\n\t */\n\tpublic static SEMICOLON:number /*uint*/ = 186;\n\n\t/**\n\t * Engage setup application or menu\n\t */\n\tpublic static SETUP:number /*uint*/ = 0x0100001C;\n\n\t/**\n\t * Constant associated with the key code value for the Shift key (16).\n\t */\n\tpublic static SHIFT:number /*uint*/ = 16;\n\n\t/**\n\t * Quick skip backward (usually 7-10 seconds)\n\t */\n\tpublic static SKIP_BACKWARD:number /*uint*/ = 0x0100000D;\n\n\t/**\n\t * Quick skip ahead (usually 30 seconds)\n\t */\n\tpublic static SKIP_FORWARD:number /*uint*/ = 0x0100000C;\n\n\t/**\n\t * Constant associated with the key code value for the / key (191).\n\t */\n\tpublic static SLASH:number /*uint*/ = 191;\n\n\t/**\n\t * Constant associated with the key code value for the Spacebar (32).\n\t */\n\tpublic static SPACE:number /*uint*/ = 32;\n\n\t/**\n\t * Engage stop transport mode\n\t */\n\tpublic static STOP:number /*uint*/ = 0x01000009;\n\n\t/**\n\t * Toggle subtitles\n\t */\n\tpublic static SUBTITLE:number /*uint*/ = 0x01000018;\n\n\t/**\n\t * Constant associated with the key code value for the T key (84).\n\t */\n\tpublic static T:number /*uint*/ = 84;\n\n\t/**\n\t * Constant associated with the key code value for the Tab key (9).\n\t */\n\tpublic static TAB:number /*uint*/ = 9;\n\n\t/**\n\t * Constant associated with the key code value for the U key (85).\n\t */\n\tpublic static U:number /*uint*/ = 85;\n\n\t/**\n\t * Constant associated with the key code value for the Up Arrow key (38).\n\t */\n\tpublic static UP:number /*uint*/ = 38;\n\n\t/**\n\t * Constant associated with the key code value for the V key (86).\n\t */\n\tpublic static V:number /*uint*/ = 86;\n\n\t/**\n\t * Engage video-on-demand\n\t */\n\tpublic static VOD:number /*uint*/ = 0x0100001A;\n\n\t/**\n\t * Constant associated with the key code value for the W key (87).\n\t */\n\tpublic static W:number /*uint*/ = 87;\n\n\t/**\n\t * Constant associated with the key code value for the X key (88).\n\t */\n\tpublic static X:number /*uint*/ = 88;\n\n\t/**\n\t * Constant associated with the key code value for the Y key (89).\n\t */\n\tpublic static Y:number /*uint*/ = 89;\n\n\t/**\n\t * Yellow function key button\n\t */\n\tpublic static YELLOW:number /*uint*/ = 0x01000002;\n\n\t/**\n\t * Constant associated with the key code value for the Z key (90).\n\t */\n\tpublic static Z:number /*uint*/ = 90;\n\n}\n\nexport = Keyboard;",
    "import BlendMode\t\t\t\t= require(\"awayjs-core/lib/image/BlendMode\");\nimport ColorTransform\t\t\t= require(\"awayjs-core/lib/geom/ColorTransform\");\nimport Matrix\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\nimport ColorUtils\t\t\t\t= require(\"awayjs-core/lib/utils/ColorUtils\");\n\nclass BitmapImageUtils\n{\n\tpublic static _fillRect(context:CanvasRenderingContext2D, rect:Rectangle, color:number, transparent:boolean)\n\t{\n\t\tif (color == 0x0 && transparent) {\n\t\t\tcontext.clearRect(rect.x, rect.y, rect.width, rect.height);\n\t\t} else {\n\t\t\tvar argb:number[] = ColorUtils.float32ColorToARGB(color);\n\n\t\t\tif (transparent)\n\t\t\t\tcontext.fillStyle = 'rgba(' + argb[1] + ',' + argb[2] + ',' + argb[3] + ',' + argb[0]/255 + ')';\n\t\t\telse\n\t\t\t\tcontext.fillStyle = 'rgba(' + argb[1] + ',' + argb[2] + ',' + argb[3] + ',1)';\n\n\t\t\tcontext.fillRect(rect.x, rect.y, rect.width, rect.height);\n\t\t}\n\t}\n\n\tpublic static _copyPixels(context:CanvasRenderingContext2D, bmpd:HTMLElement, sourceRect:Rectangle, destRect:Rectangle)\n\t{\n\t\tcontext.drawImage(bmpd, sourceRect.x, sourceRect.y, sourceRect.width, sourceRect.height, destRect.x, destRect.y, destRect.width, destRect.height);\n\t}\n\n\tpublic static _draw(context:CanvasRenderingContext2D, source:any, matrix:Matrix, colorTransform:ColorTransform, blendMode:BlendMode, clipRect:Rectangle, smoothing:boolean)\n\t{\n\t\tcontext.save();\n\n\t\tif (matrix != null)\n\t\t\tcontext.setTransform(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n\n\t\tif (clipRect != null)\n\t\t\tcontext.drawImage(source, clipRect.x, clipRect.y, clipRect.width, clipRect.height);\n\t\telse\n\t\t\tcontext.drawImage(source, 0, 0);\n\n\t\tcontext.restore();\n\t}\n}\n\nexport = BitmapImageUtils;",
    "import AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\n\nclass ByteArrayBase\n{\n\tpublic position:number = 0;\n\tpublic length:number = 0;\n\tpublic _mode:string = \"\";\n\n\tpublic static Base64Key = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n\tconstructor()\n\t{\n\t}\n\n\tpublic writeByte(b:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic readByte():number\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic writeUnsignedByte(b:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic readUnsignedByte():number\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic writeUnsignedShort(b:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic readUnsignedShort():number\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic writeUnsignedInt(b:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic readUnsignedInt():number\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic writeFloat(b:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic toFloatBits(x:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic readFloat(b:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic fromFloatBits(x:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic getBytesAvailable():number\n\t{\n\t\tthrow new AbstractMethodError('ByteArrayBase, getBytesAvailable() not implemented ');\n\t}\n\n\tpublic toString():string\n\t{\n\t\treturn \"[ByteArray] ( \" + this._mode + \" ) position=\" + this.position + \" length=\" + this.length;\n\t}\n\n\tpublic compareEqual(other, count)\n\t{\n\t\tif (count == undefined || count > this.length - this.position)\n\t\t\tcount = this.length - this.position;\n\t\tif (count > other.length - other.position)\n\t\t\tcount = other.length - other.position;\n\t\tvar co0 = count;\n\t\tvar r = true;\n\t\twhile (r && count >= 4) {\n\t\t\tcount -= 4;\n\t\t\tif (this.readUnsignedInt() != other.readUnsignedInt()) r = false;\n\t\t}\n\t\twhile (r && count >= 1) {\n\t\t\tcount--;\n\t\t\tif (this.readUnsignedByte() != other.readUnsignedByte()) r = false;\n\t\t}\n\t\tvar c0;\n\t\tthis.position -= (c0 - count);\n\t\tother.position -= (c0 - count);\n\t\treturn r;\n\t}\n\n\tpublic writeBase64String(s:string)\n\t{\n\t\tfor (var i:number = 0; i < s.length; i++) {\n\t\t\tvar v = s.charAt(i);\n\t\t}\n\t}\n\n\tpublic dumpToConsole()\n\t{\n\t\tvar oldpos = this.position;\n\t\tthis.position = 0;\n\t\tvar nstep:number = 8;\n\n\t\tfunction asHexString(x, digits)\n\t\t{\n\t\t\tvar lut:Array<string> = [ \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\" ];\n\t\t\tvar sh:string = \"\";\n\t\t\tfor (var d:number = 0; d < digits; d++) {\n\t\t\t\tsh = lut[(x >> (d << 2)) & 0xf] + sh;\n\t\t\t}\n\t\t\treturn sh;\n\t\t}\n\n\t\tfor (var i = 0; i < this.length; i += nstep) {\n\t\t\tvar s:string = asHexString(i, 4) + \":\";\n\t\t\tfor (var j:number = 0; j < nstep && i + j < this.length; j++) {\n\t\t\t\ts += \" \" + asHexString(this.readUnsignedByte(), 2);\n\t\t\t}\n\t\t\tconsole.log(s);\n\t\t}\n\t\tthis.position = oldpos;\n\t}\n\n\tpublic readBase64String(count:number)\n\t{\n\t\tif (count == undefined || count > this.length - this.position)\n\t\t\tcount = this.length - this.position;\n\t\tif (!(count > 0)) return \"\";\n\n\t\treturn ByteArrayBase.internalGetBase64String(count, this.readUnsignedByte, this);\n\t}\n\n\tpublic static internalGetBase64String(count, getUnsignedByteFunc, self)\n\t{ // return base64 string of the next count bytes\n\t\tvar r = \"\";\n\t\tvar b0, b1, b2, enc1, enc2, enc3, enc4;\n\t\tvar base64Key = ByteArrayBase.Base64Key;\n\t\twhile (count >= 3) {\n\t\t\tb0 = getUnsignedByteFunc.apply(self);\n\t\t\tb1 = getUnsignedByteFunc.apply(self);\n\t\t\tb2 = getUnsignedByteFunc.apply(self);\n\t\t\tenc1 = b0 >> 2;\n\t\t\tenc2 = ((b0 & 3) << 4) | (b1 >> 4);\n\t\t\tenc3 = ((b1 & 15) << 2) | (b2 >> 6);\n\t\t\tenc4 = b2 & 63;\n\t\t\tr += base64Key.charAt(enc1) + base64Key.charAt(enc2) + base64Key.charAt(enc3) + base64Key.charAt(enc4);\n\t\t\tcount -= 3;\n\t\t}\n\t\t// pad\n\t\tif (count == 2) {\n\t\t\tb0 = getUnsignedByteFunc.apply(self);\n\t\t\tb1 = getUnsignedByteFunc.apply(self);\n\t\t\tenc1 = b0 >> 2;\n\t\t\tenc2 = ((b0 & 3) << 4) | (b1 >> 4);\n\t\t\tenc3 = ((b1 & 15) << 2);\n\t\t\tr += base64Key.charAt(enc1) + base64Key.charAt(enc2) + base64Key.charAt(enc3) + \"=\";\n\t\t} else if (count == 1) {\n\t\t\tb0 = getUnsignedByteFunc.apply(self);\n\t\t\tenc1 = b0 >> 2;\n\t\t\tenc2 = ((b0 & 3) << 4);\n\t\t\tr += base64Key.charAt(enc1) + base64Key.charAt(enc2) + \"==\";\n\t\t}\n\t\treturn r;\n\t}\n}\n\nexport = ByteArrayBase;",
    "import ByteArrayBase\t\t\t= require(\"awayjs-core/lib/utils/ByteArrayBase\");\n\nclass ByteArrayBuffer extends ByteArrayBase\n{\n\n\t/*\n\t public maxlength:number = 0;\n\t public arraybytes; //ArrayBuffer\n\t public unalignedarraybytestemp; //ArrayBuffer\n\t */\n\n\tpublic _bytes:number[];\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis._bytes = [];\n\t\tthis._mode = \"Array\";\n\t}\n\n\tpublic writeByte(b:number)\n\t{\n\t\tvar bi:number = ~~b;\n\t\tthis._bytes[ this.position++ ] = bi;\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readByte():number\n\t{\n\t\tif (this.position >= this.length) {\n\t\t\tthrow \"ByteArray out of bounds read. Position=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\treturn this._bytes[ this.position++ ];\n\t}\n\n\tpublic writeUnsignedByte(b:number)\n\t{\n\t\tvar bi:number = ~~b;\n\t\tthis._bytes[this.position++] = bi & 0xff;\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readUnsignedByte():number\n\t{\n\t\tif (this.position >= this.length) {\n\t\t\tthrow \"ByteArray out of bounds read. Position=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\treturn this._bytes[ this.position++ ];\n\t}\n\n\tpublic writeUnsignedShort(b:number)\n\t{\n\t\tvar bi:number = ~~b;\n\t\tthis._bytes[ this.position++ ] = bi & 0xff;\n\t\tthis._bytes[ this.position++ ] = (bi >> 8) & 0xff;\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readUnsignedShort():number\n\t{\n\t\tif (this.position + 2 > this.length) {\n\t\t\tthrow \"ByteArray out of bounds read. Position=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\tvar r:number = this._bytes[ this.position ] | ( this._bytes[ this.position + 1 ] << 8 );\n\t\tthis.position += 2;\n\t\treturn r;\n\t}\n\n\tpublic writeUnsignedInt(b:number)\n\t{\n\t\tvar bi:number = ~~b;\n\t\tthis._bytes[ this.position++ ] = bi & 0xff;\n\t\tthis._bytes[ this.position++ ] = (bi >>> 8) & 0xff;\n\t\tthis._bytes[ this.position++ ] = (bi >>> 16) & 0xff;\n\t\tthis._bytes[ this.position++ ] = (bi >>> 24) & 0xff;\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readUnsignedInt():number\n\t{\n\t\tif (this.position + 4 > this.length) {\n\t\t\tthrow \"ByteArray out of bounds read. Position=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\tvar r:number = this._bytes[ this.position ] | ( this._bytes[this.position + 1] << 8 ) | ( this._bytes[this.position + 2] << 16 ) | ( this._bytes[this.position + 3] << 24 );\n\t\tthis.position += 4;\n\t\treturn r >>> 0;\n\t}\n\n\tpublic writeFloat(b:number)\n\t{\n\t\t// this is crazy slow and silly, but as a fallback...\n\n\t\tthis.writeUnsignedInt(this.toFloatBits(Number(b)));\n\t}\n\n\tpublic toFloatBits(x:number)\n\t{\n\t\t// don't handle inf/nan yet\n\t\t// special case zero\n\t\tif (x == 0) {\n\t\t\treturn 0;\n\t\t}\n\t\t// remove the sign, after this we only deal with positive numbers\n\t\tvar sign:number = 0;\n\t\tif (x < 0) {\n\t\t\tx = -x;\n\t\t\tsign = 1;\n\t\t} else {\n\t\t\tsign = 0;\n\t\t}\n\t\t// a float value is now defined as: x = (1+(mantissa*2^-23))*(2^(exponent-127))\n\t\tvar exponent:number = Math.log(x)/Math.log(2);  // rough exponent\n\t\texponent = Math.floor(exponent);\n\t\tx = x*Math.pow(2, 23 - exponent);             // normalize to 24 bits\n\t\tvar mantissa = Math.floor(x) - 0x800000;\n\t\texponent = exponent + 127;\n\t\treturn( ( sign << 31 ) >>> 0) | ( exponent << 23 ) | mantissa;\n\t}\n\n\tpublic readFloat(b:number)\n\t{\n\t\treturn this.fromFloatBits(this.readUnsignedInt());\n\t}\n\n\tpublic fromFloatBits(x:number)\n\t{\n\t\tif (x == 0) {\n\t\t\treturn 0;\n\t\t}\n\t\tvar exponent:number = ( x >>> 23 ) & 0xff;\n\t\tvar mantissa:number = ( x & 0x7fffff ) | 0x800000;\n\t\tvar y = Math.pow(2, ( exponent - 127 ) - 23)*mantissa;\n\t\tif (x >>> 31 != 0) {\n\t\t\ty = -y;\n\t\t}\n\t\treturn y;\n\t}\n\n\t/*\n\t public ensureWriteableSpace( n:number )\n\t {\n\t this.ensureSpace( n + this.position );\n\t }\n\n\t private ensureSpace( n:number )\n\t {\n\t if ( n > this.maxlength ) {\n\t var newmaxlength:number = (n+255)&(~255);\n\t var newarraybuffer = new ArrayBuffer(newmaxlength);\n\t var view = new Uint8Array(this.arraybytes, 0, this.length);\n\t var newview = new Uint8Array(newarraybuffer, 0, this.length);\n\t newview.set(view);      // memcpy\n\t this.arraybytes = newarraybuffer;\n\t this.maxlength = newmaxlength;\n\t }\n\t }\n\t */\n}\n\nexport = ByteArrayBuffer;",
    "import ByteArrayBase\t\t\t= require(\"awayjs-core/lib/utils/ByteArrayBase\");\n\nclass ByteArray extends ByteArrayBase\n{\n\tpublic maxlength:number;\n\tpublic arraybytes; //ArrayBuffer\n\tpublic unalignedarraybytestemp; //ArrayBuffer\n\n\tconstructor(maxlength:number = 4)\n\t{\n\t\tsuper();\n\t\tthis._mode = \"Typed array\";\n\t\tthis.maxlength = Math.max((maxlength + 255) & (~255), 4);\n\t\tthis.arraybytes = new ArrayBuffer(this.maxlength);\n\t\tthis.unalignedarraybytestemp = new ArrayBuffer(16);\n\t}\n\n\tpublic ensureWriteableSpace(n:number)\n\t{\n\t\tthis.ensureSpace(n + this.position);\n\t}\n\n\tpublic setArrayBuffer(aBuffer:ArrayBuffer):void\n\t{\n\t\tthis.ensureSpace(aBuffer.byteLength);\n\n\t\tthis.length = aBuffer.byteLength;\n\n\t\tvar inInt8AView:Int8Array = new Int8Array(aBuffer);\n\t\tvar localInt8View:Int8Array = new Int8Array(this.arraybytes, 0, this.length);\n\n\t\tlocalInt8View.set(inInt8AView);\n\n\t\tthis.position = 0;\n\n\t}\n\n\tpublic getBytesAvailable():number\n\t{\n\t\treturn ( this.length ) - ( this.position );\n\t}\n\n\tpublic ensureSpace(n:number)\n\t{\n\t\tif (n > this.maxlength) {\n\t\t\tvar newmaxlength:number = (n + 255) & (~255);\n\t\t\tvar newarraybuffer = new ArrayBuffer(newmaxlength);\n\t\t\tvar view = new Uint8Array(this.arraybytes, 0, this.length);\n\t\t\tvar newview = new Uint8Array(newarraybuffer, 0, this.length);\n\t\t\tnewview.set(view);      // memcpy\n\t\t\tthis.arraybytes = newarraybuffer;\n\t\t\tthis.maxlength = newmaxlength;\n\t\t}\n\t}\n\n\tpublic writeByte(b:number)\n\t{\n\t\tthis.ensureWriteableSpace(1);\n\n\t\tvar view = new Int8Array(this.arraybytes);\n\t\tview[ this.position++ ] = (~~b); // ~~ is cast to int in js...\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readByte()\n\t{\n\t\tif (this.position >= this.length)\n\t\t\tthrow \"ByteArray out of bounds read. Positon=\" + this.position + \", Length=\" + this.length;\n\n\t\tvar view = new Int8Array(this.arraybytes);\n\n\t\treturn view[ this.position++ ];\n\t}\n\n\tpublic readBytes(bytes:ByteArray, offset:number = 0, length:number = 0)\n\t{\n\t\tif (length == null)\n\t\t\tlength = bytes.length;\n\n\t\tbytes.ensureWriteableSpace(offset + length);\n\n\t\tvar byteView:Int8Array = new Int8Array(bytes.arraybytes);\n\t\tvar localByteView:Int8Array = new Int8Array(this.arraybytes);\n\n\t\tbyteView.set(localByteView.subarray(this.position, this.position + length), offset);\n\n\t\tthis.position += length;\n\n\t\tif (length + offset > bytes.length)\n\t\t\tbytes.length += ( length + offset ) - bytes.length;\n\t}\n\n\tpublic writeUnsignedByte(b:number)\n\t{\n\t\tthis.ensureWriteableSpace(1);\n\n\t\tvar view = new Uint8Array(this.arraybytes);\n\t\tview[this.position++] = (~~b) & 0xff; // ~~ is cast to int in js...\n\n\t\tif (this.position > this.length)\n\t\t\tthis.length = this.position;\n\t}\n\n\tpublic readUnsignedByte()\n\t{\n\t\tif (this.position >= this.length)\n\t\t\tthrow \"ByteArray out of bounds read. Positon=\" + this.position + \", Length=\" + this.length;\n\n\t\tvar view = new Uint8Array(this.arraybytes);\n\t\treturn view[this.position++];\n\t}\n\n\tpublic writeUnsignedShort(b:number)\n\t{\n\t\tthis.ensureWriteableSpace(2);\n\n\t\tif (( this.position & 1 ) == 0) {\n\t\t\tvar view = new Uint16Array(this.arraybytes);\n\t\t\tview[ this.position >> 1 ] = (~~b) & 0xffff; // ~~ is cast to int in js...\n\t\t} else {\n\t\t\tvar view = new Uint16Array(this.unalignedarraybytestemp, 0, 1);\n\t\t\tview[0] = (~~b) & 0xffff;\n\t\t\tvar view2 = new Uint8Array(this.arraybytes, this.position, 2);\n\t\t\tvar view3 = new Uint8Array(this.unalignedarraybytestemp, 0, 2);\n\t\t\tview2.set(view3);\n\t\t}\n\n\t\tthis.position += 2;\n\n\t\tif (this.position > this.length)\n\t\t\tthis.length = this.position;\n\t}\n\n\tpublic readUTFBytes(len:number):string\n\t{\n\t\tvar value:string = \"\";\n\t\tvar max:number = this.position + len;\n\t\tvar data:DataView = new DataView(this.arraybytes);\n\n\t\t// utf8-encode\n\t\twhile (this.position < max) {\n\n\t\t\tvar c:number = data.getUint8(this.position++);\n\n\t\t\tif (c < 0x80) {\n\n\t\t\t\tif (c == 0) break;\n\t\t\t\tvalue += String.fromCharCode(c);\n\n\t\t\t} else if (c < 0xE0) {\n\n\t\t\t\tvalue += String.fromCharCode(((c & 0x3F) << 6) | (data.getUint8(this.position++) & 0x7F));\n\n\t\t\t} else if (c < 0xF0) {\n\n\t\t\t\tvar c2 = data.getUint8(this.position++);\n\t\t\t\tvalue += String.fromCharCode(((c & 0x1F) << 12) | ((c2 & 0x7F) << 6) | (data.getUint8(this.position++) & 0x7F));\n\n\t\t\t} else {\n\n\t\t\t\tvar c2 = data.getUint8(this.position++);\n\t\t\t\tvar c3 = data.getUint8(this.position++);\n\n\t\t\t\tvalue += String.fromCharCode(((c & 0x0F) << 18) | ((c2 & 0x7F) << 12) | ((c3 << 6) & 0x7F) | (data.getUint8(this.position++) & 0x7F));\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tpublic readInt():number\n\t{\n\t\tvar data:DataView = new DataView(this.arraybytes);\n\t\tvar int:number = data.getInt32(this.position, true);\n\n\t\tthis.position += 4;\n\n\t\treturn int;\n\t}\n\n\tpublic readShort():number\n\t{\n\t\tvar data:DataView = new DataView(this.arraybytes);\n\t\tvar short:number = data.getInt16(this.position, true);\n\n\t\tthis.position += 2;\n\n\t\treturn short;\n\t}\n\n\tpublic readDouble():number\n\t{\n\t\tvar data:DataView = new DataView(this.arraybytes);\n\t\tvar double:number = data.getFloat64(this.position, true);\n\n\t\tthis.position += 8;\n\n\t\treturn double;\n\t}\n\n\tpublic readUnsignedShort()\n\t{\n\t\tif (this.position > this.length + 2)\n\t\t\tthrow \"ByteArray out of bounds read. Position=\" + this.position + \", Length=\" + this.length;\n\n\t\tif (( this.position & 1 ) == 0) {\n\t\t\tvar view = new Uint16Array(this.arraybytes);\n\t\t\tvar pa:number = this.position >> 1;\n\t\t\tthis.position += 2;\n\t\t\treturn view[ pa ];\n\t\t} else {\n\t\t\tvar view = new Uint16Array(this.unalignedarraybytestemp, 0, 1);\n\t\t\tvar view2 = new Uint8Array(this.arraybytes, this.position, 2);\n\t\t\tvar view3 = new Uint8Array(this.unalignedarraybytestemp, 0, 2);\n\t\t\tview3.set(view2);\n\t\t\tthis.position += 2;\n\t\t\treturn view[0];\n\t\t}\n\t}\n\n\tpublic writeUnsignedInt(b:number)\n\t{\n\t\tthis.ensureWriteableSpace(4);\n\n\t\tif (( this.position & 3 ) == 0) {\n\t\t\tvar view = new Uint32Array(this.arraybytes);\n\t\t\tview[ this.position >> 2 ] = (~~b) & 0xffffffff; // ~~ is cast to int in js...\n\t\t} else {\n\t\t\tvar view = new Uint32Array(this.unalignedarraybytestemp, 0, 1);\n\t\t\tview[0] = (~~b) & 0xffffffff;\n\t\t\tvar view2 = new Uint8Array(this.arraybytes, this.position, 4);\n\t\t\tvar view3 = new Uint8Array(this.unalignedarraybytestemp, 0, 4);\n\t\t\tview2.set(view3);\n\t\t}\n\t\tthis.position += 4;\n\n\t\tif (this.position > this.length)\n\t\t\tthis.length = this.position;\n\t}\n\n\tpublic readUnsignedInt()\n\t{\n\t\tif (this.position > this.length + 4)\n\t\t\tthrow \"ByteArray out of bounds read. Position=\" + this.position + \", Length=\" + this.length;\n\n\t\tif (( this.position & 3 ) == 0) {\n\t\t\tvar view = new Uint32Array(this.arraybytes);\n\t\t\tvar pa:number = this.position >> 2;\n\t\t\tthis.position += 4;\n\t\t\treturn view[ pa ];\n\t\t} else {\n\t\t\tvar view = new Uint32Array(this.unalignedarraybytestemp, 0, 1);\n\t\t\tvar view2 = new Uint8Array(this.arraybytes, this.position, 4);\n\t\t\tvar view3 = new Uint8Array(this.unalignedarraybytestemp, 0, 4);\n\t\t\tview3.set(view2);\n\t\t\tthis.position += 4;\n\t\t\treturn view[0];\n\t\t}\n\t}\n\n\tpublic writeFloat(b:number)\n\t{\n\t\tthis.ensureWriteableSpace(4);\n\n\t\tif (( this.position & 3 ) == 0) {\n\t\t\tvar view = new Float32Array(this.arraybytes);\n\t\t\tview[ this.position >> 2 ] = b;\n\t\t} else {\n\t\t\tvar view = new Float32Array(this.unalignedarraybytestemp, 0, 1);\n\t\t\tview[0] = b;\n\t\t\tvar view2 = new Uint8Array(this.arraybytes, this.position, 4);\n\t\t\tvar view3 = new Uint8Array(this.unalignedarraybytestemp, 0, 4);\n\t\t\tview2.set(view3);\n\t\t}\n\t\tthis.position += 4;\n\n\t\tif (this.position > this.length)\n\t\t\tthis.length = this.position;\n\t}\n\n\tpublic readFloat()\n\t{\n\t\tif (this.position > this.length + 4)\n\t\t\tthrow \"ByteArray out of bounds read. Positon=\" + this.position + \", Length=\" + this.length;\n\n\t\tif ((this.position & 3) == 0) {\n\t\t\tvar view = new Float32Array(this.arraybytes);\n\t\t\tvar pa = this.position >> 2;\n\t\t\tthis.position += 4;\n\t\t\treturn view[pa];\n\t\t} else {\n\t\t\tvar view = new Float32Array(this.unalignedarraybytestemp, 0, 1);\n\t\t\tvar view2 = new Uint8Array(this.arraybytes, this.position, 4);\n\t\t\tvar view3 = new Uint8Array(this.unalignedarraybytestemp, 0, 4);\n\t\t\tview3.set(view2);\n\t\t\tthis.position += 4;\n\t\t\treturn view[ 0 ];\n\t\t}\n\t}\n}\n\nexport = ByteArray;",
    "class CSS\n{\n\tpublic static setElementSize(element:HTMLElement, width:number, height:number)\n\t{\n\t\tif(!element) return;\n\t\telement.style.width = width + \"px\";\n\t\telement.style.height = height + \"px\";\n\t\telement[\"width\"] = width;\n\t\telement[\"height\"] = height;\n\t}\n\n\tpublic static setElementWidth(element:HTMLElement, width:number)\n\t{\n\t\tif(!element) return;\n\t\telement.style.width = width + \"px\";\n\t\telement[\"width\"] = width;\n\t}\n\n\tpublic static setElementHeight(element:HTMLElement, height:number)\n\t{\n\t\tif(!element) return;\n\t\telement.style.height = height + \"px\";\n\t\telement[\"height\"] = height;\n\t}\n\n\tpublic static setElementX(element:HTMLElement, x:number)\n\t{\n\t\tif(!element) return;\n\t\telement.style.position = 'absolute';\n\t\telement.style.left = x + \"px\";\n\t}\n\n\tpublic static setElementY(element:HTMLElement, y:number)\n\t{\n\t\tif(!element) return;\n\t\telement.style.position = 'absolute';\n\t\telement.style.top = y + \"px\";\n\t}\n\n\tpublic static getElementVisibility(element:HTMLElement):boolean\n\t{\n\t\tif(!element) return false;\n\t\treturn element.style.visibility == 'visible';\n\t}\n\n\tpublic static setElementVisibility(element:HTMLElement, visible:boolean)\n\t{\n\t\tif(!element) return;\n\t\tif (visible) {\n\t\t\telement.style.visibility = 'visible';\n\t\t} else {\n\t\t\telement.style.visibility = 'hidden';\n\t\t}\n\t}\n\n\tpublic static setElementAlpha(element:HTMLElement, alpha:number)\n\t{\n\t\tif (element instanceof HTMLCanvasElement) {\n\t\t\tvar context = (<HTMLCanvasElement> element).getContext(\"2d\");\n\t\t\tcontext.globalAlpha = alpha;\n\t\t}\n\t}\n\n\tpublic static setElementPosition(element:HTMLElement, x:number, y:number, absolute:boolean = false)\n\t{\n\t\tif(!element) return;\n\t\tif (absolute) {\n\t\t\telement.style.position = \"absolute\";\n\t\t} else {\n\t\t\telement.style.position = \"relative\";\n\t\t}\n\n\t\telement.style.left = x + \"px\";\n\t\telement.style.top = y + \"px\";\n\t}\n}\n\nexport = CSS;",
    "/**\n *\n */\nclass ColorUtils\n{\n\tpublic static float32ColorToARGB(float32Color:number):number[]\n\t{\n\t\tvar a:number = ( float32Color & 0xff000000 ) >>> 24;\n\t\tvar r:number = ( float32Color & 0xff0000 ) >>> 16;\n\t\tvar g:number = ( float32Color & 0xff00 ) >>> 8;\n\t\tvar b:number = float32Color & 0xff;\n\t\tvar result:number[] = [ a, r , g , b ];\n\n\t\treturn result;\n\t}\n\n\tpublic static ARGBtoFloat32(a:number, r:number, g:number, b:number):number\n\t{\n\t\treturn ((a << 24) | (r << 16) | (g << 8) | b);\n\t}\n\n\tprivate static componentToHex(c:number):string\n\t{\n\t\tvar hex = c.toString(16);\n\t\treturn hex.length == 1? \"0\" + hex : hex;\n\t}\n\n\tpublic static RGBToHexString(argb:number[]):string\n\t{\n\t\treturn \"#\" + ColorUtils.componentToHex(argb[1]) + ColorUtils.componentToHex(argb[2]) + ColorUtils.componentToHex(argb[3]);\n\t}\n\n\tpublic static ARGBToHexString(argb:number[]):string\n\t{\n\t\treturn \"#\" + ColorUtils.componentToHex(argb[0]) + ColorUtils.componentToHex(argb[1]) + ColorUtils.componentToHex(argb[2]) + ColorUtils.componentToHex(argb[3]);\n\t}\n}\n\nexport = ColorUtils;",
    "import PartialImplementationError\t= require(\"awayjs-core/lib/errors/PartialImplementationError\");\n\n/**\n *\n */\nclass Debug\n{\n\tpublic static THROW_ERRORS:boolean = true;\n\tpublic static ENABLE_LOG:boolean = true;\n\tpublic static LOG_PI_ERRORS:boolean = true;\n\n\tprivate static keyword:string = null;\n\n\tpublic static breakpoint():void\n\t{\n\t\tDebug['break']();\n\t}\n\n\tpublic static throwPIROnKeyWordOnly(str:string, enable:boolean = true)\n\t{\n\t\tif (!enable)\n\t\t\tDebug.keyword = null;\n\t\telse\n\t\t\tDebug.keyword = str;\n\t}\n\n\tpublic static throwPIR(clss:string, fnc:string, msg:string)\n\t{\n\t\tDebug.logPIR('PartialImplementationError ' + clss, fnc, msg);\n\n\t\tif (Debug.THROW_ERRORS) {\n\t\t\tif (Debug.keyword) {\n\t\t\t\tvar e:string = clss + fnc + msg;\n\n\t\t\t\tif (e.indexOf(Debug.keyword) == -1)\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthrow new PartialImplementationError(clss + '.' + fnc + ': ' + msg);\n\t\t}\n\t}\n\n\tprivate static logPIR(clss:string, fnc:string, msg:string = '')\n\t{\n\t\tif (Debug.LOG_PI_ERRORS)\n\t\t\tconsole.log(clss + '.' + fnc + ': ' + msg);\n\t}\n\n\tpublic static log(...args:any[])\n\t{\n\t\tif (Debug.ENABLE_LOG)\n\t\t\tconsole.log(args);\n\t}\n}\n\nexport = Debug;",
    "declare var SIMD:any;\n\n/**\n *\n */\nclass Extensions\n{\n\tpublic static SIMD:boolean = Boolean(typeof(SIMD) !== \"undefined\");\n}\n\nexport = Extensions;",
    "import Image2D\t\t\t\t\t\t= require(\"awayjs-core/lib/image/Image2D\");\n\nclass ImageUtils\n{\n\tprivate static MAX_SIZE:number = 2048;\n\n\tpublic static isImage2DValid(image2D:Image2D):boolean\n\t{\n\t\tif (image2D == null)\n\t\t\treturn true;\n\n\t\treturn ImageUtils.isDimensionValid(image2D.width, image2D.powerOfTwo) && ImageUtils.isDimensionValid(image2D.height, image2D.powerOfTwo);\n\t}\n\n\tpublic static isHTMLImageElementValid(image:HTMLImageElement):boolean\n\t{\n\t\tif (image == null)\n\t\t\treturn true;\n\n\t\treturn ImageUtils.isDimensionValid(image.width) && ImageUtils.isDimensionValid(image.height);\n\t}\n\n\tpublic static isDimensionValid(d:number, powerOfTwo:boolean = true):boolean\n\t{\n\t\treturn d >= 1 && d <= ImageUtils.MAX_SIZE && (!powerOfTwo || ImageUtils.isPowerOfTwo(d));\n\t}\n\n\tpublic static isPowerOfTwo(value:number):boolean\n\t{\n\t\treturn value? ((value & -value) == value) : false;\n\t}\n\n\tpublic static getBestPowerOf2(value:number):number\n\t{\n\t\tvar p:number = 1;\n\n\t\twhile (p < value)\n\t\t\tp <<= 1;\n\n\t\tif (p > ImageUtils.MAX_SIZE)\n\t\t\tp = ImageUtils.MAX_SIZE;\n\n\t\treturn p;\n\t}\n}\n\nexport = ImageUtils",
    "import BitmapImage2D            = require(\"awayjs-core/lib/image/BitmapImage2D\");\nimport CPUCanvas            = require(\"awayjs-core/lib/image/CPUCanvas\");\nimport Matrix                    = require(\"awayjs-core/lib/geom/Matrix\");\nimport Rectangle                = require(\"awayjs-core/lib/geom/Rectangle\");\n\nclass MipmapGenerator {\n    private static _mipMaps = [];\n    private static _mipMapUses = [];\n\n    private static _matrix:Matrix = new Matrix();\n    private static _rect:Rectangle = new Rectangle();\n    private static _source:BitmapImage2D;\n\n    /**\n     * Uploads a BitmapImage2D with mip maps to a target Texture object.\n     * @param source The source to upload.\n     * @param target The target Texture to upload to.\n     * @param mipmap An optional mip map holder to avoids creating new instances for fe animated materials.\n     * @param alpha Indicate whether or not the uploaded bitmapData is transparent.\n     */\n    public static _generateMipMaps(source:HTMLElement, output?:Array<BitmapImage2D>, alpha?:boolean);\n    public static _generateMipMaps(source:BitmapImage2D, output?:Array<BitmapImage2D>, alpha?:boolean);\n    public static _generateMipMaps(source:any, output?:Array<BitmapImage2D>, alpha:boolean = false) {\n        var w:number = source.width;\n        var h:number = source.height;\n        var i:number = 0;\n\n        var mipmap:BitmapImage2D;\n\n        MipmapGenerator._rect.width = w;\n        MipmapGenerator._rect.height = h;\n\n        //use (OR) to create non-square texture mipmaps\n        while (w >= 1 || h >= 1) {\n\n            mipmap = output[i] = MipmapGenerator._getMipmapHolder(output[i], MipmapGenerator._rect.width, MipmapGenerator._rect.height);\n\n            if (alpha)\n                mipmap.fillRect(MipmapGenerator._rect, 0);\n\n\n            MipmapGenerator._matrix.a = MipmapGenerator._rect.width / source.width;\n            MipmapGenerator._matrix.d = MipmapGenerator._rect.height / source.height;\n            //todo: add support for NPOT textures\n            if (document) {\n                mipmap.draw(source, MipmapGenerator._matrix); //TODO: smoothing?\n            } else {\n                if (source.constructor.toString().indexOf(\"BitmapImage2D\") > -1) {\n                    //for BitmapImage2D\n                    var bitmapImage:BitmapImage2D = <BitmapImage2D> source;\n                    bitmapImage.lock();\n                    mipmap.lock();\n                    this.downsampleImage(bitmapImage.getImageData(), mipmap.getImageData());\n                    mipmap.unlock();\n                    bitmapImage.unlock();\n                }else if(source.constructor.toString().indexOf(\"CPUCanvas\") > -1){\n                    this.downsampleImage(source.getImageData(), mipmap.getImageData());\n                } else {\n                    //for imageData\n                    this.downsampleImage(source, mipmap.getImageData());\n                }\n            }\n\n            w >>= 1;\n            h >>= 1;\n\n            MipmapGenerator._rect.width = w > 1 ? w : 1;\n            MipmapGenerator._rect.height = h > 1 ? h : 1;\n\n            i++;\n        }\n    }\n\n    private static _getMipmapHolder(mipMapHolder:BitmapImage2D, newW:number, newH:number):BitmapImage2D {\n        if (mipMapHolder) {\n            if (mipMapHolder.width == newW && mipMapHolder.height == newH)\n                return mipMapHolder;\n\n            MipmapGenerator._freeMipMapHolder(mipMapHolder);\n        }\n\n        if (!MipmapGenerator._mipMaps[newW]) {\n            MipmapGenerator._mipMaps[newW] = [];\n            MipmapGenerator._mipMapUses[newW] = [];\n        }\n\n        if (!MipmapGenerator._mipMaps[newW][newH]) {\n            mipMapHolder = MipmapGenerator._mipMaps[newW][newH] = new BitmapImage2D(newW, newH, true);\n            MipmapGenerator._mipMapUses[newW][newH] = 1;\n        } else {\n            MipmapGenerator._mipMapUses[newW][newH] = MipmapGenerator._mipMapUses[newW][newH] + 1;\n            mipMapHolder = MipmapGenerator._mipMaps[newW][newH];\n        }\n\n        return mipMapHolder;\n    }\n\n    public static _freeMipMapHolder(mipMapHolder:BitmapImage2D) {\n        var holderWidth:number = mipMapHolder.width;\n        var holderHeight:number = mipMapHolder.height;\n\n        if (--MipmapGenerator._mipMapUses[holderWidth][holderHeight] == 0) {\n            MipmapGenerator._mipMaps[holderWidth][holderHeight].dispose();\n            MipmapGenerator._mipMaps[holderWidth][holderHeight] = null;\n        }\n    }\n\n    public static downsampleImage(bitmap:ImageData, destBitmap:ImageData):ImageData {\n        var box:BoxFilter = new BoxFilter();\n        var xkernel:PolyphaseKernel = new PolyphaseKernel(box, bitmap.width, destBitmap.width, 4);\n        var ykernel:PolyphaseKernel = new PolyphaseKernel(box, bitmap.height, destBitmap.height, 4);\n\n        var tempBitmap:number[] = [];//destBitmap.width, bitmap.height\n\n        var scale:number = 0;\n        var iscale:number = 0;\n        var kernelLength:number = 0;\n        var kernelWidth:number = 0;\n        var kernelWindowSize:number = 0;\n        var sumR:number = 0;\n        var sumG:number = 0;\n        var sumB:number = 0;\n        var sumA:number = 0;\n        var center:number;\n        var left:number;\n        var i:number = 0;\n        var j:number = 0;\n        var index:number = 0;\n\n        for (var y:number = 0; y < bitmap.height; y++) {\n            kernelLength = xkernel.len;\n            scale = kernelLength / bitmap.width;\n            iscale = 1.0 / scale;\n            kernelWidth = xkernel.width;\n            kernelWindowSize = xkernel.windowSize;\n\n            for (i = 0; i < kernelLength; i++) {\n                center = (0.5 + i) * iscale;\n                left = Math.floor(center - kernelWidth);\n                sumR = 0;\n                sumG = 0;\n                sumB = 0;\n                sumA = 0;\n                for (var j:number = 0; j < kernelWindowSize; ++j) {\n                    index = (y * bitmap.width + (left + j) ) * 4;\n                    var colorR:number = bitmap.data[index];\n                    var colorG:number = bitmap.data[index + 1];\n                    var colorB:number = bitmap.data[index + 2];\n                    var colorA:number = bitmap.data[index + 3];\n\n                    var value:number = xkernel.valueAt(i, j);\n                    sumR += value * colorR;\n                    sumG += value * colorG;\n                    sumB += value * colorB;\n                    sumA += value * colorA;\n                }\n\n                index = (y * destBitmap.width + i) * 4;\n                tempBitmap[index] = sumR;\n                tempBitmap[index + 1] = sumG;\n                tempBitmap[index + 2] = sumB;\n                tempBitmap[index + 3] = sumA;\n            }\n        }\n\n        for (var x:number = 0; x < destBitmap.width; x++) {\n            kernelLength = ykernel.len;\n            scale = kernelLength / bitmap.height;\n            iscale = 1.0 / scale;\n            kernelWidth = ykernel.width;\n            kernelWindowSize = ykernel.windowSize;\n\n            for (i = 0; i < kernelLength; i++) {\n                center = (0.5 + i) * iscale;\n\n                left = Math.floor(center - kernelWidth);\n\n                sumR = 0;\n                sumG = 0;\n                sumB = 0;\n                sumA = 0;\n                for (j = 0; j < kernelWindowSize; ++j) {\n                    index = ((j + left) * destBitmap.width + x) * 4;\n                    var colorR:number = tempBitmap[index];\n                    var colorG:number = tempBitmap[index + 1];\n                    var colorB:number = tempBitmap[index + 2];\n                    var colorA:number = tempBitmap[index + 3];\n\n                    var value:number = ykernel.valueAt(i, j);\n                    sumR += value * colorR;\n                    sumG += value * colorG;\n                    sumB += value * colorB;\n                    sumA += value * colorA;\n                }\n\n                index = (i * destBitmap.width + x) * 4;\n                destBitmap.data[index] = sumR;\n                destBitmap.data[index + 1] = sumG;\n                destBitmap.data[index + 2] = sumB;\n                destBitmap.data[index + 3] = sumA;\n            }\n        }\n\n        return destBitmap;\n    }\n}\nclass PolyphaseKernel {\n    public len:number;\n    public width:number;\n    public windowSize:number;\n    public data:number[];\n\n    constructor(f:BoxFilter, srcLength:number, dstLength:number, samples:number) {\n\n        var scale:number = dstLength / srcLength;\n        var iscale:number = 1.0 / scale;\n\n        if (scale > 1) {\n            // Upsampling.\n            samples = 1;\n            scale = 1;\n        }\n\n        this.len = dstLength;\n        this.width = f.width * iscale;\n        this.windowSize = Math.ceil(this.width * 2);\n\n        this.data = [];\n\n        for (var i:number = 0; i < this.len; i++) {\n            var center:number = (0.5 + i) * iscale;\n\n            var left:number = Math.floor(center - this.width);\n\n            var total:number = 0.0;\n            for (var j:number = 0; j < this.windowSize; j++) {\n                var sample:number = f.sampleBox(left + j - center, scale, samples);\n\n                //printf(\"%f %X\\n\", sample, *(uint32 *)&sample);\n\n                this.data[i * this.windowSize + j] = sample;\n                total += sample;\n            }\n\n            // normalize weights.\n            for (var j:number = 0; j < this.windowSize; j++) {\n                this.data[i * this.windowSize + j] /= total;\n            }\n        }\n    }\n\n    public valueAt(column:number, x:number):number {\n        return this.data[column * this.windowSize + x];\n    }\n}\n\nclass BoxFilter {\n    public get width():number {\n        return 0.5;\n    }\n\n    public sampleBox(x:number, scale:number, samples:number):number {\n        var sum:number = 0;\n        var isamples:number = 1.0 / samples;\n\n        for (var s:number = 0; s < samples; s++) {\n            var p:number = (x + (s + 0.5) * isamples) * scale;\n            var value:number = this.evaluate(p);\n            sum += value;\n        }\n\n        return sum * isamples;\n    }\n\n    public evaluate(x:number):number {\n        if (Math.abs(x) <= this.width) return 1.0;\n        else return 0.0;\n    }\n}\nexport = MipmapGenerator;",
    "import getTimer\t\t\t\t\t= require(\"awayjs-core/lib/utils/getTimer\");\n\nclass RequestAnimationFrame\n{\n\tprivate _callback:Function;\n\tprivate _callbackContext:Object;\n\tprivate _active:boolean = false;\n\tprivate _rafUpdateFunction:any;\n\tprivate _prevTime:number;\n\tprivate _dt:number;\n\tprivate _currentTime:number;\n\tprivate _argsArray:Array<any> = new Array();\n\tprivate _getTimer:Function;\n\n\tconstructor(callback:Function, callbackContext:Object)\n\t{\n\t\tthis._getTimer = getTimer;\n\n\t\tthis.setCallback(callback, callbackContext);\n\n\t\tthis._rafUpdateFunction = () => {\n\t\t\tif (this._active)\n\t\t\t\tthis._tick();\n\t\t}\n\n\t\tthis._argsArray.push(this._dt);\n\t}\n\n\t// Public\n\n\t/**\n\t *\n\t * @param callback\n\t * @param callbackContext\n\t */\n\tpublic setCallback(callback:Function, callbackContext:Object)\n\t{\n\t\tthis._callback = callback;\n\t\tthis._callbackContext = callbackContext;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic start()\n\t{\n\t\tthis._prevTime = this._getTimer();\n\t\tthis._active = true;\n\n\t\tif(window) {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(this._rafUpdateFunction);\n\t\t\t} else {\n\t\t\t\tif (window['mozRequestAnimationFrame'])\n\t\t\t\t\twindow.requestAnimationFrame = window['mozRequestAnimationFrame'];\n\t\t\t\telse if (window['webkitRequestAnimationFrame'])\n\t\t\t\t\twindow.requestAnimationFrame = window['webkitRequestAnimationFrame'];\n\t\t\t\telse if (window['oRequestAnimationFrame'])\n\t\t\t\t\twindow.requestAnimationFrame = window['oRequestAnimationFrame'];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic stop()\n\t{\n\t\tthis._active = false;\n\t}\n\n\t// Get / Set\n\n\t/**\n\t *\n\t * @returns {boolean}\n\t */\n\tpublic get active():boolean\n\t{\n\t\treturn this._active;\n\t}\n\n\t// Private\n\n\t/**\n\t *\n\t * @private\n\t */\n\tprivate _tick():void\n\t{\n\t\tthis._currentTime = this._getTimer();\n\t\tthis._dt = this._currentTime - this._prevTime;\n\t\tthis._argsArray[0] = this._dt;\n\t\tthis._callback.apply(this._callbackContext, this._argsArray);\n\n\t\twindow.requestAnimationFrame(this._rafUpdateFunction);\n\n\t\tthis._prevTime = this._currentTime;\n\t}\n\n\n}\n\nexport = RequestAnimationFrame;",
    "import ErrorBase\t\t\t\t= require(\"awayjs-core/lib/errors/ErrorBase\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport TimerEvent\t\t\t\t= require(\"awayjs-core/lib/events/TimerEvent\");\n\nclass Timer extends EventDispatcher\n{\n\tprivate _delay:number;\n\tprivate _repeatCount:number = 0;\n\tprivate _currentCount:number = 0;\n\tprivate _iid:number;\n\tprivate _running:boolean = false;\n\n\tconstructor(delay:number, repeatCount:number = 0)\n\t{\n\t\tsuper();\n\n\t\tthis._delay = delay;\n\t\tthis._repeatCount = repeatCount;\n\n\t\tif (isNaN(delay) || delay < 0)\n\t\t\tthrow new ErrorBase(\"Delay is negative or not a number\");\n\t}\n\n\tpublic get currentCount():number\n\t{\n\t\treturn this._currentCount;\n\t}\n\n\tpublic get delay():number\n\t{\n\t\treturn this._delay;\n\t}\n\n\tpublic set delay(value:number)\n\t{\n\t\tthis._delay = value;\n\n\t\tif (this._running) {\n\t\t\tthis.stop();\n\t\t\tthis.start();\n\t\t}\n\t}\n\n\tpublic get repeatCount():number\n\t{\n\t\treturn this._repeatCount;\n\t}\n\n\tpublic set repeatCount(value:number)\n\t{\n\t\tthis._repeatCount = value;\n\t}\n\n\tpublic reset():void\n\t{\n\t\tif (this._running)\n\t\t\tthis.stop();\n\n\t\tthis._currentCount = 0;\n\t}\n\n\tpublic get running():boolean\n\t{\n\t\treturn this._running;\n\t}\n\n\tpublic start():void\n\t{\n\t\tthis._running = true;\n\t\tclearInterval(this._iid);\n\t\tthis._iid = setInterval(() => this.tick(), this._delay);\n\t}\n\n\tpublic stop():void\n\t{\n\t\tthis._running = false;\n\t\tclearInterval(this._iid);\n\t}\n\n\tprivate tick():void\n\t{\n\t\tthis._currentCount++;\n\n\t\tif (( this._repeatCount > 0 ) && this._currentCount >= this._repeatCount) {\n\n\t\t\tthis.stop();\n\t\t\tthis.dispatchEvent(new TimerEvent(TimerEvent.TIMER));\n\t\t\tthis.dispatchEvent(new TimerEvent(TimerEvent.TIMER_COMPLETE));\n\n\t\t} else {\n\t\t\tthis.dispatchEvent(new TimerEvent(TimerEvent.TIMER));\n\t\t}\n\t}\n}\n\nexport = Timer;",
    "class XmlUtils {\n\n\tpublic static getChildrenWithTag(node:Node, tag:string):NodeList {\n\n\t\tvar fragment:DocumentFragment = document.createDocumentFragment();\n\n\t\tif(node) {\n\t\t\tvar num:number = node.childNodes.length;\n\t\t\tfor(var i:number = 0; i < num; i++) {\n\t\t\t\tvar child:Node = node.childNodes[i];\n\t\t\t\tif(child != null) {\n\t\t\t\t\tif(child.nodeName == tag) {\n\t\t\t\t\t\tfragment.appendChild(child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn fragment.childNodes;\n\t}\n\n\tpublic static filterListByParam(nodes:NodeList, paramName:string, paramValue):NodeList {\n\n\t\tvar fragment:DocumentFragment = document.createDocumentFragment();\n\n\t\tif(nodes) {\n\t\t\tvar num:number = nodes.length;\n\t\t\tfor(var i:number = 0; i < num; i++) {\n\t\t\t\tvar child:Node = nodes[i];\n\t\t\t\tif(child != null) {\n\t\t\t\t\tif(child.attributes.getNamedItem(paramName).value == paramValue) {\n\t\t\t\t\t\tfragment.appendChild(child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn fragment.childNodes;\n\t}\n\n\tpublic static strToXml(str:string):Node {\n\t\tvar parser:DOMParser = new DOMParser();\n\t\tvar node:Node = parser.parseFromString(str, \"text/xml\");\n\t\treturn node;\n\t}\n\n\tpublic static nodeToString(node:Node):string {\n\t\tif(!node) return \"\";\n\t\tvar str = (new XMLSerializer()).serializeToString(node);\n\t\treturn str;\n\t}\n\n\tpublic static readAttributeValue(node:Node, attrName:string):string {\n\t\tvar attrs = node.attributes;\n\t\tif(attrs == undefined) {\n\t\t\treturn \"\";\n\t\t}\n\t\tvar attribute:Attr = attrs.getNamedItem(attrName);\n\t\tif(!attribute) {\n\t\t\t//console.log(\"XmlUltils - readAttributeValue() - name: \" + attrName + \", attribute does not exist.\");\n\t\t\treturn \"\";\n\t\t}\n\t\t//console.log(\"XmlUltils - readAttributeValue() - name: \" + attrName + \", value: \" + attribute.value);\n\t\treturn attribute.value;\n\t}\n\n\tpublic static writeAttributeValue(node:Node, attrName:string, attrValue:string) {\n\t\tvar attribute:Attr = new Attr();\n\t\tattribute.name = attrName;\n\t\tattribute.value = attrValue;\n\t\tattribute = node.attributes.setNamedItem(attribute);\n\t\tconsole.log(\"XmlUltils - writeAttributeValue() - name: \" + attribute.name + \", value: \" + attribute.value);\n\t}\n\n\tpublic static hasAttribute(node:Node, attrName:string):boolean {\n\t\tvar attrs = node.attributes;\n\t\tif(attrs == undefined) {\n\t\t\treturn false;\n\t\t}\n\t\tvar attribute:Attr = attrs.getNamedItem(attrName);\n\t\treturn attribute != null;\n\t}\n}\nexport = XmlUtils;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "/**\n *\n *\n * @returns {number}\n */\nfunction getTimer():number\n{\n\t// number milliseconds of 1970/01/01\n\t// this different to AS3 implementation which gets the number of milliseconds\n\t// since instance of Flash player was initialised\n\treturn Date.now();\n}\n\nexport = getTimer;"
  ],
  "sourceRoot": ""
}