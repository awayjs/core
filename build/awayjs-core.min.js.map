{
  "version": 3,
  "sources": [
    "node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "awayjs-core/lib/data/BitmapDataChannel.ts",
    "awayjs-core.js",
    "awayjs-core/lib/data/BitmapData.ts",
    "awayjs-core/lib/data/BlendMode.ts",
    "awayjs-core/lib/data/CurveSubGeometry.ts",
    "awayjs-core/lib/data/Geometry.ts",
    "awayjs-core/lib/data/LineSubGeometry.ts",
    "awayjs-core/lib/data/SubGeometryBase.ts",
    "awayjs-core/lib/data/TriangleSubGeometry.ts",
    "awayjs-core/lib/errors/AbstractMethodError.ts",
    "awayjs-core/lib/errors/ArgumentError.ts",
    "awayjs-core/lib/errors/DocumentError.ts",
    "awayjs-core/lib/errors/Error.ts",
    "awayjs-core/lib/errors/PartialImplementationError.ts",
    "awayjs-core/lib/errors/RangeError.ts",
    "awayjs-core/lib/events/AssetEvent.ts",
    "awayjs-core/lib/events/EventDispatcher.ts",
    "awayjs-core/lib/events/Event.ts",
    "awayjs-core/lib/events/GeometryEvent.ts",
    "awayjs-core/lib/events/HTTPStatusEvent.ts",
    "awayjs-core/lib/events/IOErrorEvent.ts",
    "awayjs-core/lib/events/LoaderEvent.ts",
    "awayjs-core/lib/events/ParserEvent.ts",
    "awayjs-core/lib/events/ProgressEvent.ts",
    "awayjs-core/lib/events/ProjectionEvent.ts",
    "awayjs-core/lib/events/SubGeometryEvent.ts",
    "awayjs-core/lib/events/TimerEvent.ts",
    "awayjs-core/lib/geom/Box.ts",
    "awayjs-core/lib/geom/ColorTransform.ts",
    "awayjs-core/lib/geom/MathConsts.ts",
    "awayjs-core/lib/geom/Matrix3DUtils.ts",
    "awayjs-core/lib/geom/Matrix3D.ts",
    "awayjs-core/lib/geom/Matrix.ts",
    "awayjs-core/lib/geom/Orientation3D.ts",
    "awayjs-core/lib/geom/PerspectiveProjection.ts",
    "awayjs-core/lib/geom/Plane3D.ts",
    "awayjs-core/lib/geom/PlaneClassification.ts",
    "awayjs-core/lib/geom/Point.ts",
    "awayjs-core/lib/geom/PoissonLookup.ts",
    "awayjs-core/lib/geom/Quaternion.ts",
    "awayjs-core/lib/geom/Rectangle.ts",
    "awayjs-core/lib/geom/Sphere.ts",
    "awayjs-core/lib/geom/UVTransform.ts",
    "awayjs-core/lib/geom/Vector3D.ts",
    "awayjs-core/lib/library/AssetLibraryBundle.ts",
    "awayjs-core/lib/library/AssetLibraryIterator.ts",
    "awayjs-core/lib/library/AssetLibrary.ts",
    "awayjs-core/lib/library/AssetLoaderContext.ts",
    "awayjs-core/lib/library/AssetLoaderToken.ts",
    "awayjs-core/lib/library/AssetLoader.ts",
    "awayjs-core/lib/library/AssetType.ts",
    "awayjs-core/lib/library/ConflictPrecedence.ts",
    "awayjs-core/lib/library/ConflictStrategyBase.ts",
    "awayjs-core/lib/library/ConflictStrategy.ts",
    "awayjs-core/lib/library/ErrorConflictStrategy.ts",
    "awayjs-core/lib/library/IDUtil.ts",
    "awayjs-core/lib/library/IgnoreConflictStrategy.ts",
    "awayjs-core/lib/library/NamedAssetBase.ts",
    "awayjs-core/lib/library/NumSuffixConflictStrategy.ts",
    "awayjs-core/lib/net/CrossDomainPolicy.ts",
    "awayjs-core/lib/net/URLLoaderDataFormat.ts",
    "awayjs-core/lib/net/URLLoader.ts",
    "awayjs-core/lib/net/URLRequestMethod.ts",
    "awayjs-core/lib/net/URLRequest.ts",
    "awayjs-core/lib/net/URLVariables.ts",
    "awayjs-core/lib/parsers/CubeTextureParser.ts",
    "awayjs-core/lib/parsers/ParserBase.ts",
    "awayjs-core/lib/parsers/ParserDataFormat.ts",
    "awayjs-core/lib/parsers/ParserUtils.ts",
    "awayjs-core/lib/parsers/ResourceDependency.ts",
    "awayjs-core/lib/parsers/Texture2DParser.ts",
    "awayjs-core/lib/projections/CoordinateSystem.ts",
    "awayjs-core/lib/projections/FreeMatrixProjection.ts",
    "awayjs-core/lib/projections/ObliqueNearPlaneProjection.ts",
    "awayjs-core/lib/projections/OrthographicOffCenterProjection.ts",
    "awayjs-core/lib/projections/OrthographicProjection.ts",
    "awayjs-core/lib/projections/PerspectiveProjection.ts",
    "awayjs-core/lib/projections/ProjectionBase.ts",
    "awayjs-core/lib/textures/BitmapCubeTexture.ts",
    "awayjs-core/lib/textures/BitmapTexture.ts",
    "awayjs-core/lib/textures/CubeTextureBase.ts",
    "awayjs-core/lib/textures/ImageCubeTexture.ts",
    "awayjs-core/lib/textures/ImageTexture.ts",
    "awayjs-core/lib/textures/MipmapGenerator.ts",
    "awayjs-core/lib/textures/RenderTexture.ts",
    "awayjs-core/lib/textures/SpecularBitmapTexture.ts",
    "awayjs-core/lib/textures/Texture2DBase.ts",
    "awayjs-core/lib/textures/TextureProxyBase.ts",
    "awayjs-core/lib/ui/Keyboard.ts",
    "awayjs-core/lib/utils/ByteArrayBase.ts",
    "awayjs-core/lib/utils/ByteArrayBuffer.ts",
    "awayjs-core/lib/utils/ByteArray.ts",
    "awayjs-core/lib/utils/CSS.ts",
    "awayjs-core/lib/utils/ColorUtils.ts",
    "awayjs-core/lib/utils/Debug.ts",
    "awayjs-core/lib/utils/RequestAnimationFrame.ts",
    "awayjs-core/lib/utils/TextureUtils.ts",
    "awayjs-core/lib/utils/Timer.ts",
    "awayjs-core/lib/utils/getTimer.ts"
  ],
  "names": [
    "require",
    "e",
    "t",
    "n",
    "r",
    "s",
    "o",
    "u",
    "a",
    "i",
    "f",
    "Error",
    "code",
    "l",
    "exports",
    "call",
    "length",
    "awayjs-core/lib/data/BitmapDataChannel",
    "module",
    "BitmapDataChannel",
    "ALPHA",
    "BLUE",
    "GREEN",
    "RED",
    "awayjs-core/lib/data/BitmapData",
    "Rectangle",
    "ColorUtils",
    "BitmapData",
    "width",
    "height",
    "transparent",
    "fillColor",
    "this",
    "_locked",
    "_transparent",
    "_imageCanvas",
    "document",
    "createElement",
    "_context",
    "getContext",
    "_rect",
    "fillRect",
    "Object",
    "defineProperty",
    "prototype",
    "get",
    "set",
    "value",
    "putImageData",
    "_imageData",
    "getImageData",
    "enumerable",
    "configurable",
    "clone",
    "draw",
    "colorTransform",
    "rect",
    "data",
    "j",
    "index",
    "x",
    "y",
    "redMultiplier",
    "redOffset",
    "greenMultiplier",
    "greenOffset",
    "blueMultiplier",
    "blueOffset",
    "alphaMultiplier",
    "alphaOffset",
    "copyChannel",
    "sourceBitmap",
    "sourceRect",
    "destPoint",
    "sourceChannel",
    "destChannel",
    "imageData",
    "sourceData",
    "destData",
    "sourceOffset",
    "Math",
    "round",
    "log",
    "destOffset",
    "sourceIndex",
    "destIndex",
    "copyPixels",
    "bmpd",
    "destRect",
    "_copyPixels",
    "dispose",
    "source",
    "matrix",
    "blendMode",
    "clipRect",
    "smoothing",
    "_draw",
    "color",
    "_fillRect",
    "getPixel",
    "g",
    "b",
    "pixelData",
    "getPixel32",
    "lock",
    "setArray",
    "inputArray",
    "argb",
    "float32ColorToARGB",
    "setPixel",
    "setPixel32",
    "setPixels",
    "inputByteArray",
    "position",
    "readUnsignedInt",
    "unlock",
    "drawImage",
    "canvas",
    "HTMLImageElement",
    "save",
    "setTransform",
    "c",
    "d",
    "tx",
    "ty",
    "restore",
    "HTMLElement",
    "clearRect",
    "fillStyle",
    "awayjs-core/lib/geom/Rectangle",
    "awayjs-core/lib/utils/ColorUtils",
    "awayjs-core/lib/data/BlendMode",
    "BlendMode",
    "ADD",
    "DARKEN",
    "DIFFERENCE",
    "ERASE",
    "HARDLIGHT",
    "INVERT",
    "LAYER",
    "LIGHTEN",
    "MULTIPLY",
    "NORMAL",
    "OVERLAY",
    "SCREEN",
    "SHADER",
    "SUBTRACT",
    "awayjs-core/lib/data/CurveSubGeometry",
    "__extends",
    "p",
    "hasOwnProperty",
    "__",
    "constructor",
    "SubGeometryBase",
    "Vector3D",
    "SubGeometryEvent",
    "CurveSubGeometry",
    "_super",
    "concatenatedArrays",
    "_positionsDirty",
    "_curvesDirty",
    "_faceNormalsDirty",
    "_vertexNormalsDirty",
    "_uvsDirty",
    "_secondaryUVsDirty",
    "_jointIndicesDirty",
    "_jointWeightsDirty",
    "_concatenateArrays",
    "_autoDeriveNormals",
    "_useFaceWeights",
    "_autoDeriveUVs",
    "_scaleU",
    "_scaleV",
    "SUB_GEOMETRY_TYPE",
    "_useCondensedIndices",
    "_pUpdateStrideOffset",
    "_pOffset",
    "VERTEX_DATA",
    "POSITION_DATA",
    "stride",
    "_curves",
    "CURVE_DATA",
    "_uvs",
    "UV_DATA",
    "_pStride",
    "len",
    "_pNumVertices",
    "_pVertices",
    "Array",
    "_pStrideOffsetDirty",
    "notifyUVsUpdate",
    "updatePositions",
    "_positions",
    "updateCurves",
    "updateUVs",
    "updateFaceNormals",
    "_faceNormals",
    "_condensedIndexLookUp",
    "getBoundingPositions",
    "values",
    "positions",
    "getStride",
    "getOffset",
    "pInvalidateBounds",
    "notifyPositionsUpdate",
    "offset",
    "curves",
    "_pNotifyVerticesUpdate",
    "notifyCurvesUpdate",
    "uvs",
    "uvIdx",
    "lenV",
    "_faceWeights",
    "updateIndices",
    "indices",
    "_pIndices",
    "concat",
    "scaleUV",
    "scaleU",
    "scaleV",
    "ratioU",
    "ratioV",
    "scale",
    "applyTransformation",
    "transform",
    "i1",
    "i2",
    "vector",
    "invTranspose",
    "vi0",
    "vStride",
    "z",
    "transformVector",
    "k",
    "x1",
    "x2",
    "x3",
    "y1",
    "y2",
    "y3",
    "z1",
    "z2",
    "z3",
    "dx1",
    "dy1",
    "dz1",
    "dx2",
    "dy2",
    "dz2",
    "cx",
    "cy",
    "cz",
    "sqrt",
    "w",
    "_positionsUpdated",
    "VERTICES_UPDATED",
    "dispatchEvent",
    "_curvesUpdated",
    "_uvsUpdated",
    "POSITION_FORMAT",
    "CURVE_FORMAT",
    "UV_FORMAT",
    "awayjs-core/lib/data/SubGeometryBase",
    "awayjs-core/lib/events/SubGeometryEvent",
    "awayjs-core/lib/geom/Vector3D",
    "awayjs-core/lib/data/Geometry",
    "GeometryEvent",
    "AssetType",
    "NamedAssetBase",
    "Geometry",
    "_subGeometries",
    "GEOMETRY",
    "getSubGeometries",
    "addSubGeometry",
    "subGeometry",
    "push",
    "parentGeometry",
    "hasEventListener",
    "SUB_GEOMETRY_ADDED",
    "iInvalidateBounds",
    "removeSubGeometry",
    "splice",
    "indexOf",
    "SUB_GEOMETRY_REMOVED",
    "numSubGeoms",
    "subGeom",
    "BOUNDS_INVALID",
    "awayjs-core/lib/events/GeometryEvent",
    "awayjs-core/lib/library/AssetType",
    "awayjs-core/lib/library/NamedAssetBase",
    "awayjs-core/lib/data/LineSubGeometry",
    "TriangleSubGeometry",
    "LineSubGeometry",
    "_boundingPositionDirty",
    "_thicknessDirty",
    "_colorsDirty",
    "START_POSITION_DATA",
    "END_POSITION_DATA",
    "THICKNESS_DATA",
    "COLOR_DATA",
    "_startPositions",
    "_endPositions",
    "updateThickness",
    "_thickness",
    "updateColors",
    "_startColors",
    "_endColors",
    "_numSegments",
    "_boundingPositions",
    "startPositions",
    "endPositions",
    "startValues",
    "endValues",
    "thickness",
    "floor",
    "notifyThicknessUpdate",
    "colors",
    "notifyColorsUpdate",
    "_thicknessUpdated",
    "_colorUpdated",
    "COLOR_FORMAT",
    "THICKNESS_FORMAT",
    "awayjs-core/lib/data/TriangleSubGeometry",
    "AbstractMethodError",
    "_pConcatenateArrays",
    "updateVertices",
    "_numTriangles",
    "dataType",
    "_numIndices",
    "notifyIndicesUpdate",
    "_indicesUpdated",
    "INDICES_UPDATED",
    "awayjs-core/lib/errors/AbstractMethodError",
    "_faceTangentsDirty",
    "_vertexTangentsDirty",
    "_autoDeriveTangents",
    "notifyJointIndicesUpdate",
    "_vertexNormals",
    "NORMAL_DATA",
    "_vertexTangents",
    "TANGENT_DATA",
    "_secondaryUVs",
    "SECONDARY_UV_DATA",
    "_jointIndices",
    "JOINT_INDEX_DATA",
    "_jointsPerVertex",
    "_jointWeights",
    "JOINT_WEIGHT_DATA",
    "notifyNormalsUpdate",
    "notifyTangentsUpdate",
    "updateVertexNormals",
    "updateVertexTangents",
    "updateSecondaryUVs",
    "updateJointIndices",
    "updateJointWeights",
    "updateFaceTangents",
    "_faceTangents",
    "_condensedJointIndices",
    "_numCondensedJoints",
    "normals",
    "f1",
    "f2",
    "f3",
    "lenI",
    "weight",
    "vx",
    "vy",
    "vz",
    "tangents",
    "notifySecondaryUVsUpdate",
    "jointIndices",
    "oldIndex",
    "newIndex",
    "dic",
    "undefined",
    "jointWeights",
    "notifyJointWeightsUpdate",
    "jointsPerVertex",
    "bakeNormals",
    "bakeTangents",
    "invert",
    "transpose",
    "ni0",
    "ti0",
    "nStride",
    "tStride",
    "deltaTransformVector",
    "normalize",
    "index1",
    "index2",
    "index3",
    "vi",
    "v0",
    "dv1",
    "dv2",
    "denom",
    "x0",
    "y0",
    "z0",
    "_normalsUpdated",
    "_tangentsUpdated",
    "_secondaryUVsUpdated",
    "_jointIndicesUpdated",
    "_jointWeightsUpdated",
    "NORMAL_FORMAT",
    "TANGENT_FORMAT",
    "SECONDARY_UV_FORMAT",
    "message",
    "id",
    "awayjs-core/lib/errors/Error",
    "awayjs-core/lib/errors/ArgumentError",
    "ArgumentError",
    "awayjs-core/lib/errors/DocumentError",
    "DocumentError",
    "DOCUMENT_DOES_NOT_EXIST",
    "_name",
    "_errorID",
    "_messsage",
    "name",
    "awayjs-core/lib/errors/PartialImplementationError",
    "PartialImplementationError",
    "dependency",
    "awayjs-core/lib/errors/RangeError",
    "RangeError",
    "awayjs-core/lib/events/AssetEvent",
    "Event",
    "AssetEvent",
    "type",
    "asset",
    "prevName",
    "_asset",
    "_prevName",
    "assetPrevName",
    "ASSET_COMPLETE",
    "ASSET_RENAME",
    "ASSET_CONFLICT_RESOLVED",
    "TEXTURE_SIZE_ERROR",
    "awayjs-core/lib/events/Event",
    "awayjs-core/lib/events/EventDispatcher",
    "EventDispatcher",
    "target",
    "listeners",
    "addEventListener",
    "listener",
    "getEventListenerIndex",
    "removeEventListener",
    "event",
    "listenerArray",
    "COMPLETE",
    "OPEN",
    "ENTER_FRAME",
    "EXIT_FRAME",
    "RESIZE",
    "ERROR",
    "CHANGE",
    "_subGeometry",
    "awayjs-core/lib/events/HTTPStatusEvent",
    "HTTPStatusEvent",
    "status",
    "HTTP_STATUS",
    "awayjs-core/lib/events/IEventDispatcher",
    "awayjs-core/lib/events/IOErrorEvent",
    "IOErrorEvent",
    "IO_ERROR",
    "awayjs-core/lib/events/LoaderEvent",
    "LoaderEvent",
    "url",
    "content",
    "assets",
    "_url",
    "_content",
    "_assets",
    "RESOURCE_COMPLETE",
    "awayjs-core/lib/events/ParserEvent",
    "ParserEvent",
    "_message",
    "PARSE_COMPLETE",
    "PARSE_ERROR",
    "READY_FOR_DEPENDENCIES",
    "awayjs-core/lib/events/ProgressEvent",
    "ProgressEvent",
    "PROGRESS",
    "awayjs-core/lib/events/ProjectionEvent",
    "ProjectionEvent",
    "projection",
    "_projection",
    "MATRIX_CHANGED",
    "_dataType",
    "awayjs-core/lib/events/TimerEvent",
    "TimerEvent",
    "TIMER",
    "TIMER_COMPLETE",
    "awayjs-core/lib/geom/Box",
    "Box",
    "depth",
    "val",
    "_bottomRightBack",
    "_size",
    "_topLeftFront",
    "contains",
    "containsPoint",
    "containsBox",
    "box",
    "copyFrom",
    "sourceBox",
    "equals",
    "toCompare",
    "inflate",
    "dx",
    "dy",
    "dz",
    "inflatePoint",
    "delta",
    "intersection",
    "toIntersect",
    "intersects",
    "rayIntersection",
    "direction",
    "targetNormal",
    "halfExtentsX",
    "halfExtentsY",
    "halfExtentsZ",
    "centerX",
    "centerY",
    "centerZ",
    "px",
    "py",
    "pz",
    "ix",
    "iy",
    "iz",
    "rayEntryDistance",
    "closestPointToPoint",
    "point",
    "isEmpty",
    "offsetPosition",
    "setEmpty",
    "setTo",
    "xa",
    "ya",
    "za",
    "widtha",
    "heighta",
    "deptha",
    "toString",
    "union",
    "toUnion",
    "awayjs-core/lib/geom/ColorTransform",
    "ColorTransform",
    "second",
    "awayjs-core/lib/geom/MathConsts",
    "MathConsts",
    "RADIANS_TO_DEGREES",
    "PI",
    "DEGREES_TO_RADIANS",
    "awayjs-core/lib/geom/Matrix3DUtils",
    "Matrix3D",
    "Matrix3DUtils",
    "quaternion2matrix",
    "quarternion",
    "m",
    "xx",
    "xy",
    "xz",
    "xw",
    "yy",
    "yz",
    "yw",
    "zz",
    "zw",
    "raw",
    "RAW_DATA_CONTAINER",
    "copyRawDataFrom",
    "getForward",
    "v",
    "copyColumnTo",
    "getUp",
    "getRight",
    "compare",
    "m1",
    "m2",
    "r1",
    "r2",
    "rawData",
    "copyRawDataTo",
    "lookAt",
    "pos",
    "dir",
    "up",
    "dirN",
    "upN",
    "lftN",
    "crossProduct",
    "dotProduct",
    "reflection",
    "plane",
    "ab2",
    "ac2",
    "bc2",
    "result",
    "h",
    "getTranslation",
    "deltaTransformVectors",
    "vin",
    "vout",
    "outIndex",
    "CALCULATION_MATRIX",
    "awayjs-core/lib/geom/Matrix3D",
    "Orientation3D",
    "append",
    "lhs",
    "m111",
    "m121",
    "m131",
    "m141",
    "m112",
    "m122",
    "m132",
    "m142",
    "m113",
    "m123",
    "m133",
    "m143",
    "m114",
    "m124",
    "m134",
    "m144",
    "m211",
    "m221",
    "m231",
    "m241",
    "m212",
    "m222",
    "m232",
    "m242",
    "m213",
    "m223",
    "m233",
    "m243",
    "m214",
    "m224",
    "m234",
    "m244",
    "appendRotation",
    "degrees",
    "axis",
    "getAxisRotation",
    "appendScale",
    "xScale",
    "yScale",
    "zScale",
    "appendTranslation",
    "slice",
    "copyColumnFrom",
    "column",
    "vector3D",
    "sourceMatrix3D",
    "copyRowFrom",
    "row",
    "copyRowTo",
    "copyToMatrix3D",
    "dest",
    "decompose",
    "orientationStyle",
    "q",
    "vec",
    "mr",
    "rot",
    "AXIS_ANGLE",
    "acos",
    "QUATERNION",
    "tr",
    "EULER_ANGLES",
    "asin",
    "atan2",
    "identity",
    "interpolate",
    "thisMat",
    "toMat",
    "percent",
    "interpolateTo",
    "determinant",
    "invertable",
    "abs",
    "m11",
    "m21",
    "m31",
    "m41",
    "m12",
    "m22",
    "m32",
    "m42",
    "m13",
    "m23",
    "m33",
    "m43",
    "m14",
    "m24",
    "m34",
    "m44",
    "prepend",
    "rhs",
    "prependRotation",
    "prependScale",
    "prependTranslation",
    "recompose",
    "components",
    "angle",
    "cos",
    "sin",
    "transformVectors",
    "oRawData",
    "rad",
    "tmp1",
    "tmp2",
    "toFixed",
    "decimalPlace",
    "magnitude",
    "pow",
    "awayjs-core/lib/geom/Orientation3D",
    "awayjs-core/lib/geom/Matrix",
    "Point",
    "Matrix",
    "a1",
    "c1",
    "tx1",
    "sourceMatrix",
    "createBox",
    "scaleX",
    "scaleY",
    "rotation",
    "createGradientBox",
    "deltaTransformPoint",
    "norm",
    "multiply",
    "rotate",
    "sx",
    "sy",
    "transformPoint",
    "translate",
    "awayjs-core/lib/geom/Point",
    "awayjs-core/lib/geom/PerspectiveProjection",
    "PerspectiveProjection",
    "toMatrix3D",
    "_matrix3D",
    "awayjs-core/lib/geom/Plane3D",
    "PlaneClassification",
    "Plane3D",
    "_iAlignment",
    "ALIGN_XY_AXIS",
    "ALIGN_YZ_AXIS",
    "ALIGN_XZ_AXIS",
    "ALIGN_ANY",
    "fromPoints",
    "p0",
    "p1",
    "p2",
    "d1x",
    "d1y",
    "d1z",
    "d2x",
    "d2y",
    "d2z",
    "fromNormalAndPoint",
    "normal",
    "distance",
    "classifyPoint",
    "epsilon",
    "FRONT",
    "BACK",
    "INTERSECT",
    "awayjs-core/lib/geom/PlaneClassification",
    "IN",
    "OUT",
    "add",
    "sourcePoint",
    "invLength",
    "subtract",
    "pt1",
    "pt2",
    "polar",
    "awayjs-core/lib/geom/PoissonLookup",
    "PoissonLookup",
    "initDistributions",
    "_distributions",
    "getDistribution",
    "awayjs-core/lib/geom/Quaternion",
    "Quaternion",
    "qa",
    "qb",
    "w1",
    "w2",
    "multiplyVector",
    "fromAxisAngle",
    "sin_a",
    "cos_a",
    "slerp",
    "dot",
    "s1",
    "s2",
    "lerp",
    "fromEulerAngles",
    "ax",
    "ay",
    "az",
    "halfX",
    "halfY",
    "halfZ",
    "cosX",
    "sinX",
    "cosY",
    "sinY",
    "cosZ",
    "sinZ",
    "toEulerAngles",
    "mag",
    "xy2",
    "xz2",
    "xw2",
    "yz2",
    "yw2",
    "zw2",
    "ww",
    "fromMatrix",
    "toRawData",
    "exclude4thRow",
    "rotatePoint",
    "_bottomRight",
    "_topLeft",
    "containsRect",
    "offsetPoint",
    "awayjs-core/lib/geom/Sphere",
    "Sphere",
    "radius",
    "det",
    "sqrtDet",
    "awayjs-core/lib/geom/UVTransform",
    "UVTransform",
    "_uvMatrix",
    "_rotation",
    "_offsetU",
    "_offsetV",
    "_uvMatrixDirty",
    "updateUVMatrix",
    "lengthSquared",
    "angleBetween",
    "src",
    "decrementBy",
    "allFour",
    "incrementBy",
    "nearEquals",
    "tolerance",
    "negate",
    "project",
    "scaleBy",
    "X_AXIS",
    "Y_AXIS",
    "Z_AXIS",
    "awayjs-core/lib/library/AssetLibraryBundle",
    "AssetLibraryIterator",
    "AssetLoader",
    "ConflictPrecedence",
    "ConflictStrategy",
    "AssetLibraryBundle",
    "_this",
    "_loadingSessionsGarbage",
    "_assetDictionary",
    "_loadingSessions",
    "conflictStrategy",
    "IGNORE",
    "create",
    "conflictPrecedence",
    "FAVOR_NEW",
    "_onAssetRenameDelegate",
    "onAssetRename",
    "_onAssetConflictResolvedDelegate",
    "onAssetConflictResolved",
    "_onResourceCompleteDelegate",
    "onResourceComplete",
    "_onTextureSizeErrorDelegate",
    "onTextureSizeError",
    "_onAssetCompleteDelegate",
    "onAssetComplete",
    "_onLoadErrorDelegate",
    "onLoadError",
    "_onParseErrorDelegate",
    "onParseError",
    "getInstance",
    "key",
    "_iInstances",
    "enableParser",
    "parserClass",
    "enableParsers",
    "parserClasses",
    "_strategy",
    "_strategyPreference",
    "createIterator",
    "assetTypeFilter",
    "namespaceFilter",
    "filterFunc",
    "load",
    "req",
    "context",
    "ns",
    "parser",
    "loader",
    "_iAddErrorHandler",
    "_iAddParseErrorHandler",
    "loadData",
    "getAsset",
    "_assetDictDirty",
    "rehashAssetDict",
    "DEFAULT_NAMESPACE",
    "addAsset",
    "old",
    "assetNamespace",
    "resolveConflict",
    "removeAsset",
    "idx",
    "removeAssetFromDict",
    "removeAssetByName",
    "removeAllAssets",
    "removeNamespaceAssets",
    "old_assets",
    "autoRemoveEmptyNamespace",
    "empty",
    "stopAllLoadingSessions",
    "killLoadingSession",
    "_gcTimeoutIID",
    "setTimeout",
    "loadingSessionGC",
    "pop",
    "clearTimeout",
    "stop",
    "dict",
    "awayjs-core/lib/library/AssetLibraryIterator",
    "awayjs-core/lib/library/AssetLoader",
    "awayjs-core/lib/library/ConflictPrecedence",
    "awayjs-core/lib/library/ConflictStrategy",
    "filter",
    "_idx",
    "_filtered",
    "next",
    "reset",
    "setIndex",
    "assetType",
    "awayjs-core/lib/library/AssetLibrary",
    "AssetLibrary",
    "getBundle",
    "stopLoad",
    "awayjs-core/lib/library/AssetLoaderContext",
    "AssetLoaderContext",
    "includeDependencies",
    "dependencyBaseUrl",
    "_includeDependencies",
    "_dependencyBaseUrl",
    "_embeddedDataByUrl",
    "_remappedUrls",
    "_materialMode",
    "UNDEFINED",
    "materialMode",
    "_overrideAbsPath",
    "_overrideFullUrls",
    "mapUrl",
    "originalUrl",
    "newUrl",
    "mapUrlToData",
    "_iHasDataForUrl",
    "_iGetDataForUrl",
    "_iHasMappingForUrl",
    "_iGetRemappedUrl",
    "SINGLEPASS_MATERIALS",
    "MULTIPASS_MATERIALS",
    "awayjs-core/lib/library/AssetLoaderToken",
    "AssetLoaderToken",
    "_iLoader",
    "URLLoader",
    "URLLoaderDataFormat",
    "CubeTextureParser",
    "ResourceDependency",
    "Texture2DParser",
    "_stack",
    "_errorHandlers",
    "_parseErrorHandlers",
    "_onReadyForDependenciesDelegate",
    "onReadyForDependencies",
    "_onParseCompleteDelegate",
    "onParseComplete",
    "_onLoadCompleteDelegate",
    "onLoadComplete",
    "_parsers",
    "parsers",
    "_baseDependency",
    "_token",
    "_uri",
    "replace",
    "_namespace",
    "retrieveDependency",
    "retrieveNext",
    "_currentDependency",
    "dependencies",
    "parsingPaused",
    "_iResumeParsingAfterDependencies",
    "prev",
    "_iSuccess",
    "resolve",
    "addEventListeners",
    "request",
    "Function",
    "_iSetData",
    "retrieveAsRawData",
    "parseDependency",
    "resolveDependencyUrl",
    "dataFormat",
    "BINARY",
    "_iSetParser",
    "getParserFromSuffix",
    "joinUrl",
    "base",
    "end",
    "charAt",
    "substr",
    "scheme_re",
    "RegExp",
    "overrideAbsolutePaths",
    "test",
    "overrideFullURLs",
    "noscheme_url",
    "substring",
    "lastIndexOf",
    "retrieveParserDependencies",
    "parserDependancies",
    "resolveParserDependencies",
    "handled",
    "isDependency",
    "removeEventListeners",
    "resolveFailure",
    "resetAssetPath",
    "suppresAssetEvents",
    "resolveName",
    "handler",
    "getParserFromData",
    "supportsData",
    "_iFileName",
    "parseAsync",
    "split",
    "fileExtension",
    "toLowerCase",
    "supportsType",
    "awayjs-core/lib/net/URLLoader",
    "awayjs-core/lib/net/URLLoaderDataFormat",
    "awayjs-core/lib/parsers/CubeTextureParser",
    "awayjs-core/lib/parsers/ResourceDependency",
    "awayjs-core/lib/parsers/Texture2DParser",
    "ANIMATION_NODE",
    "ANIMATION_SET",
    "ANIMATION_STATE",
    "ANIMATOR",
    "BILLBOARD",
    "CAMERA",
    "CONTAINER",
    "EFFECTS_METHOD",
    "FONT",
    "LINE_SEGMENT",
    "LIGHT",
    "LIGHT_PICKER",
    "MATERIAL",
    "MESH",
    "TRIANGLE_SUB_MESH",
    "CURVE_SUB_MESH",
    "LINE_SUB_MESH",
    "PRIMITIVE_PREFAB",
    "SHADOW_MAP_METHOD",
    "SKELETON",
    "SKELETON_POSE",
    "SKYBOX",
    "STATE_TRANSITION",
    "TEXTFIELD",
    "TEXTFORMAT",
    "TEXTURE",
    "TEXTURE_PROJECTOR",
    "TIMELINE",
    "FAVOR_OLD",
    "awayjs-core/lib/library/ConflictStrategyBase",
    "ConflictStrategyBase",
    "changedAsset",
    "oldAsset",
    "assetsDictionary",
    "precedence",
    "_pUpdateNames",
    "nonConflictingName",
    "newAsset",
    "loser_prev_name",
    "winner",
    "loser",
    "ErrorConflictStrategy",
    "IgnoreConflictStrategy",
    "NumSuffixConflictStrategy",
    "include",
    "APPEND_NUM_SUFFIX",
    "THROW_ERROR",
    "awayjs-core/lib/library/ErrorConflictStrategy",
    "awayjs-core/lib/library/IgnoreConflictStrategy",
    "awayjs-core/lib/library/NumSuffixConflictStrategy",
    "assetFullPath",
    "awayjs-core/lib/library/IAsset",
    "awayjs-core/lib/library/IDUtil",
    "IDUtil",
    "createUID",
    "uid",
    "ALPHA_CHAR_CODES",
    "random",
    "time",
    "Date",
    "getTime",
    "timeString",
    "toUpperCase",
    "charCodeAt",
    "String",
    "fromCharCode",
    "apply",
    "_id",
    "ID_COUNT",
    "_originalName",
    "updateFullPath",
    "_full_path",
    "assetPathEquals",
    "overrideOriginal",
    "separator",
    "_separator",
    "_next_suffix",
    "orig",
    "new_name",
    "suffix",
    "parseInt",
    "isNaN",
    "awayjs-core/lib/net/CrossDomainPolicy",
    "CrossDomainPolicy",
    "ANONYMOUS",
    "USE_CREDENTIALS",
    "TEXT",
    "VARIABLES",
    "BLOB",
    "ARRAY_BUFFER",
    "URLRequestMethod",
    "URLVariables",
    "AwayEvent",
    "AwayProgressEvent",
    "_bytesLoaded",
    "_bytesTotal",
    "_dataFormat",
    "_loadError",
    "_request",
    "_data",
    "format",
    "initXHR",
    "method",
    "POST",
    "postRequest",
    "getRequest",
    "close",
    "_XHR",
    "abort",
    "disposeXHR",
    "setResponseType",
    "xhr",
    "responseType",
    "open",
    "async",
    "send",
    "handleXmlHttpRequestException",
    "urlVars",
    "formData",
    "error",
    "XMLHttpRequest",
    "onloadstart",
    "onLoadStart",
    "onprogress",
    "onProgress",
    "onabort",
    "onAbort",
    "onerror",
    "onload",
    "ontimeout",
    "onTimeOut",
    "onloadend",
    "onLoadEnd",
    "onreadystatechange",
    "onReadyStateChange",
    "decodeURLVariables",
    "join",
    "tokens",
    "re",
    "exec",
    "decodeURIComponent",
    "readyState",
    "_loadErrorEvent",
    "_progressEvent",
    "bytesTotal",
    "total",
    "bytesLoaded",
    "loaded",
    "_loadStartEvent",
    "responseText",
    "response",
    "_loadCompleteEvent",
    "awayjs-core/lib/net/URLRequestMethod",
    "awayjs-core/lib/net/URLVariables",
    "GET",
    "awayjs-core/lib/net/URLRequest",
    "URLRequest",
    "_variables",
    "decode",
    "obj",
    "fd",
    "FormData",
    "ParserBase",
    "ImageCubeTexture",
    "extension",
    "JSON",
    "parse",
    "_iResolveDependency",
    "resourceDependency",
    "_iResolveDependencyFailure",
    "_pProceedParsing",
    "_imgDependencyDictionary",
    "_getHTMLImageElement",
    "posX",
    "negX",
    "posY",
    "negY",
    "posZ",
    "negZ",
    "_pFinalizeAsset",
    "PARSING_DONE",
    "json",
    "rec",
    "_pDieWithError",
    "_pAddDependency",
    "image",
    "_validateCubeData",
    "_pPauseAndRetrieveDependencies",
    "MORE_TO_PARSE",
    "htmlImageElement",
    "awayjs-core/lib/parsers/ParserBase",
    "awayjs-core/lib/textures/ImageCubeTexture",
    "ParserUtils",
    "TextureUtils",
    "Timer",
    "getTimer",
    "_dependencies",
    "_pOnIntervalDelegate",
    "_pOnInterval",
    "_pContent",
    "isBitmapDataValid",
    "bitmapData",
    "isValid",
    "console",
    "_parsingFailure",
    "_parsingPaused",
    "_parsingComplete",
    "newMaterialMode",
    "frameLimit",
    "_pStartParsing",
    "_iResolveDependencyName",
    "_timer",
    "start",
    "type_event",
    "type_name",
    "suppressErrorEvents",
    "_pHasTime",
    "_lastFrameTime",
    "_frameLimit",
    "_pFinishParsing",
    "_pGetTextData",
    "_pGetByteData",
    "toByteArray",
    "awayjs-core/lib/parsers/ParserUtils",
    "awayjs-core/lib/utils/TextureUtils",
    "awayjs-core/lib/utils/Timer",
    "awayjs-core/lib/utils/getTimer",
    "awayjs-core/lib/parsers/ParserDataFormat",
    "ParserDataFormat",
    "PLAIN_TEXT",
    "IMAGE",
    "ByteArray",
    "arrayBufferToImage",
    "byteStr",
    "bytes",
    "Uint8Array",
    "byteLength",
    "base64Image",
    "window",
    "btoa",
    "str",
    "img",
    "Image",
    "byteArrayToImage",
    "arraybytes",
    "blobToImage",
    "URLObj",
    "createObjectURL",
    "setArrayBuffer",
    "ba",
    "readUTFBytes",
    "min",
    "getBytesAvailable",
    "awayjs-core/lib/utils/ByteArray",
    "parentParser",
    "suppressAssetEvents",
    "_parser",
    "_parentParser",
    "_retrieveAsRawData",
    "_suppressAssetEvents",
    "ImageTexture",
    "readUnsignedShort",
    "readShort",
    "readByte",
    "sizeError",
    "_loadingImage",
    "_htmlImageElement",
    "isHTMLImageElementValid",
    "ArrayBuffer",
    "Blob",
    "awayjs-core/lib/textures/ImageTexture",
    "awayjs-core/lib/pool/ITextureData",
    "awayjs-core/lib/projections/CoordinateSystem",
    "CoordinateSystem",
    "LEFT_HANDED",
    "RIGHT_HANDED",
    "awayjs-core/lib/projections/FreeMatrixProjection",
    "ProjectionBase",
    "FreeMatrixProjection",
    "_pMatrix",
    "_pNear",
    "_pFar",
    "_pAspectRatio",
    "pInvalidateMatrix",
    "pUpdateMatrix",
    "_pMatrixInvalid",
    "awayjs-core/lib/projections/PerspectiveProjection",
    "awayjs-core/lib/projections/ProjectionBase",
    "awayjs-core/lib/projections/IProjection",
    "awayjs-core/lib/projections/ObliqueNearPlaneProjection",
    "ObliqueNearPlaneProjection",
    "baseProjection",
    "_onProjectionMatrixChangedDelegate",
    "onProjectionMatrixChanged",
    "_baseProjection",
    "frustumCorners",
    "near",
    "far",
    "_iAspectRatio",
    "_plane",
    "cw",
    "signX",
    "signY",
    "inverse",
    "awayjs-core/lib/projections/OrthographicOffCenterProjection",
    "OrthographicOffCenterProjection",
    "minX",
    "maxX",
    "minY",
    "maxY",
    "_minX",
    "_maxX",
    "_minY",
    "_maxY",
    "unproject",
    "nX",
    "nY",
    "sZ",
    "unprojectionMatrix",
    "_pFrustumCorners",
    "awayjs-core/lib/projections/OrthographicProjection",
    "OrthographicProjection",
    "projectionHeight",
    "_projectionHeight",
    "_yMax",
    "_xMax",
    "left",
    "right",
    "top",
    "bottom",
    "_pScissorRect",
    "_pViewPort",
    "xWidth",
    "yHgt",
    "center",
    "middle",
    "fieldOfView",
    "coordinateSystem",
    "_fieldOfView",
    "_focalLength",
    "_hFieldOfView",
    "_hFocalLength",
    "_preserveAspectRatio",
    "_preserveFocalLength",
    "tan",
    "_pCoordinateSystem",
    "atan",
    "tanMinX",
    "_pOriginX",
    "tanMaxX",
    "tanMinY",
    "_pOriginY",
    "tanMaxY",
    "_unprojectionInvalid",
    "point3d",
    "_unprojection",
    "_iUpdateScissorRect",
    "_iUpdateViewport",
    "awayjs-core/lib/textures/BitmapCubeTexture",
    "CubeTextureBase",
    "BitmapCubeTexture",
    "_bitmapDatas",
    "_testSize",
    "invalidateContent",
    "_pSetSize",
    "_iGetTextureData",
    "side",
    "awayjs-core/lib/textures/CubeTextureBase",
    "awayjs-core/lib/textures/BitmapTexture",
    "Texture2DBase",
    "BitmapTexture",
    "_bitmapData",
    "awayjs-core/lib/textures/Texture2DBase",
    "MipmapGenerator",
    "TextureProxyBase",
    "_mipmapDataArray",
    "_mipmapDataDirtyArray",
    "size",
    "_pSize",
    "invalidateSize",
    "mipmapData",
    "freeMipMapHolder",
    "_iGetMipmapData",
    "generateMipMaps",
    "awayjs-core/lib/textures/MipmapGenerator",
    "awayjs-core/lib/textures/TextureProxyBase",
    "_htmlImageElements",
    "output",
    "alpha",
    "mipmap",
    "_getMipmapHolder",
    "_matrix",
    "mipMapHolder",
    "newW",
    "newH",
    "_mipMaps",
    "_mipMapUses",
    "holderWidth",
    "holderHeight",
    "awayjs-core/lib/textures/RenderTexture",
    "RenderTexture",
    "_pWidth",
    "isDimensionValid",
    "_pHeight",
    "awayjs-core/lib/textures/SpecularBitmapTexture",
    "SpecularBitmapTexture",
    "specularMap",
    "glossMap",
    "bmd",
    "_specularMap",
    "_glossMap",
    "oldBitmap",
    "origin",
    "_mipmapData",
    "_mipmapDataDirty",
    "generateMipmaps",
    "_pFormat",
    "_textureData",
    "invalidate",
    "_iAddTextureData",
    "textureData",
    "_iRemoveTextureData",
    "awayjs-core/lib/ui/Keyboard",
    "Keyboard",
    "A",
    "ALTERNATE",
    "AUDIO",
    "B",
    "BACKQUOTE",
    "BACKSLASH",
    "BACKSPACE",
    "C",
    "CAPS_LOCK",
    "CHANNEL_DOWN",
    "CHANNEL_UP",
    "COMMA",
    "COMMAND",
    "CONTROL",
    "D",
    "DELETE",
    "DOWN",
    "DVR",
    "E",
    "END",
    "ENTER",
    "EQUAL",
    "ESCAPE",
    "EXIT",
    "F",
    "F1",
    "F10",
    "F11",
    "F12",
    "F13",
    "F14",
    "F15",
    "F2",
    "F3",
    "F4",
    "F5",
    "F6",
    "F7",
    "F8",
    "F9",
    "FAST_FORWARD",
    "G",
    "GUIDE",
    "H",
    "HELP",
    "HOME",
    "I",
    "INFO",
    "INPUT",
    "INSERT",
    "J",
    "K",
    "KEYNAME_BEGIN",
    "KEYNAME_BREAK",
    "KEYNAME_CLEARDISPLAY",
    "KEYNAME_CLEARLINE",
    "KEYNAME_DELETE",
    "KEYNAME_DELETECHAR",
    "KEYNAME_DELETELINE",
    "KEYNAME_DOWNARROW",
    "KEYNAME_END",
    "KEYNAME_EXECUTE",
    "KEYNAME_F1",
    "KEYNAME_F10",
    "KEYNAME_F11",
    "KEYNAME_F12",
    "KEYNAME_F13",
    "KEYNAME_F14",
    "KEYNAME_F15",
    "KEYNAME_F16",
    "KEYNAME_F17",
    "KEYNAME_F18",
    "KEYNAME_F19",
    "KEYNAME_F2",
    "KEYNAME_F20",
    "KEYNAME_F21",
    "KEYNAME_F22",
    "KEYNAME_F23",
    "KEYNAME_F24",
    "KEYNAME_F25",
    "KEYNAME_F26",
    "KEYNAME_F27",
    "KEYNAME_F28",
    "KEYNAME_F29",
    "KEYNAME_F3",
    "KEYNAME_F30",
    "KEYNAME_F31",
    "KEYNAME_F32",
    "KEYNAME_F33",
    "KEYNAME_F34",
    "KEYNAME_F35",
    "KEYNAME_F4",
    "KEYNAME_F5",
    "KEYNAME_F6",
    "KEYNAME_F7",
    "KEYNAME_F8",
    "KEYNAME_F9",
    "KEYNAME_FIND",
    "KEYNAME_HELP",
    "KEYNAME_HOME",
    "KEYNAME_INSERT",
    "KEYNAME_INSERTCHAR",
    "KEYNAME_INSERTLINE",
    "KEYNAME_LEFTARROW",
    "KEYNAME_MENU",
    "KEYNAME_MODESWITCH",
    "KEYNAME_NEXT",
    "KEYNAME_PAGEDOWN",
    "KEYNAME_PAGEUP",
    "KEYNAME_PAUSE",
    "KEYNAME_PREV",
    "KEYNAME_PRINT",
    "KEYNAME_PRINTSCREEN",
    "KEYNAME_REDO",
    "KEYNAME_RESET",
    "KEYNAME_RIGHTARROW",
    "KEYNAME_SCROLLLOCK",
    "KEYNAME_SELECT",
    "KEYNAME_STOP",
    "KEYNAME_SYSREQ",
    "KEYNAME_SYSTEM",
    "KEYNAME_UNDO",
    "KEYNAME_UPARROW",
    "KEYNAME_USER",
    "L",
    "LAST",
    "LEFT",
    "LEFTBRACKET",
    "LIVE",
    "M",
    "MASTER_SHELL",
    "MENU",
    "MINUS",
    "N",
    "NEXT",
    "NUMBER_0",
    "NUMBER_1",
    "NUMBER_2",
    "NUMBER_3",
    "NUMBER_4",
    "NUMBER_5",
    "NUMBER_6",
    "NUMBER_7",
    "NUMBER_8",
    "NUMBER_9",
    "NUMPAD",
    "NUMPAD_0",
    "NUMPAD_1",
    "NUMPAD_2",
    "NUMPAD_3",
    "NUMPAD_4",
    "NUMPAD_5",
    "NUMPAD_6",
    "NUMPAD_7",
    "NUMPAD_8",
    "NUMPAD_9",
    "NUMPAD_ADD",
    "NUMPAD_DECIMAL",
    "NUMPAD_DIVIDE",
    "NUMPAD_ENTER",
    "NUMPAD_MULTIPLY",
    "NUMPAD_SUBTRACT",
    "O",
    "P",
    "PAGE_DOWN",
    "PAGE_UP",
    "PAUSE",
    "PERIOD",
    "PLAY",
    "PREVIOUS",
    "Q",
    "QUOTE",
    "R",
    "RECORD",
    "REWIND",
    "RIGHT",
    "RIGHTBRACKET",
    "S",
    "SEARCH",
    "SEMICOLON",
    "SETUP",
    "SHIFT",
    "SKIP_BACKWARD",
    "SKIP_FORWARD",
    "SLASH",
    "SPACE",
    "STOP",
    "SUBTITLE",
    "T",
    "TAB",
    "U",
    "UP",
    "V",
    "VOD",
    "W",
    "X",
    "Y",
    "YELLOW",
    "Z",
    "awayjs-core/lib/utils/ByteArrayBase",
    "ByteArrayBase",
    "_mode",
    "writeByte",
    "writeUnsignedByte",
    "readUnsignedByte",
    "writeUnsignedShort",
    "writeUnsignedInt",
    "writeFloat",
    "toFloatBits",
    "readFloat",
    "fromFloatBits",
    "compareEqual",
    "other",
    "count",
    "co0",
    "c0",
    "writeBase64String",
    "dumpToConsole",
    "oldpos",
    "nstep",
    "asHexString",
    "digits",
    "lut",
    "sh",
    "readBase64String",
    "internalGetBase64String",
    "getUnsignedByteFunc",
    "self",
    "b0",
    "b1",
    "b2",
    "enc1",
    "enc2",
    "enc3",
    "enc4",
    "base64Key",
    "Base64Key",
    "awayjs-core/lib/utils/ByteArrayBuffer",
    "ByteArrayBuffer",
    "_bytes",
    "bi",
    "Number",
    "sign",
    "exponent",
    "mantissa",
    "maxlength",
    "unalignedarraybytestemp",
    "ensureWriteableSpace",
    "ensureSpace",
    "aBuffer",
    "inInt8AView",
    "Int8Array",
    "localInt8View",
    "newmaxlength",
    "newarraybuffer",
    "view",
    "newview",
    "readBytes",
    "byteView",
    "localByteView",
    "subarray",
    "Uint16Array",
    "view2",
    "view3",
    "max",
    "DataView",
    "getUint8",
    "c2",
    "c3",
    "readInt",
    "int",
    "getInt32",
    "short",
    "getInt16",
    "readDouble",
    "double",
    "getFloat64",
    "pa",
    "Uint32Array",
    "Float32Array",
    "awayjs-core/lib/utils/CSS",
    "CSS",
    "setElementSize",
    "element",
    "style",
    "setElementWidth",
    "setElementHeight",
    "setElementX",
    "setElementY",
    "getElementVisibility",
    "visibility",
    "setElementVisibility",
    "visible",
    "setElementAlpha",
    "HTMLCanvasElement",
    "globalAlpha",
    "setElementPosition",
    "absolute",
    "float32Color",
    "componentToHex",
    "hex",
    "RGBToHexString",
    "ARGBToHexString",
    "awayjs-core/lib/utils/Debug",
    "Debug",
    "breakpoint",
    "throwPIROnKeyWordOnly",
    "enable",
    "keyword",
    "throwPIR",
    "clss",
    "fnc",
    "msg",
    "logPIR",
    "THROW_ERRORS",
    "LOG_PI_ERRORS",
    "args",
    "_i",
    "arguments",
    "ENABLE_LOG",
    "awayjs-core/lib/utils/RequestAnimationFrame",
    "RequestAnimationFrame",
    "callback",
    "callbackContext",
    "_active",
    "_argsArray",
    "_getTimer",
    "setCallback",
    "_rafUpdateFunction",
    "_tick",
    "_dt",
    "_callback",
    "_callbackContext",
    "_prevTime",
    "requestAnimationFrame",
    "_currentTime",
    "MAX_SIZE",
    "isPowerOfTwo",
    "getBestPowerOf2",
    "delay",
    "repeatCount",
    "_repeatCount",
    "_currentCount",
    "_running",
    "_delay",
    "clearInterval",
    "_iid",
    "setInterval",
    "tick",
    "now"
  ],
  "mappings": "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",
  "file": "awayjs-core.min.js",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "class BitmapDataChannel\n{\n\tpublic static ALPHA:number /*uint*/ = 8;\n\tpublic static BLUE:number /*uint*/ = 4;\n\tpublic static GREEN:number /*uint*/ = 2;\n\tpublic static RED:number /*uint*/ = 1;\n}\n\nexport = BitmapDataChannel;",
    null,
    "import BlendMode\t\t\t\t= require(\"awayjs-core/lib/data/BlendMode\");\nimport ColorTransform\t\t\t= require(\"awayjs-core/lib/geom/ColorTransform\");\nimport Matrix\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\nimport Point\t\t\t\t\t= require(\"awayjs-core/lib/geom/Point\");\nimport ByteArray\t\t\t\t= require(\"awayjs-core/lib/utils/ByteArray\");\nimport ColorUtils\t\t\t\t= require(\"awayjs-core/lib/utils/ColorUtils\");\n\n/**\n * The BitmapData class lets you work with the data(pixels) of a Bitmap\n * object. You can use the methods of the BitmapData class to create\n * arbitrarily sized transparent or opaque bitmap images and manipulate them\n * in various ways at runtime. You can also access the BitmapData for a bitmap\n * image that you load with the <code>flash.Assets</code> or\n * <code>flash.display.Loader</code> classes.\n *\n * <p>This class lets you separate bitmap rendering operations from the\n * internal display updating routines of flash. By manipulating a\n * BitmapData object directly, you can create complex images without incurring\n * the per-frame overhead of constantly redrawing the content from vector\n * data.</p>\n *\n * <p>The methods of the BitmapData class support effects that are not\n * available through the filters available to non-bitmap display objects.</p>\n *\n * <p>A BitmapData object contains an array of pixel data. This data can\n * represent either a fully opaque bitmap or a transparent bitmap that\n * contains alpha channel data. Either type of BitmapData object is stored as\n * a buffer of 32-bit integers. Each 32-bit integer determines the properties\n * of a single pixel in the bitmap.</p>\n *\n * <p>Each 32-bit integer is a combination of four 8-bit channel values(from\n * 0 to 255) that describe the alpha transparency and the red, green, and blue\n * (ARGB) values of the pixel.(For ARGB values, the most significant byte\n * represents the alpha channel value, followed by red, green, and blue.)</p>\n *\n * <p>The four channels(alpha, red, green, and blue) are represented as\n * numbers when you use them with the <code>BitmapData.copyChannel()</code>\n * method or the <code>DisplacementMapFilter.componentX</code> and\n * <code>DisplacementMapFilter.componentY</code> properties, and these numbers\n * are represented by the following constants in the BitmapDataChannel\n * class:</p>\n *\n * <ul>\n *   <li><code>BitmapDataChannel.ALPHA</code></li>\n *   <li><code>BitmapDataChannel.RED</code></li>\n *   <li><code>BitmapDataChannel.GREEN</code></li>\n *   <li><code>BitmapDataChannel.BLUE</code></li>\n * </ul>\n *\n * <p>You can attach BitmapData objects to a Bitmap object by using the\n * <code>bitmapData</code> property of the Bitmap object.</p>\n *\n * <p>You can use a BitmapData object to fill a Graphics object by using the\n * <code>Graphics.beginBitmapFill()</code> method.</p>\n *\n * <p>You can also use a BitmapData object to perform batch tile rendering\n * using the <code>flash.display.Tilesheet</code> class.</p>\n *\n * <p>In Flash Player 10, the maximum size for a BitmapData object\n * is 8,191 pixels in width or height, and the total number of pixels cannot\n * exceed 16,777,215 pixels.(So, if a BitmapData object is 8,191 pixels wide,\n * it can only be 2,048 pixels high.) In Flash Player 9 and earlier, the limitation\n * is 2,880 pixels in height and 2,880 in width.</p>\n */\nclass BitmapData\n{\n\tprivate _imageCanvas:HTMLCanvasElement;\n\tprivate _context:CanvasRenderingContext2D;\n\tprivate _imageData:ImageData;\n\tprivate _rect:Rectangle;\n\tprivate _transparent:boolean;\n\tprivate _locked:boolean = false;\n\n\t/**\n\t * The height of the bitmap image in pixels.\n\t */\n\tpublic get height():number\n\t{\n\t\treturn this._rect.height;\n\t}\n\n\tpublic set height(value:number)\n\t{\n\t\tif (this._rect.height == value)\n\t\t\treturn;\n\n\t\tthis._rect.height = value;\n\n\t\tif (this._locked)\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\n\t\tthis._imageCanvas.height = value;\n\n\t\tif (this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\t}\n\n\t/**\n\t * The rectangle that defines the size and location of the bitmap image. The\n\t * top and left of the rectangle are 0; the width and height are equal to the\n\t * width and height in pixels of the BitmapData object.\n\t */\n\tpublic get rect():Rectangle\n\t{\n\t\treturn this._rect;\n\t}\n\n\t/**\n\t * Defines whether the bitmap image supports per-pixel transparency. You can\n\t * set this value only when you construct a BitmapData object by passing in\n\t * <code>true</code> for the <code>transparent</code> parameter of the\n\t * constructor. Then, after you create a BitmapData object, you can check\n\t * whether it supports per-pixel transparency by determining if the value of\n\t * the <code>transparent</code> property is <code>true</code>.\n\t */\n\tpublic get transparent():boolean\n\t{\n\t\treturn this._transparent;\n\t}\n\n\tpublic set transparent(value:boolean)\n\t{\n\t\tthis._transparent = value;\n\t}\n\n\t/**\n\t * The width of the bitmap image in pixels.\n\t */\n\tpublic get width():number\n\t{\n\t\treturn this._rect.width;\n\t}\n\n\tpublic set width(value:number)\n\t{\n\t\tif (this._rect.width == value)\n\t\t\treturn;\n\n\t\tthis._rect.width = value;\n\n\t\tif (this._locked)\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\n\t\tthis._imageCanvas.width = value;\n\n\t\tif (this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\t}\n\n\t/**\n\t * Creates a BitmapData object with a specified width and height. If you\n\t * specify a value for the <code>fillColor</code> parameter, every pixel in\n\t * the bitmap is set to that color.\n\t *\n\t * <p>By default, the bitmap is created as transparent, unless you pass\n\t * the value <code>false</code> for the transparent parameter. After you\n\t * create an opaque bitmap, you cannot change it to a transparent bitmap.\n\t * Every pixel in an opaque bitmap uses only 24 bits of color channel\n\t * information. If you define the bitmap as transparent, every pixel uses 32\n\t * bits of color channel information, including an alpha transparency\n\t * channel.</p>\n\t *\n\t * @param width       The width of the bitmap image in pixels.\n\t * @param height      The height of the bitmap image in pixels.\n\t * @param transparent Specifies whether the bitmap image supports per-pixel\n\t *                    transparency. The default value is <code>true</code>\n\t *                    (transparent). To create a fully transparent bitmap,\n\t *                    set the value of the <code>transparent</code>\n\t *                    parameter to <code>true</code> and the value of the\n\t *                    <code>fillColor</code> parameter to 0x00000000(or to\n\t *                    0). Setting the <code>transparent</code> property to\n\t *                    <code>false</code> can result in minor improvements\n\t *                    in rendering performance.\n\t * @param fillColor   A 32-bit ARGB color value that you use to fill the\n\t *                    bitmap image area. The default value is\n\t *                    0xFFFFFFFF(solid white).\n\t */\n\tconstructor(width:number, height:number, transparent:boolean = true, fillColor:number = null)\n\t{\n\t\tthis._transparent = transparent;\n\t\tthis._imageCanvas = <HTMLCanvasElement> document.createElement(\"canvas\");\n\t\tthis._imageCanvas.width = width;\n\t\tthis._imageCanvas.height = height;\n\t\tthis._context = this._imageCanvas.getContext(\"2d\");\n\t\tthis._rect = new Rectangle(0, 0, width, height);\n\n\t\tif (fillColor != null)\n\t\t\tthis.fillRect(this._rect, fillColor);\n\t}\n\n\t/**\n\t * Returns a new BitmapData object that is a clone of the original instance\n\t * with an exact copy of the contained bitmap.\n\t *\n\t * @return A new BitmapData object that is identical to the original.\n\t */\n\tpublic clone():BitmapData\n\t{\n\t\tvar t:BitmapData = new BitmapData(this.width, this.height, this.transparent);\n\t\tt.draw(this);\n\t\treturn t;\n\t}\n\n\t/**\n\t * Adjusts the color values in a specified area of a bitmap image by using a\n\t * <code>ColorTransform</code> object. If the rectangle matches the\n\t * boundaries of the bitmap image, this method transforms the color values of\n\t * the entire image.\n\t *\n\t * @param rect           A Rectangle object that defines the area of the\n\t *                       image in which the ColorTransform object is applied.\n\t * @param colorTransform A ColorTransform object that describes the color\n\t *                       transformation values to apply.\n\t */\n\tpublic colorTransform(rect:Rectangle, colorTransform:ColorTransform)\n\t{\n\t\tif (!this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\tvar data:Array<number> = this._imageData.data;\n\n\t\tvar i:number /*uint*/, j:number /*uint*/, index:number /*uint*/;\n\t\tfor (i = 0; i < rect.width; ++i) {\n\t\t\tfor (j = 0; j < rect.height; ++j) {\n\t\t\t\tindex = (i + rect.x + (j + rect.y)*this.width)*4;\n\n\t\t\t\tdata[index] = data[index]*colorTransform.redMultiplier + colorTransform.redOffset;\n\t\t\t\tdata[index + 1] = data[index + 1]*colorTransform.greenMultiplier + colorTransform.greenOffset;\n\t\t\t\tdata[index + 2] = data[index + 2]*colorTransform.blueMultiplier + colorTransform.blueOffset;\n\t\t\t\tdata[index + 3] = data[index + 3]*colorTransform.alphaMultiplier + colorTransform.alphaOffset;\n\t\t\t}\n\t\t}\n\n\t\tif (!this._locked) {\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\t}\n\n\t/**\n\t * Transfers data from one channel of another BitmapData object or the\n\t * current BitmapData object into a channel of the current BitmapData object.\n\t * All of the data in the other channels in the destination BitmapData object\n\t * are preserved.\n\t *\n\t * <p>The source channel value and destination channel value can be one of\n\t * following values: </p>\n\t *\n\t * <ul>\n\t *   <li><code>BitmapDataChannel.RED</code></li>\n\t *   <li><code>BitmapDataChannel.GREEN</code></li>\n\t *   <li><code>BitmapDataChannel.BLUE</code></li>\n\t *   <li><code>BitmapDataChannel.ALPHA</code></li>\n\t * </ul>\n\t *\n\t * @param sourceBitmapData The input bitmap image to use. The source image\n\t *                         can be a different BitmapData object or it can\n\t *                         refer to the current BitmapData object.\n\t * @param sourceRect       The source Rectangle object. To copy only channel\n\t *                         data from a smaller area within the bitmap,\n\t *                         specify a source rectangle that is smaller than\n\t *                         the overall size of the BitmapData object.\n\t * @param destPoint        The destination Point object that represents the\n\t *                         upper-left corner of the rectangular area where\n\t *                         the new channel data is placed. To copy only\n\t *                         channel data from one area to a different area in\n\t *                         the destination image, specify a point other than\n\t *                        (0,0).\n\t * @param sourceChannel    The source channel. Use a value from the\n\t *                         BitmapDataChannel class\n\t *                        (<code>BitmapDataChannel.RED</code>,\n\t *                         <code>BitmapDataChannel.BLUE</code>,\n\t *                         <code>BitmapDataChannel.GREEN</code>,\n\t *                         <code>BitmapDataChannel.ALPHA</code>).\n\t * @param destChannel      The destination channel. Use a value from the\n\t *                         BitmapDataChannel class\n\t *                        (<code>BitmapDataChannel.RED</code>,\n\t *                         <code>BitmapDataChannel.BLUE</code>,\n\t *                         <code>BitmapDataChannel.GREEN</code>,\n\t *                         <code>BitmapDataChannel.ALPHA</code>).\n\t * @throws TypeError The sourceBitmapData, sourceRect or destPoint are null.\n\t */\n\tpublic copyChannel(sourceBitmap:BitmapData, sourceRect:Rectangle, destPoint:Point, sourceChannel:number, destChannel:number)\n\t{\n\t\tvar imageData:ImageData = sourceBitmap.imageData;\n\n\t\tif (!this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\tvar sourceData:Array<number> = sourceBitmap.imageData.data;\n\t\tvar destData:Array<number> = this._imageData.data;\n\n\t\tvar sourceOffset:number = Math.round(Math.log(sourceChannel)/Math.log(2));\n\t\tvar destOffset:number = Math.round(Math.log(destChannel)/Math.log(2));\n\n\t\tvar i:number /*uint*/, j:number /*uint*/, sourceIndex:number /*uint*/, destIndex:number /*uint*/;\n\t\tfor (i = 0; i < sourceRect.width; ++i) {\n\t\t\tfor (j = 0; j < sourceRect.height; ++j) {\n\t\t\t\tsourceIndex = (i + sourceRect.x + (j + sourceRect.y)*sourceBitmap.width)*4;\n\t\t\t\tdestIndex = (i + destPoint.x + (j + destPoint.y)*this.width)*4;\n\n\t\t\t\tdestData[destIndex + destOffset] = sourceData[sourceIndex + sourceOffset];\n\t\t\t}\n\t\t}\n\n\t\tif (!this._locked) {\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\t}\n\n\t/**\n\t * Provides a fast routine to perform pixel manipulation between images with\n\t * no stretching, rotation, or color effects. This method copies a\n\t * rectangular area of a source image to a rectangular area of the same size\n\t * at the destination point of the destination BitmapData object.\n\t *\n\t * <p>If you include the <code>alphaBitmap</code> and <code>alphaPoint</code>\n\t * parameters, you can use a secondary image as an alpha source for the\n\t * source image. If the source image has alpha data, both sets of alpha data\n\t * are used to composite pixels from the source image to the destination\n\t * image. The <code>alphaPoint</code> parameter is the point in the alpha\n\t * image that corresponds to the upper-left corner of the source rectangle.\n\t * Any pixels outside the intersection of the source image and alpha image\n\t * are not copied to the destination image.</p>\n\t *\n\t * <p>The <code>mergeAlpha</code> property controls whether or not the alpha\n\t * channel is used when a transparent image is copied onto another\n\t * transparent image. To copy pixels with the alpha channel data, set the\n\t * <code>mergeAlpha</code> property to <code>true</code>. By default, the\n\t * <code>mergeAlpha</code> property is <code>false</code>.</p>\n\t *\n\t * @param sourceBitmapData The input bitmap image from which to copy pixels.\n\t *                         The source image can be a different BitmapData\n\t *                         instance, or it can refer to the current\n\t *                         BitmapData instance.\n\t * @param sourceRect       A rectangle that defines the area of the source\n\t *                         image to use as input.\n\t * @param destPoint        The destination point that represents the\n\t *                         upper-left corner of the rectangular area where\n\t *                         the new pixels are placed.\n\t * @param alphaBitmapData  A secondary, alpha BitmapData object source.\n\t * @param alphaPoint       The point in the alpha BitmapData object source\n\t *                         that corresponds to the upper-left corner of the\n\t *                         <code>sourceRect</code> parameter.\n\t * @param mergeAlpha       To use the alpha channel, set the value to\n\t *                         <code>true</code>. To copy pixels with no alpha\n\t *                         channel, set the value to <code>false</code>.\n\t * @throws TypeError The sourceBitmapData, sourceRect, destPoint are null.\n\t */\n\tpublic copyPixels(bmpd:BitmapData, sourceRect:Rectangle, destRect:Rectangle);\n\tpublic copyPixels(bmpd:HTMLImageElement, sourceRect:Rectangle, destRect:Rectangle);\n\tpublic copyPixels(bmpd:any, sourceRect:Rectangle, destRect:Rectangle)\n\t{\n\n\t\tif (this._locked) {\n\n\t\t\t// If canvas is locked:\n\t\t\t//\n\t\t\t//      1) copy image data back to canvas\n\t\t\t//      2) draw object\n\t\t\t//      3) read _imageData back out\n\n\t\t\tif (this._imageData)\n\t\t\t\tthis._context.putImageData(this._imageData, 0, 0); // at coords 0,0\n\n\t\t\tthis._copyPixels(bmpd, sourceRect, destRect);\n\n\t\t\tif (this._imageData)\n\t\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\t} else {\n\t\t\tthis._copyPixels(bmpd, sourceRect, destRect);\n\t\t}\n\t}\n\n\t/**\n\t * Frees memory that is used to store the BitmapData object.\n\t *\n\t * <p>When the <code>dispose()</code> method is called on an image, the width\n\t * and height of the image are set to 0. All subsequent calls to methods or\n\t * properties of this BitmapData instance fail, and an exception is thrown.\n\t * </p>\n\t *\n\t * <p><code>BitmapData.dispose()</code> releases the memory occupied by the\n\t * actual bitmap data, immediately(a bitmap can consume up to 64 MB of\n\t * memory). After using <code>BitmapData.dispose()</code>, the BitmapData\n\t * object is no longer usable and an exception may be thrown if\n\t * you call functions on the BitmapData object. However,\n\t * <code>BitmapData.dispose()</code> does not garbage collect the BitmapData\n\t * object(approximately 128 bytes); the memory occupied by the actual\n\t * BitmapData object is released at the time the BitmapData object is\n\t * collected by the garbage collector.</p>\n\t *\n\t */\n\tpublic dispose()\n\t{\n\t\tthis._context = null;\n\t\tthis._imageCanvas = null;\n\t\tthis._imageData = null;\n\t\tthis._rect = null;\n\t\tthis._transparent = null;\n\t\tthis._locked = null;\n\t}\n\n\t/**\n\t * Draws the <code>source</code> display object onto the bitmap image, using\n\t * the NME software renderer. You can specify <code>matrix</code>,\n\t * <code>colorTransform</code>, <code>blendMode</code>, and a destination\n\t * <code>clipRect</code> parameter to control how the rendering performs.\n\t * Optionally, you can specify whether the bitmap should be smoothed when\n\t * scaled(this works only if the source object is a BitmapData object).\n\t *\n\t * <p>The source display object does not use any of its applied\n\t * transformations for this call. It is treated as it exists in the library\n\t * or file, with no matrix transform, no color transform, and no blend mode.\n\t * To draw a display object(such as a movie clip) by using its own transform\n\t * properties, you can copy its <code>transform</code> property object to the\n\t * <code>transform</code> property of the Bitmap object that uses the\n\t * BitmapData object.</p>\n\t *\n\t * @param source         The display object or BitmapData object to draw to\n\t *                       the BitmapData object.(The DisplayObject and\n\t *                       BitmapData classes implement the IBitmapDrawable\n\t *                       interface.)\n\t * @param matrix         A Matrix object used to scale, rotate, or translate\n\t *                       the coordinates of the bitmap. If you do not want to\n\t *                       apply a matrix transformation to the image, set this\n\t *                       parameter to an identity matrix, created with the\n\t *                       default <code>new Matrix()</code> constructor, or\n\t *                       pass a <code>null</code> value.\n\t * @param colorTransform A ColorTransform object that you use to adjust the\n\t *                       color values of the bitmap. If no object is\n\t *                       supplied, the bitmap image's colors are not\n\t *                       transformed. If you must pass this parameter but you\n\t *                       do not want to transform the image, set this\n\t *                       parameter to a ColorTransform object created with\n\t *                       the default <code>new ColorTransform()</code>\n\t *                       constructor.\n\t * @param blendMode      A string value, from the flash.display.BlendMode\n\t *                       class, specifying the blend mode to be applied to\n\t *                       the resulting bitmap.\n\t * @param clipRect       A Rectangle object that defines the area of the\n\t *                       source object to draw. If you do not supply this\n\t *                       value, no clipping occurs and the entire source\n\t *                       object is drawn.\n\t * @param smoothing      A Boolean value that determines whether a BitmapData\n\t *                       object is smoothed when scaled or rotated, due to a\n\t *                       scaling or rotation in the <code>matrix</code>\n\t *                       parameter. The <code>smoothing</code> parameter only\n\t *                       applies if the <code>source</code> parameter is a\n\t *                       BitmapData object. With <code>smoothing</code> set\n\t *                       to <code>false</code>, the rotated or scaled\n\t *                       BitmapData image can appear pixelated or jagged. For\n\t *                       example, the following two images use the same\n\t *                       BitmapData object for the <code>source</code>\n\t *                       parameter, but the <code>smoothing</code> parameter\n\t *                       is set to <code>true</code> on the left and\n\t *                       <code>false</code> on the right:\n\t *\n\t *                       <p>Drawing a bitmap with <code>smoothing</code> set\n\t *                       to <code>true</code> takes longer than doing so with\n\t *                       <code>smoothing</code> set to\n\t *                       <code>false</code>.</p>\n\t * @throws ArgumentError The <code>source</code> parameter is not a\n\t *                       BitmapData or DisplayObject object.\n\t * @throws ArgumentError The source is null or not a valid IBitmapDrawable\n\t *                       object.\n\t * @throws SecurityError The <code>source</code> object and(in the case of a\n\t *                       Sprite or MovieClip object) all of its child objects\n\t *                       do not come from the same domain as the caller, or\n\t *                       are not in a content that is accessible to the\n\t *                       caller by having called the\n\t *                       <code>Security.allowDomain()</code> method. This\n\t *                       restriction does not apply to AIR content in the\n\t *                       application security sandbox.\n\t */\n\tpublic draw(source:BitmapData, matrix?:Matrix, colorTransform?:ColorTransform, blendMode?:BlendMode, clipRect?:Rectangle, smoothing?:boolean);\n\tpublic draw(source:HTMLElement, matrix?:Matrix, colorTransform?:ColorTransform, blendMode?:BlendMode, clipRect?:Rectangle, smoothing?:boolean);\n\tpublic draw(source:any, matrix?:Matrix, colorTransform?:ColorTransform, blendMode?:BlendMode, clipRect?:Rectangle, smoothing?:boolean)\n\t{\n\t\tif (this._locked) {\n\n\t\t\t// If canvas is locked:\n\t\t\t//\n\t\t\t//      1) copy image data back to canvas\n\t\t\t//      2) draw object\n\t\t\t//      3) read _imageData back out\n\n\t\t\tthis._context.putImageData(this._imageData, 0, 0); // at coords 0,0\n\t\t\tthis._draw(source, matrix, colorTransform, blendMode, clipRect, smoothing);\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\t\t} else {\n\t\t\tthis._draw(source, matrix, colorTransform, blendMode, clipRect, smoothing);\n\t\t}\n\t}\n\n\t/**\n\t * Fills a rectangular area of pixels with a specified ARGB color.\n\t *\n\t * @param rect  The rectangular area to fill.\n\t * @param color The ARGB color value that fills the area. ARGB colors are\n\t *              often specified in hexadecimal format; for example,\n\t *              0xFF336699.\n\t * @throws TypeError The rect is null.\n\t */\n\tpublic fillRect(rect:Rectangle, color:number)\n\t{\n\t\tif (this._locked) {\n\n\t\t\t// If canvas is locked:\n\t\t\t//\n\t\t\t//      1) copy image data back to canvas\n\t\t\t//      2) apply fill\n\t\t\t//      3) read _imageData back out\n\n\t\t\tif (this._imageData)\n\t\t\t\tthis._context.putImageData(this._imageData, 0, 0); // at coords 0,0\n\n\t\t\tthis._fillRect(rect, color);\n\n\t\t\tif (this._imageData)\n\t\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\t\t} else {\n\t\t\tthis._fillRect(rect, color);\n\t\t}\n\t}\n\n\t/**\n\t * Returns an integer that represents an RGB pixel value from a BitmapData\n\t * object at a specific point(<i>x</i>, <i>y</i>). The\n\t * <code>getPixel()</code> method returns an unmultiplied pixel value. No\n\t * alpha information is returned.\n\t *\n\t * <p>All pixels in a BitmapData object are stored as premultiplied color\n\t * values. A premultiplied image pixel has the red, green, and blue color\n\t * channel values already multiplied by the alpha data. For example, if the\n\t * alpha value is 0, the values for the RGB channels are also 0, independent\n\t * of their unmultiplied values. This loss of data can cause some problems\n\t * when you perform operations. All BitmapData methods take and return\n\t * unmultiplied values. The internal pixel representation is converted from\n\t * premultiplied to unmultiplied before it is returned as a value. During a\n\t * set operation, the pixel value is premultiplied before the raw image pixel\n\t * is set.</p>\n\t *\n\t * @param x The <i>x</i> position of the pixel.\n\t * @param y The <i>y</i> position of the pixel.\n\t * @return A number that represents an RGB pixel value. If the(<i>x</i>,\n\t *         <i>y</i>) coordinates are outside the bounds of the image, the\n\t *         method returns 0.\n\t */\n\tpublic getPixel(x, y):number\n\t{\n\t\tvar r:number;\n\t\tvar g:number;\n\t\tvar b:number;\n\t\tvar a:number;\n\n\t\tif (!this._locked) {\n\t\t\tvar pixelData:ImageData = this._context.getImageData(x, y, 1, 1);\n\n\t\t\tr = pixelData.data[0];\n\t\t\tg = pixelData.data[1];\n\t\t\tb = pixelData.data[2];\n\t\t\ta = pixelData.data[3];\n\n\t\t} else {\n\t\t\tvar index:number = (x + y*this._imageCanvas.width)*4;\n\n\t\t\tr = this._imageData.data[index + 0];\n\t\t\tg = this._imageData.data[index + 1];\n\t\t\tb = this._imageData.data[index + 2];\n\t\t\ta = this._imageData.data[index + 3];\n\t\t}\n\n\t\t//returns black if fully transparent\n\t\tif (!a)\n\t\t\treturn 0x0;\n\n\t\treturn (r << 16) | (g << 8) | b;\n\t}\n\n\t/**\n\t * Returns an ARGB color value that contains alpha channel data and RGB data.\n\t * This method is similar to the <code>getPixel()</code> method, which\n\t * returns an RGB color without alpha channel data.\n\t *\n\t * <p>All pixels in a BitmapData object are stored as premultiplied color\n\t * values. A premultiplied image pixel has the red, green, and blue color\n\t * channel values already multiplied by the alpha data. For example, if the\n\t * alpha value is 0, the values for the RGB channels are also 0, independent\n\t * of their unmultiplied values. This loss of data can cause some problems\n\t * when you perform operations. All BitmapData methods take and return\n\t * unmultiplied values. The internal pixel representation is converted from\n\t * premultiplied to unmultiplied before it is returned as a value. During a\n\t * set operation, the pixel value is premultiplied before the raw image pixel\n\t * is set.</p>\n\t *\n\t * @param x The <i>x</i> position of the pixel.\n\t * @param y The <i>y</i> position of the pixel.\n\t * @return A number representing an ARGB pixel value. If the(<i>x</i>,\n\t *         <i>y</i>) coordinates are outside the bounds of the image, 0 is\n\t *         returned.\n\t */\n\tpublic getPixel32(x, y):number\n\t{\n\t\tvar r:number;\n\t\tvar g:number;\n\t\tvar b:number;\n\t\tvar a:number;\n\n\t\tif (!this._locked) {\n\t\t\tvar pixelData:ImageData = this._context.getImageData(x, y, 1, 1);\n\n\t\t\tr = pixelData.data[0];\n\t\t\tg = pixelData.data[1];\n\t\t\tb = pixelData.data[2];\n\t\t\ta = pixelData.data[3];\n\n\t\t} else {\n\t\t\tvar index:number = (x + y*this._imageCanvas.width)*4;\n\n\t\t\tr = this._imageData.data[index + 0];\n\t\t\tg = this._imageData.data[index + 1];\n\t\t\tb = this._imageData.data[index + 2];\n\t\t\ta = this._imageData.data[index + 3];\n\t\t}\n\n\t\treturn (a << 24) | (r << 16) | (g << 8) | b;\n\t}\n\n\t/**\n\t * Locks an image so that any objects that reference the BitmapData object,\n\t * such as Bitmap objects, are not updated when this BitmapData object\n\t * changes. To improve performance, use this method along with the\n\t * <code>unlock()</code> method before and after numerous calls to the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method.\n\t *\n\t */\n\tpublic lock()\n\t{\n\t\tif (this._locked)\n\t\t\treturn;\n\n\t\tthis._locked = true;\n\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\t}\n\n\t/**\n\t * Converts an Array into a rectangular region of pixel data. For each pixel,\n\t * an Array element is read and written into the BitmapData pixel. The data\n\t * in the Array is expected to be 32-bit ARGB pixel values.\n\t *\n\t * @param rect        Specifies the rectangular region of the BitmapData\n\t *                    object.\n\t * @param inputArray  An Array that consists of 32-bit unmultiplied pixel\n\t *                    values to be used in the rectangular region.\n\t * @throws RangeError The vector array is not large enough to read all the\n\t *                    pixel data.\n\t */\n\tpublic setArray(rect:Rectangle, inputArray:Array<number>)\n\t{\n\t\tif (!this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\tvar i:number /*uint*/, j:number /*uint*/, index:number /*uint*/, argb:number[] /*uint*/;\n\t\tfor (i = 0; i < rect.width; ++i) {\n\t\t\tfor (j = 0; j < rect.height; ++j) {\n\t\t\t\targb = ColorUtils.float32ColorToARGB(inputArray[i + j*rect.width]);\n\t\t\t\tindex = (i + rect.x + (j + rect.y)*this._imageCanvas.width)*4;\n\n\t\t\t\tthis._imageData.data[index + 0] = argb[1];\n\t\t\t\tthis._imageData.data[index + 1] = argb[2];\n\t\t\t\tthis._imageData.data[index + 2] = argb[3];\n\t\t\t\tthis._imageData.data[index + 3] = argb[0];\n\t\t\t}\n\t\t}\n\n\t\tif (!this._locked) {\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\t}\n\n\t/**\n\t * Sets a single pixel of a BitmapData object. The current alpha channel\n\t * value of the image pixel is preserved during this operation. The value of\n\t * the RGB color parameter is treated as an unmultiplied color value.\n\t *\n\t * <p><b>Note:</b> To increase performance, when you use the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method repeatedly,\n\t * call the <code>lock()</code> method before you call the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method, and then call\n\t * the <code>unlock()</code> method when you have made all pixel changes.\n\t * This process prevents objects that reference this BitmapData instance from\n\t * updating until you finish making the pixel changes.</p>\n\t *\n\t * @param x     The <i>x</i> position of the pixel whose value changes.\n\t * @param y     The <i>y</i> position of the pixel whose value changes.\n\t * @param color The resulting RGB color for the pixel.\n\t */\n\tpublic setPixel(x:number, y:number, color:number)\n\t{\n\t\tvar argb:number[] = ColorUtils.float32ColorToARGB(color);\n\n\t\tif (!this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\tvar index:number = (x + y*this._imageCanvas.width)*4;\n\n\t\tthis._imageData.data[index + 0] = argb[1];\n\t\tthis._imageData.data[index + 1] = argb[2];\n\t\tthis._imageData.data[index + 2] = argb[3];\n\t\tthis._imageData.data[index + 3] = 255;\n\n\t\tif (!this._locked) {\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\t}\n\n\t/**\n\t * Sets the color and alpha transparency values of a single pixel of a\n\t * BitmapData object. This method is similar to the <code>setPixel()</code>\n\t * method; the main difference is that the <code>setPixel32()</code> method\n\t * takes an ARGB color value that contains alpha channel information.\n\t *\n\t * <p>All pixels in a BitmapData object are stored as premultiplied color\n\t * values. A premultiplied image pixel has the red, green, and blue color\n\t * channel values already multiplied by the alpha data. For example, if the\n\t * alpha value is 0, the values for the RGB channels are also 0, independent\n\t * of their unmultiplied values. This loss of data can cause some problems\n\t * when you perform operations. All BitmapData methods take and return\n\t * unmultiplied values. The internal pixel representation is converted from\n\t * premultiplied to unmultiplied before it is returned as a value. During a\n\t * set operation, the pixel value is premultiplied before the raw image pixel\n\t * is set.</p>\n\t *\n\t * <p><b>Note:</b> To increase performance, when you use the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method repeatedly,\n\t * call the <code>lock()</code> method before you call the\n\t * <code>setPixel()</code> or <code>setPixel32()</code> method, and then call\n\t * the <code>unlock()</code> method when you have made all pixel changes.\n\t * This process prevents objects that reference this BitmapData instance from\n\t * updating until you finish making the pixel changes.</p>\n\t *\n\t * @param x     The <i>x</i> position of the pixel whose value changes.\n\t * @param y     The <i>y</i> position of the pixel whose value changes.\n\t * @param color The resulting ARGB color for the pixel. If the bitmap is\n\t *              opaque(not transparent), the alpha transparency portion of\n\t *              this color value is ignored.\n\t */\n\tpublic setPixel32(x, y, color:number)\n\t{\n\t\tvar argb:number[] = ColorUtils.float32ColorToARGB(color);\n\n\t\tif (!this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\tvar index:number = (x + y*this._imageCanvas.width)*4;\n\n\t\tthis._imageData.data[index + 0] = argb[1];\n\t\tthis._imageData.data[index + 1] = argb[2];\n\t\tthis._imageData.data[index + 2] = argb[3];\n\t\tthis._imageData.data[index + 3] = argb[0];\n\n\t\tif (!this._locked) {\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\t}\n\n\t/**\n\t * Converts a byte array into a rectangular region of pixel data. For each\n\t * pixel, the <code>ByteArray.readUnsignedInt()</code> method is called and\n\t * the return value is written into the pixel. If the byte array ends before\n\t * the full rectangle is written, the function returns. The data in the byte\n\t * array is expected to be 32-bit ARGB pixel values. No seeking is performed\n\t * on the byte array before or after the pixels are read.\n\t *\n\t * @param rect           Specifies the rectangular region of the BitmapData\n\t *                       object.\n\t * @param inputByteArray A ByteArray object that consists of 32-bit\n\t *                       unmultiplied pixel values to be used in the\n\t *                       rectangular region.\n\t * @throws EOFError  The <code>inputByteArray</code> object does not include\n\t *                   enough data to fill the area of the <code>rect</code>\n\t *                   rectangle. The method fills as many pixels as possible\n\t *                   before throwing the exception.\n\t * @throws TypeError The rect or inputByteArray are null.\n\t */\n\tpublic setPixels(rect:Rectangle, inputByteArray:ByteArray)\n\t{\n\t\tif (!this._locked)\n\t\t\tthis._imageData = this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\tinputByteArray.position = 0;\n\t\tvar i:number /*uint*/, j:number /*uint*/, index:number /*uint*/;\n\t\tfor (i = 0; i < rect.width; ++i) {\n\t\t\tfor (j = 0; j < rect.height; ++j) {\n\t\t\t\tindex = (i + rect.x + (j + rect.y)*this._imageCanvas.width)*4;\n\n\t\t\t\tthis._imageData.data[index + 0] = inputByteArray.readUnsignedInt();\n\t\t\t\tthis._imageData.data[index + 1] = inputByteArray.readUnsignedInt();\n\t\t\t\tthis._imageData.data[index + 2] = inputByteArray.readUnsignedInt();\n\t\t\t\tthis._imageData.data[index + 3] = inputByteArray.readUnsignedInt();\n\t\t\t}\n\t\t}\n\n\t\tif (!this._locked) {\n\t\t\tthis._context.putImageData(this._imageData, 0, 0);\n\t\t\tthis._imageData = null;\n\t\t}\n\t}\n\n\t/**\n\t * Unlocks an image so that any objects that reference the BitmapData object,\n\t * such as Bitmap objects, are updated when this BitmapData object changes.\n\t * To improve performance, use this method along with the <code>lock()</code>\n\t * method before and after numerous calls to the <code>setPixel()</code> or\n\t * <code>setPixel32()</code> method.\n\t *\n\t * @param changeRect The area of the BitmapData object that has changed. If\n\t *                   you do not specify a value for this parameter, the\n\t *                   entire area of the BitmapData object is considered\n\t *                   changed.\n\t */\n\tpublic unlock()\n\t{\n\t\tif (!this._locked)\n\t\t\treturn;\n\n\t\tthis._locked = false;\n\n\t\tthis._context.putImageData(this._imageData, 0, 0); // at coords 0,0\n\t\tthis._imageData = null;\n\t}\n\n\tprivate _copyPixels(bmpd:BitmapData, sourceRect:Rectangle, destRect:Rectangle);\n\tprivate _copyPixels(bmpd:HTMLImageElement, sourceRect:Rectangle, destRect:Rectangle);\n\tprivate _copyPixels(bmpd:any, sourceRect:Rectangle, destRect:Rectangle)\n\t{\n\n\t\tif (bmpd instanceof BitmapData) {\n\t\t\tthis._context.drawImage(bmpd.canvas, sourceRect.x, sourceRect.y, sourceRect.width, sourceRect.height, destRect.x, destRect.y, destRect.width, destRect.height);\n\t\t} else if (bmpd instanceof HTMLImageElement) {\n\t\t\tthis._context.drawImage(bmpd, sourceRect.x, sourceRect.y, sourceRect.width, sourceRect.height, destRect.x, destRect.y, destRect.width, destRect.height);\n\t\t}\n\n\t}\n\n\tprivate _draw(source:BitmapData, matrix:Matrix, colorTransform:ColorTransform, blendMode:BlendMode, clipRect:Rectangle, smoothing:boolean);\n\tprivate _draw(source:HTMLElement, matrix:Matrix, colorTransform:ColorTransform, blendMode:BlendMode, clipRect:Rectangle, smoothing:boolean);\n\tprivate _draw(source:any, matrix:Matrix, colorTransform:ColorTransform, blendMode:BlendMode, clipRect:Rectangle, smoothing:boolean)\n\t{\n\t\tif (source instanceof BitmapData) {\n\t\t\tthis._context.save();\n\n\t\t\tif (matrix != null)\n\t\t\t\tthis._context.setTransform(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n\n\t\t\tif (clipRect != null)\n\t\t\t\tthis._context.drawImage(source.canvas, clipRect.x, clipRect.y, clipRect.width, clipRect.height);\n\t\t\telse\n\t\t\t\tthis._context.drawImage(source.canvas, 0, 0);\n\n\t\t\tthis._context.restore();\n\n\t\t} else if (source instanceof HTMLElement) {\n\t\t\tthis._context.save();\n\n\t\t\tif (matrix != null)\n\t\t\t\tthis._context.setTransform(matrix.a, matrix.b, matrix.c, matrix.d, matrix.tx, matrix.ty);\n\n\t\t\tif (clipRect != null)\n\t\t\t\tthis._context.drawImage(source, clipRect.x, clipRect.y, clipRect.width, clipRect.height);\n\t\t\telse\n\t\t\t\tthis._context.drawImage(source, 0, 0);\n\n\t\t\tthis._context.restore();\n\t\t}\n\t}\n\n\tprivate _fillRect(rect:Rectangle, color:number)\n\t{\n\t\tif (color == 0x0 && this._transparent) {\n\t\t\tthis._context.clearRect(rect.x, rect.y, rect.width, rect.height);\n\t\t} else {\n\t\t\tvar argb:number[] = ColorUtils.float32ColorToARGB(color);\n\n\t\t\tif (this._transparent)\n\t\t\t\tthis._context.fillStyle = 'rgba(' + argb[1] + ',' + argb[2] + ',' + argb[3] + ',' + argb[0]/255 + ')';\n\t\t\telse\n\t\t\t\tthis._context.fillStyle = 'rgba(' + argb[1] + ',' + argb[2] + ',' + argb[3] + ',1)';\n\n\t\t\tthis._context.fillRect(rect.x, rect.y, rect.width, rect.height);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @returns {ImageData}\n\t */\n\tpublic get imageData():ImageData\n\t{\n\t\tif (!this._locked)\n\t\t\treturn this._context.getImageData(0, 0, this._rect.width, this._rect.height);\n\n\t\treturn this._imageData;\n\t}\n\n\t/**\n\t *\n\t * @returns {HTMLCanvasElement}\n\t */\n\tpublic get canvas()\n\t{\n\t\treturn this._imageCanvas;\n\t}\n}\n\nexport = BitmapData;",
    "/**\n * A class that provides constant values for visual blend mode effects. These\n * constants are used in the following:\n * <ul>\n *   <li> The <code>blendMode</code> property of the\n * flash.display.DisplayObject class.</li>\n *   <li> The <code>blendMode</code> parameter of the <code>draw()</code>\n * method of the flash.display.BitmapData class</li>\n * </ul>\n */\nclass BlendMode\n{\n\t/**\n\t * Adds the values of the constituent colors of the display object to the\n\t * colors of its background, applying a ceiling of 0xFF. This setting is\n\t * commonly used for animating a lightening dissolve between two objects.\n\t *\n\t * <p>For example, if the display object has a pixel with an RGB value of\n\t * 0xAAA633, and the background pixel has an RGB value of 0xDD2200, the\n\t * resulting RGB value for the displayed pixel is 0xFFC833(because 0xAA +\n\t * 0xDD > 0xFF, 0xA6 + 0x22 = 0xC8, and 0x33 + 0x00 = 0x33).</p>\n\t */\n\tpublic static ADD:string = \"add\";\n\n\t/**\n\t * Applies the alpha value of each pixel of the display object to the\n\t * background. This requires the <code>blendMode</code> property of the\n\t * parent display object be set to\n\t * <code>away.base.BlendMode.LAYER</code>.\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static ALPHA:string = \"alpha\";\n\n\t/**\n\t * Selects the darker of the constituent colors of the display object and the\n\t * colors of the background(the colors with the smaller values). This\n\t * setting is commonly used for superimposing type.\n\t *\n\t * <p>For example, if the display object has a pixel with an RGB value of\n\t * 0xFFCC33, and the background pixel has an RGB value of 0xDDF800, the\n\t * resulting RGB value for the displayed pixel is 0xDDCC00(because 0xFF >\n\t * 0xDD, 0xCC < 0xF8, and 0x33 > 0x00 = 33).</p>\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static DARKEN:string = \"darken\";\n\n\t/**\n\t * Compares the constituent colors of the display object with the colors of\n\t * its background, and subtracts the darker of the values of the two\n\t * constituent colors from the lighter value. This setting is commonly used\n\t * for more vibrant colors.\n\t *\n\t * <p>For example, if the display object has a pixel with an RGB value of\n\t * 0xFFCC33, and the background pixel has an RGB value of 0xDDF800, the\n\t * resulting RGB value for the displayed pixel is 0x222C33(because 0xFF -\n\t * 0xDD = 0x22, 0xF8 - 0xCC = 0x2C, and 0x33 - 0x00 = 0x33).</p>\n\t */\n\tpublic static DIFFERENCE:string = \"difference\";\n\n\t/**\n\t * Erases the background based on the alpha value of the display object. This\n\t * process requires that the <code>blendMode</code> property of the parent\n\t * display object be set to <code>flash.display.BlendMode.LAYER</code>.\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static ERASE:string = \"erase\";\n\n\t/**\n\t * Adjusts the color of each pixel based on the darkness of the display\n\t * object. If the display object is lighter than 50% gray, the display object\n\t * and background colors are screened, which results in a lighter color. If\n\t * the display object is darker than 50% gray, the colors are multiplied,\n\t * which results in a darker color. This setting is commonly used for shading\n\t * effects.\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static HARDLIGHT:string = \"hardlight\";\n\n\t/**\n\t * Inverts the background.\n\t */\n\tpublic static INVERT:string = \"invert\";\n\n\t/**\n\t * Forces the creation of a transparency group for the display object. This\n\t * means that the display object is precomposed in a temporary buffer before\n\t * it is processed further. The precomposition is done automatically if the\n\t * display object is precached by means of bitmap caching or if the display\n\t * object is a display object container that has at least one child object\n\t * with a <code>blendMode</code> setting other than <code>\"normal\"</code>.\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static LAYER:string = \"layer\";\n\n\t/**\n\t * Selects the lighter of the constituent colors of the display object and\n\t * the colors of the background(the colors with the larger values). This\n\t * setting is commonly used for superimposing type.\n\t *\n\t * <p>For example, if the display object has a pixel with an RGB value of\n\t * 0xFFCC33, and the background pixel has an RGB value of 0xDDF800, the\n\t * resulting RGB value for the displayed pixel is 0xFFF833(because 0xFF >\n\t * 0xDD, 0xCC < 0xF8, and 0x33 > 0x00 = 33).</p>\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static LIGHTEN:string = \"lighten\";\n\n\t/**\n\t * Multiplies the values of the display object constituent colors by the\n\t * constituent colors of the background color, and normalizes by dividing by\n\t * 0xFF, resulting in darker colors. This setting is commonly used for\n\t * shadows and depth effects.\n\t *\n\t * <p>For example, if a constituent color(such as red) of one pixel in the\n\t * display object and the corresponding color of the pixel in the background\n\t * both have the value 0x88, the multiplied result is 0x4840. Dividing by\n\t * 0xFF yields a value of 0x48 for that constituent color, which is a darker\n\t * shade than the color of the display object or the color of the\n\t * background.</p>\n\t */\n\tpublic static MULTIPLY:string = \"multiply\";\n\n\t/**\n\t * The display object appears in front of the background. Pixel values of the\n\t * display object override the pixel values of the background. Where the\n\t * display object is transparent, the background is visible.\n\t */\n\tpublic static NORMAL:string = \"normal\";\n\n\t/**\n\t * Adjusts the color of each pixel based on the darkness of the background.\n\t * If the background is lighter than 50% gray, the display object and\n\t * background colors are screened, which results in a lighter color. If the\n\t * background is darker than 50% gray, the colors are multiplied, which\n\t * results in a darker color. This setting is commonly used for shading\n\t * effects.\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static OVERLAY:string = \"overlay\";\n\n\t/**\n\t * Multiplies the complement(inverse) of the display object color by the\n\t * complement of the background color, resulting in a bleaching effect. This\n\t * setting is commonly used for highlights or to remove black areas of the\n\t * display object.\n\t */\n\tpublic static SCREEN:string = \"screen\";\n\n\t/**\n\t * Uses a shader to define the blend between objects.\n\t *\n\t * <p>Setting the <code>blendShader</code> property to a Shader instance\n\t * automatically sets the display object's <code>blendMode</code> property to\n\t * <code>BlendMode.SHADER</code>. If the <code>blendMode</code> property is\n\t * set to <code>BlendMode.SHADER</code> without first setting the\n\t * <code>blendShader</code> property, the <code>blendMode</code> property is\n\t * set to <code>BlendMode.NORMAL</code> instead. If the\n\t * <code>blendShader</code> property is set(which sets the\n\t * <code>blendMode</code> property to <code>BlendMode.SHADER</code>), then\n\t * later the value of the <code>blendMode</code> property is changed, the\n\t * blend mode can be reset to use the blend shader simply by setting the\n\t * <code>blendMode</code> property to <code>BlendMode.SHADER</code>. The\n\t * <code>blendShader</code> property does not need to be set again except to\n\t * change the shader that's used to define the blend mode.</p>\n\t *\n\t * <p>Not supported under GPU rendering.</p>\n\t */\n\tpublic static SHADER:string = \"shader\";\n\n\t/**\n\t * Subtracts the values of the constituent colors in the display object from\n\t * the values of the background color, applying a floor of 0. This setting is\n\t * commonly used for animating a darkening dissolve between two objects.\n\t *\n\t * <p>For example, if the display object has a pixel with an RGB value of\n\t * 0xAA2233, and the background pixel has an RGB value of 0xDDA600, the\n\t * resulting RGB value for the displayed pixel is 0x338400(because 0xDD -\n\t * 0xAA = 0x33, 0xA6 - 0x22 = 0x84, and 0x00 - 0x33 < 0x00).</p>\n\t */\n\tpublic static SUBTRACT:string = \"subtract\";\n}\n\nexport = BlendMode;",
    "import SubGeometryBase\t\t\t= require(\"awayjs-core/lib/data/SubGeometryBase\");\nimport Matrix3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport SubGeometryEvent\t\t\t= require(\"awayjs-core/lib/events/SubGeometryEvent\");\n\n/**\n * @class away.base.CurveSubGeometry\n */\nclass CurveSubGeometry extends SubGeometryBase\n{\n\tpublic static SUB_GEOMETRY_TYPE:string = \"curve\";\n\n\tpublic static POSITION_DATA:string = \"positions\";\n    public static CURVE_DATA:string = \"curves\";\n\tpublic static UV_DATA:string = \"uvs\";\n\n\t//TODO - move these to StageGL\n\tpublic static POSITION_FORMAT:string = \"float3\";\n\tpublic static CURVE_FORMAT:string = \"float2\";\n\tpublic static UV_FORMAT:string = \"float2\";\n\n\tprivate _positionsDirty:boolean = true;\n\tprivate _curvesDirty:boolean = true;\n\tprivate _faceNormalsDirty:boolean = true;\n    private _vertexNormalsDirty:boolean = true;\n\tprivate _uvsDirty:boolean = true;\n\tprivate _secondaryUVsDirty:boolean = true;\n\tprivate _jointIndicesDirty:boolean = true;\n\tprivate _jointWeightsDirty:boolean = true;\n\n\tprivate _positions:Array<number>;\n\tprivate _curves:Array<number>;\n\tprivate _uvs:Array<number>;\n\n\n\tprivate _useCondensedIndices:boolean;\n\tprivate _condensedJointIndices:Array<number>;\n\tprivate _condensedIndexLookUp:Array<number>;\n\n\n\tprivate _concatenateArrays:boolean = true;\n\tprivate _autoDeriveNormals:boolean = false;\n\tprivate _useFaceWeights:boolean = false;\n    private _autoDeriveUVs:boolean = false;\n\n\tprivate _faceNormals:Array<number>;\n\tprivate _faceWeights:Array<number>;\n\n\tprivate _scaleU:number = 1;\n\tprivate _scaleV:number = 1;\n\n\tprivate _positionsUpdated:SubGeometryEvent;\n\tprivate _curvesUpdated:SubGeometryEvent;\n\tprivate _uvsUpdated:SubGeometryEvent;\n\tprivate _secondaryUVsUpdated:SubGeometryEvent;\n\n\n\tpublic get subGeometryType():string\n\t{\n\t\treturn CurveSubGeometry.SUB_GEOMETRY_TYPE;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get scaleU():number\n\t{\n\t\treturn this._scaleU;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get scaleV():number\n\t{\n\t\treturn this._scaleV;\n\t}\n\n\t/**\n\t * Offers the option of enabling GPU accelerated animation on skeletons larger than 32 joints\n\t * by condensing the number of joint index values required per mesh. Only applicable to\n\t * skeleton animations that utilise more than one mesh object. Defaults to false.\n\t */\n\tpublic get useCondensedIndices():boolean\n\t{\n\t\treturn this._useCondensedIndices;\n\t}\n\n\tpublic set useCondensedIndices(value:boolean)\n\t{\n\t\tif (this._useCondensedIndices == value)\n\t\t\treturn;\n\n\t\tthis._useCondensedIndices = value;\n\t}\n\n\tpublic _pUpdateStrideOffset()\n\t{\n\t\tif (this._concatenateArrays) {\n\t\t\tthis._pOffset[CurveSubGeometry.VERTEX_DATA] = 0;\n\n\t\t\t//always have positions\n\t\t\tthis._pOffset[CurveSubGeometry.POSITION_DATA] = 0;\n\t\t\tvar stride:number = 3;\n\n\t\t\tif (this._curves != null) {\n\t\t\t\tthis._pOffset[CurveSubGeometry.CURVE_DATA] = stride;\n\t\t\t\tstride += 2;\n\t\t\t}\n\n\t\t\tif (this._uvs != null) {\n\t\t\t\tthis._pOffset[CurveSubGeometry.UV_DATA] = stride;\n\t\t\t\tstride += 2;\n\t\t\t}\n\n\n\n\t\t\tthis._pStride[CurveSubGeometry.VERTEX_DATA] = stride;\n\t\t\tthis._pStride[CurveSubGeometry.POSITION_DATA] = stride;\n\t\t\tthis._pStride[CurveSubGeometry.CURVE_DATA] = stride;\n\t\t\tthis._pStride[CurveSubGeometry.UV_DATA] = stride;\n\n\t\t\tvar len:number = this._pNumVertices*stride;\n\n\t\t\tif (this._pVertices == null)\n\t\t\t\tthis._pVertices = new Array<number>(len);\n\t\t\telse if (this._pVertices.length != len)\n\t\t\t\tthis._pVertices.length = len;\n\n\t\t} else {\n\t\t\tthis._pOffset[CurveSubGeometry.POSITION_DATA] = 0;\n\t\t\tthis._pOffset[CurveSubGeometry.CURVE_DATA] = 0;\n\t\t\tthis._pOffset[CurveSubGeometry.UV_DATA] = 0;\n\n\n\t\t\tthis._pStride[CurveSubGeometry.POSITION_DATA] = 3;\n\t\t\tthis._pStride[CurveSubGeometry.CURVE_DATA] = 2;\n\t\t\tthis._pStride[CurveSubGeometry.UV_DATA] = 2;\n\t\t}\n\n\t\tthis._pStrideOffsetDirty = false;\n\t}\n\n\n\n\t/**\n\t * Defines whether a UV buffer should be automatically generated to contain dummy UV coordinates.\n\t * Set to true if a geometry lacks UV data but uses a material that requires it, or leave as false\n\t * in cases where UV data is explicitly defined or the material does not require UV data.\n\t */\n\tpublic get autoDeriveUVs():boolean\n\t{\n\t\treturn this._autoDeriveUVs;\n\t}\n\n\tpublic set autoDeriveUVs(value:boolean)\n\t{\n\t\tif (this._autoDeriveUVs == value)\n\t\t\treturn;\n\n\t\tthis._autoDeriveUVs = value;\n\n\t\tif (value)\n\t\t\tthis.notifyUVsUpdate();\n\t}\n\n\t/**\n\t * True if the vertex normals should be derived from the geometry, false if the vertex normals are set\n\t * explicitly.\n\t */\n\tpublic get autoDeriveNormals():boolean\n\t{\n\t\treturn this._autoDeriveNormals;\n\t}\n\n    //remove\n\tpublic set autoDeriveNormals(value:boolean)\n\t{\n\t\tif (this._autoDeriveNormals == value)\n\t\t\treturn;\n\n\t\tthis._autoDeriveNormals = value;\n\n\t}\n\n\n\n\t/**\n\t *\n\t */\n\tpublic get vertices():Array<number>\n\t{\n\t\tif (this._positionsDirty)\n\t\t\tthis.updatePositions(this._positions);\n\n        if (this._curvesDirty)\n            this.updateCurves(this._curves);\n\n\t\tif (this._uvsDirty)\n\t\t\tthis.updateUVs(this._uvs);\n\n\t\treturn this._pVertices;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get positions():Array<number>\n\t{\n\t\tif (this._positionsDirty)\n\t\t\tthis.updatePositions(this._positions);\n\n\t\treturn this._positions;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get curves():Array<number>\n\t{\n\t\tif (this._curvesDirty)\n\t\t\tthis.updateCurves(this._curves);\n\n\t\treturn this._curves;\n\t}\n\n\n\n\t/**\n\t * The raw data of the face normals, in the same order as the faces are listed in the index list.\n\t */\n\tpublic get faceNormals():Array<number>\n\t{\n\t\tif (this._faceNormalsDirty)\n\t\t\tthis.updateFaceNormals();\n\n\t\treturn this._faceNormals;\n\t}\n\n\n\t/**\n\t *\n\t */\n\tpublic get uvs():Array<number>\n\t{\n\t\tif (this._uvsDirty)\n\t\t\tthis.updateUVs(this._uvs);\n\n\t\treturn this._uvs;\n\t}\n\n\n\n\n\t/**\n\t * Indicates whether or not to take the size of faces into account when auto-deriving vertex normals and tangents.\n\t */\n\tpublic get useFaceWeights():boolean\n\t{\n\t\treturn this._useFaceWeights;\n\t}\n\n\tpublic set useFaceWeights(value:boolean)\n\t{\n\t\tif (this._useFaceWeights == value)\n\t\t\treturn;\n\n\t\tthis._useFaceWeights = value;\n\n\n\t\tthis._faceNormalsDirty = true;\n\t}\n\n\n\tpublic get condensedIndexLookUp():Array<number>\n\t{\n\n\n\t\treturn this._condensedIndexLookUp;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(concatenatedArrays:boolean)\n\t{\n\t\tsuper(concatenatedArrays);\n\t}\n\n\tpublic getBoundingPositions():Array<number>\n\t{\n\t\tif (this._positionsDirty)\n\t\t\tthis.updatePositions(this._positions);\n\n\t\treturn this._positions;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic updatePositions(values:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar index:number;\n\t\tvar stride:number;\n\t\tvar positions:Array<number>;\n\n\t\tthis._positions = values;\n\n\t\tif (this._positions == null)\n\t\t\tthis._positions = new Array<number>();\n\n\t\tthis._pNumVertices = this._positions.length/3;\n\n\t\tif (this._concatenateArrays) {\n\t\t\tvar len:number = this._pNumVertices*this.getStride(CurveSubGeometry.VERTEX_DATA);\n\n\t\t\tif (this._pVertices == null)\n\t\t\t\tthis._pVertices = new Array<number>(len);\n\t\t\telse if (this._pVertices.length != len)\n\t\t\t\tthis._pVertices.length = len;\n\n\t\t\ti = 0;\n\t\t\tindex = this.getOffset(CurveSubGeometry.POSITION_DATA);\n\t\t\tstride = this.getStride(CurveSubGeometry.POSITION_DATA);\n\t\t\tpositions = this._pVertices;\n\n\t\t\twhile (i < values.length) {\n\t\t\t\tpositions[index] = values[i++];\n\t\t\t\tpositions[index + 1] = values[i++];\n\t\t\t\tpositions[index + 2] = values[i++];\n\t\t\t\tindex += stride;\n\t\t\t}\n\t\t}\n\n\t\tthis.pInvalidateBounds();\n\n\t\tthis.notifyPositionsUpdate();\n\n\t\tthis._positionsDirty = false;\n\t}\n\n\t/**\n\t * Updates the vertex normals based on the geometry.\n\t */\n\tpublic updateCurves(values:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar curves:Array<number>;\n\n\t\tif (true) {\n\t\t\tif ((this._curves == null || values == null) && (this._curves != null || values != null)) {\n\t\t\t\tif (this._concatenateArrays)\n\t\t\t\t\tthis._pNotifyVerticesUpdate();\n\t\t\t\telse\n\t\t\t\t\tthis._pStrideOffsetDirty = true;\n\t\t\t}\n\n\t\t\tthis._curves = values;\n\n\t\t\tif (values != null && this._concatenateArrays) {\n\t\t\t\ti = 0;\n\t\t\t\tindex = this.getOffset(CurveSubGeometry.CURVE_DATA);\n\t\t\t\tstride = this.getStride(CurveSubGeometry.CURVE_DATA);\n                curves = this._pVertices;\n\n\t\t\t\twhile (i < values.length) {\n                    curves[index] = values[i++];\n                    curves[index + 1] = values[i++];\n\t\t\t\t\tindex += stride;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.notifyCurvesUpdate();\n\n\t\tthis._curvesDirty = false;\n\t}\n\n\n\n\t/**\n\t * Updates the uvs based on the geometry.\n\t */\n\tpublic updateUVs(values:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar uvs:Array<number>;\n\n\t\tif (!this._autoDeriveUVs) {\n\t\t\tif ((this._uvs == null || values == null) && (this._uvs != null || values != null)) {\n\t\t\t\tif (this._concatenateArrays)\n\t\t\t\t\tthis._pNotifyVerticesUpdate();\n\t\t\t\telse\n\t\t\t\t\tthis._pStrideOffsetDirty = true;\n\t\t\t}\n\n\t\t\tthis._uvs = values;\n\n\t\t\tif (values != null && this._concatenateArrays) {\n\t\t\t\ti = 0;\n\t\t\t\tindex = this.getOffset(CurveSubGeometry.UV_DATA);\n\t\t\t\tstride = this.getStride(CurveSubGeometry.UV_DATA);\n\t\t\t\tuvs = this._pVertices;\n\n\t\t\t\twhile (i < values.length) {\n\t\t\t\t\tuvs[index] = values[i++];\n\t\t\t\t\tuvs[index + 1] = values[i++];\n\t\t\t\t\tindex += stride;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\tif (this._uvs == null) {\n\t\t\t\tthis._uvs = new Array<number>(this._positions.length*2/3);\n\n\t\t\t\tif (this._concatenateArrays)\n\t\t\t\t\tthis._pNotifyVerticesUpdate();\n\t\t\t\telse\n\t\t\t\t\tthis._pStrideOffsetDirty = true;\n\t\t\t}\n\n\t\t\toffset = this.getOffset(CurveSubGeometry.UV_DATA);\n\t\t\tstride = this.getStride(CurveSubGeometry.UV_DATA);\n\n\t\t\t//autoderived uvs\n\t\t\tuvs = this._concatenateArrays? this._pVertices : this._uvs;\n\n\t\t\ti = 0;\n\t\t\tindex = offset;\n\t\t\tvar uvIdx:number = 0;\n\n\t\t\t//clear uv values\n\t\t\tvar lenV:number = uvs.length;\n\t\t\twhile (index < lenV) {\n\t\t\t\tif (this._concatenateArrays) {\n\t\t\t\t\tthis._uvs[i++] = uvs[index] = uvIdx*.5;\n\t\t\t\t\tthis._uvs[i++] = uvs[index + 1] = 1.0 - (uvIdx & 1);\n\t\t\t\t} else {\n\t\t\t\t\tuvs[index] = uvIdx*.5;\n\t\t\t\t\tuvs[index + 1] = 1.0 - (uvIdx & 1);\n\t\t\t\t}\n\n\t\t\t\tif (++uvIdx == 3)\n\t\t\t\t\tuvIdx = 0;\n\n\t\t\t\tindex += stride;\n\t\t\t}\n\t\t}\n\n\t\tthis.notifyUVsUpdate();\n\n\t\tthis._uvsDirty = false;\n\t}\n\n\n\n\n\n\t/**\n\t *\n\t */\n\tpublic dispose()\n\t{\n\t\tsuper.dispose();\n\n\t\tthis._positions = null;\n\t\tthis._curves = null;\n\t\tthis._uvs = null;\n\n\t\tthis._faceNormals = null;\n\t\tthis._faceWeights = null;\n\t}\n\n\t/**\n\t * Updates the face indices of the CurveSubGeometry.\n\t *\n\t * @param indices The face indices to upload.\n\t */\n\tpublic updateIndices(indices:Array<number>)\n\t{\n\t\tsuper.updateIndices(indices);\n\n\t\tthis._faceNormalsDirty = true;\n\n\t\tif (this._autoDeriveNormals)\n\t\t\tthis._vertexNormalsDirty = true;\n\n\t}\n\n\t/**\n\t * Clones the current object\n\t * @return An exact duplicate of the current object.\n\t */\n\tpublic clone():CurveSubGeometry\n\t{\n\t\tvar clone:CurveSubGeometry = new CurveSubGeometry(this._concatenateArrays);\n\t\tclone.updateIndices(this._pIndices.concat());\n\t\tclone.updatePositions(this._positions.concat());\n\n\t\tif (this._curves)\n\t\t\tclone.updateCurves(this._curves.concat());\n\t\telse\n\t\t\tclone.updateCurves(null);\n\n\t\tif (this._uvs && !this._autoDeriveUVs)\n\t\t\tclone.updateUVs(this._uvs.concat());\n\t\telse\n\t\t\tclone.updateUVs(null);\n\n\t\treturn clone;\n\t}\n\n\tpublic scaleUV(scaleU:number = 1, scaleV:number = 1)\n\t{\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar uvs:Array<number>;\n\n\t\tuvs = this._uvs;\n\n\t\tvar ratioU:number = scaleU/this._scaleU;\n\t\tvar ratioV:number = scaleV/this._scaleV;\n\n\t\tthis._scaleU = scaleU;\n\t\tthis._scaleV = scaleV;\n\n\t\tvar len:number = uvs.length;\n\n\t\toffset = 0;\n\t\tstride = 2;\n\n\t\tindex = offset;\n\n\t\twhile (index < len) {\n\t\t\tuvs[index] *= ratioU;\n\t\t\tuvs[index + 1] *= ratioV;\n\t\t\tindex += stride;\n\t\t}\n\n\t\tthis.notifyUVsUpdate();\n\t}\n\n\t/**\n\t * Scales the geometry.\n\t * @param scale The amount by which to scale.\n\t */\n\tpublic scale(scale:number)\n\t{\n\t\tvar i:number;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar positions:Array<number>;\n\n\t\tpositions = this._positions;\n\n\t\tvar len:number = positions.length;\n\n\t\toffset = 0;\n\t\tstride = 3;\n\n\t\ti = 0;\n\t\tindex = offset;\n\t\twhile (i < len) {\n\t\t\tpositions[index] *= scale;\n\t\t\tpositions[index + 1] *= scale;\n\t\t\tpositions[index + 2] *= scale;\n\n\t\t\ti += 3;\n\t\t\tindex += stride;\n\t\t}\n\n\t\tthis.notifyPositionsUpdate();\n\t}\n\n\tpublic applyTransformation(transform:Matrix3D)\n\t{\n\t\tvar positions:Array<number>;\n\n\t\tif (this._concatenateArrays) {\n\t\t\tpositions = this._pVertices;\n\t\t} else {\n\t\t\tpositions = this._positions;\n\t\t}\n\n\t\tvar len:number = this._positions.length/3;\n\t\tvar i:number;\n\t\tvar i1:number;\n\t\tvar i2:number;\n\t\tvar vector:Vector3D = new Vector3D();\n\n\t\tvar invTranspose:Matrix3D;\n\n\n\n\t\tvar vi0:number = this.getOffset(CurveSubGeometry.POSITION_DATA);\n\t\tvar vStride:number = this.getStride(CurveSubGeometry.POSITION_DATA);\n\n\t\tfor (i = 0; i < len; ++i) {\n\t\t\ti1 = vi0 + 1;\n\t\t\ti2 = vi0 + 2;\n\n\t\t\t// bake position\n\t\t\tvector.x = positions[vi0];\n\t\t\tvector.y = positions[i1];\n\t\t\tvector.z = positions[i2];\n\t\t\tvector = transform.transformVector(vector);\n\t\t\tpositions[vi0] = vector.x;\n\t\t\tpositions[i1] = vector.y;\n\t\t\tpositions[i2] = vector.z;\n\t\t\tvi0 += vStride;\n\n\t\t}\n\n\t\tthis.notifyPositionsUpdate();\n\t}\n\n\n\n\t/**\n\t * Updates the normals for each face.\n\t */\n\tprivate updateFaceNormals()\n\t{\n\t\tvar i:number = 0;\n\t\tvar j:number = 0;\n\t\tvar k:number = 0;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\n\t\tvar x1:number, x2:number, x3:number;\n\t\tvar y1:number, y2:number, y3:number;\n\t\tvar z1:number, z2:number, z3:number;\n\t\tvar dx1:number, dy1:number, dz1:number;\n\t\tvar dx2:number, dy2:number, dz2:number;\n\t\tvar cx:number, cy:number, cz:number;\n\t\tvar d:number;\n\n\t\tvar positions:Array<number> = this._positions;\n\n\t\tvar len:number = this._pIndices.length;\n\n\t\tif (this._faceNormals == null)\n\t\t\tthis._faceNormals = new Array<number>(len);\n\n\t\tif (this._useFaceWeights && this._faceWeights == null)\n\t\t\tthis._faceWeights = new Array<number>(len/3);\n\n\t\twhile (i < len) {\n\t\t\tindex = this._pIndices[i++]*3;\n\t\t\tx1 = positions[index];\n\t\t\ty1 = positions[index + 1];\n\t\t\tz1 = positions[index + 2];\n\t\t\tindex = this._pIndices[i++]*3;\n\t\t\tx2 = positions[index];\n\t\t\ty2 = positions[index + 1];\n\t\t\tz2 = positions[index + 2];\n\t\t\tindex = this._pIndices[i++]*3;\n\t\t\tx3 = positions[index];\n\t\t\ty3 = positions[index + 1];\n\t\t\tz3 = positions[index + 2];\n\t\t\tdx1 = x3 - x1;\n\t\t\tdy1 = y3 - y1;\n\t\t\tdz1 = z3 - z1;\n\t\t\tdx2 = x2 - x1;\n\t\t\tdy2 = y2 - y1;\n\t\t\tdz2 = z2 - z1;\n\t\t\tcx = dz1*dy2 - dy1*dz2;\n\t\t\tcy = dx1*dz2 - dz1*dx2;\n\t\t\tcz = dy1*dx2 - dx1*dy2;\n\t\t\td = Math.sqrt(cx*cx + cy*cy + cz*cz);\n\t\t\t// length of cross product = 2*triangle area\n\n\t\t\tif (this._useFaceWeights) {\n\t\t\t\tvar w:number = d*10000;\n\n\t\t\t\tif (w < 1)\n\t\t\t\t\tw = 1;\n\n\t\t\t\tthis._faceWeights[k++] = w;\n\t\t\t}\n\n\t\t\td = 1/d;\n\n\t\t\tthis._faceNormals[j++] = cx*d;\n\t\t\tthis._faceNormals[j++] = cy*d;\n\t\t\tthis._faceNormals[j++] = cz*d;\n\t\t}\n\n\t\tthis._faceNormalsDirty = false;\n\t}\n\n\tpublic _pNotifyVerticesUpdate()\n\t{\n\t\tthis._pStrideOffsetDirty = true;\n\n\t\tthis.notifyPositionsUpdate();\n\t\tthis.notifyCurvesUpdate();\n\t\tthis.notifyUVsUpdate();\n\t}\n\n\tprivate notifyPositionsUpdate()\n\t{\n\t\tif (this._positionsDirty)\n\t\t\treturn;\n\n\t\tthis._positionsDirty = true;\n\n\t\tif (!this._positionsUpdated)\n\t\t\tthis._positionsUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, CurveSubGeometry.POSITION_DATA);\n\n\t\tthis.dispatchEvent(this._positionsUpdated);\n\t}\n\n\tprivate notifyCurvesUpdate()\n\t{\n\t\tif (this._curvesDirty)\n\t\t\treturn;\n\n\t\tthis._curvesDirty = true;\n\n\t\tif (!this._curvesUpdated)\n\t\t\tthis._curvesUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, CurveSubGeometry.CURVE_DATA);\n\n\t\tthis.dispatchEvent(this._curvesUpdated);\n\t}\n\n\n\n\tprivate notifyUVsUpdate() {\n        if (this._uvsDirty)\n            return;\n\n        this._uvsDirty = true;\n\n        if (!this._uvsUpdated)\n            this._uvsUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, CurveSubGeometry.UV_DATA);\n\n        this.dispatchEvent(this._uvsUpdated);\n    }\n}\n\nexport = CurveSubGeometry;",
    "import SubGeometryBase\t\t\t= require(\"awayjs-core/lib/data/SubGeometryBase\");\nimport GeometryEvent\t\t\t= require(\"awayjs-core/lib/events/GeometryEvent\");\nimport Matrix3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport AssetType\t\t\t\t= require(\"awayjs-core/lib/library/AssetType\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport NamedAssetBase\t\t\t= require(\"awayjs-core/lib/library/NamedAssetBase\");\n\n/**\n *\n * Geometry is a collection of SubGeometries, each of which contain the actual geometrical data such as vertices,\n * normals, uvs, etc. It also contains a reference to an animation class, which defines how the geometry moves.\n * A Geometry object is assigned to a Mesh, a scene graph occurence of the geometry, which in turn assigns\n * the SubGeometries to its respective TriangleSubMesh objects.\n *\n *\n *\n * @see away.core.base.SubGeometry\n * @see away.entities.Mesh\n *\n * @class Geometry\n */\nclass Geometry extends NamedAssetBase implements IAsset\n{\n\tprivate _subGeometries:Array<SubGeometryBase>;\n\n\tpublic get assetType():string\n\t{\n\t\treturn AssetType.GEOMETRY;\n\t}\n\n\t/**\n\t * A collection of TriangleSubGeometry objects, each of which contain geometrical data such as vertices, normals, etc.\n\t */\n\tpublic get subGeometries():Array<SubGeometryBase>\n\t{\n\t\treturn this._subGeometries;\n\t}\n\n\tpublic getSubGeometries():Array<SubGeometryBase>\n\t{\n\t\treturn this._subGeometries;\n\t}\n\n\t/**\n\t * Creates a new Geometry object.\n\t */\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\tthis._subGeometries = new Array<SubGeometryBase>();\n\t}\n\n\tpublic applyTransformation(transform:Matrix3D)\n\t{\n\t\tvar len:number = this._subGeometries.length;\n\t\tfor (var i:number = 0; i < len; ++i)\n\t\t\tthis._subGeometries[i].applyTransformation(transform);\n\t}\n\n\t/**\n\t * Adds a new TriangleSubGeometry object to the list.\n\t * @param subGeometry The TriangleSubGeometry object to be added.\n\t */\n\tpublic addSubGeometry(subGeometry:SubGeometryBase)\n\t{\n\t\tthis._subGeometries.push(subGeometry);\n\n\t\tsubGeometry.parentGeometry = this;\n\n\t\tif (this.hasEventListener(GeometryEvent.SUB_GEOMETRY_ADDED))\n\t\t\tthis.dispatchEvent(new GeometryEvent(GeometryEvent.SUB_GEOMETRY_ADDED, subGeometry));\n\n\t\tthis.iInvalidateBounds(subGeometry);\n\t}\n\n\t/**\n\t * Removes a new TriangleSubGeometry object from the list.\n\t * @param subGeometry The TriangleSubGeometry object to be removed.\n\t */\n\tpublic removeSubGeometry(subGeometry:SubGeometryBase)\n\t{\n\t\tthis._subGeometries.splice(this._subGeometries.indexOf(subGeometry), 1);\n\n\t\tsubGeometry.parentGeometry = null;\n\n\t\tif (this.hasEventListener(GeometryEvent.SUB_GEOMETRY_REMOVED))\n\t\t\tthis.dispatchEvent(new GeometryEvent(GeometryEvent.SUB_GEOMETRY_REMOVED, subGeometry));\n\n\t\tthis.iInvalidateBounds(subGeometry);\n\t}\n\n\t/**\n\t * Clones the geometry.\n\t * @return An exact duplicate of the current Geometry object.\n\t */\n\tpublic clone():Geometry\n\t{\n\t\tvar clone:Geometry = new Geometry();\n\t\tvar len:number = this._subGeometries.length;\n\n\t\tfor (var i:number = 0; i < len; ++i)\n\t\t\tclone.addSubGeometry(this._subGeometries[i].clone());\n\n\t\treturn clone;\n\t}\n\n\t/**\n\t * Scales the geometry.\n\t * @param scale The amount by which to scale.\n\t */\n\tpublic scale(scale:number)\n\t{\n\t\tvar numSubGeoms:number = this._subGeometries.length;\n\t\tfor (var i:number = 0; i < numSubGeoms; ++i)\n\t\t\tthis._subGeometries[i].scale(scale);\n\t}\n\n\t/**\n\t * Clears all resources used by the Geometry object, including SubGeometries.\n\t */\n\tpublic dispose()\n\t{\n\t\tvar numSubGeoms:number = this._subGeometries.length;\n\n\t\tfor (var i:number = 0; i < numSubGeoms; ++i) {\n\t\t\tvar subGeom:SubGeometryBase = this._subGeometries[0];\n\t\t\tthis.removeSubGeometry(subGeom);\n\t\t\tsubGeom.dispose();\n\t\t}\n\t}\n\n\t/**\n\t * Scales the uv coordinates (tiling)\n\t * @param scaleU The amount by which to scale on the u axis. Default is 1;\n\t * @param scaleV The amount by which to scale on the v axis. Default is 1;\n\t */\n\tpublic scaleUV(scaleU:number = 1, scaleV:number = 1)\n\t{\n\t\tvar numSubGeoms:number = this._subGeometries.length;\n\n\t\tfor (var i:number = 0; i < numSubGeoms; ++i)\n\t\t\tthis._subGeometries[i].scaleUV(scaleU, scaleV);\n\t}\n\n\tpublic iInvalidateBounds(subGeom:SubGeometryBase)\n\t{\n\t\tif (this.hasEventListener(GeometryEvent.BOUNDS_INVALID))\n\t\t\tthis.dispatchEvent(new GeometryEvent(GeometryEvent.BOUNDS_INVALID, subGeom));\n\t}\n}\n\nexport = Geometry;",
    "import Geometry\t\t\t\t\t= require(\"awayjs-core/lib/data/Geometry\");\nimport SubGeometryBase\t\t\t= require(\"awayjs-core/lib/data/SubGeometryBase\");\nimport TriangleSubGeometry\t\t= require(\"awayjs-core/lib/data/TriangleSubGeometry\");\nimport SubGeometryEvent\t\t\t= require(\"awayjs-core/lib/events/SubGeometryEvent\");\n\n/**\n * @class LineSubGeometry\n */\nclass LineSubGeometry extends SubGeometryBase\n{\n\tpublic static SUB_GEOMETRY_TYPE:string = \"line\";\n\n\tpublic static VERTEX_DATA:string = \"vertices\";\n\tpublic static START_POSITION_DATA:string = \"startPositions\";\n\tpublic static END_POSITION_DATA:string = \"endPositions\";\n\tpublic static THICKNESS_DATA:string = \"thickness\";\n\tpublic static COLOR_DATA:string = \"colors\";\n\n\t//TODO - move these to StageGL\n\tpublic static POSITION_FORMAT:string = \"float3\";\n\tpublic static COLOR_FORMAT:string = \"float4\";\n\tpublic static THICKNESS_FORMAT:string = \"float1\";\n\n\tprivate _positionsDirty:boolean = true;\n\tprivate _boundingPositionDirty = true;\n\tprivate _thicknessDirty:boolean = true;\n\tprivate _colorsDirty:boolean = true;\n\n\tprivate _startPositions:Array<number>;\n\tprivate _endPositions:Array<number>;\n\tprivate _boundingPositions:Array<number>\n\tprivate _thickness:Array<number>;\n\tprivate _startColors:Array<number>;\n\tprivate _endColors:Array<number>;\n\n\tprivate _numSegments:number;\n\n\tprivate _positionsUpdated:SubGeometryEvent;\n\tprivate _thicknessUpdated:SubGeometryEvent;\n\tprivate _colorUpdated:SubGeometryEvent;\n\n\tpublic _pUpdateStrideOffset()\n\t{\n\t\tthis._pOffset[LineSubGeometry.VERTEX_DATA] = 0;\n\n\t\tvar stride:number = 0;\n\t\tthis._pOffset[LineSubGeometry.START_POSITION_DATA] = stride;\n\t\tstride += 3;\n\n\t\tthis._pOffset[LineSubGeometry.END_POSITION_DATA] = stride;\n\t\tstride += 3;\n\n\t\tthis._pOffset[LineSubGeometry.THICKNESS_DATA] = stride;\n\t\tstride += 1;\n\n\t\tthis._pOffset[LineSubGeometry.COLOR_DATA] = stride;\n\t\tstride += 4;\n\n\t\tthis._pStride[LineSubGeometry.VERTEX_DATA] = stride;\n\t\tthis._pStride[LineSubGeometry.START_POSITION_DATA] = stride;\n\t\tthis._pStride[LineSubGeometry.END_POSITION_DATA] = stride;\n\t\tthis._pStride[LineSubGeometry.THICKNESS_DATA] = stride;\n\t\tthis._pStride[LineSubGeometry.COLOR_DATA] = stride;\n\n\t\tvar len:number = this._pNumVertices*stride;\n\n\t\tif (this._pVertices == null)\n\t\t\tthis._pVertices = new Array<number>(len);\n\t\telse if (this._pVertices.length != len)\n\t\t\tthis._pVertices.length = len;\n\n\t\tthis._pStrideOffsetDirty = false;\n\t}\n\n\tpublic get subGeometryType():string\n\t{\n\t\treturn LineSubGeometry.SUB_GEOMETRY_TYPE;\n\t}\n\n\t/**\n\t * \n\t */\n\tpublic get vertices():Array<number>\n\t{\n\t\tif (this._positionsDirty)\n\t\t\tthis.updatePositions(this._startPositions, this._endPositions);\n\n\t\tif (this._thicknessDirty)\n\t\t\tthis.updateThickness(this._thickness);\n\n\t\tif (this._colorsDirty)\n\t\t\tthis.updateColors(this._startColors, this._endColors);\n\n\t\treturn this._pVertices;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get startPositions():Array<number>\n\t{\n\t\tif (this._positionsDirty)\n\t\t\tthis.updatePositions(this._startPositions, this._endPositions);\n\n\t\treturn this._startPositions;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get endPositions():Array<number>\n\t{\n\t\tif (this._positionsDirty)\n\t\t\tthis.updatePositions(this._startPositions, this._endPositions);\n\n\t\treturn this._endPositions;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get thickness():Array<number>\n\t{\n\t\tif (this._thicknessDirty)\n\t\t\tthis.updateThickness(this._thickness);\n\n\t\treturn this._thickness;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get startColors():Array<number>\n\t{\n\t\tif (this._colorsDirty)\n\t\t\tthis.updateColors(this._startColors, this._endColors);\n\n\t\treturn this._startColors;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get endColors():Array<number>\n\t{\n\t\tif (this._colorsDirty)\n\t\t\tthis.updateColors(this._startColors, this._endColors);\n\n\t\treturn this._endColors;\n\t}\n\n\t/**\n\t * The total amount of segments in the TriangleSubGeometry.\n\t */\n\tpublic get numSegments():number\n\t{\n\t\treturn this._numSegments;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor()\n\t{\n\t\tsuper(true);\n\t}\n\n\tpublic getBoundingPositions():Array<number>\n\t{\n\t\tif (this._boundingPositionDirty)\n\t\t\tthis._boundingPositions = this.startPositions.concat(this.endPositions);\n\n\t\treturn this._boundingPositions;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic updatePositions(startValues:Array<number>, endValues:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar j:number;\n\t\tvar values:Array<number>\n\t\tvar index:number;\n\t\tvar stride:number;\n\t\tvar positions:Array<number>;\n\t\tvar indices:Array<number>;\n\n\t\tthis._startPositions = startValues;\n\n\t\tif (this._startPositions == null)\n\t\t\tthis._startPositions = new Array<number>();\n\n\t\tthis._endPositions = endValues;\n\n\t\tif (this._endPositions == null)\n\t\t\tthis._endPositions = new Array<number>();\n\n\t\tthis._boundingPositionDirty = true;\n\n\t\tthis._numSegments = this._startPositions.length/3;\n\n\t\tthis._pNumVertices = this._numSegments*4;\n\n\t\tvar lenV:number = this._pNumVertices*this.getStride(LineSubGeometry.VERTEX_DATA);\n\n\t\tif (this._pVertices == null)\n\t\t\tthis._pVertices = new Array<number>(lenV);\n\t\telse if (this._pVertices.length != lenV)\n\t\t\tthis._pVertices.length = lenV;\n\n\t\ti = 0;\n\t\tj = 0;\n\t\tindex = this.getOffset(LineSubGeometry.START_POSITION_DATA);\n\t\tstride = this.getStride(LineSubGeometry.START_POSITION_DATA);\n\t\tpositions = this._pVertices;\n\t\tindices = new Array();\n\n\t\twhile (i < startValues.length) {\n\t\t\tvalues = (index/stride & 1)? endValues : startValues;\n\t\t\tpositions[index] = values[i];\n\t\t\tpositions[index + 1] = values[i + 1];\n\t\t\tpositions[index + 2] = values[i + 2];\n\n\t\t\tvalues = (index/stride & 1)? startValues : endValues;\n\t\t\tpositions[index + 3] = values[i];\n\t\t\tpositions[index + 4] = values[i + 1];\n\t\t\tpositions[index + 5] = values[i + 2];\n\n\t\t\tif (++j == 4) {\n\t\t\t\tvar o:number = index/stride - 3;\n\t\t\t\tindices.push(o, o + 1, o + 2, o + 3, o + 2, o + 1);\n\t\t\t\tj = 0;\n\t\t\t\ti += 3;\n\t\t\t}\n\n\t\t\tindex += stride;\n\t\t}\n\n\t\tthis.updateIndices(indices);\n\n\t\tthis.pInvalidateBounds();\n\n\t\tthis.notifyPositionsUpdate();\n\n\t\tthis._positionsDirty = false;\n\t}\n\n\t/**\n\t * Updates the thickness.\n\t */\n\tpublic updateThickness(values:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar j:number;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar thickness:Array<number>;\n\n\t\tthis._thickness = values;\n\n\t\tif (values != null) {\n\t\t\ti = 0;\n\t\t\tj = 0;\n\t\t\toffset = this.getOffset(LineSubGeometry.THICKNESS_DATA);\n\t\t\tstride = this.getStride(LineSubGeometry.THICKNESS_DATA);\n\t\t\tthickness = this._pVertices;\n\n\t\t\tindex = offset\n\t\t\twhile (i < values.length) {\n\t\t\t\tthickness[index] = (Math.floor(0.5*(index - offset)/stride + 0.5) & 1)? -values[i] : values[i];\n\n\t\t\t\tif (++j == 4) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\ti++;\n\t\t\t\t}\n\t\t\t\tindex += stride;\n\t\t\t}\n\t\t}\n\n\t\tthis.notifyThicknessUpdate();\n\n\t\tthis._thicknessDirty = false;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic updateColors(startValues:Array<number>, endValues:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar j:number;\n\t\tvar values:Array<number>\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar colors:Array<number>;\n\n\t\tthis._startColors = startValues;\n\n\t\tthis._endColors = endValues;\n\n\t\t//default to white\n\t\tif (this._startColors == null) {\n\t\t\tthis._startColors = new Array(this._numSegments*4);\n\n\t\t\ti = 0;\n\t\t\twhile (i < this._startColors.length)\n\t\t\t\tthis._startColors[i++] = 1;\n\t\t}\n\n\t\tif (this._endColors == null) {\n\t\t\tthis._endColors = new Array(this._numSegments*4);\n\n\t\t\ti = 0;\n\t\t\twhile (i < this._endColors.length)\n\t\t\t\tthis._endColors[i++] = 1;\n\t\t}\n\n\t\ti = 0;\n\t\tj = 0;\n\t\toffset = this.getOffset(LineSubGeometry.COLOR_DATA);\n\t\tstride = this.getStride(LineSubGeometry.COLOR_DATA);\n\t\tcolors = this._pVertices;\n\n\t\tindex = offset;\n\n\t\twhile (i < this._startColors.length) {\n\t\t\tvalues = ((index - offset)/stride & 1)? this._endColors : this._startColors;\n\t\t\tcolors[index] = values[i];\n\t\t\tcolors[index + 1] = values[i + 1];\n\t\t\tcolors[index + 2] = values[i + 2];\n\t\t\tcolors[index + 3] = values[i + 3];\n\n\t\t\tif (++j == 4) {\n\t\t\t\tj = 0;\n\t\t\t\ti += 4;\n\t\t\t}\n\n\t\t\tindex += stride;\n\t\t}\n\n\t\tthis.notifyColorsUpdate();\n\n\t\tthis._colorsDirty = false;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic dispose()\n\t{\n\t\tsuper.dispose();\n\n\t\tthis._startPositions = null;\n\t\tthis._endPositions = null;\n\t\tthis._thickness = null;\n\t\tthis._startColors = null;\n\t\tthis._endColors = null;\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tpublic pInvalidateBounds()\n\t{\n\t\tif (this.parentGeometry)\n\t\t\tthis.parentGeometry.iInvalidateBounds(this);\n\t}\n\n\t/**\n\t * The Geometry object that 'owns' this TriangleSubGeometry object.\n\t *\n\t * @private\n\t */\n\tpublic parentGeometry:Geometry;\n\n\t/**\n\t * Clones the current object\n\t * @return An exact duplicate of the current object.\n\t */\n\tpublic clone():LineSubGeometry\n\t{\n\t\tvar clone:LineSubGeometry = new LineSubGeometry();\n\t\tclone.updateIndices(this._pIndices.concat());\n\t\tclone.updatePositions(this._startPositions.concat(), this._endPositions.concat());\n\t\tclone.updateThickness(this._thickness.concat());\n\t\tclone.updatePositions(this._startPositions.concat(), this._endPositions.concat());\n\n\t\treturn clone;\n\t}\n\n\tpublic _pNotifyVerticesUpdate()\n\t{\n\t\tthis._pStrideOffsetDirty = true;\n\n\t\tthis.notifyPositionsUpdate();\n\t\tthis.notifyThicknessUpdate();\n\t\tthis.notifyColorsUpdate();\n\t}\n\n\tprivate notifyPositionsUpdate()\n\t{\n\t\tif (this._positionsDirty)\n\t\t\treturn;\n\n\t\tthis._positionsDirty = true;\n\n\t\tif (!this._positionsUpdated)\n\t\t\tthis._positionsUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, TriangleSubGeometry.POSITION_DATA);\n\n\t\tthis.dispatchEvent(this._positionsUpdated);\n\t}\n\n\tprivate notifyThicknessUpdate()\n\t{\n\t\tif (this._thicknessDirty)\n\t\t\treturn;\n\n\t\tthis._thicknessDirty = true;\n\n\t\tif (!this._thicknessUpdated)\n\t\t\tthis._thicknessUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, LineSubGeometry.THICKNESS_DATA);\n\n\t\tthis.dispatchEvent(this._thicknessUpdated);\n\t}\n\n\tprivate notifyColorsUpdate()\n\t{\n\t\tif (this._colorsDirty)\n\t\t\treturn;\n\n\t\tthis._colorsDirty = true;\n\n\t\tif (!this._colorUpdated)\n\t\t\tthis._colorUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, LineSubGeometry.COLOR_DATA);\n\n\t\tthis.dispatchEvent(this._colorUpdated);\n\t}\n}\n\nexport = LineSubGeometry;",
    "import Geometry\t\t\t\t\t= require(\"awayjs-core/lib/data/Geometry\");\nimport AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\nimport SubGeometryEvent\t\t\t= require(\"awayjs-core/lib/events/SubGeometryEvent\");\nimport Matrix3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\nimport NamedAssetBase\t\t\t= require(\"awayjs-core/lib/library/NamedAssetBase\");\n\n/**\n * @class away.base.TriangleSubGeometry\n */\nclass SubGeometryBase extends NamedAssetBase\n{\n\tpublic static VERTEX_DATA:string = \"vertices\";\n\n\tpublic _pStrideOffsetDirty:boolean = true;\n\n\tpublic _pIndices:Array<number> /*uint*/;\n\tpublic _pVertices:Array<number>;\n\n\tprivate _numIndices:number;\n\tprivate _numTriangles:number;\n\tpublic _pNumVertices:number;\n\n\tpublic _pConcatenateArrays:boolean = true;\n\n\tprivate _indicesUpdated:SubGeometryEvent;\n\n\tpublic _pStride:Object = new Object();\n\tpublic _pOffset:Object = new Object();\n\n\tpublic _pUpdateStrideOffset()\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tpublic get subGeometryType():string\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get concatenateArrays():boolean\n\t{\n\t\treturn this._pConcatenateArrays;\n\t}\n\n\tpublic set concatenateArrays(value:boolean)\n\t{\n\t\tif (this._pConcatenateArrays == value)\n\t\t\treturn;\n\n\t\tthis._pConcatenateArrays = value;\n\n\t\tthis._pStrideOffsetDirty = true;\n\n\t\tif (value)\n\t\t\tthis._pNotifyVerticesUpdate();\n\t}\n\n\t/**\n\t * The raw index data that define the faces.\n\t */\n\tpublic get indices():Array<number>\n\t{\n\t\treturn this._pIndices;\n\t}\n\n\t/**\n\t * \n\t */\n\tpublic get vertices():Array<number>\n\t{\n\t\tthis.updateVertices();\n\n\t\treturn this._pVertices;\n\t}\n\n\t/**\n\t * The total amount of triangles in the TriangleSubGeometry.\n\t */\n\tpublic get numTriangles():number\n\t{\n\t\treturn this._numTriangles;\n\t}\n\n\tpublic get numVertices():number\n\t{\n\t\treturn this._pNumVertices;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(concatenatedArrays:boolean)\n\t{\n\t\tsuper();\n\n\t\tthis._pConcatenateArrays = concatenatedArrays;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic getStride(dataType:string)\n\t{\n\t\tif (this._pStrideOffsetDirty)\n\t\t\tthis._pUpdateStrideOffset();\n\n\t\treturn this._pStride[dataType];\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic getOffset(dataType:string)\n\t{\n\t\tif (this._pStrideOffsetDirty)\n\t\t\tthis._pUpdateStrideOffset();\n\n\t\treturn this._pOffset[dataType];\n\t}\n\n\tpublic updateVertices()\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic dispose()\n\t{\n\t\tthis._pIndices = null;\n\t\tthis._pVertices = null;\n\t}\n\n\t/**\n\t * Updates the face indices of the TriangleSubGeometry.\n\t *\n\t * @param indices The face indices to upload.\n\t */\n\tpublic updateIndices(indices:Array<number>)\n\t{\n\t\tthis._pIndices = indices;\n\t\tthis._numIndices = indices.length;\n\n\t\tthis._numTriangles = this._numIndices/3;\n\n\t\tthis.notifyIndicesUpdate();\n\t}\n\n\t/**\n\t * @protected\n\t */\n\tpublic pInvalidateBounds()\n\t{\n\t\tif (this.parentGeometry)\n\t\t\tthis.parentGeometry.iInvalidateBounds(this);\n\t}\n\n\t/**\n\t * The Geometry object that 'owns' this TriangleSubGeometry object.\n\t *\n\t * @private\n\t */\n\tpublic parentGeometry:Geometry;\n\n\t/**\n\t * Clones the current object\n\t * @return An exact duplicate of the current object.\n\t */\n\tpublic clone():SubGeometryBase\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tpublic applyTransformation(transform:Matrix3D)\n\t{\n\n\t}\n\n\t/**\n\t * Scales the geometry.\n\t * @param scale The amount by which to scale.\n\t */\n\tpublic scale(scale:number)\n\t{\n\n\t}\n\n\tpublic scaleUV(scaleU:number = 1, scaleV:number = 1)\n\t{\n\n\t}\n\n\tpublic getBoundingPositions():Array<number>\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tprivate notifyIndicesUpdate()\n\t{\n\t\tif (!this._indicesUpdated)\n\t\t\tthis._indicesUpdated = new SubGeometryEvent(SubGeometryEvent.INDICES_UPDATED);\n\n\t\tthis.dispatchEvent(this._indicesUpdated);\n\t}\n\n\tpublic _pNotifyVerticesUpdate()\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n}\n\nexport = SubGeometryBase;",
    "import SubGeometryBase\t\t\t= require(\"awayjs-core/lib/data/SubGeometryBase\");\nimport Matrix3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport SubGeometryEvent\t\t\t= require(\"awayjs-core/lib/events/SubGeometryEvent\");\n\n/**\n * @class away.base.TriangleSubGeometry\n */\nclass TriangleSubGeometry extends SubGeometryBase\n{\n\tpublic static SUB_GEOMETRY_TYPE:string = \"triangle\";\n\n\tpublic static POSITION_DATA:string = \"positions\";\n\tpublic static NORMAL_DATA:string = \"vertexNormals\";\n\tpublic static TANGENT_DATA:string = \"vertexTangents\";\n\tpublic static UV_DATA:string = \"uvs\";\n\tpublic static SECONDARY_UV_DATA:string = \"secondaryUVs\";\n\tpublic static JOINT_INDEX_DATA:string = \"jointIndices\";\n\tpublic static JOINT_WEIGHT_DATA:string = \"jointWeights\";\n\n\t//TODO - move these to StageGL\n\tpublic static POSITION_FORMAT:string = \"float3\";\n\tpublic static NORMAL_FORMAT:string = \"float3\";\n\tpublic static TANGENT_FORMAT:string = \"float3\";\n\tpublic static UV_FORMAT:string = \"float2\";\n\tpublic static SECONDARY_UV_FORMAT:string = \"float2\";\n\n\tprivate _positionsDirty:boolean = true;\n\tprivate _faceNormalsDirty:boolean = true;\n\tprivate _faceTangentsDirty:boolean = true;\n\tprivate _vertexNormalsDirty:boolean = true;\n\tprivate _vertexTangentsDirty:boolean = true;\n\tprivate _uvsDirty:boolean = true;\n\tprivate _secondaryUVsDirty:boolean = true;\n\tprivate _jointIndicesDirty:boolean = true;\n\tprivate _jointWeightsDirty:boolean = true;\n\n\tprivate _positions:Array<number>;\n\tprivate _vertexNormals:Array<number>;\n\tprivate _vertexTangents:Array<number>;\n\tprivate _uvs:Array<number>;\n\tprivate _secondaryUVs:Array<number>;\n\tprivate _jointIndices:Array<number>;\n\tprivate _jointWeights:Array<number>;\n\n\tprivate _useCondensedIndices:boolean;\n\tprivate _condensedJointIndices:Array<number>;\n\tprivate _condensedIndexLookUp:Array<number>;\n\tprivate _numCondensedJoints:number;\n\n\tprivate _jointsPerVertex:number;\n\n\tprivate _concatenateArrays:boolean = true;\n\tprivate _autoDeriveNormals:boolean = true;\n\tprivate _autoDeriveTangents:boolean = true;\n\tprivate _autoDeriveUVs:boolean = false;\n\tprivate _useFaceWeights:boolean = false;\n\n\tprivate _faceNormals:Array<number>;\n\tprivate _faceTangents:Array<number>;\n\tprivate _faceWeights:Array<number>;\n\n\tprivate _scaleU:number = 1;\n\tprivate _scaleV:number = 1;\n\n\tprivate _positionsUpdated:SubGeometryEvent;\n\tprivate _normalsUpdated:SubGeometryEvent;\n\tprivate _tangentsUpdated:SubGeometryEvent;\n\tprivate _uvsUpdated:SubGeometryEvent;\n\tprivate _secondaryUVsUpdated:SubGeometryEvent;\n\tprivate _jointIndicesUpdated:SubGeometryEvent;\n\tprivate _jointWeightsUpdated:SubGeometryEvent;\n\n\n\tpublic get subGeometryType():string\n\t{\n\t\treturn TriangleSubGeometry.SUB_GEOMETRY_TYPE;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get scaleU():number\n\t{\n\t\treturn this._scaleU;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get scaleV():number\n\t{\n\t\treturn this._scaleV;\n\t}\n\n\t/**\n\t * Offers the option of enabling GPU accelerated animation on skeletons larger than 32 joints\n\t * by condensing the number of joint index values required per mesh. Only applicable to\n\t * skeleton animations that utilise more than one mesh object. Defaults to false.\n\t */\n\tpublic get useCondensedIndices():boolean\n\t{\n\t\treturn this._useCondensedIndices;\n\t}\n\n\tpublic set useCondensedIndices(value:boolean)\n\t{\n\t\tif (this._useCondensedIndices == value)\n\t\t\treturn;\n\n\t\tthis._useCondensedIndices = value;\n\n\t\tthis.notifyJointIndicesUpdate();\n\t}\n\n\tpublic _pUpdateStrideOffset()\n\t{\n\t\tif (this._concatenateArrays) {\n\t\t\tthis._pOffset[TriangleSubGeometry.VERTEX_DATA] = 0;\n\n\t\t\t//always have positions\n\t\t\tthis._pOffset[TriangleSubGeometry.POSITION_DATA] = 0;\n\t\t\tvar stride:number = 3;\n\n\t\t\tif (this._vertexNormals != null) {\n\t\t\t\tthis._pOffset[TriangleSubGeometry.NORMAL_DATA] = stride;\n\t\t\t\tstride += 3;\n\t\t\t}\n\n\t\t\tif (this._vertexTangents != null) {\n\t\t\t\tthis._pOffset[TriangleSubGeometry.TANGENT_DATA] = stride;\n\t\t\t\tstride += 3;\n\t\t\t}\n\n\t\t\tif (this._uvs != null) {\n\t\t\t\tthis._pOffset[TriangleSubGeometry.UV_DATA] = stride;\n\t\t\t\tstride += 2;\n\t\t\t}\n\n\t\t\tif (this._secondaryUVs != null) {\n\t\t\t\tthis._pOffset[TriangleSubGeometry.SECONDARY_UV_DATA] = stride;\n\t\t\t\tstride += 2;\n\t\t\t}\n\n\t\t\tif (this._jointIndices != null) {\n\t\t\t\tthis._pOffset[TriangleSubGeometry.JOINT_INDEX_DATA] = stride;\n\t\t\t\tstride += this._jointsPerVertex;\n\t\t\t}\n\n\t\t\tif (this._jointWeights != null) {\n\t\t\t\tthis._pOffset[TriangleSubGeometry.JOINT_WEIGHT_DATA] = stride;\n\t\t\t\tstride += this._jointsPerVertex;\n\t\t\t}\n\n\t\t\tthis._pStride[TriangleSubGeometry.VERTEX_DATA] = stride;\n\t\t\tthis._pStride[TriangleSubGeometry.POSITION_DATA] = stride;\n\t\t\tthis._pStride[TriangleSubGeometry.NORMAL_DATA] = stride;\n\t\t\tthis._pStride[TriangleSubGeometry.TANGENT_DATA] = stride;\n\t\t\tthis._pStride[TriangleSubGeometry.UV_DATA] = stride;\n\t\t\tthis._pStride[TriangleSubGeometry.SECONDARY_UV_DATA] = stride;\n\t\t\tthis._pStride[TriangleSubGeometry.JOINT_INDEX_DATA] = stride;\n\t\t\tthis._pStride[TriangleSubGeometry.JOINT_WEIGHT_DATA] = stride;\n\n\t\t\tvar len:number = this._pNumVertices*stride;\n\n\t\t\tif (this._pVertices == null)\n\t\t\t\tthis._pVertices = new Array<number>(len);\n\t\t\telse if (this._pVertices.length != len)\n\t\t\t\tthis._pVertices.length = len;\n\n\t\t} else {\n\t\t\tthis._pOffset[TriangleSubGeometry.POSITION_DATA] = 0;\n\t\t\tthis._pOffset[TriangleSubGeometry.NORMAL_DATA] = 0;\n\t\t\tthis._pOffset[TriangleSubGeometry.TANGENT_DATA] = 0;\n\t\t\tthis._pOffset[TriangleSubGeometry.UV_DATA] = 0;\n\t\t\tthis._pOffset[TriangleSubGeometry.SECONDARY_UV_DATA] = 0;\n\t\t\tthis._pOffset[TriangleSubGeometry.JOINT_INDEX_DATA] = 0;\n\t\t\tthis._pOffset[TriangleSubGeometry.JOINT_WEIGHT_DATA] = 0;\n\n\t\t\tthis._pStride[TriangleSubGeometry.POSITION_DATA] = 3;\n\t\t\tthis._pStride[TriangleSubGeometry.NORMAL_DATA] = 3;\n\t\t\tthis._pStride[TriangleSubGeometry.TANGENT_DATA] = 3;\n\t\t\tthis._pStride[TriangleSubGeometry.UV_DATA] = 2;\n\t\t\tthis._pStride[TriangleSubGeometry.SECONDARY_UV_DATA] = 2;\n\t\t\tthis._pStride[TriangleSubGeometry.JOINT_INDEX_DATA] = this._jointsPerVertex;\n\t\t\tthis._pStride[TriangleSubGeometry.JOINT_WEIGHT_DATA] = this._jointsPerVertex;\n\t\t}\n\n\t\tthis._pStrideOffsetDirty = false;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get jointsPerVertex():number\n\t{\n\t\treturn this._jointsPerVertex;\n\t}\n\n\tpublic set jointsPerVertex(value:number)\n\t{\n\t\tif (this._jointsPerVertex == value)\n\t\t\treturn;\n\n\t\tthis._jointsPerVertex = value;\n\n\t\tthis._pStrideOffsetDirty = true;\n\n\t\tif (this._pConcatenateArrays)\n\t\t\tthis._pNotifyVerticesUpdate();\n\t}\n\n\t/**\n\t * Defines whether a UV buffer should be automatically generated to contain dummy UV coordinates.\n\t * Set to true if a geometry lacks UV data but uses a material that requires it, or leave as false\n\t * in cases where UV data is explicitly defined or the material does not require UV data.\n\t */\n\tpublic get autoDeriveUVs():boolean\n\t{\n\t\treturn this._autoDeriveUVs;\n\t}\n\n\tpublic set autoDeriveUVs(value:boolean)\n\t{\n\t\tif (this._autoDeriveUVs == value)\n\t\t\treturn;\n\n\t\tthis._autoDeriveUVs = value;\n\n\t\tif (value)\n\t\t\tthis.notifyUVsUpdate();\n\t}\n\n\t/**\n\t * True if the vertex normals should be derived from the geometry, false if the vertex normals are set\n\t * explicitly.\n\t */\n\tpublic get autoDeriveNormals():boolean\n\t{\n\t\treturn this._autoDeriveNormals;\n\t}\n\n\tpublic set autoDeriveNormals(value:boolean)\n\t{\n\t\tif (this._autoDeriveNormals == value)\n\t\t\treturn;\n\n\t\tthis._autoDeriveNormals = value;\n\n\t\tif (value)\n\t\t\tthis.notifyNormalsUpdate();\n\t}\n\n\t/**\n\t * True if the vertex tangents should be derived from the geometry, false if the vertex normals are set\n\t * explicitly.\n\t */\n\tpublic get autoDeriveTangents():boolean\n\t{\n\t\treturn this._autoDeriveTangents;\n\t}\n\n\tpublic set autoDeriveTangents(value:boolean)\n\t{\n\t\tif (this._autoDeriveTangents == value)\n\t\t\treturn;\n\n\t\tthis._autoDeriveTangents = value;\n\n\t\tif (value)\n\t\t\tthis.notifyTangentsUpdate();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get vertices():Array<number>\n\t{\n\t\tif (this._positionsDirty)\n\t\t\tthis.updatePositions(this._positions);\n\n\t\tif (this._vertexNormalsDirty)\n\t\t\tthis.updateVertexNormals(this._vertexNormals);\n\n\t\tif (this._vertexTangentsDirty)\n\t\t\tthis.updateVertexTangents(this._vertexTangents);\n\n\t\tif (this._uvsDirty)\n\t\t\tthis.updateUVs(this._uvs);\n\n\t\tif (this._secondaryUVsDirty)\n\t\t\tthis.updateSecondaryUVs(this._secondaryUVs);\n\n\t\tif (this._jointIndicesDirty)\n\t\t\tthis.updateJointIndices(this._jointIndices);\n\n\t\tif (this._jointWeightsDirty)\n\t\t\tthis.updateJointWeights(this._jointWeights);\n\n\t\treturn this._pVertices;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get positions():Array<number>\n\t{\n\t\tif (this._positionsDirty)\n\t\t\tthis.updatePositions(this._positions);\n\n\t\treturn this._positions;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get vertexNormals():Array<number>\n\t{\n\t\tif (this._vertexNormalsDirty)\n\t\t\tthis.updateVertexNormals(this._vertexNormals);\n\n\t\treturn this._vertexNormals;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get vertexTangents():Array<number>\n\t{\n\t\tif (this._vertexTangentsDirty)\n\t\t\tthis.updateVertexTangents(this._vertexTangents);\n\n\t\treturn this._vertexTangents;\n\t}\n\n\t/**\n\t * The raw data of the face normals, in the same order as the faces are listed in the index list.\n\t */\n\tpublic get faceNormals():Array<number>\n\t{\n\t\tif (this._faceNormalsDirty)\n\t\t\tthis.updateFaceNormals();\n\n\t\treturn this._faceNormals;\n\t}\n\n\t/**\n\t * The raw data of the face tangets, in the same order as the faces are listed in the index list.\n\t */\n\tpublic get faceTangents():Array<number>\n\t{\n\t\tif (this._faceTangentsDirty)\n\t\t\tthis.updateFaceTangents();\n\n\t\treturn this._faceTangents;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get uvs():Array<number>\n\t{\n\t\tif (this._uvsDirty)\n\t\t\tthis.updateUVs(this._uvs);\n\n\t\treturn this._uvs;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get secondaryUVs():Array<number>\n\t{\n\t\tif (this._secondaryUVsDirty)\n\t\t\tthis.updateSecondaryUVs(this._secondaryUVs);\n\n\t\treturn this._secondaryUVs;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get jointIndices():Array<number>\n\t{\n\t\tif (this._jointIndicesDirty)\n\t\t\tthis.updateJointIndices(this._jointIndices);\n\n\t\tif (this._useCondensedIndices)\n\t\t\treturn this._condensedJointIndices;\n\n\t\treturn this._jointIndices;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get jointWeights():Array<number>\n\t{\n\t\tif (this._jointWeightsDirty)\n\t\t\tthis.updateJointWeights(this._jointWeights);\n\n\t\treturn this._jointWeights;\n\t}\n\n\t/**\n\t * Indicates whether or not to take the size of faces into account when auto-deriving vertex normals and tangents.\n\t */\n\tpublic get useFaceWeights():boolean\n\t{\n\t\treturn this._useFaceWeights;\n\t}\n\n\tpublic set useFaceWeights(value:boolean)\n\t{\n\t\tif (this._useFaceWeights == value)\n\t\t\treturn;\n\n\t\tthis._useFaceWeights = value;\n\n\t\tif (this._autoDeriveNormals)\n\t\t\tthis.notifyNormalsUpdate();\n\n\t\tif (this._autoDeriveTangents)\n\t\t\tthis.notifyTangentsUpdate();\n\n\t\tthis._faceNormalsDirty = true;\n\t}\n\n\tpublic get numCondensedJoints():number\n\t{\n\t\tif (this._jointIndicesDirty)\n\t\t\tthis.updateJointIndices(this._jointIndices);\n\n\t\treturn this._numCondensedJoints;\n\t}\n\n\tpublic get condensedIndexLookUp():Array<number>\n\t{\n\t\tif (this._jointIndicesDirty)\n\t\t\tthis.updateJointIndices(this._jointIndices);\n\n\t\treturn this._condensedIndexLookUp;\n\t}\n\n\t/**\n\t *\n\t */\n\tconstructor(concatenatedArrays:boolean)\n\t{\n\t\tsuper(concatenatedArrays);\n\t}\n\n\tpublic getBoundingPositions():Array<number>\n\t{\n\t\tif (this._positionsDirty)\n\t\t\tthis.updatePositions(this._positions);\n\n\t\treturn this._positions;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic updatePositions(values:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar index:number;\n\t\tvar stride:number;\n\t\tvar positions:Array<number>;\n\n\t\tthis._positions = values;\n\n\t\tif (this._positions == null)\n\t\t\tthis._positions = new Array<number>();\n\n\t\tthis._pNumVertices = this._positions.length/3;\n\n\t\tif (this._concatenateArrays) {\n\t\t\tvar len:number = this._pNumVertices*this.getStride(TriangleSubGeometry.VERTEX_DATA);\n\n\t\t\tif (this._pVertices == null)\n\t\t\t\tthis._pVertices = new Array<number>(len);\n\t\t\telse if (this._pVertices.length != len)\n\t\t\t\tthis._pVertices.length = len;\n\n\t\t\ti = 0;\n\t\t\tindex = this.getOffset(TriangleSubGeometry.POSITION_DATA);\n\t\t\tstride = this.getStride(TriangleSubGeometry.POSITION_DATA);\n\t\t\tpositions = this._pVertices;\n\n\t\t\twhile (i < values.length) {\n\t\t\t\tpositions[index] = values[i++];\n\t\t\t\tpositions[index + 1] = values[i++];\n\t\t\t\tpositions[index + 2] = values[i++];\n\t\t\t\tindex += stride;\n\t\t\t}\n\t\t}\n\n\t\tif (this._autoDeriveNormals)\n\t\t\tthis.notifyNormalsUpdate();\n\n\t\tif (this._autoDeriveTangents)\n\t\t\tthis.notifyTangentsUpdate();\n\n\t\tif (this._autoDeriveUVs)\n\t\t\tthis.notifyUVsUpdate()\n\n\t\tthis.pInvalidateBounds();\n\n\t\tthis.notifyPositionsUpdate();\n\n\t\tthis._positionsDirty = false;\n\t}\n\n\t/**\n\t * Updates the vertex normals based on the geometry.\n\t */\n\tpublic updateVertexNormals(values:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar normals:Array<number>;\n\n\t\tif (!this._autoDeriveNormals) {\n\t\t\tif ((this._vertexNormals == null || values == null) && (this._vertexNormals != null || values != null)) {\n\t\t\t\tif (this._concatenateArrays)\n\t\t\t\t\tthis._pNotifyVerticesUpdate();\n\t\t\t\telse\n\t\t\t\t\tthis._pStrideOffsetDirty = true;\n\t\t\t}\n\n\t\t\tthis._vertexNormals = values;\n\n\t\t\tif (values != null && this._concatenateArrays) {\n\t\t\t\ti = 0;\n\t\t\t\tindex = this.getOffset(TriangleSubGeometry.NORMAL_DATA);\n\t\t\t\tstride = this.getStride(TriangleSubGeometry.NORMAL_DATA);\n\t\t\t\tnormals = this._pVertices;\n\n\t\t\t\twhile (i < values.length) {\n\t\t\t\t\tnormals[index] = values[i++];\n\t\t\t\t\tnormals[index + 1] = values[i++];\n\t\t\t\t\tnormals[index + 2] = values[i++];\n\t\t\t\t\tindex += stride;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (this._vertexNormals == null) {\n\t\t\t\tthis._vertexNormals = new Array<number>(this._positions.length);\n\n\t\t\t\tif (this._concatenateArrays)\n\t\t\t\t\tthis._pNotifyVerticesUpdate();\n\t\t\t\telse\n\t\t\t\t\tthis._pStrideOffsetDirty = true;\n\t\t\t}\n\n\t\t\tif (this._faceNormalsDirty)\n\t\t\t\tthis.updateFaceNormals();\n\n\t\t\toffset = this.getOffset(TriangleSubGeometry.NORMAL_DATA);\n\t\t\tstride = this.getStride(TriangleSubGeometry.NORMAL_DATA);\n\n\t\t\t//autoderived normals\n\t\t\tnormals = this._concatenateArrays? this._pVertices : this._vertexNormals;\n\n\t\t\tvar f1:number = 0;\n\t\t\tvar f2:number = 1;\n\t\t\tvar f3:number = 2;\n\n\t\t\tindex = offset;\n\n\t\t\t//clear normal values\n\t\t\tvar lenV:number = normals.length;\n\t\t\twhile (index < lenV) {\n\t\t\t\tnormals[index] = 0;\n\t\t\t\tnormals[index + 1] = 0;\n\t\t\t\tnormals[index + 2] = 0;\n\t\t\t\tindex += stride;\n\t\t\t}\n\n\t\t\tvar k:number = 0;\n\t\t\tvar lenI:number = this._pIndices.length;\n\t\t\tvar weight:number;\n\n\t\t\ti = 0;\n\n\t\t\t//collect face normals\n\t\t\twhile (i < lenI) {\n\t\t\t\tweight = this._useFaceWeights? this._faceWeights[k++] : 1;\n\t\t\t\tindex = offset + this._pIndices[i++]*stride;\n\t\t\t\tnormals[index] += this._faceNormals[f1]*weight;\n\t\t\t\tnormals[index + 1] += this._faceNormals[f2]*weight;\n\t\t\t\tnormals[index + 2] += this._faceNormals[f3]*weight;\n\t\t\t\tindex = offset + this._pIndices[i++]*stride;\n\t\t\t\tnormals[index] += this._faceNormals[f1]*weight;\n\t\t\t\tnormals[index + 1] += this._faceNormals[f2]*weight;\n\t\t\t\tnormals[index + 2] += this._faceNormals[f3]*weight;\n\t\t\t\tindex = offset + this._pIndices[i++]*stride;\n\t\t\t\tnormals[index] += this._faceNormals[f1]*weight;\n\t\t\t\tnormals[index + 1] += this._faceNormals[f2]*weight;\n\t\t\t\tnormals[index + 2] += this._faceNormals[f3]*weight;\n\t\t\t\tf1 += 3;\n\t\t\t\tf2 += 3;\n\t\t\t\tf3 += 3;\n\t\t\t}\n\n\t\t\ti = 0;\n\t\t\tindex = offset;\n\n\t\t\t//average normals collections\n\t\t\twhile (index < lenV) {\n\t\t\t\tvar vx:number = normals[index];\n\t\t\t\tvar vy:number = normals[index + 1];\n\t\t\t\tvar vz:number = normals[index + 2];\n\t\t\t\tvar d:number = 1.0/Math.sqrt(vx*vx + vy*vy + vz*vz);\n\n\t\t\t\tif (this._concatenateArrays) {\n\t\t\t\t\tthis._vertexNormals[i++] = normals[index] = vx*d;\n\t\t\t\t\tthis._vertexNormals[i++] = normals[index + 1] = vy*d;\n\t\t\t\t\tthis._vertexNormals[i++] = normals[index + 2] = vz*d;\n\t\t\t\t} else {\n\t\t\t\t\tnormals[index] = vx*d;\n\t\t\t\t\tnormals[index + 1] = vy*d;\n\t\t\t\t\tnormals[index + 2] = vz*d;\n\t\t\t\t}\n\n\t\t\t\tindex += stride;\n\t\t\t}\n\t\t}\n\n\t\tthis.notifyNormalsUpdate();\n\n\t\tthis._vertexNormalsDirty = false;\n\t}\n\n\t/**\n\t * Updates the vertex tangents based on the geometry.\n\t */\n\tpublic updateVertexTangents(values:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar tangents:Array<number>;\n\n\t\tif (!this._autoDeriveTangents) {\n\t\t\tif ((this._vertexTangents == null || values == null) && (this._vertexTangents != null || values != null)) {\n\t\t\t\tif (this._concatenateArrays)\n\t\t\t\t\tthis._pNotifyVerticesUpdate();\n\t\t\t\telse\n\t\t\t\t\tthis._pStrideOffsetDirty = true;\n\t\t\t}\n\n\n\t\t\tthis._vertexTangents = values;\n\n\t\t\tif (values != null && this._concatenateArrays) {\n\t\t\t\ti = 0;\n\t\t\t\tindex = this.getOffset(TriangleSubGeometry.TANGENT_DATA);\n\t\t\t\tstride = this.getStride(TriangleSubGeometry.TANGENT_DATA);\n\t\t\t\ttangents = this._pVertices;\n\n\t\t\t\twhile (i < values.length) {\n\t\t\t\t\ttangents[index] = values[i++];\n\t\t\t\t\ttangents[index + 1] = values[i++];\n\t\t\t\t\ttangents[index + 2] = values[i++];\n\t\t\t\t\tindex += stride;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (this._vertexTangents == null) {\n\t\t\t\tthis._vertexTangents = new Array<number>(this._positions.length);\n\n\t\t\t\tif (this._concatenateArrays)\n\t\t\t\t\tthis._pNotifyVerticesUpdate();\n\t\t\t\telse\n\t\t\t\t\tthis._pStrideOffsetDirty = true;\n\t\t\t}\n\n\t\t\tif (this._faceTangentsDirty)\n\t\t\t\tthis.updateFaceTangents();\n\n\t\t\toffset = this.getOffset(TriangleSubGeometry.TANGENT_DATA);\n\t\t\tstride = this.getStride(TriangleSubGeometry.TANGENT_DATA);\n\n\t\t\t//autoderived tangents\n\t\t\ttangents = this._concatenateArrays? this._pVertices : this._vertexTangents;\n\n\t\t\tindex = offset;\n\n\t\t\t//clear tangent values\n\t\t\tvar lenV:number = tangents.length;\n\t\t\twhile (index < lenV) {\n\t\t\t\ttangents[index] = 0;\n\t\t\t\ttangents[index + 1] = 0;\n\t\t\t\ttangents[index + 2] = 0;\n\n\t\t\t\tindex += stride;\n\t\t\t}\n\n\t\t\tvar k:number = 0;\n\t\t\tvar weight:number;\n\t\t\tvar f1:number = 0;\n\t\t\tvar f2:number = 1;\n\t\t\tvar f3:number = 2;\n\n\t\t\ti = 0;\n\n\t\t\t//collect face tangents\n\t\t\tvar lenI:number = this._pIndices.length;\n\t\t\twhile (i < lenI) {\n\t\t\t\tweight = this._useFaceWeights? this._faceWeights[k++] : 1;\n\t\t\t\tindex = offset + this._pIndices[i++]*stride;\n\t\t\t\ttangents[index++] += this._faceTangents[f1]*weight;\n\t\t\t\ttangents[index++] += this._faceTangents[f2]*weight;\n\t\t\t\ttangents[index] += this._faceTangents[f3]*weight;\n\t\t\t\tindex = offset + this._pIndices[i++]*stride;\n\t\t\t\ttangents[index++] += this._faceTangents[f1]*weight;\n\t\t\t\ttangents[index++] += this._faceTangents[f2]*weight;\n\t\t\t\ttangents[index] += this._faceTangents[f3]*weight;\n\t\t\t\tindex = offset + this._pIndices[i++]*stride;\n\t\t\t\ttangents[index++] += this._faceTangents[f1]*weight;\n\t\t\t\ttangents[index++] += this._faceTangents[f2]*weight;\n\t\t\t\ttangents[index] += this._faceTangents[f3]*weight;\n\t\t\t\tf1 += 3;\n\t\t\t\tf2 += 3;\n\t\t\t\tf3 += 3;\n\t\t\t}\n\n\t\t\ti = 0;\n\t\t\tindex = offset;\n\n\t\t\t//average tangents collections\n\t\t\twhile (index < lenV) {\n\t\t\t\tvar vx:number = tangents[index];\n\t\t\t\tvar vy:number = tangents[index + 1];\n\t\t\t\tvar vz:number = tangents[index + 2];\n\t\t\t\tvar d:number = 1.0/Math.sqrt(vx*vx + vy*vy + vz*vz);\n\n\t\t\t\tif (this._concatenateArrays) {\n\t\t\t\t\tthis._vertexTangents[i++] = tangents[index] = vx*d;\n\t\t\t\t\tthis._vertexTangents[i++] = tangents[index + 1] = vy*d;\n\t\t\t\t\tthis._vertexTangents[i++] = tangents[index + 2] = vz*d;\n\t\t\t\t} else {\n\t\t\t\t\ttangents[index] = vx*d;\n\t\t\t\t\ttangents[index + 1] = vy*d;\n\t\t\t\t\ttangents[index + 2] = vz*d;\n\t\t\t\t}\n\n\t\t\t\tindex += stride;\n\t\t\t}\n\t\t}\n\n\t\tthis.notifyTangentsUpdate();\n\n\t\tthis._vertexTangentsDirty = false;\n\t}\n\n\t/**\n\t * Updates the uvs based on the geometry.\n\t */\n\tpublic updateUVs(values:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar uvs:Array<number>;\n\n\t\tif (!this._autoDeriveUVs) {\n\t\t\tif ((this._uvs == null || values == null) && (this._uvs != null || values != null)) {\n\t\t\t\tif (this._concatenateArrays)\n\t\t\t\t\tthis._pNotifyVerticesUpdate();\n\t\t\t\telse\n\t\t\t\t\tthis._pStrideOffsetDirty = true;\n\t\t\t}\n\n\t\t\tthis._uvs = values;\n\n\t\t\tif (values != null && this._concatenateArrays) {\n\t\t\t\ti = 0;\n\t\t\t\tindex = this.getOffset(TriangleSubGeometry.UV_DATA);\n\t\t\t\tstride = this.getStride(TriangleSubGeometry.UV_DATA);\n\t\t\t\tuvs = this._pVertices;\n\n\t\t\t\twhile (i < values.length) {\n\t\t\t\t\tuvs[index] = values[i++];\n\t\t\t\t\tuvs[index + 1] = values[i++];\n\t\t\t\t\tindex += stride;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\tif (this._uvs == null) {\n\t\t\t\tthis._uvs = new Array<number>(this._positions.length*2/3);\n\n\t\t\t\tif (this._concatenateArrays)\n\t\t\t\t\tthis._pNotifyVerticesUpdate();\n\t\t\t\telse\n\t\t\t\t\tthis._pStrideOffsetDirty = true;\n\t\t\t}\n\n\t\t\toffset = this.getOffset(TriangleSubGeometry.UV_DATA);\n\t\t\tstride = this.getStride(TriangleSubGeometry.UV_DATA);\n\n\t\t\t//autoderived uvs\n\t\t\tuvs = this._concatenateArrays? this._pVertices : this._uvs;\n\n\t\t\ti = 0;\n\t\t\tindex = offset;\n\t\t\tvar uvIdx:number = 0;\n\n\t\t\t//clear uv values\n\t\t\tvar lenV:number = uvs.length;\n\t\t\twhile (index < lenV) {\n\t\t\t\tif (this._concatenateArrays) {\n\t\t\t\t\tthis._uvs[i++] = uvs[index] = uvIdx*.5;\n\t\t\t\t\tthis._uvs[i++] = uvs[index + 1] = 1.0 - (uvIdx & 1);\n\t\t\t\t} else {\n\t\t\t\t\tuvs[index] = uvIdx*.5;\n\t\t\t\t\tuvs[index + 1] = 1.0 - (uvIdx & 1);\n\t\t\t\t}\n\n\t\t\t\tif (++uvIdx == 3)\n\t\t\t\t\tuvIdx = 0;\n\n\t\t\t\tindex += stride;\n\t\t\t}\n\t\t}\n\n\t\tif (this._autoDeriveTangents)\n\t\t\tthis.notifyTangentsUpdate();\n\n\t\tthis.notifyUVsUpdate();\n\n\t\tthis._uvsDirty = false;\n\t}\n\n\t/**\n\t * Updates the secondary uvs based on the geometry.\n\t */\n\tpublic updateSecondaryUVs(values:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar uvs:Array<number>;\n\n\t\tif (this._concatenateArrays && (this._secondaryUVs == null || values == null) && (this._secondaryUVs != null || values != null))\n\t\t\tthis._pNotifyVerticesUpdate();\n\n\t\tthis._secondaryUVs = values;\n\n\t\tif (values != null && this._concatenateArrays) {\n\t\t\toffset = this.getOffset(TriangleSubGeometry.SECONDARY_UV_DATA);\n\t\t\tstride = this.getStride(TriangleSubGeometry.SECONDARY_UV_DATA);\n\n\t\t\ti = 0;\n\t\t\tindex = offset;\n\t\t\tuvs = this._pVertices;\n\n\t\t\twhile (i < values.length) {\n\t\t\t\tuvs[index] = values[i++];\n\t\t\t\tuvs[index + 1] = values[i++];\n\t\t\t\tindex += stride;\n\t\t\t}\n\t\t}\n\n\t\tthis.notifySecondaryUVsUpdate();\n\n\t\tthis._secondaryUVsDirty = false;\n\t}\n\n\t/**\n\t * Updates the joint indices\n\t */\n\tpublic updateJointIndices(values:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar j:number;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar jointIndices:Array<number>;\n\n\t\tif (this._concatenateArrays && (this._jointIndices == null || values == null) && (this._jointIndices != null || values != null))\n\t\t\tthis._pNotifyVerticesUpdate();\n\n\t\tthis._jointIndices = values;\n\n\t\tif (values != null) {\n\t\t\toffset = this.getOffset(TriangleSubGeometry.JOINT_INDEX_DATA);\n\t\t\tstride = this.getStride(TriangleSubGeometry.JOINT_INDEX_DATA);\n\t\t\tif (this._useCondensedIndices) {\n\t\t\t\ti = 0;\n\t\t\t\tj = 0;\n\t\t\t\tindex = offset;\n\t\t\t\tjointIndices = this._concatenateArrays? this._pVertices : this._condensedJointIndices;\n\t\t\t\tvar oldIndex:number;\n\t\t\t\tvar newIndex:number = 0;\n\t\t\t\tvar dic:Object = new Object();\n\n\t\t\t\tif (!this._concatenateArrays)\n\t\t\t\t\tthis._condensedJointIndices = new Array<number>(values.length);\n\n\t\t\t\tthis._condensedIndexLookUp = new Array<number>();\n\n\t\t\t\twhile (i < values.length) {\n\t\t\t\t\tfor (j = 0; j < this._jointsPerVertex; j++) {\n\t\t\t\t\t\toldIndex = values[i++];\n\n\t\t\t\t\t\t// if we encounter a new index, assign it a new condensed index\n\t\t\t\t\t\tif (dic[oldIndex] == undefined) {\n\t\t\t\t\t\t\tdic[oldIndex] = newIndex*3; //3 required for the three vectors that store the matrix\n\t\t\t\t\t\t\tthis._condensedIndexLookUp[newIndex++] = oldIndex;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tjointIndices[index + j] = dic[oldIndex];\n\t\t\t\t\t}\n\t\t\t\t\tindex += stride;\n\t\t\t\t}\n\t\t\t\tthis._numCondensedJoints = newIndex;\n\t\t\t} else if (this._concatenateArrays) {\n\n\t\t\t\ti = 0;\n\t\t\t\tindex = offset;\n\t\t\t\tjointIndices = this._pVertices;\n\n\t\t\t\twhile (i < values.length) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile (j < this._jointsPerVertex)\n\t\t\t\t\t\tjointIndices[index + j++] = values[i++];\n\t\t\t\t\tindex += stride;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.notifyJointIndicesUpdate();\n\n\t\tthis._jointIndicesDirty = false;\n\t}\n\n\t/**\n\t * Updates the joint weights.\n\t */\n\tpublic updateJointWeights(values:Array<number>)\n\t{\n\t\tvar i:number;\n\t\tvar j:number;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar jointWeights:Array<number>;\n\n\t\tif (this._concatenateArrays && (this._jointWeights == null || values == null) && (this._jointWeights != null || values != null))\n\t\t\tthis._pNotifyVerticesUpdate();\n\n\t\tthis._jointWeights = values;\n\n\t\tif (values != null && this._concatenateArrays) {\n\t\t\toffset = this.getOffset(TriangleSubGeometry.JOINT_WEIGHT_DATA);\n\t\t\tstride = this.getStride(TriangleSubGeometry.JOINT_WEIGHT_DATA);\n\n\t\t\ti = 0;\n\t\t\tindex = offset;\n\t\t\tjointWeights = this._pVertices;\n\n\t\t\twhile (i < values.length) {\n\t\t\t\tj = 0;\n\t\t\t\twhile (j < this._jointsPerVertex)\n\t\t\t\t\tjointWeights[index + j++] = values[i++];\n\t\t\t\tindex += stride;\n\t\t\t}\n\t\t}\n\n\t\tthis.notifyJointWeightsUpdate();\n\n\t\tthis._jointWeightsDirty = false;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic dispose()\n\t{\n\t\tsuper.dispose();\n\n\t\tthis._positions = null;\n\t\tthis._vertexNormals = null;\n\t\tthis._vertexTangents = null;\n\t\tthis._uvs = null;\n\t\tthis._secondaryUVs = null;\n\t\tthis._jointIndices = null;\n\t\tthis._jointWeights = null;\n\n\t\tthis._faceNormals = null;\n\t\tthis._faceWeights = null;\n\t\tthis._faceTangents = null;\n\t}\n\n\t/**\n\t * Updates the face indices of the TriangleSubGeometry.\n\t *\n\t * @param indices The face indices to upload.\n\t */\n\tpublic updateIndices(indices:Array<number>)\n\t{\n\t\tsuper.updateIndices(indices);\n\n\t\tthis._faceNormalsDirty = true;\n\n\t\tif (this._autoDeriveNormals)\n\t\t\tthis._vertexNormalsDirty = true;\n\n\t\tif (this._autoDeriveTangents)\n\t\t\tthis._vertexTangentsDirty = true;\n\n\t\tif (this._autoDeriveUVs)\n\t\t\tthis._uvsDirty = true;\n\t}\n\n\t/**\n\t * Clones the current object\n\t * @return An exact duplicate of the current object.\n\t */\n\tpublic clone():TriangleSubGeometry\n\t{\n\t\tvar clone:TriangleSubGeometry = new TriangleSubGeometry(this._concatenateArrays);\n\t\tclone.updateIndices(this._pIndices.concat());\n\t\tclone.updatePositions(this._positions.concat());\n\n\t\tif (this._vertexNormals && !this._autoDeriveNormals)\n\t\t\tclone.updateVertexNormals(this._vertexNormals.concat());\n\t\telse\n\t\t\tclone.updateVertexNormals(null);\n\n\t\tif (this._uvs && !this._autoDeriveUVs)\n\t\t\tclone.updateUVs(this._uvs.concat());\n\t\telse\n\t\t\tclone.updateUVs(null);\n\n\t\tif (this._vertexTangents && !this._autoDeriveTangents)\n\t\t\tclone.updateVertexTangents(this._vertexTangents.concat());\n\t\telse\n\t\t\tclone.updateVertexTangents(null);\n\n\t\tif (this._secondaryUVs)\n\t\t\tclone.updateSecondaryUVs(this._secondaryUVs.concat());\n\n\t\tif (this._jointIndices) {\n\t\t\tclone.jointsPerVertex = this._jointsPerVertex;\n\t\t\tclone.updateJointIndices(this._jointIndices.concat());\n\t\t}\n\n\t\tif (this._jointWeights)\n\t\t\tclone.updateJointWeights(this._jointWeights.concat());\n\n\t\treturn clone;\n\t}\n\n\tpublic scaleUV(scaleU:number = 1, scaleV:number = 1)\n\t{\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar uvs:Array<number>;\n\n\t\tuvs = this._uvs;\n\n\t\tvar ratioU:number = scaleU/this._scaleU;\n\t\tvar ratioV:number = scaleV/this._scaleV;\n\n\t\tthis._scaleU = scaleU;\n\t\tthis._scaleV = scaleV;\n\n\t\tvar len:number = uvs.length;\n\n\t\toffset = 0;\n\t\tstride = 2;\n\n\t\tindex = offset;\n\n\t\twhile (index < len) {\n\t\t\tuvs[index] *= ratioU;\n\t\t\tuvs[index + 1] *= ratioV;\n\t\t\tindex += stride;\n\t\t}\n\n\t\tthis.notifyUVsUpdate();\n\t}\n\n\t/**\n\t * Scales the geometry.\n\t * @param scale The amount by which to scale.\n\t */\n\tpublic scale(scale:number)\n\t{\n\t\tvar i:number;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\t\tvar positions:Array<number>;\n\n\t\tpositions = this._positions;\n\n\t\tvar len:number = positions.length;\n\n\t\toffset = 0;\n\t\tstride = 3;\n\n\t\ti = 0;\n\t\tindex = offset;\n\t\twhile (i < len) {\n\t\t\tpositions[index] *= scale;\n\t\t\tpositions[index + 1] *= scale;\n\t\t\tpositions[index + 2] *= scale;\n\n\t\t\ti += 3;\n\t\t\tindex += stride;\n\t\t}\n\n\t\tthis.notifyPositionsUpdate();\n\t}\n\n\tpublic applyTransformation(transform:Matrix3D)\n\t{\n\t\tvar positions:Array<number>;\n\t\tvar normals:Array<number>;\n\t\tvar tangents:Array<number>;\n\n\t\tif (this._concatenateArrays) {\n\t\t\tpositions = this._pVertices;\n\t\t\tnormals = this._pVertices;\n\t\t\ttangents = this._pVertices;\n\t\t} else {\n\t\t\tpositions = this._positions;\n\t\t\tnormals = this._vertexNormals;\n\t\t\ttangents = this._vertexTangents;\n\t\t}\n\n\t\tvar len:number = this._positions.length/3;\n\t\tvar i:number;\n\t\tvar i1:number;\n\t\tvar i2:number;\n\t\tvar vector:Vector3D = new Vector3D();\n\n\t\tvar bakeNormals:boolean = this._vertexNormals != null;\n\t\tvar bakeTangents:boolean = this._vertexTangents != null;\n\t\tvar invTranspose:Matrix3D;\n\n\t\tif (bakeNormals || bakeTangents) {\n\t\t\tinvTranspose = transform.clone();\n\t\t\tinvTranspose.invert();\n\t\t\tinvTranspose.transpose();\n\t\t}\n\n\t\tvar vi0:number = this.getOffset(TriangleSubGeometry.POSITION_DATA);\n\t\tvar ni0:number = this.getOffset(TriangleSubGeometry.NORMAL_DATA);\n\t\tvar ti0:number = this.getOffset(TriangleSubGeometry.TANGENT_DATA);\n\n\t\tvar vStride:number = this.getStride(TriangleSubGeometry.POSITION_DATA);\n\t\tvar nStride:number = this.getStride(TriangleSubGeometry.NORMAL_DATA);\n\t\tvar tStride:number = this.getStride(TriangleSubGeometry.TANGENT_DATA);\n\n\t\tfor (i = 0; i < len; ++i) {\n\t\t\ti1 = vi0 + 1;\n\t\t\ti2 = vi0 + 2;\n\n\t\t\t// bake position\n\t\t\tvector.x = positions[vi0];\n\t\t\tvector.y = positions[i1];\n\t\t\tvector.z = positions[i2];\n\t\t\tvector = transform.transformVector(vector);\n\t\t\tpositions[vi0] = vector.x;\n\t\t\tpositions[i1] = vector.y;\n\t\t\tpositions[i2] = vector.z;\n\t\t\tvi0 += vStride;\n\n\t\t\t// bake normal\n\t\t\tif (bakeNormals) {\n\t\t\t\ti1 = ni0 + 1;\n\t\t\t\ti2 = ni0 + 2;\n\t\t\t\tvector.x = normals[ni0];\n\t\t\t\tvector.y = normals[i1];\n\t\t\t\tvector.z = normals[i2];\n\t\t\t\tvector = invTranspose.deltaTransformVector(vector);\n\t\t\t\tvector.normalize();\n\t\t\t\tnormals[ni0] = vector.x;\n\t\t\t\tnormals[i1] = vector.y;\n\t\t\t\tnormals[i2] = vector.z;\n\t\t\t\tni0 += nStride;\n\t\t\t}\n\n\t\t\t// bake tangent\n\t\t\tif (bakeTangents) {\n\t\t\t\ti1 = ti0 + 1;\n\t\t\t\ti2 = ti0 + 2;\n\t\t\t\tvector.x = tangents[ti0];\n\t\t\t\tvector.y = tangents[i1];\n\t\t\t\tvector.z = tangents[i2];\n\t\t\t\tvector = invTranspose.deltaTransformVector(vector);\n\t\t\t\tvector.normalize();\n\t\t\t\ttangents[ti0] = vector.x;\n\t\t\t\ttangents[i1] = vector.y;\n\t\t\t\ttangents[i2] = vector.z;\n\t\t\t\tti0 += tStride;\n\t\t\t}\n\t\t}\n\n\t\tthis.notifyPositionsUpdate();\n\t\tthis.notifyNormalsUpdate();\n\t\tthis.notifyTangentsUpdate();\n\t}\n\n\t/**\n\t * Updates the tangents for each face.\n\t */\n\tprivate updateFaceTangents()\n\t{\n\t\tvar i:number = 0;\n\t\tvar index1:number;\n\t\tvar index2:number;\n\t\tvar index3:number;\n\t\tvar vi:number;\n\t\tvar v0:number;\n\t\tvar dv1:number;\n\t\tvar dv2:number;\n\t\tvar denom:number;\n\t\tvar x0:number, y0:number, z0:number;\n\t\tvar dx1:number, dy1:number, dz1:number;\n\t\tvar dx2:number, dy2:number, dz2:number;\n\t\tvar cx:number, cy:number, cz:number;\n\n\t\tvar positions:Array<number> = this._positions\n\t\tvar uvs:Array<number> = this._uvs;\n\n\t\tvar len:number = this._pIndices.length;\n\n\t\tif (this._faceTangents == null)\n\t\t\tthis._faceTangents = new Array<number>(len);\n\n\t\twhile (i < len) {\n\t\t\tindex1 = this._pIndices[i];\n\t\t\tindex2 = this._pIndices[i + 1];\n\t\t\tindex3 = this._pIndices[i + 2];\n\n\t\t\tv0 = uvs[index1*2 + 1];\n\t\t\tdv1 = uvs[index2*2 + 1] - v0;\n\t\t\tdv2 = uvs[index3*2 + 1] - v0;\n\n\t\t\tvi = index1*3;\n\t\t\tx0 = positions[vi];\n\t\t\ty0 = positions[vi + 1];\n\t\t\tz0 = positions[vi + 2];\n\t\t\tvi = index2*3;\n\t\t\tdx1 = positions[vi] - x0;\n\t\t\tdy1 = positions[vi + 1] - y0;\n\t\t\tdz1 = positions[vi + 2] - z0;\n\t\t\tvi = index3*3;\n\t\t\tdx2 = positions[vi] - x0;\n\t\t\tdy2 = positions[vi + 1] - y0;\n\t\t\tdz2 = positions[vi + 2] - z0;\n\n\t\t\tcx = dv2*dx1 - dv1*dx2;\n\t\t\tcy = dv2*dy1 - dv1*dy2;\n\t\t\tcz = dv2*dz1 - dv1*dz2;\n\t\t\tdenom = 1/Math.sqrt(cx*cx + cy*cy + cz*cz);\n\n\t\t\tthis._faceTangents[i++] = denom*cx;\n\t\t\tthis._faceTangents[i++] = denom*cy;\n\t\t\tthis._faceTangents[i++] = denom*cz;\n\t\t}\n\n\t\tthis._faceTangentsDirty = false;\n\t}\n\n\t/**\n\t * Updates the normals for each face.\n\t */\n\tprivate updateFaceNormals()\n\t{\n\t\tvar i:number = 0;\n\t\tvar j:number = 0;\n\t\tvar k:number = 0;\n\t\tvar index:number;\n\t\tvar offset:number;\n\t\tvar stride:number;\n\n\t\tvar x1:number, x2:number, x3:number;\n\t\tvar y1:number, y2:number, y3:number;\n\t\tvar z1:number, z2:number, z3:number;\n\t\tvar dx1:number, dy1:number, dz1:number;\n\t\tvar dx2:number, dy2:number, dz2:number;\n\t\tvar cx:number, cy:number, cz:number;\n\t\tvar d:number;\n\n\t\tvar positions:Array<number> = this._positions;\n\n\t\tvar len:number = this._pIndices.length;\n\n\t\tif (this._faceNormals == null)\n\t\t\tthis._faceNormals = new Array<number>(len);\n\n\t\tif (this._useFaceWeights && this._faceWeights == null)\n\t\t\tthis._faceWeights = new Array<number>(len/3);\n\n\t\twhile (i < len) {\n\t\t\tindex = this._pIndices[i++]*3;\n\t\t\tx1 = positions[index];\n\t\t\ty1 = positions[index + 1];\n\t\t\tz1 = positions[index + 2];\n\t\t\tindex = this._pIndices[i++]*3;\n\t\t\tx2 = positions[index];\n\t\t\ty2 = positions[index + 1];\n\t\t\tz2 = positions[index + 2];\n\t\t\tindex = this._pIndices[i++]*3;\n\t\t\tx3 = positions[index];\n\t\t\ty3 = positions[index + 1];\n\t\t\tz3 = positions[index + 2];\n\t\t\tdx1 = x3 - x1;\n\t\t\tdy1 = y3 - y1;\n\t\t\tdz1 = z3 - z1;\n\t\t\tdx2 = x2 - x1;\n\t\t\tdy2 = y2 - y1;\n\t\t\tdz2 = z2 - z1;\n\t\t\tcx = dz1*dy2 - dy1*dz2;\n\t\t\tcy = dx1*dz2 - dz1*dx2;\n\t\t\tcz = dy1*dx2 - dx1*dy2;\n\t\t\td = Math.sqrt(cx*cx + cy*cy + cz*cz);\n\t\t\t// length of cross product = 2*triangle area\n\n\t\t\tif (this._useFaceWeights) {\n\t\t\t\tvar w:number = d*10000;\n\n\t\t\t\tif (w < 1)\n\t\t\t\t\tw = 1;\n\n\t\t\t\tthis._faceWeights[k++] = w;\n\t\t\t}\n\n\t\t\td = 1/d;\n\n\t\t\tthis._faceNormals[j++] = cx*d;\n\t\t\tthis._faceNormals[j++] = cy*d;\n\t\t\tthis._faceNormals[j++] = cz*d;\n\t\t}\n\n\t\tthis._faceNormalsDirty = false;\n\t}\n\n\tpublic _pNotifyVerticesUpdate()\n\t{\n\t\tthis._pStrideOffsetDirty = true;\n\n\t\tthis.notifyPositionsUpdate();\n\t\tthis.notifyNormalsUpdate();\n\t\tthis.notifyTangentsUpdate();\n\t\tthis.notifyUVsUpdate();\n\t\tthis.notifySecondaryUVsUpdate();\n\t\tthis.notifyJointIndicesUpdate();\n\t\tthis.notifyJointWeightsUpdate();\n\t}\n\n\tprivate notifyPositionsUpdate()\n\t{\n\t\tif (this._positionsDirty)\n\t\t\treturn;\n\n\t\tthis._positionsDirty = true;\n\n\t\tif (!this._positionsUpdated)\n\t\t\tthis._positionsUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, TriangleSubGeometry.POSITION_DATA);\n\n\t\tthis.dispatchEvent(this._positionsUpdated);\n\t}\n\n\tprivate notifyNormalsUpdate()\n\t{\n\t\tif (this._vertexNormalsDirty)\n\t\t\treturn;\n\n\t\tthis._vertexNormalsDirty = true;\n\n\t\tif (!this._normalsUpdated)\n\t\t\tthis._normalsUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, TriangleSubGeometry.NORMAL_DATA);\n\n\t\tthis.dispatchEvent(this._normalsUpdated);\n\t}\n\n\tprivate notifyTangentsUpdate()\n\t{\n\t\tif (this._vertexTangentsDirty)\n\t\t\treturn;\n\n\t\tthis._vertexTangentsDirty = true;\n\n\t\tif (!this._tangentsUpdated)\n\t\t\tthis._tangentsUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, TriangleSubGeometry.TANGENT_DATA);\n\n\t\tthis.dispatchEvent(this._tangentsUpdated);\n\t}\n\n\tprivate notifyUVsUpdate()\n\t{\n\t\tif (this._uvsDirty)\n\t\t\treturn;\n\n\t\tthis._uvsDirty = true;\n\n\t\tif (!this._uvsUpdated)\n\t\t\tthis._uvsUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, TriangleSubGeometry.UV_DATA);\n\n\t\tthis.dispatchEvent(this._uvsUpdated);\n\t}\n\n\tprivate notifySecondaryUVsUpdate()\n\t{\n\t\tif (this._secondaryUVsDirty)\n\t\t\treturn;\n\n\t\tthis._secondaryUVsDirty = true;\n\n\t\tif (!this._secondaryUVsUpdated)\n\t\t\tthis._secondaryUVsUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, TriangleSubGeometry.SECONDARY_UV_DATA);\n\n\t\tthis.dispatchEvent(this._secondaryUVsUpdated);\n\t}\n\n\tprivate notifyJointIndicesUpdate()\n\t{\n\t\tif (this._jointIndicesDirty)\n\t\t\treturn;\n\n\t\tthis._jointIndicesDirty = true;\n\n\t\tif (!this._jointIndicesUpdated)\n\t\t\tthis._jointIndicesUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, TriangleSubGeometry.JOINT_INDEX_DATA);\n\n\t\tthis.dispatchEvent(this._jointIndicesUpdated);\n\t}\n\n\tprivate notifyJointWeightsUpdate()\n\t{\n\t\tif (this._jointWeightsDirty)\n\t\t\treturn;\n\n\t\tthis._jointWeightsDirty = true;\n\n\t\tif (!this._jointWeightsUpdated)\n\t\t\tthis._jointWeightsUpdated = new SubGeometryEvent(SubGeometryEvent.VERTICES_UPDATED, TriangleSubGeometry.JOINT_WEIGHT_DATA);\n\n\t\tthis.dispatchEvent(this._jointWeightsUpdated);\n\t}\n}\n\nexport = TriangleSubGeometry;",
    "import Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\n\n/**\n * AbstractMethodError is thrown when an abstract method is called. The method in question should be overridden\n * by a concrete subclass.\n */\nclass AbstractMethodError extends Error\n{\n\t/**\n\t * Create a new AbstractMethodError.\n\t * @param message An optional message to override the default error message.\n\t * @param id The id of the error.\n\t */\n\tconstructor(message:string = null, id:number = 0)\n\t{\n\t\tsuper(message || \"An abstract method was called! Either an instance of an abstract class was created, or an abstract method was not overridden by the subclass.\", id);\n\t}\n}\n\nexport = AbstractMethodError;",
    "import Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\n\n/**\n * AbstractMethodError is thrown when an abstract method is called. The method in question should be overridden\n * by a concrete subclass.\n */\nclass ArgumentError extends Error\n{\n\t/**\n\t * Create a new ArgumentError.\n\t *\n\t * @param message An optional message to override the default error message.\n\t * @param id The id of the error.\n\t */\n\tconstructor(message:string = null, id:number = 0)\n\t{\n\t\tsuper(message || \"ArgumentError\", id);\n\t}\n}\n\nexport = ArgumentError;",
    "import Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\n\nclass DocumentError extends Error\n{\n\tpublic static DOCUMENT_DOES_NOT_EXIST:string = \"documentDoesNotExist\";\n\n\tconstructor(message:string = \"DocumentError\", id:number = 0)\n\t{\n\t\tsuper(message, id);\n\t}\n}\n\nexport = DocumentError;",
    "class Error\n{\n\n\tprivate _errorID:number = 0;   //Contains the reference number associated with the specific error message.\n\tprivate _messsage:string = '';  //Contains the message associated with the Error object.\n\tprivate _name:string = '';  // Contains the name of the Error object.\n\n\tconstructor(message:string = '', id:number = 0, _name:string = '')\n\t{\n\n\t\tthis._messsage = message;\n\t\tthis._name = name;\n\t\tthis._errorID = id;\n\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get message():string\n\t{\n\n\t\treturn this._messsage;\n\n\t}\n\n\t/**\n\t *\n\t * @param value\n\t */\n\tpublic set message(value:string)\n\t{\n\n\t\tthis._messsage = value;\n\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get name():string\n\t{\n\n\t\treturn this._name;\n\n\t}\n\n\t/**\n\t *\n\t * @param value\n\t */\n\tpublic set name(value:string)\n\t{\n\n\t\tthis._name = value;\n\n\t}\n\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tpublic get errorID():number\n\t{\n\n\t\treturn this._errorID;\n\n\t}\n\n}\n\nexport = Error;",
    "import Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\n\n/**\n * AbstractMethodError is thrown when an abstract method is called. The method in question should be overridden\n * by a concrete subclass.\n */\nclass PartialImplementationError extends Error\n{\n\t/**\n\t * Create a new AbstractMethodError.\n\t * @param message An optional message to override the default error message.\n\t * @param id The id of the error.\n\t */\n\tconstructor(dependency:string = '', id:number = 0)\n\t{\n\t\tsuper(\"PartialImplementationError - this function is in development. Required Dependency: \" + dependency, id);\n\t}\n}\n\nexport = PartialImplementationError;",
    "import Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\n\n/**\n * RangeError is thrown when an index is accessed out of range of the number of\n * available indices on an Array.\n */\nclass RangeError extends Error\n{\n\t/**\n\t * Create a new RangeError.\n\t *\n\t * @param message An optional message to override the default error message.\n\t * @param id The id of the error.\n\t */\n\tconstructor(message:string = null, id:number = 0)\n\t{\n\t\tsuper(message || \"RangeError\", id);\n\t}\n}\n\nexport = RangeError;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport Event\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\n\n/**\n * @class away.events.AssetEvent\n */\nclass AssetEvent extends Event\n{\n\t/**\n\t *\n\t */\n\tpublic static ASSET_COMPLETE:string = \"assetComplete\";\n\n\t/**\n\t *\n\t */\n\tpublic static ASSET_RENAME:string = 'assetRename';\n\n\t/**\n\t *\n\t */\n\tpublic static ASSET_CONFLICT_RESOLVED:string = 'assetConflictResolved';\n\n\t/**\n\t *\n\t */\n\tpublic static TEXTURE_SIZE_ERROR:string = 'textureSizeError';\n\n\tprivate _asset:IAsset;\n\tprivate _prevName:string;\n\n\t/**\n\t *\n\t */\n\tconstructor(type:string, asset:IAsset = null, prevName:string = null)\n\t{\n\t\tsuper(type);\n\n\t\tthis._asset = asset;\n\t\tthis._prevName = prevName || (this._asset? this._asset.name : null);\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get asset():IAsset\n\t{\n\t\treturn this._asset;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get assetPrevName():string\n\t{\n\t\treturn this._prevName;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic clone():Event\n\t{\n\t\treturn <Event> new AssetEvent(this.type, this.asset, this.assetPrevName);\n\t}\n}\n\nexport = AssetEvent;",
    "import Event\t\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\n\n/**\n * Base class for dispatching events\n*\n* @class away.events.EventDispatcher\n*\n*/\nclass EventDispatcher\n{\n\tprivate listeners:Array<Array<Function>> = new Array<Array<Function>>();\n\tprivate target:any;\n\n\tconstructor(target:any = null)\n\t{\n\t\tthis.target = target || this;\n\t}\n\n\t/**\n\t * Add an event listener\n\t * @method addEventListener\n\t * @param {String} Name of event to add a listener for\n\t * @param {Function} Callback function\n\t */\n\tpublic addEventListener(type:string, listener:Function)\n\t{\n\t\tif (this.listeners[ type ] === undefined)\n\t\t\tthis.listeners[ type ] = new Array<Function>();\n\n\t\tif (this.getEventListenerIndex(type, listener) === -1)\n\t\t\tthis.listeners[ type ].push(listener);\n\t}\n\n\t/**\n\t * Remove an event listener\n\t * @method removeEventListener\n\t * @param {String} Name of event to remove a listener for\n\t * @param {Function} Callback function\n\t */\n\tpublic removeEventListener(type:string, listener:Function)\n\t{\n\t\tvar index:number = this.getEventListenerIndex(type, listener);\n\n\t\tif (index !== -1)\n\t\t\tthis.listeners[ type ].splice(index, 1);\n\t}\n\n\t/**\n\t * Dispatch an event\n\t * @method dispatchEvent\n\t * @param {Event} Event to dispatch\n\t */\n\tpublic dispatchEvent(event:Event)\n\t{\n\t\tvar listenerArray:Array<Function> = this.listeners[ event.type ];\n\n\t\tif (listenerArray !== undefined) {\n\t\t\tvar l:number = listenerArray.length;\n\n\t\t\tevent.target = this.target;\n\n\t\t\tfor (var i:number = 0; i < l; i++)\n\t\t\t\tlistenerArray[i](event);\n\t\t}\n\t}\n\n\t/**\n\t * get Event Listener Index in array. Returns -1 if no listener is added\n\t * @method getEventListenerIndex\n\t * @param {String} Name of event to remove a listener for\n\t * @param {Function} Callback function\n\t */\n\tprivate getEventListenerIndex(type:string, listener:Function):number\n\t{\n\t\tif (this.listeners[ type ] !== undefined) {\n\t\t\tvar a:Array<Function> = this.listeners[ type ];\n\t\t\tvar l:number = a.length;\n\n\t\t\tfor (var i:number = 0; i < l; i++)\n\t\t\t\tif (listener == a[i])\n\t\t\t\t\treturn i;\n\t\t}\n\n\t\treturn -1;\n\t}\n\n\t/**\n\t * check if an object has an event listener assigned to it\n\t * @method hasListener\n\t * @param {String} Name of event to remove a listener for\n\t * @param {Function} Callback function\n\t */\n\tpublic hasEventListener(type:string, listener?:Function):boolean\n\t{\n\t\tif (listener != null) {\n\t\t\treturn ( this.getEventListenerIndex(type, listener) !== -1 );\n\t\t} else {\n\t\t\tif (this.listeners[ type ] !== undefined)\n\t\t\t\treturn ( this.listeners[ type ].length > 0 );\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nexport = EventDispatcher;",
    "class Event\n{\n\n\tpublic static COMPLETE:string = 'complete';\n\tpublic static OPEN:string = 'open';\n\n\tpublic static ENTER_FRAME:string = 'enterFrame';\n\tpublic static EXIT_FRAME:string = 'exitFrame';\n\n\n\tpublic static RESIZE:string = \"resize\";\n\tpublic static ERROR:string = \"error\";\n\tpublic static CHANGE:string = \"change\";\n\n\t/**\n\t * Type of event\n\t * @property type\n\t * @type String\n\t */\n\tpublic type:string = undefined;\n\n\t/**\n\t * Reference to target object\n\t * @property target\n\t * @type Object\n\t */\n\tpublic target:any = undefined;\n\n\tconstructor(type:string)\n\t{\n\t\tthis.type = type;\n\t}\n\n\t/**\n\t * Clones the current event.\n\t * @return An exact duplicate of the current event.\n\t */\n\tpublic clone():Event\n\t{\n\t\treturn new Event(this.type);\n\t}\n}\n\nexport = Event;",
    "import SubGeometryBase\t\t\t= require(\"awayjs-core/lib/data/SubGeometryBase\");\nimport Event\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\n\n/**\n* Dispatched to notify changes in a geometry object's state.\n*\n* @class away.events.GeometryEvent\n* @see away3d.core.base.Geometry\n*/\nclass GeometryEvent extends Event\n{\n\t/**\n\t * Dispatched when a TriangleSubGeometry was added to the dispatching Geometry.\n\t */\n\tpublic static SUB_GEOMETRY_ADDED:string = \"subGeometryAdded\";\n\n\t/**\n\t * Dispatched when a TriangleSubGeometry was removed from the dispatching Geometry.\n\t */\n\tpublic static SUB_GEOMETRY_REMOVED:string = \"subGeometryRemoved\";\n\n\t/**\n\t *\n\t */\n\tpublic static BOUNDS_INVALID:string = \"boundsInvalid\";\n\n\tprivate _subGeometry:SubGeometryBase;\n\n\t/**\n\t * Create a new GeometryEvent\n\t * @param type The event type.\n\t * @param subGeometry An optional TriangleSubGeometry object that is the subject of this event.\n\t */\n\tconstructor(type:string, subGeometry:SubGeometryBase = null)\n\t{\n\t\tsuper(type);\n\n\t\tthis._subGeometry = subGeometry;\n\t}\n\n\t/**\n\t * The TriangleSubGeometry object that is the subject of this event, if appropriate.\n\t */\n\tpublic get subGeometry():SubGeometryBase\n\t{\n\t\treturn this._subGeometry;\n\t}\n\n\t/**\n\t * Clones the event.\n\t * @return An exact duplicate of the current object.\n\t */\n\tpublic clone():Event\n\t{\n\t\treturn new GeometryEvent(this.type, this._subGeometry);\n\t}\n}\n\nexport = GeometryEvent;",
    "import Event\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\n\n/**\n * @class away.events.HTTPStatusEvent\n */\nclass HTTPStatusEvent extends Event\n{\n\n\tpublic static HTTP_STATUS:string = \"httpStatus\";\n\n\tpublic status:number;\n\n\tconstructor(type:string, status:number = null)\n\t{\n\t\tsuper(type);\n\n\t\tthis.status = status;\n\n\t}\n}\n\nexport = HTTPStatusEvent;",
    "import Event\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\n\nclass IOErrorEvent extends Event\n{\n\n\tpublic static IO_ERROR:string = \"ioError\";\n\n\tconstructor(type:string)\n\t{\n\t\tsuper(type);\n\n\t}\n}\n\nexport = IOErrorEvent;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport Event\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\n\nclass LoaderEvent extends Event\n{\n\t/**\n\t * Dispatched when a resource and all of its dependencies is retrieved.\n\t */\n\tpublic static RESOURCE_COMPLETE:string = \"resourceComplete\";\n\n\tprivate _url:string;\n\tprivate _content:IAsset;\n\tprivate _assets:IAsset[];\n\n\t/**\n\t * Create a new LoaderEvent object.\n\t *\n\t * @param type The event type.\n\t * @param url The url of the loaded resource.\n\t * @param assets The assets of the loaded resource.\n\t */\n\tconstructor(type:string, url:string = null, content:IAsset = null, assets:Array<IAsset> = null)\n\t{\n\t\tsuper(type);\n\n\t\tthis._url = url;\n\t\tthis._content = content;\n\t\tthis._assets = assets;\n\t}\n\n\t/**\n\t * The content returned if the resource has been loaded inside a <code>Loader</code> object.\n\t */\n\tpublic get content():IAsset\n\t{\n\t\treturn this._content;\n\t}\n\n\t/**\n\t * The url of the loaded resource.\n\t */\n\tpublic get url():string\n\t{\n\t\treturn this._url;\n\t}\n\n\t/**\n\t * The error string on loadError.\n\t */\n\tpublic get assets():IAsset[]\n\t{\n\t\treturn this._assets;\n\t}\n\n\t/**\n\t * Clones the current event.\n\t * @return An exact duplicate of the current event.\n\t */\n\tpublic clone():Event\n\t{\n\t\treturn <Event> new LoaderEvent(this.type, this._url, this._content, this._assets);\n\t}\n}\n\nexport = LoaderEvent;",
    "import Event\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\n\nclass ParserEvent extends Event\n{\n\tprivate _message:string;\n\n\t/**\n\t * Dispatched when parsing of an asset completed.\n\t */\n\tpublic static PARSE_COMPLETE:string = 'parseComplete';\n\n\t/**\n\t * Dispatched when an error occurs while parsing the data (e.g. because it's\n\t * incorrectly formatted.)\n\t */\n\tpublic static PARSE_ERROR:string = 'parseError';\n\n\n\t/**\n\t * Dispatched when a parser is ready to have dependencies retrieved and resolved.\n\t * This is an internal event that should rarely (if ever) be listened for by\n\t * external classes.\n\t */\n\tpublic static READY_FOR_DEPENDENCIES:string = 'readyForDependencies';\n\n\n\tconstructor(type:string, message:string = '')\n\t{\n\t\tsuper(type);\n\n\t\tthis._message = message;\n\t}\n\n\n\t/**\n\t * Additional human-readable message. Usually supplied for ParserEvent.PARSE_ERROR events.\n\t */\n\tpublic get message():string\n\t{\n\t\treturn this._message;\n\t}\n\n\n\tpublic clone():Event\n\t{\n\t\treturn new ParserEvent(this.type, this.message);\n\t}\n}\n\nexport = ParserEvent;",
    "import Event\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\n\nclass ProgressEvent extends Event\n{\n\tpublic static PROGRESS:string = \"progress\";\n\n\tpublic bytesLoaded:number;\n\n\tpublic bytesTotal:number;\n\n\tconstructor(type:string)\n\t{\n\t\tsuper(type);\n\t}\n}\n\nexport = ProgressEvent;",
    "import Event\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\nimport IProjection\t\t\t\t= require(\"awayjs-core/lib/projections/IProjection\");\n\nclass ProjectionEvent extends Event\n{\n\tpublic static MATRIX_CHANGED:string = \"matrixChanged\";\n\n\tprivate _projection:IProjection;\n\n\tconstructor(type:string, projection:IProjection)\n\t{\n\t\tsuper(type);\n\t\tthis._projection = projection;\n\t}\n\n\tpublic get projection():IProjection\n\t{\n\t\treturn this._projection;\n\t}\n}\n\nexport = ProjectionEvent;",
    "import Event\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\n\n/**\n * Dispatched to notify changes in a sub geometry object's state.\n *\n * @class away.events.SubGeometryEvent\n * @see away.core.base.Geometry\n */\nclass SubGeometryEvent extends Event\n{\n\t/**\n\t * Dispatched when a TriangleSubGeometry's index data has been updated.\n\t */\n\tpublic static INDICES_UPDATED:string = \"indicesUpdated\";\n\n\t/**\n\t * Dispatched when a TriangleSubGeometry's vertex data has been updated.\n\t */\n\tpublic static VERTICES_UPDATED:string = \"verticesUpdated\";\n\n\tprivate _dataType:string;\n\n\t/**\n\t * Create a new GeometryEvent\n\t * @param type The event type.\n\t * @param dataType An optional data type of the vertex data being updated.\n\t */\n\tconstructor(type:string, dataType:string = \"\")\n\t{\n\t\tsuper(type);\n\n\t\tthis._dataType = dataType;\n\t}\n\n\t/**\n\t * The data type of the vertex data.\n\t */\n\tpublic get dataType():string\n\t{\n\t\treturn this._dataType;\n\t}\n\n\t/**\n\t * Clones the event.\n\t *\n\t * @return An exact duplicate of the current object.\n\t */\n\tpublic clone():Event\n\t{\n\t\treturn new SubGeometryEvent(this.type, this._dataType);\n\t}\n}\n\nexport = SubGeometryEvent;",
    "import Event\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\n\nclass TimerEvent extends Event\n{\n\n\tpublic static TIMER:string = \"timer\";\n\tpublic static TIMER_COMPLETE:string = \"timerComplete\";\n\n\tconstructor(type:string)\n\t{\n\t\tsuper(type);\n\n\t}\n}\n\nexport = TimerEvent",
    "import Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\n\n/**\n * A Box object is an area defined by its position, as indicated by its\n * top-left-front corner point(<i>x</i>, <i>y</i>, <i>z</i>) and by its width,\n * height and depth.\n *\n *\n * <p>The <code>x</code>, <code>y</code>, <code>z</code>, <code>width</code>,\n * <code>height</code> <code>depth</code> properties of the Box class are\n * independent of each other; changing the value of one property has no effect\n * on the others. However, the <code>right</code>, <code>bottom</code> and\n * <code>back</code> properties are integrally related to those six\n * properties. For example, if you change the value of the <code>right</code>\n * property, the value of the <code>width</code> property changes; if you\n * change the <code>bottom</code> property, the value of the\n * <code>height</code> property changes. </p>\n *\n * <p>The following methods and properties use Box objects:</p>\n *\n * <ul>\n *   <li>The <code>bounds</code> property of the DisplayObject class</li>\n * </ul>\n *\n * <p>You can use the <code>new Box()</code> constructor to create a\n * Box object.</p>\n *\n * <p><b>Note:</b> The Box class does not define a cubic Shape\n * display object.\n */\nclass Box\n{\n\tprivate _size:Vector3D;\n\tprivate _bottomRightBack:Vector3D;\n\tprivate _topLeftFront:Vector3D;\n\n\t/**\n\t * The height of the box, in pixels. Changing the <code>height</code> value\n\t * of a Box object has no effect on the <code>x</code>, <code>y</code>,\n\t * <code>z</code>, <code>depth</code> and <code>width</code> properties.\n\t */\n\tpublic height:number;\n\n\t/**\n\t * The width of the box, in pixels. Changing the <code>width</code> value\n\t * of a Box object has no effect on the <code>x</code>, <code>y</code>,\n\t * <code>z</code>, <code>depth</code> and <code>height</code> properties.\n\t */\n\tpublic width:number;\n\n\t/**\n\t * The deoth of the box, in pixels. Changing the <code>depth</code> value\n\t * of a Box object has no effect on the <code>x</code>, <code>y</code>,\n\t * <code>z</code>, <code>width</code> and <code>height</code> properties.\n\t */\n\tpublic depth:number;\n\n\t/**\n\t * The <i>x</i> coordinate of the top-left-front corner of the box.\n\t * Changing the value of the <code>x</code> property of a Box object has no\n\t * effect on the <code>y</code>, <code>z</code>, <code>width</code>,\n\t * <code>height</code> and <code>depth</code> properties.\n\t *\n\t * <p>The value of the <code>x</code> property is equal to the value of the\n\t * <code>left</code> property.</p>\n\t */\n\tpublic x:number;\n\n\t/**\n\t * The <i>y</i> coordinate of the top-left-front corner of the box.\n\t * Changing the value of the <code>y</code> property of a Box object has no\n\t * effect on the <code>x</code>, <code>z</code>, <code>width</code>,\n\t * <code>height</code> and <code>depth</code> properties.\n\t *\n\t * <p>The value of the <code>y</code> property is equal to the value of the\n\t * <code>top</code> property.</p>\n\t */\n\tpublic y:number;\n\n\t/**\n\t * The <i>y</i> coordinate of the top-left-front corner of the box.\n\t * Changing the value of the <code>z</code> property of a Box object has no\n\t * effect on the <code>x</code>, <code>y</code>, <code>width</code>,\n\t * <code>height</code> and <code>depth</code> properties.\n\t *\n\t * <p>The value of the <code>z</code> property is equal to the value of the\n\t * <code>front</code> property.</p>\n\t */\n\tpublic z:number\n\n\t/**\n\t * The sum of the <code>z</code> and <code>height</code> properties.\n\t */\n\tpublic get back():number\n\t{\n\t\treturn this.z + this.depth;\n\t}\n\n\tpublic set back(val:number)\n\t{\n\t\tthis.depth = val - this.z;\n\t}\n\n\t/**\n\t * The sum of the <code>y</code> and <code>height</code> properties.\n\t */\n\tpublic get bottom():number\n\t{\n\t\treturn this.y + this.height;\n\t}\n\n\tpublic set bottom(val:number)\n\t{\n\t\tthis.height = val - this.y;\n\t}\n\n\t/**\n\t * The location of the Box object's bottom-right corner, determined by the\n\t * values of the <code>right</code> and <code>bottom</code> properties.\n\t */\n\tpublic get bottomRightBack():Vector3D\n\t{\n\t\tif (this._bottomRightBack == null)\n\t\t\tthis._bottomRightBack = new Vector3D();\n\n\t\tthis._bottomRightBack.x = this.x + this.width;\n\t\tthis._bottomRightBack.y = this.y + this.height;\n\t\tthis._bottomRightBack.z = this.z + this.depth;\n\n\t\treturn this._bottomRightBack;\n\t}\n\n\t/**\n\t * The <i>z</i> coordinate of the top-left-front corner of the box. Changing\n\t * the <code>front</code> property of a Box object has no effect on the\n\t * <code>x</code>, <code>y</code>, <code>width</code> and <code>height</code>\n\t * properties. However it does affect the <code>depth</code> property,\n\t * whereas changing the <code>z</code> value does <i>not</i> affect the\n\t * <code>depth</code> property.\n\t *\n\t * <p>The value of the <code>left</code> property is equal to the value of\n\t * the <code>x</code> property.</p>\n\t */\n\tpublic get front():number\n\t{\n\t\treturn this.z;\n\t}\n\n\tpublic set front(val:number)\n\t{\n\t\tthis.depth += this.z - val;\n\t\tthis.z = val;\n\t}\n\n\t/**\n\t * The <i>x</i> coordinate of the top-left corner of the box. Changing the\n\t * <code>left</code> property of a Box object has no effect on the\n\t * <code>y</code> and <code>height</code> properties. However it does affect\n\t * the <code>width</code> property, whereas changing the <code>x</code> value\n\t * does <i>not</i> affect the <code>width</code> property.\n\t *\n\t * <p>The value of the <code>left</code> property is equal to the value of\n\t * the <code>x</code> property.</p>\n\t */\n\tpublic get left():number\n\t{\n\t\treturn this.x;\n\t}\n\n\tpublic set left(val:number)\n\t{\n\t\tthis.width += this.x - val;\n\t\tthis.x = val;\n\t}\n\n\t/**\n\t * The sum of the <code>x</code> and <code>width</code> properties.\n\t */\n\tpublic get right():number\n\t{\n\t\treturn this.x + this.width;\n\t}\n\n\tpublic set right(val:number)\n\t{\n\t\tthis.width = val - this.x;\n\t}\n\n\t/**\n\t * The size of the Box object, expressed as a Vector3D object with the\n\t * values of the <code>width</code>, <code>height</code> and\n\t * <code>depth</code> properties.\n\t */\n\tpublic get size():Vector3D\n\t{\n\t\tif (this._size == null)\n\t\t\tthis._size = new Vector3D();\n\n\t\tthis._size.x = this.width;\n\t\tthis._size.y = this.height;\n\t\tthis._size.z = this.depth;\n\n\t\treturn this._size;\n\t}\n\n\t/**\n\t * The <i>y</i> coordinate of the top-left-front corner of the box. Changing\n\t * the <code>top</code> property of a Box object has no effect on the\n\t * <code>x</code> and <code>width</code> properties. However it does affect\n\t * the <code>height</code> property, whereas changing the <code>y</code>\n\t * value does <i>not</i> affect the <code>height</code> property.\n\t *\n\t * <p>The value of the <code>top</code> property is equal to the value of the\n\t * <code>y</code> property.</p>\n\t */\n\tpublic get top():number\n\t{\n\t\treturn this.y;\n\t}\n\n\tpublic set top(val:number)\n\t{\n\t\tthis.height += (this.y - val);\n\t\tthis.y = val;\n\t}\n\n\t/**\n\t * The location of the Box object's top-left-front corner, determined by the\n\t * <i>x</i>, <i>y</i> and <i>z</i> coordinates of the point.\n\t */\n\tpublic get topLeftFront():Vector3D\n\t{\n\t\tif (this._topLeftFront == null)\n\t\t\tthis._topLeftFront = new Vector3D();\n\n\t\tthis._topLeftFront.x = this.x;\n\t\tthis._topLeftFront.y = this.y;\n\t\tthis._topLeftFront.z = this.z;\n\n\t\treturn this._topLeftFront;\n\t}\n\n\t/**\n\t * Creates a new Box object with the top-left-front corner specified by the\n\t * <code>x</code>, <code>y</code> and <code>z</code> parameters and with the\n\t * specified <code>width</code>, <code>height</code> and <code>depth</code>\n\t * parameters. If you call this public without parameters, a box with\n\t * <code>x</code>, <code>y</code>, <code>z</code>, <code>width</code>,\n\t * <code>height</code> and <code>depth</code> properties set to 0 is created.\n\t *\n\t * @param x      The <i>x</i> coordinate of the top-left-front corner of the\n\t *               box.\n\t * @param y      The <i>y</i> coordinate of the top-left-front corner of the\n\t *               box.\n\t * @param z      The <i>z</i> coordinate of the top-left-front corner of the\n\t *               box.\n\t * @param width  The width of the box, in pixels.\n\t * @param height The height of the box, in pixels.\n\t * @param depth The depth of the box, in pixels.\n\t */\n\tconstructor(x:number = 0, y:number = 0, z:number = 0, width:number = 0, height:number = 0, depth:number = 0)\n\t{\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = depth;\n\t}\n\n\t/**\n\t * Returns a new Box object with the same values for the <code>x</code>,\n\t * <code>y</code>, <code>z</code>, <code>width</code>, <code>height</code>\n\t * and <code>depth</code> properties as the original Box object.\n\t *\n\t * @return A new Box object with the same values for the <code>x</code>,\n\t *         <code>y</code>, <code>z</code>, <code>width</code>,\n\t *         <code>height</code> and <code>depth</code> properties as the\n\t *         original Box object.\n\t */\n\tpublic clone():Box\n\t{\n\t\treturn new Box(this.x, this.y, this.z, this.width, this.height, this.depth);\n\t}\n\n\t/**\n\t * Determines whether the specified position is contained within the cubic\n\t * region defined by this Box object.\n\t *\n\t * @param x The <i>x</i> coordinate(horizontal component) of the position.\n\t * @param y The <i>y</i> coordinate(vertical component) of the position.\n\t * @param z The <i>z</i> coordinate(longitudinal component) of the position.\n\t * @return A value of <code>true</code> if the Box object contains the\n\t *         specified position; otherwise <code>false</code>.\n\t */\n\tpublic contains(x:number, y:number, z:number):boolean\n\t{\n\t\treturn (this.x <= x && this.x + this.width >= x && this.y <= y && this.y + this.height >= y && this.z <= z && this.z + this.depth >= z);\n\t}\n\n\t/**\n\t * Determines whether the specified position is contained within the cubic\n\t * region defined by this Box object. This method is similar to the\n\t * <code>Box.contains()</code> method, except that it takes a Vector3D\n\t * object as a parameter.\n\t *\n\t * @param position The position, as represented by its <i>x</i>, <i>y</i> and\n\t *                 <i>z</i> coordinates.\n\t * @return A value of <code>true</code> if the Box object contains the\n\t *         specified position; otherwise <code>false</code>.\n\t */\n\tpublic containsPoint(position:Vector3D):boolean\n\t{\n\t\treturn (this.x <= position.x && this.x + this.width >= position.x && this.y <= position.y && this.y + this.height >= position.y && this.z <= position.z && this.z + this.depth >= position.z);\n\t}\n\n\t/**\n\t * Determines whether the Box object specified by the <code>box</code>\n\t * parameter is contained within this Box object. A Box object is said to\n\t * contain another if the second Box object falls entirely within the\n\t * boundaries of the first.\n\t *\n\t * @param box The Box object being checked.\n\t * @return A value of <code>true</code> if the Box object that you specify\n\t *         is contained by this Box object; otherwise <code>false</code>.\n\t */\n\tpublic containsBox(box:Box):boolean\n\t{\n\t\treturn (this.x <= box.x && this.x + this.width >= box.x + box.width && this.y <= box.y && this.y + this.height >= box.y + box.height && this.z <= box.z && this.z + this.depth >= box.z + box.depth)\n\t}\n\n\t/**\n\t * Copies all of box data from the source Box object into the calling\n\t * Box object.\n\t *\n\t * @param sourceBox The Box object from which to copy the data.\n\t */\n\tpublic copyFrom(sourceBox:Box)\n\t{\n\t\tthis.x = sourceBox.x;\n\t\tthis.y = sourceBox.y;\n\t\tthis.z = sourceBox.z;\n\t\tthis.width = sourceBox.width;\n\t\tthis.height = sourceBox.height;\n\t\tthis.depth = sourceBox.depth;\n\t}\n\n\t/**\n\t * Determines whether the object specified in the <code>toCompare</code>\n\t * parameter is equal to this Box object. This method compares the\n\t * <code>x</code>, <code>y</code>, <code>z</code>, <code>width</code>,\n\t * <code>height</code> and <code>depth</code> properties of an object against\n\t * the same properties of this Box object.\n\t *\n\t * @param toCompare The box to compare to this Box object.\n\t * @return A value of <code>true</code> if the object has exactly the same\n\t *         values for the <code>x</code>, <code>y</code>, <code>z</code>,\n\t *         <code>width</code>, <code>height</code> and <code>depth</code>\n\t *         properties as this Box object; otherwise <code>false</code>.\n\t */\n\tpublic equals(toCompare:Box):boolean\n\t{\n\t\treturn (this.x == toCompare.x && this.y == toCompare.y && this.z == toCompare.z && this.width == toCompare.width && this.height == toCompare.height && this.depth == toCompare.depth)\n\t}\n\n\t/**\n\t * Increases the size of the Box object by the specified amounts, in\n\t * pixels. The center point of the Box object stays the same, and its\n\t * size increases to the left and right by the <code>dx</code> value, to\n\t * the top and the bottom by the <code>dy</code> value, and to\n\t * the front and the back by the <code>dz</code> value.\n\t *\n\t * @param dx The value to be added to the left and the right of the Box\n\t *           object. The following equation is used to calculate the new\n\t *           width and position of the box:\n\t * @param dy The value to be added to the top and the bottom of the Box\n\t *           object. The following equation is used to calculate the new\n\t *           height and position of the box:\n\t * @param dz The value to be added to the front and the back of the Box\n\t *           object. The following equation is used to calculate the new\n\t *           depth and position of the box:\n\t */\n\tpublic inflate(dx:number, dy:number, dz:number)\n\t{\n\t\tthis.x -= dx/2;\n\t\tthis.y -= dy/2;\n\t\tthis.z -= dz/2;\n\t\tthis.width += dx/2;\n\t\tthis.height += dy/2;\n\t\tthis.depth += dz/2;\n\t}\n\n\t/**\n\t * Increases the size of the Box object. This method is similar to the\n\t * <code>Box.inflate()</code> method except it takes a Vector3D object as\n\t * a parameter.\n\t *\n\t * <p>The following two code examples give the same result:</p>\n\t *\n\t * @param delta The <code>x</code> property of this Vector3D object is used to\n\t *              increase the horizontal dimension of the Box object.\n\t *              The <code>y</code> property is used to increase the vertical\n\t *              dimension of the Box object.\n\t *              The <code>z</code> property is used to increase the\n\t *              longitudinal dimension of the Box object.\n\t */\n\tpublic inflatePoint(delta:Vector3D)\n\t{\n\t\tthis.x -= delta.x/2;\n\t\tthis.y -= delta.y/2;\n\t\tthis.z -= delta.z/2;\n\t\tthis.width += delta.x/2;\n\t\tthis.height += delta.y/2;\n\t\tthis.depth += delta.z/2;\n\t}\n\n\t/**\n\t * If the Box object specified in the <code>toIntersect</code> parameter\n\t * intersects with this Box object, returns the area of intersection\n\t * as a Box object. If the boxes do not intersect, this method returns an\n\t * empty Box object with its properties set to 0.\n\t *\n\t * @param toIntersect The Box object to compare against to see if it\n\t *                    intersects with this Box object.\n\t * @return A Box object that equals the area of intersection. If the\n\t *         boxes do not intersect, this method returns an empty Box\n\t *         object; that is, a box with its <code>x</code>, <code>y</code>,\n\t *         <code>z</code>, <code>width</code>,  <code>height</code>, and\n\t *         <code>depth</code> properties set to 0.\n\t */\n\tpublic intersection(toIntersect:Box):Box\n\t{\n\t\tif (this.intersects(toIntersect)) {\n\t\t\tvar i:Box = new Box();\n\n\t\t\tif (this.x > toIntersect.x) {\n\t\t\t\ti.x = this.x;\n\t\t\t\ti.width = toIntersect.x - this.x + toIntersect.width;\n\n\t\t\t\tif (i.width > this.width)\n\t\t\t\t\ti.width = this.width;\n\t\t\t} else {\n\t\t\t\ti.x = toIntersect.x;\n\t\t\t\ti.width = this.x - toIntersect.x + this.width;\n\n\t\t\t\tif (i.width > toIntersect.width)\n\t\t\t\t\ti.width = toIntersect.width;\n\t\t\t}\n\n\t\t\tif (this.y > toIntersect.y) {\n\t\t\t\ti.y = this.y;\n\t\t\t\ti.height = toIntersect.y - this.y + toIntersect.height;\n\n\t\t\t\tif (i.height > this.height)\n\t\t\t\t\ti.height = this.height;\n\t\t\t} else {\n\t\t\t\ti.y = toIntersect.y;\n\t\t\t\ti.height = this.y - toIntersect.y + this.height;\n\n\t\t\t\tif (i.height > toIntersect.height)\n\t\t\t\t\ti.height = toIntersect.height;\n\t\t\t}\n\n\n\t\t\tif (this.z > toIntersect.z) {\n\t\t\t\ti.z = this.z;\n\t\t\t\ti.depth = toIntersect.z - this.z + toIntersect.depth;\n\n\t\t\t\tif (i.depth > this.depth)\n\t\t\t\t\ti.depth = this.depth;\n\t\t\t} else {\n\t\t\t\ti.z = toIntersect.z;\n\t\t\t\ti.depth = this.z - toIntersect.z + this.depth;\n\n\t\t\t\tif (i.depth > toIntersect.depth)\n\t\t\t\t\ti.depth = toIntersect.depth;\n\t\t\t}\n\n\t\t\treturn i;\n\t\t}\n\n\t\treturn new Box();\n\t}\n\n\t/**\n\t * Determines whether the object specified in the <code>toIntersect</code>\n\t * parameter intersects with this Box object. This method checks the\n\t * <code>x</code>, <code>y</code>, <code>z</code>, <code>width</code>,\n\t * <code>height</code>, and <code>depth</code> properties of the specified\n\t * Box object to see if it intersects with this Box object.\n\t *\n\t * @param toIntersect The Box object to compare against this Box object.\n\t * @return A value of <code>true</code> if the specified object intersects\n\t *         with this Box object; otherwise <code>false</code>.\n\t */\n\tpublic intersects(toIntersect:Box):boolean\n\t{\n\t\treturn (this.x + this.width > toIntersect.x && this.x < toIntersect.x + toIntersect.width && this.y + this.height > toIntersect.y && this.y < toIntersect.y + toIntersect.height && this.z + this.depth > toIntersect.z && this.z < toIntersect.z + toIntersect.depth);\n\t}\n\n\tpublic rayIntersection(position:Vector3D, direction:Vector3D, targetNormal:Vector3D):number\n\t{\n\t\tif (this.containsPoint(position))\n\t\t\treturn 0;\n\n\t\tvar halfExtentsX:number = this.width/2;\n\t\tvar halfExtentsY:number = this.height/2;\n\t\tvar halfExtentsZ:number = this.depth/2;\n\n\t\tvar centerX:number = this.x + halfExtentsX;\n\t\tvar centerY:number = this.y + halfExtentsY;\n\t\tvar centerZ:number = this.z + halfExtentsZ;\n\n\t\tvar px:number = position.x - centerX;\n\t\tvar py:number = position.y - centerY;\n\t\tvar pz:number = position.z - centerZ;\n\n\t\tvar vx:number = direction.x\n\t\tvar vy:number = direction.y\n\t\tvar vz:number = direction.z;\n\n\t\tvar ix:number;\n\t\tvar iy:number;\n\t\tvar iz:number;\n\t\tvar rayEntryDistance:number;\n\n\t\t// ray-plane tests\n\t\tvar intersects:boolean;\n\t\tif (vx < 0) {\n\t\t\trayEntryDistance = ( halfExtentsX - px )/vx;\n\t\t\tif (rayEntryDistance > 0) {\n\t\t\t\tiy = py + rayEntryDistance*vy;\n\t\t\t\tiz = pz + rayEntryDistance*vz;\n\t\t\t\tif (iy > -halfExtentsY && iy < halfExtentsY && iz > -halfExtentsZ && iz < halfExtentsZ) {\n\t\t\t\t\ttargetNormal.x = 1;\n\t\t\t\t\ttargetNormal.y = 0;\n\t\t\t\t\ttargetNormal.z = 0;\n\n\t\t\t\t\tintersects = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!intersects && vx > 0) {\n\t\t\trayEntryDistance = ( -halfExtentsX - px )/vx;\n\t\t\tif (rayEntryDistance > 0) {\n\t\t\t\tiy = py + rayEntryDistance*vy;\n\t\t\t\tiz = pz + rayEntryDistance*vz;\n\t\t\t\tif (iy > -halfExtentsY && iy < halfExtentsY && iz > -halfExtentsZ && iz < halfExtentsZ) {\n\t\t\t\t\ttargetNormal.x = -1;\n\t\t\t\t\ttargetNormal.y = 0;\n\t\t\t\t\ttargetNormal.z = 0;\n\t\t\t\t\tintersects = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!intersects && vy < 0) {\n\t\t\trayEntryDistance = ( halfExtentsY - py )/vy;\n\t\t\tif (rayEntryDistance > 0) {\n\t\t\t\tix = px + rayEntryDistance*vx;\n\t\t\t\tiz = pz + rayEntryDistance*vz;\n\t\t\t\tif (ix > -halfExtentsX && ix < halfExtentsX && iz > -halfExtentsZ && iz < halfExtentsZ) {\n\t\t\t\t\ttargetNormal.x = 0;\n\t\t\t\t\ttargetNormal.y = 1;\n\t\t\t\t\ttargetNormal.z = 0;\n\t\t\t\t\tintersects = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!intersects && vy > 0) {\n\t\t\trayEntryDistance = ( -halfExtentsY - py )/vy;\n\t\t\tif (rayEntryDistance > 0) {\n\t\t\t\tix = px + rayEntryDistance*vx;\n\t\t\t\tiz = pz + rayEntryDistance*vz;\n\t\t\t\tif (ix > -halfExtentsX && ix < halfExtentsX && iz > -halfExtentsZ && iz < halfExtentsZ) {\n\t\t\t\t\ttargetNormal.x = 0;\n\t\t\t\t\ttargetNormal.y = -1;\n\t\t\t\t\ttargetNormal.z = 0;\n\t\t\t\t\tintersects = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!intersects && vz < 0) {\n\t\t\trayEntryDistance = ( halfExtentsZ - pz )/vz;\n\t\t\tif (rayEntryDistance > 0) {\n\t\t\t\tix = px + rayEntryDistance*vx;\n\t\t\t\tiy = py + rayEntryDistance*vy;\n\t\t\t\tif (iy > -halfExtentsY && iy < halfExtentsY && ix > -halfExtentsX && ix < halfExtentsX) {\n\t\t\t\t\ttargetNormal.x = 0;\n\t\t\t\t\ttargetNormal.y = 0;\n\t\t\t\t\ttargetNormal.z = 1;\n\t\t\t\t\tintersects = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!intersects && vz > 0) {\n\t\t\trayEntryDistance = ( -halfExtentsZ - pz )/vz;\n\t\t\tif (rayEntryDistance > 0) {\n\t\t\t\tix = px + rayEntryDistance*vx;\n\t\t\t\tiy = py + rayEntryDistance*vy;\n\t\t\t\tif (iy > -halfExtentsY && iy < halfExtentsY && ix > -halfExtentsX && ix < halfExtentsX) {\n\t\t\t\t\ttargetNormal.x = 0;\n\t\t\t\t\ttargetNormal.y = 0;\n\t\t\t\t\ttargetNormal.z = -1;\n\t\t\t\t\tintersects = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn intersects? rayEntryDistance : -1;\n\t}\n\n\t/**\n\t * Finds the closest point on the Box to another given point. This can be used for maximum error calculations for content within a given Box.\n\t *\n\t * @param point The point for which to find the closest point on the Box\n\t * @param target An optional Vector3D to store the result to prevent creating a new object.\n\t * @return\n\t */\n\tpublic closestPointToPoint(point:Vector3D, target:Vector3D = null):Vector3D\n\t{\n\t\tvar p:number;\n\n\t\tif (target == null)\n\t\t\ttarget = new Vector3D();\n\n\t\tp = point.x;\n\t\tif (p < this.x)\n\t\t\tp = this.x;\n\t\tif (p > this.x + this.width)\n\t\t\tp = this.x + this.width;\n\t\ttarget.x = p;\n\n\t\tp = point.y;\n\t\tif (p < this.y + this.height)\n\t\t\tp = this.y + this.height;\n\t\tif (p > this.y)\n\t\t\tp = this.y;\n\t\ttarget.y = p;\n\n\t\tp = point.z;\n\t\tif (p < this.z)\n\t\t\tp = this.z;\n\t\tif (p > this.z + this.depth)\n\t\t\tp = this.z + this.depth;\n\t\ttarget.z = p;\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Determines whether or not this Box object is empty.\n\t *\n\t * @return A value of <code>true</code> if the Box object's width, height or\n\t *         depth is less than or equal to 0; otherwise <code>false</code>.\n\t */\n\tpublic isEmpty():boolean\n\t{\n\t\treturn (this.x == 0 && this.y == 0 && this.z == 0 && this.width == 0 && this.height == 0 && this.depth == 0);\n\t}\n\n\t/**\n\t * Adjusts the location of the Box object, as determined by its\n\t * top-left-front corner, by the specified amounts.\n\t *\n\t * @param dx Moves the <i>x</i> value of the Box object by this amount.\n\t * @param dy Moves the <i>y</i> value of the Box object by this amount.\n\t * @param dz Moves the <i>z</i> value of the Box object by this amount.\n\t */\n\tpublic offset(dx:number, dy:number, dz:number)\n\t{\n\t\tthis.x += dx;\n\t\tthis.y += dy;\n\t\tthis.z += dz;\n\t}\n\n\t/**\n\t * Adjusts the location of the Box object using a Vector3D object as a\n\t * parameter. This method is similar to the <code>Box.offset()</code>\n\t * method, except that it takes a Vector3D object as a parameter.\n\t *\n\t * @param position A Vector3D object to use to offset this Box object.\n\t */\n\tpublic offsetPosition(position:Vector3D)\n\t{\n\t\tthis.x += position.x;\n\t\tthis.y += position.y;\n\t\tthis.z += position.z;\n\t}\n\n\t/**\n\t * Sets all of the Box object's properties to 0. A Box object is empty if its\n\t * width, height or depth is less than or equal to 0.\n\t *\n\t * <p> This method sets the values of the <code>x</code>, <code>y</code>,\n\t * <code>z</code>, <code>width</code>, <code>height</code>, and\n\t * <code>depth</code> properties to 0.</p>\n\t *\n\t */\n\tpublic setEmpty()\n\t{\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\tthis.z = 0;\n\t\tthis.width = 0;\n\t\tthis.height = 0;\n\t\tthis.depth = 0;\n\t}\n\n\t/**\n\t * Sets the members of Box to the specified values\n\t *\n\t * @param xa      The <i>x</i> coordinate of the top-left-front corner of the\n\t *                box.\n\t * @param ya      The <i>y</i> coordinate of the top-left-front corner of the\n\t *                box.\n\t * @param yz      The <i>z</i> coordinate of the top-left-front corner of the\n\t *                box.\n\t * @param widtha  The width of the box, in pixels.\n\t * @param heighta The height of the box, in pixels.\n\t * @param deptha  The depth of the box, in pixels.\n\t */\n\tpublic setTo(xa:number, ya:number, za:number, widtha:number, heighta:number, deptha:number)\n\t{\n\t\tthis.x = xa;\n\t\tthis.y = ya;\n\t\tthis.z = za;\n\t\tthis.width = widtha;\n\t\tthis.height = heighta;\n\t\tthis.depth = deptha;\n\t}\n\n\t/**\n\t * Builds and returns a string that lists the horizontal, vertical and\n\t * longitudinal positions and the width, height and depth of the Box object.\n\t *\n\t * @return A string listing the value of each of the following properties of\n\t *         the Box object: <code>x</code>, <code>y</code>, <code>z</code>,\n\t *         <code>width</code>, <code>height</code>, and <code>depth</code>.\n\t */\n\tpublic toString():string\n\t{\n\t\treturn \"[Box] (x=\" + this.x + \", y=\" + this.y + \", z=\" + this.z + \", width=\" + this.width + \", height=\" + this.height + \", depth=\" + this.depth + \")\";\n\t}\n\n\t/**\n\t * Adds two boxes together to create a new Box object, by filling\n\t * in the horizontal, vertical and longitudinal space between the two boxes.\n\t *\n\t * <p><b>Note:</b> The <code>union()</code> method ignores boxes with\n\t * <code>0</code> as the height, width or depth value, such as: <code>var\n\t * box2:Box = new Box(300,300,300,50,50,0);</code></p>\n\t *\n\t * @param toUnion A Box object to add to this Box object.\n\t * @return A new Box object that is the union of the two boxes.\n\t */\n\tpublic union(toUnion:Box):Box\n\t{\n\t\tvar u:Box = new Box();\n\n\t\tif (this.x < toUnion.x) {\n\t\t\tu.x = this.x;\n\t\t\tu.width = toUnion.x - this.x + toUnion.width;\n\n\t\t\tif (u.width < this.width)\n\t\t\t\tu.width = this.width;\n\t\t} else {\n\t\t\tu.x = toUnion.x;\n\t\t\tu.width = this.x - toUnion.x + this.width;\n\n\t\t\tif (u.width < toUnion.width)\n\t\t\t\tu.width = toUnion.width;\n\t\t}\n\n\t\tif (this.y < toUnion.y) {\n\t\t\tu.y = this.y;\n\t\t\tu.height = toUnion.y - this.y + toUnion.height;\n\n\t\t\tif (u.height < this.height)\n\t\t\t\tu.height = this.height;\n\t\t} else {\n\t\t\tu.y = toUnion.y;\n\t\t\tu.height = this.y - toUnion.y + this.height;\n\n\t\t\tif (u.height < toUnion.height)\n\t\t\t\tu.height = toUnion.height;\n\t\t}\n\n\t\tif (this.z < toUnion.z) {\n\t\t\tu.z = this.z;\n\t\t\tu.depth = toUnion.z - this.z + toUnion.depth;\n\n\t\t\tif (u.depth < this.depth)\n\t\t\t\tu.depth = this.depth;\n\t\t} else {\n\t\t\tu.z = toUnion.z;\n\t\t\tu.depth = this.z - toUnion.z + this.depth;\n\n\t\t\tif (u.depth < toUnion.depth)\n\t\t\t\tu.depth = toUnion.depth;\n\t\t}\n\n\t\treturn u;\n\t}\n}\n\nexport = Box;",
    "import ColorUtils\t\t\t\t= require(\"awayjs-core/lib/utils/ColorUtils\");\n\n/**\n * The ColorTransform class lets you adjust the color values in a display\n * object. The color adjustment or <i>color transformation</i> can be applied\n * to all four channels: red, green, blue, and alpha transparency.\n *\n * <p>When a ColorTransform object is applied to a display object, a new value\n * for each color channel is calculated like this:</p>\n *\n * <ul>\n *   <li>New red value = (old red value * <code>redMultiplier</code>) +\n * <code>redOffset</code></li>\n *   <li>New green value = (old green value * <code>greenMultiplier</code>) +\n * <code>greenOffset</code></li>\n *   <li>New blue value = (old blue value * <code>blueMultiplier</code>) +\n * <code>blueOffset</code></li>\n *   <li>New alpha value = (old alpha value * <code>alphaMultiplier</code>) +\n * <code>alphaOffset</code></li>\n * </ul>\n *\n * <p>If any of the color channel values is greater than 255 after the\n * calculation, it is set to 255. If it is less than 0, it is set to 0.</p>\n *\n * <p>You can use ColorTransform objects in the following ways:</p>\n *\n * <ul>\n *   <li>In the <code>colorTransform</code> parameter of the\n * <code>colorTransform()</code> method of the BitmapData class</li>\n *   <li>As the <code>colorTransform</code> property of a Transform object\n * (which can be used as the <code>transform</code> property of a display\n * object)</li>\n * </ul>\n *\n * <p>You must use the <code>new ColorTransform()</code> constructor to create\n * a ColorTransform object before you can call the methods of the\n * ColorTransform object.</p>\n *\n * <p>Color transformations do not apply to the background color of a movie\n * clip(such as a loaded SWF object). They apply only to graphics and symbols\n * that are attached to the movie clip.</p>\n */\nclass ColorTransform\n{\n\t/**\n\t * A decimal value that is multiplied with the alpha transparency channel\n\t * value.\n\t *\n\t * <p>If you set the alpha transparency value of a display object directly by\n\t * using the <code>alpha</code> property of the DisplayObject instance, it\n\t * affects the value of the <code>alphaMultiplier</code> property of that\n\t * display object's <code>transform.colorTransform</code> property.</p>\n\t */\n\tpublic alphaMultiplier:number;\n\n\t/**\n\t * A number from -255 to 255 that is added to the alpha transparency channel\n\t * value after it has been multiplied by the <code>alphaMultiplier</code>\n\t * value.\n\t */\n\tpublic alphaOffset:number;\n\n\t/**\n\t * A decimal value that is multiplied with the blue channel value.\n\t */\n\tpublic blueMultiplier:number;\n\n\t/**\n\t * A number from -255 to 255 that is added to the blue channel value after it\n\t * has been multiplied by the <code>blueMultiplier</code> value.\n\t */\n\tpublic blueOffset:number;\n\n\t/**\n\t * A decimal value that is multiplied with the green channel value.\n\t */\n\tpublic greenMultiplier:number;\n\n\t/**\n\t * A number from -255 to 255 that is added to the green channel value after\n\t * it has been multiplied by the <code>greenMultiplier</code> value.\n\t */\n\tpublic greenOffset:number;\n\n\t/**\n\t * A decimal value that is multiplied with the red channel value.\n\t */\n\tpublic redMultiplier:number;\n\n\t/**\n\t * A number from -255 to 255 that is added to the red channel value after it\n\t * has been multiplied by the <code>redMultiplier</code> value.\n\t */\n\tpublic redOffset:number;\n\n\t/**\n\t * The RGB color value for a ColorTransform object.\n\t *\n\t * <p>When you set this property, it changes the three color offset values\n\t * (<code>redOffset</code>, <code>greenOffset</code>, and\n\t * <code>blueOffset</code>) accordingly, and it sets the three color\n\t * multiplier values(<code>redMultiplier</code>,\n\t * <code>greenMultiplier</code>, and <code>blueMultiplier</code>) to 0. The\n\t * alpha transparency multiplier and offset values do not change.</p>\n\t *\n\t * <p>When you pass a value for this property, use the format\n\t * 0x<i>RRGGBB</i>. <i>RR</i>, <i>GG</i>, and <i>BB</i> each consist of two\n\t * hexadecimal digits that specify the offset of each color component. The 0x\n\t * tells the ActionScript compiler that the number is a hexadecimal\n\t * value.</p>\n\t */\n\tpublic get color():number\n\t{\n\t\treturn((this.redOffset << 16) | ( this.greenOffset << 8) | this.blueOffset);\n\t}\n\n\tpublic set color(value:number)\n\t{\n\t\tvar argb:number[] = ColorUtils.float32ColorToARGB(value);\n\n\t\tthis.redOffset = argb[1];  //(value >> 16) & 0xFF;\n\t\tthis.greenOffset = argb[2];  //(value >> 8) & 0xFF;\n\t\tthis.blueOffset = argb[3];  //value & 0xFF;\n\n\t\tthis.redMultiplier = 0;\n\t\tthis.greenMultiplier = 0;\n\t\tthis.blueMultiplier = 0;\n\t}\n\n\t/**\n\t * Creates a ColorTransform object for a display object with the specified\n\t * color channel values and alpha values.\n\t *\n\t * @param redMultiplier   The value for the red multiplier, in the range from\n\t *                        0 to 1.\n\t * @param greenMultiplier The value for the green multiplier, in the range\n\t *                        from 0 to 1.\n\t * @param blueMultiplier  The value for the blue multiplier, in the range\n\t *                        from 0 to 1.\n\t * @param alphaMultiplier The value for the alpha transparency multiplier, in\n\t *                        the range from 0 to 1.\n\t * @param redOffset       The offset value for the red color channel, in the\n\t *                        range from -255 to 255.\n\t * @param greenOffset     The offset value for the green color channel, in\n\t *                        the range from -255 to 255.\n\t * @param blueOffset      The offset for the blue color channel value, in the\n\t *                        range from -255 to 255.\n\t * @param alphaOffset     The offset for alpha transparency channel value, in\n\t *                        the range from -255 to 255.\n\t */\n\tconstructor(redMultiplier:number = 1, greenMultiplier:number = 1, blueMultiplier:number = 1, alphaMultiplier:number = 1, redOffset:number = 0, greenOffset:number = 0, blueOffset:number = 0, alphaOffset:number = 0)\n\t{\n\t\tthis.redMultiplier = redMultiplier;\n\t\tthis.greenMultiplier = greenMultiplier;\n\t\tthis.blueMultiplier = blueMultiplier;\n\t\tthis.alphaMultiplier = alphaMultiplier;\n\t\tthis.redOffset = redOffset;\n\t\tthis.greenOffset = greenOffset;\n\t\tthis.blueOffset = blueOffset;\n\t\tthis.alphaOffset = alphaOffset;\n\t}\n\n\t/**\n\t * Concatenates the ColorTranform object specified by the <code>second</code>\n\t * parameter with the current ColorTransform object and sets the current\n\t * object as the result, which is an additive combination of the two color\n\t * transformations. When you apply the concatenated ColorTransform object,\n\t * the effect is the same as applying the <code>second</code> color\n\t * transformation after the <i>original</i> color transformation.\n\t *\n\t * @param second The ColorTransform object to be combined with the current\n\t *               ColorTransform object.\n\t */\n\tpublic concat(second:ColorTransform):void\n\t{\n\t\tthis.redMultiplier += second.redMultiplier;\n\t\tthis.greenMultiplier += second.greenMultiplier;\n\t\tthis.blueMultiplier += second.blueMultiplier;\n\t\tthis.alphaMultiplier += second.alphaMultiplier;\n\t}\n}\n\nexport = ColorTransform;",
    "/**\n* MathConsts provides some commonly used mathematical constants\n*/\nclass MathConsts\n{\n\t/**\n\t * The amount to multiply with when converting radians to degrees.\n\t */\n\tpublic static RADIANS_TO_DEGREES:number = 180/Math.PI;\n\n\t/**\n\t * The amount to multiply with when converting degrees to radians.\n\t */\n\tpublic static DEGREES_TO_RADIANS:number = Math.PI/180;\n}\n\nexport = MathConsts;",
    "import Quaternion\t\t\t\t= require(\"awayjs-core/lib/geom/Quaternion\");\nimport Matrix3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Plane3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Plane3D\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\n\n\n/**\n * away.geom.Matrix3DUtils provides additional Matrix3D functions.\n */\nclass Matrix3DUtils\n{\n\t/**\n\t * A reference to a Vector to be used as a temporary raw data container, to prevent object creation.\n\t */\n\tpublic static RAW_DATA_CONTAINER:number[] = new Array<number>(16);\n\t//public static RAW_DATA_CONTAINER:number[] = new Array<number>(16);\n\n\tpublic static CALCULATION_MATRIX:Matrix3D = new Matrix3D();\n\n\t/**\n\t * Fills the 3d matrix object with values representing the transformation made by the given quaternion.\n\t *\n\t * @param    quarternion    The quarterion object to convert.\n\t */\n\tpublic static quaternion2matrix(quarternion:Quaternion, m:Matrix3D = null):Matrix3D\n\t{\n\t\tvar x:number = quarternion.x;\n\t\tvar y:number = quarternion.y;\n\t\tvar z:number = quarternion.z;\n\t\tvar w:number = quarternion.w;\n\n\t\tvar xx:number = x*x;\n\t\tvar xy:number = x*y;\n\t\tvar xz:number = x*z;\n\t\tvar xw:number = x*w;\n\n\t\tvar yy:number = y*y;\n\t\tvar yz:number = y*z;\n\t\tvar yw:number = y*w;\n\n\t\tvar zz:number = z*z;\n\t\tvar zw:number = z*w;\n\n\t\tvar raw:number[] = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\traw[0] = 1 - 2*(yy + zz);\n\t\traw[1] = 2*(xy + zw);\n\t\traw[2] = 2*(xz - yw);\n\t\traw[4] = 2*(xy - zw);\n\t\traw[5] = 1 - 2*(xx + zz);\n\t\traw[6] = 2*(yz + xw);\n\t\traw[8] = 2*(xz + yw);\n\t\traw[9] = 2*(yz - xw);\n\t\traw[10] = 1 - 2*(xx + yy);\n\t\traw[3] = raw[7] = raw[11] = raw[12] = raw[13] = raw[14] = 0;\n\t\traw[15] = 1;\n\n\t\tif (m) {\n\t\t\tm.copyRawDataFrom(raw);\n\t\t\treturn m;\n\t\t} else\n\t\t\treturn new Matrix3D(raw);\n\t}\n\n\t/**\n\t * Returns a normalised <code>Vector3D</code> object representing the forward vector of the given matrix.\n\t * @param    m        The Matrix3D object to use to get the forward vector\n\t * @param    v        [optional] A vector holder to prevent make new Vector3D instance if already exists. Default is null.\n\t * @return            The forward vector\n\t */\n\tpublic static getForward(m:Matrix3D, v:Vector3D = null):Vector3D\n\t{\n\t\t//v ||= new Vector3D(0.0, 0.0, 0.0);\n\t\tif (v === null) {\n\n\t\t\tv = new Vector3D(0.0, 0.0, 0.0);\n\n\t\t}\n\n\t\tm.copyColumnTo(2, v);\n\t\tv.normalize();\n\n\t\treturn v;\n\t}\n\n\t/**\n\t * Returns a normalised <code>Vector3D</code> object representing the up vector of the given matrix.\n\t * @param    m        The Matrix3D object to use to get the up vector\n\t * @param    v        [optional] A vector holder to prevent make new Vector3D instance if already exists. Default is null.\n\t * @return            The up vector\n\t */\n\tpublic static getUp(m:Matrix3D, v:Vector3D = null):Vector3D\n\t{\n\t\t//v ||= new Vector3D(0.0, 0.0, 0.0);\n\n\t\tif (v === null) {\n\n\t\t\tv = new Vector3D(0.0, 0.0, 0.0);\n\n\t\t}\n\n\t\tm.copyColumnTo(1, v);\n\t\tv.normalize();\n\n\t\treturn v;\n\t}\n\n\t/**\n\t * Returns a normalised <code>Vector3D</code> object representing the right vector of the given matrix.\n\t * @param    m        The Matrix3D object to use to get the right vector\n\t * @param    v        [optional] A vector holder to prevent make new Vector3D instance if already exists. Default is null.\n\t * @return            The right vector\n\t */\n\tpublic static getRight(m:Matrix3D, v:Vector3D = null):Vector3D\n\t{\n\t\t//v ||= new Vector3D(0.0, 0.0, 0.0);\n\t\tif (v === null) {\n\n\t\t\tv = new Vector3D(0.0, 0.0, 0.0);\n\n\t\t}\n\n\t\tm.copyColumnTo(0, v);\n\t\tv.normalize();\n\n\t\treturn v;\n\t}\n\n\t/**\n\t * Returns a boolean value representing whether there is any significant difference between the two given 3d matrices.\n\t */\n\tpublic static compare(m1:Matrix3D, m2:Matrix3D):boolean\n\t{\n\t\tvar r1:number[] = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tvar r2:number[] = m2.rawData;\n\t\tm1.copyRawDataTo(r1);\n\n\t\tfor (var i:number = 0; i < 16; ++i) {\n\t\t\tif (r1[i] != r2[i])\n\t\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tpublic static lookAt(matrix:Matrix3D, pos:Vector3D, dir:Vector3D, up:Vector3D)\n\t{\n\t\tvar dirN:Vector3D;\n\t\tvar upN:Vector3D;\n\t\tvar lftN:Vector3D;\n\t\tvar raw:number[] = Matrix3DUtils.RAW_DATA_CONTAINER;\n\n\t\tlftN = dir.crossProduct(up);\n\t\tlftN.normalize();\n\n\t\tupN = lftN.crossProduct(dir);\n\t\tupN.normalize();\n\t\tdirN = dir.clone();\n\t\tdirN.normalize();\n\n\t\traw[0] = lftN.x;\n\t\traw[1] = upN.x;\n\t\traw[2] = -dirN.x;\n\t\traw[3] = 0.0;\n\n\t\traw[4] = lftN.y;\n\t\traw[5] = upN.y;\n\t\traw[6] = -dirN.y;\n\t\traw[7] = 0.0;\n\n\t\traw[8] = lftN.z;\n\t\traw[9] = upN.z;\n\t\traw[10] = -dirN.z;\n\t\traw[11] = 0.0;\n\n\t\traw[12] = -lftN.dotProduct(pos);\n\t\traw[13] = -upN.dotProduct(pos);\n\t\traw[14] = dirN.dotProduct(pos);\n\t\traw[15] = 1.0;\n\n\t\tmatrix.copyRawDataFrom(raw);\n\t}\n\n\tpublic static reflection(plane:Plane3D, target:Matrix3D = null):Matrix3D\n\t{\n\t\tif (target === null)\n\t\t\ttarget = new Matrix3D();\n\n\t\tvar a:number = plane.a, b:number = plane.b, c:number = plane.c, d:number = plane.d;\n\t\tvar rawData:number[] = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tvar ab2:number = -2*a*b;\n\t\tvar ac2:number = -2*a*c;\n\t\tvar bc2:number = -2*b*c;\n\t\t// reflection matrix\n\t\trawData[0] = 1 - 2*a*a;\n\t\trawData[4] = ab2;\n\t\trawData[8] = ac2;\n\t\trawData[12] = -2*a*d;\n\t\trawData[1] = ab2;\n\t\trawData[5] = 1 - 2*b*b;\n\t\trawData[9] = bc2;\n\t\trawData[13] = -2*b*d;\n\t\trawData[2] = ac2;\n\t\trawData[6] = bc2;\n\t\trawData[10] = 1 - 2*c*c;\n\t\trawData[14] = -2*c*d;\n\t\trawData[3] = 0;\n\t\trawData[7] = 0;\n\t\trawData[11] = 0;\n\t\trawData[15] = 1;\n\t\ttarget.copyRawDataFrom(rawData);\n\n\t\treturn target;\n\t}\n\n\n\tpublic static transformVector(matrix:Matrix3D, vector:Vector3D, result:Vector3D = null):Vector3D\n\t{\n\t\tif (!result)\n\t\t\tresult = new Vector3D();\n\n\t\tvar raw:Array<number> = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tmatrix.copyRawDataTo(raw);\n\t\tvar a:number = raw[0];\n\t\tvar e:number = raw[1];\n\t\tvar i:number = raw[2];\n\t\tvar m:number = raw[3];\n\t\tvar b:number = raw[4];\n\t\tvar f:number = raw[5];\n\t\tvar j:number = raw[6];\n\t\tvar n:number = raw[7];\n\t\tvar c:number = raw[8];\n\t\tvar g:number = raw[9];\n\t\tvar k:number = raw[10];\n\t\tvar o:number = raw[11];\n\t\tvar d:number = raw[12];\n\t\tvar h:number = raw[13];\n\t\tvar l:number = raw[14];\n\t\tvar p:number = raw[15];\n\n\t\tvar x:number = vector.x;\n\t\tvar y:number = vector.y;\n\t\tvar z:number = vector.z;\n\t\tresult.x = a * x + b * y + c * z + d;\n\t\tresult.y = e * x + f * y + g * z + h;\n\t\tresult.z = i * x + j * y + k * z + l;\n\t\tresult.w = m * x + n * y + o * z + p;\n\t\treturn result;\n\t}\n\n\tpublic static deltaTransformVector(matrix:Matrix3D, vector:Vector3D, result:Vector3D = null):Vector3D\n\t{\n\t\tif (!result)\n\t\t\tresult = new Vector3D();\n\n\t\tvar raw:Array<number> = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tmatrix.copyRawDataTo(raw);\n\t\tvar a:number = raw[0];\n\t\tvar e:number = raw[1];\n\t\tvar i:number = raw[2];\n\t\tvar m:number = raw[3];\n\t\tvar b:number = raw[4];\n\t\tvar f:number = raw[5];\n\t\tvar j:number = raw[6];\n\t\tvar n:number = raw[7];\n\t\tvar c:number = raw[8];\n\t\tvar g:number = raw[9];\n\t\tvar k:number = raw[10];\n\t\tvar o:number = raw[11];\n\t\tvar x:number = vector.x;\n\t\tvar y:number = vector.y;\n\t\tvar z:number = vector.z;\n\t\tresult.x = a * x + b * y + c * z;\n\t\tresult.y = e * x + f * y + g * z;\n\t\tresult.z = i * x + j * y + k * z;\n\t\tresult.w = m * x + n * y + o * z;\n\t\treturn result;\n\t}\n\n\tpublic static getTranslation(transform:Matrix3D, result:Vector3D = null):Vector3D\n\t{\n\t\tif(!result)\n\t\t\tresult = new Vector3D();\n\n\t\ttransform.copyColumnTo(3, result);\n\t\treturn result;\n\t}\n\n\tpublic static deltaTransformVectors(matrix:Matrix3D, vin:Array<number>, vout:Array<number>)\n\t{\n\t\tvar raw:Array<number> = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tmatrix.copyRawDataTo(raw);\n\t\tvar a:number = raw[0];\n\t\tvar e:number = raw[1];\n\t\tvar i:number = raw[2];\n\t\tvar m:number = raw[3];\n\t\tvar b:number = raw[4];\n\t\tvar f:number = raw[5];\n\t\tvar j:number = raw[6];\n\t\tvar n:number = raw[7];\n\t\tvar c:number = raw[8];\n\t\tvar g:number = raw[9];\n\t\tvar k:number = raw[10];\n\t\tvar o:number = raw[11];\n\t\tvar outIndex:number = 0;\n\t\tvar length:number = vin.length;\n\t\tfor(var index:number = 0; index<length; index+=3) {\n\t\t\tvar x:number = vin[index];\n\t\t\tvar y:number = vin[index+1];\n\t\t\tvar z:number = vin[index+2];\n\t\t\tvout[outIndex++] = a * x + b * y + c * z;\n\t\t\tvout[outIndex++] = e * x + f * y + g * z;\n\t\t\tvout[outIndex++] = i * x + j * y + k * z;\n\t\t}\n\t}\n}\n\nexport = Matrix3DUtils;",
    "import Orientation3D\t\t\t= require(\"awayjs-core/lib/geom/Orientation3D\");\nimport Quaternion\t\t\t\t= require(\"awayjs-core/lib/geom/Quaternion\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport ArgumentError\t\t\t= require(\"awayjs-core/lib/errors/ArgumentError\");\n\nclass Matrix3D\n{\n\t/**\n\t * A Vector of 16 Numbers, where every four elements is a column of a 4x4 matrix.\n\t *\n\t * <p>An exception is thrown if the rawData property is set to a matrix that is not invertible. The Matrix3D\n\t * object must be invertible. If a non-invertible matrix is needed, create a subclass of the Matrix3D object.</p>\n\t */\n\tpublic rawData:number[];\n\n\t/**\n\t * Creates a Matrix3D object.\n\t */\n\tconstructor(v:number[] = null)\n\t{\n\t\tif (v != null && v.length == 16)\n\t\t\tthis.rawData = v.concat();\n\t\telse\n\t\t\tthis.rawData = [ 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 ];\n\t}\n\n\t/**\n\t * Appends the matrix by multiplying another Matrix3D object by the current Matrix3D object.\n\t */\n\tpublic append(lhs:Matrix3D)\n\t{\n\t\tvar m111:number = this.rawData[0], m121:number = this.rawData[4], m131:number = this.rawData[8], m141:number = this.rawData[12], m112:number = this.rawData[1], m122:number = this.rawData[5], m132:number = this.rawData[9], m142:number = this.rawData[13], m113:number = this.rawData[2], m123:number = this.rawData[6], m133:number = this.rawData[10], m143:number = this.rawData[14], m114:number = this.rawData[3], m124:number = this.rawData[7], m134:number = this.rawData[11], m144:number = this.rawData[15], m211:number = lhs.rawData[0], m221:number = lhs.rawData[4], m231:number = lhs.rawData[8], m241:number = lhs.rawData[12], m212:number = lhs.rawData[1], m222:number = lhs.rawData[5], m232:number = lhs.rawData[9], m242:number = lhs.rawData[13], m213:number = lhs.rawData[2], m223:number = lhs.rawData[6], m233:number = lhs.rawData[10], m243:number = lhs.rawData[14], m214:number = lhs.rawData[3], m224:number = lhs.rawData[7], m234:number = lhs.rawData[11], m244:number = lhs.rawData[15];\n\n\t\tthis.rawData[0] = m111*m211 + m112*m221 + m113*m231 + m114*m241;\n\t\tthis.rawData[1] = m111*m212 + m112*m222 + m113*m232 + m114*m242;\n\t\tthis.rawData[2] = m111*m213 + m112*m223 + m113*m233 + m114*m243;\n\t\tthis.rawData[3] = m111*m214 + m112*m224 + m113*m234 + m114*m244;\n\n\t\tthis.rawData[4] = m121*m211 + m122*m221 + m123*m231 + m124*m241;\n\t\tthis.rawData[5] = m121*m212 + m122*m222 + m123*m232 + m124*m242;\n\t\tthis.rawData[6] = m121*m213 + m122*m223 + m123*m233 + m124*m243;\n\t\tthis.rawData[7] = m121*m214 + m122*m224 + m123*m234 + m124*m244;\n\n\t\tthis.rawData[8] = m131*m211 + m132*m221 + m133*m231 + m134*m241;\n\t\tthis.rawData[9] = m131*m212 + m132*m222 + m133*m232 + m134*m242;\n\t\tthis.rawData[10] = m131*m213 + m132*m223 + m133*m233 + m134*m243;\n\t\tthis.rawData[11] = m131*m214 + m132*m224 + m133*m234 + m134*m244;\n\n\t\tthis.rawData[12] = m141*m211 + m142*m221 + m143*m231 + m144*m241;\n\t\tthis.rawData[13] = m141*m212 + m142*m222 + m143*m232 + m144*m242;\n\t\tthis.rawData[14] = m141*m213 + m142*m223 + m143*m233 + m144*m243;\n\t\tthis.rawData[15] = m141*m214 + m142*m224 + m143*m234 + m144*m244;\n\t}\n\n\t/**\n\t * Appends an incremental rotation to a Matrix3D object.\n\t */\n\tpublic appendRotation(degrees:number, axis:Vector3D):void //, pivot:Vector3D = null )\n\t{\n\t\tvar m:Matrix3D = Matrix3D.getAxisRotation(axis.x, axis.y, axis.z, degrees);\n\n\t\tthis.append(m);\n\t}\n\n\t/**\n\t * Appends an incremental scale change along the x, y, and z axes to a Matrix3D object.\n\t */\n\tpublic appendScale(xScale:number, yScale:number, zScale:number)\n\t{\n\t\tthis.append(new Matrix3D([ xScale, 0.0, 0.0, 0.0, 0.0, yScale, 0.0, 0.0, 0.0, 0.0, zScale, 0.0, 0.0, 0.0, 0.0, 1.0 ]));\n\t}\n\n\t/**\n\t * Appends an incremental translation, a repositioning along the x, y, and z axes, to a Matrix3D object.\n\t */\n\tpublic appendTranslation(x:number, y:number, z:number)\n\t{\n\t\tthis.rawData[12] += x;\n\t\tthis.rawData[13] += y;\n\t\tthis.rawData[14] += z;\n\t}\n\n\t/**\n\t * Returns a new Matrix3D object that is an exact copy of the current Matrix3D object.\n\t */\n\tpublic clone():Matrix3D\n\t{\n\t\treturn new Matrix3D(this.rawData.slice(0));\n\t}\n\n\t/**\n\t * Copies a Vector3D object into specific column of the calling Matrix3D object.\n\t */\n\tpublic copyColumnFrom(column:number, vector3D:Vector3D)\n\t{\n\t\tswitch (column) {\n\t\t\tcase 0:\n\t\t\t\tthis.rawData[ 0 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 1 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 2 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 3 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis.rawData[ 4 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 5 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 6 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 7 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis.rawData[ 8 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 9 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 10 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 11 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tthis.rawData[ 12 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 13 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 14 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 15 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new ArgumentError(\"ArgumentError, Column \" + column + \" out of bounds [0, ..., 3]\");\n\t\t}\n\t}\n\n\t/**\n\t * Copies specific column of the calling Matrix3D object into the Vector3D object.\n\t */\n\tpublic copyColumnTo(column:number, vector3D:Vector3D)\n\t{\n\t\tswitch (column) {\n\t\t\tcase 0:\n\t\t\t\tvector3D.x = this.rawData[ 0 ];\n\t\t\t\tvector3D.y = this.rawData[ 1 ];\n\t\t\t\tvector3D.z = this.rawData[ 2 ];\n\t\t\t\tvector3D.w = this.rawData[ 3 ];\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tvector3D.x = this.rawData[ 4 ];\n\t\t\t\tvector3D.y = this.rawData[ 5 ];\n\t\t\t\tvector3D.z = this.rawData[ 6 ];\n\t\t\t\tvector3D.w = this.rawData[ 7 ];\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tvector3D.x = this.rawData[ 8 ];\n\t\t\t\tvector3D.y = this.rawData[ 9 ];\n\t\t\t\tvector3D.z = this.rawData[ 10 ];\n\t\t\t\tvector3D.w = this.rawData[ 11 ];\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tvector3D.x = this.rawData[ 12 ];\n\t\t\t\tvector3D.y = this.rawData[ 13 ];\n\t\t\t\tvector3D.z = this.rawData[ 14 ];\n\t\t\t\tvector3D.w = this.rawData[ 15 ];\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new ArgumentError(\"ArgumentError, Column \" + column + \" out of bounds [0, ..., 3]\");\n\t\t}\n\t}\n\n\t/**\n\t * Copies all of the matrix data from the source Matrix3D object into the calling Matrix3D object.\n\t */\n\tpublic copyFrom(sourceMatrix3D:Matrix3D)\n\t{\n\t\tvar len:number = sourceMatrix3D.rawData.length;\n\t\tfor (var c:number = 0; c < len; c++)\n\t\t\tthis.rawData[c] = sourceMatrix3D.rawData[c];\n\t}\n\n\tpublic copyRawDataFrom(vector:number[], index:number = 0, transpose:boolean = false):void\n\t{\n\t\tif (transpose)\n\t\t\tthis.transpose();\n\n\t\tvar len:number = vector.length - index;\n\t\tfor (var c:number = 0; c < len; c++)\n\t\t\tthis.rawData[c] = vector[c + index];\n\n\t\tif (transpose)\n\t\t\tthis.transpose();\n\t}\n\n\tpublic copyRawDataTo(vector:number[], index:number = 0, transpose:boolean = false)\n\t{\n\t\tif (transpose)\n\t\t\tthis.transpose();\n\n\t\tvar len:number = this.rawData.length\n\t\tfor (var c:number = 0; c < len; c++)\n\t\t\tvector[c + index ] = this.rawData[c];\n\n\t\tif (transpose)\n\t\t\tthis.transpose();\n\t}\n\n\t/**\n\t * Copies a Vector3D object into specific row of the calling Matrix3D object.\n\t */\n\tpublic copyRowFrom(row:number, vector3D:Vector3D)\n\t{\n\t\tswitch (row) {\n\t\t\tcase 0:\n\t\t\t\tthis.rawData[ 0 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 4 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 8 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 12 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tthis.rawData[ 1 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 5 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 9 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 13 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tthis.rawData[ 2 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 6 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 10 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 14 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tthis.rawData[ 3 ] = vector3D.x;\n\t\t\t\tthis.rawData[ 7 ] = vector3D.y;\n\t\t\t\tthis.rawData[ 11 ] = vector3D.z;\n\t\t\t\tthis.rawData[ 15 ] = vector3D.w;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new ArgumentError(\"ArgumentError, Row \" + row + \" out of bounds [0, ..., 3]\");\n\t\t}\n\t}\n\n\t/**\n\t * Copies specific row of the calling Matrix3D object into the Vector3D object.\n\t */\n\tpublic copyRowTo(row:number, vector3D:Vector3D)\n\t{\n\t\tswitch (row) {\n\t\t\tcase 0:\n\t\t\t\tvector3D.x = this.rawData[ 0 ];\n\t\t\t\tvector3D.y = this.rawData[ 4 ];\n\t\t\t\tvector3D.z = this.rawData[ 8 ];\n\t\t\t\tvector3D.w = this.rawData[ 12 ];\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tvector3D.x = this.rawData[ 1 ];\n\t\t\t\tvector3D.y = this.rawData[ 5 ];\n\t\t\t\tvector3D.z = this.rawData[ 9 ];\n\t\t\t\tvector3D.w = this.rawData[ 13 ];\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tvector3D.x = this.rawData[ 2 ];\n\t\t\t\tvector3D.y = this.rawData[ 6 ];\n\t\t\t\tvector3D.z = this.rawData[ 10 ];\n\t\t\t\tvector3D.w = this.rawData[ 14 ];\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tvector3D.x = this.rawData[ 3 ];\n\t\t\t\tvector3D.y = this.rawData[ 7 ];\n\t\t\t\tvector3D.z = this.rawData[ 11 ];\n\t\t\t\tvector3D.w = this.rawData[ 15 ]\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow new ArgumentError(\"ArgumentError, Row \" + row + \" out of bounds [0, ..., 3]\");\n\t\t}\n\t}\n\n\t/**\n\t * Copies this Matrix3D object into a destination Matrix3D object.\n\t */\n\tpublic copyToMatrix3D(dest:Matrix3D)\n\t{\n\t\tdest.rawData = this.rawData.slice(0);\n\t}\n\n\t/**\n\t * Returns the transformation matrix's translation, rotation, and scale settings as a Vector of three Vector3D objects.\n\t */\n\tpublic decompose(orientationStyle:string = \"eulerAngles\"):Vector3D[]\n\t{\n\t\tvar q:Quaternion;\n\n\t\t// Initial Tests - Not OK\n\n\t\tvar vec:Vector3D[] = [];\n\t\tvar m = this.clone();\n\t\tvar mr = m.rawData;\n\n\t\tvar pos:Vector3D = new Vector3D(mr[12], mr[13], mr[14]);\n\t\tmr[12] = 0;\n\t\tmr[13] = 0;\n\t\tmr[14] = 0;\n\n\t\tvar scale:Vector3D = new Vector3D();\n\n\t\tscale.x = Math.sqrt(mr[0]*mr[0] + mr[1]*mr[1] + mr[2]*mr[2]);\n\t\tscale.y = Math.sqrt(mr[4]*mr[4] + mr[5]*mr[5] + mr[6]*mr[6]);\n\t\tscale.z = Math.sqrt(mr[8]*mr[8] + mr[9]*mr[9] + mr[10]*mr[10]);\n\n\t\tif (mr[0]*(mr[5]*mr[10] - mr[6]*mr[9]) - mr[1]*(mr[4]*mr[10] - mr[6]*mr[8]) + mr[2]*(mr[4]*mr[9] - mr[5]*mr[8]) < 0)\n\t\t\tscale.z = -scale.z;\n\n\t\tmr[0] /= scale.x;\n\t\tmr[1] /= scale.x;\n\t\tmr[2] /= scale.x;\n\t\tmr[4] /= scale.y;\n\t\tmr[5] /= scale.y;\n\t\tmr[6] /= scale.y;\n\t\tmr[8] /= scale.z;\n\t\tmr[9] /= scale.z;\n\t\tmr[10] /= scale.z;\n\n\t\tvar rot = new Vector3D();\n\n\t\tswitch (orientationStyle) {\n\t\t\tcase Orientation3D.AXIS_ANGLE:\n\n\t\t\t\trot.w = Math.acos((mr[0] + mr[5] + mr[10] - 1)/2);\n\n\t\t\t\tvar len:number = Math.sqrt((mr[6] - mr[9])*(mr[6] - mr[9]) + (mr[8] - mr[2])*(mr[8] - mr[2]) + (mr[1] - mr[4])*(mr[1] - mr[4]));\n\t\t\t\trot.x = (mr[6] - mr[9])/len;\n\t\t\t\trot.y = (mr[8] - mr[2])/len;\n\t\t\t\trot.z = (mr[1] - mr[4])/len;\n\n\t\t\t\tbreak;\n\t\t\tcase Orientation3D.QUATERNION:\n\n\t\t\t\tvar tr = mr[0] + mr[5] + mr[10];\n\n\t\t\t\tif (tr > 0) {\n\t\t\t\t\trot.w = Math.sqrt(1 + tr)/2;\n\n\t\t\t\t\trot.x = (mr[6] - mr[9])/(4*rot.w);\n\t\t\t\t\trot.y = (mr[8] - mr[2])/(4*rot.w);\n\t\t\t\t\trot.z = (mr[1] - mr[4])/(4*rot.w);\n\t\t\t\t} else if ((mr[0] > mr[5]) && (mr[0] > mr[10])) {\n\t\t\t\t\trot.x = Math.sqrt(1 + mr[0] - mr[5] - mr[10])/2;\n\n\t\t\t\t\trot.w = (mr[6] - mr[9])/(4*rot.x);\n\t\t\t\t\trot.y = (mr[1] + mr[4])/(4*rot.x);\n\t\t\t\t\trot.z = (mr[8] + mr[2])/(4*rot.x);\n\t\t\t\t} else if (mr[5] > mr[10]) {\n\t\t\t\t\trot.y = Math.sqrt(1 + mr[5] - mr[0] - mr[10])/2;\n\n\t\t\t\t\trot.x = (mr[1] + mr[4])/(4*rot.y);\n\t\t\t\t\trot.w = (mr[8] - mr[2])/(4*rot.y);\n\t\t\t\t\trot.z = (mr[6] + mr[9])/(4*rot.y);\n\t\t\t\t} else {\n\t\t\t\t\trot.z = Math.sqrt(1 + mr[10] - mr[0] - mr[5])/2;\n\n\t\t\t\t\trot.x = (mr[8] + mr[2])/(4*rot.z);\n\t\t\t\t\trot.y = (mr[6] + mr[9])/(4*rot.z);\n\t\t\t\t\trot.w = (mr[1] - mr[4])/(4*rot.z);\n\t\t\t\t}\n\n\n\t\t\t\tbreak;\n\t\t\tcase Orientation3D.EULER_ANGLES:\n\n\t\t\t\trot.y = Math.asin(-mr[2]);\n\n\t\t\t\t//var cos:number = Math.cos(rot.y);\n\n\t\t\t\tif (mr[2] != 1 && mr[2] != -1) {\n\t\t\t\t\trot.x = Math.atan2(mr[6], mr[10]);\n\t\t\t\t\trot.z = Math.atan2(mr[1], mr[0]);\n\t\t\t\t} else {\n\t\t\t\t\trot.z = 0;\n\t\t\t\t\trot.x = Math.atan2(mr[4], mr[5]);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t}\n\n\t\tvec.push(pos);\n\t\tvec.push(rot);\n\t\tvec.push(scale);\n\n\t\treturn vec;\n\t}\n\n\t/**\n\t * Uses the transformation matrix without its translation elements to transform a Vector3D object from one space\n\t * coordinate to another.\n\t */\n\tpublic deltaTransformVector(v:Vector3D):Vector3D\n\t{\n\t\tvar x:number = v.x;\n\t\tvar y:number = v.y;\n\t\tvar z:number = v.z;\n\n\t\treturn new Vector3D((x*this.rawData[0] + y*this.rawData[4] + z*this.rawData[8]), (x*this.rawData[1] + y*this.rawData[5] + z*this.rawData[9]), (x*this.rawData[2] + y*this.rawData[6] + z*this.rawData[10]), (x*this.rawData[3] + y*this.rawData[7] + z*this.rawData[11]));\n\t}\n\n\t/**\n\t * Converts the current matrix to an identity or unit matrix.\n\t */\n\tpublic identity()\n\t{\n\t\tthis.rawData = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 ];\n\t}\n\n\t/**\n\t * [static] Interpolates the translation, rotation, and scale transformation of one matrix toward those of the target matrix.\n\t */\n\tstatic interpolate(thisMat:Matrix3D, toMat:Matrix3D, percent:number):Matrix3D\n\t{\n\t\tvar m:Matrix3D = new Matrix3D();\n\t\tfor (var i:number = 0; i < 16; ++i)\n\t\t\tm.rawData[i] = thisMat.rawData[i] + (toMat.rawData[i] - thisMat.rawData[i])*percent;\n\n\t\treturn m;\n\t}\n\n\t/**\n\t * Interpolates this matrix towards the translation, rotation, and scale transformations of the target matrix.\n\t */\n\tpublic interpolateTo(toMat:Matrix3D, percent:number)\n\t{\n\t\tfor (var i:number = 0; i < 16; ++i)\n\t\t\tthis.rawData[i] = this.rawData[i] + (toMat.rawData[i] - this.rawData[i])*percent;\n\t}\n\n\t/**\n\t * Inverts the current matrix.\n\t */\n\tpublic invert():boolean\n\t{\n\t\tvar d = this.determinant;\n\t\tvar invertable = Math.abs(d) > 0.00000000001;\n\n\t\tif (invertable) {\n\t\t\td = 1/d;\n\t\t\tvar m11:number = this.rawData[0];\n\t\t\tvar m21:number = this.rawData[4];\n\t\t\tvar m31:number = this.rawData[8];\n\t\t\tvar m41:number = this.rawData[12];\n\t\t\tvar m12:number = this.rawData[1];\n\t\t\tvar m22:number = this.rawData[5];\n\t\t\tvar m32:number = this.rawData[9];\n\t\t\tvar m42:number = this.rawData[13];\n\t\t\tvar m13:number = this.rawData[2];\n\t\t\tvar m23:number = this.rawData[6];\n\t\t\tvar m33:number = this.rawData[10];\n\t\t\tvar m43:number = this.rawData[14];\n\t\t\tvar m14:number = this.rawData[3];\n\t\t\tvar m24:number = this.rawData[7];\n\t\t\tvar m34:number = this.rawData[11];\n\t\t\tvar m44:number = this.rawData[15];\n\n\t\t\tthis.rawData[0] = d*(m22*(m33*m44 - m43*m34) - m32*(m23*m44 - m43*m24) + m42*(m23*m34 - m33*m24));\n\t\t\tthis.rawData[1] = -d*(m12*(m33*m44 - m43*m34) - m32*(m13*m44 - m43*m14) + m42*(m13*m34 - m33*m14));\n\t\t\tthis.rawData[2] = d*(m12*(m23*m44 - m43*m24) - m22*(m13*m44 - m43*m14) + m42*(m13*m24 - m23*m14));\n\t\t\tthis.rawData[3] = -d*(m12*(m23*m34 - m33*m24) - m22*(m13*m34 - m33*m14) + m32*(m13*m24 - m23*m14));\n\t\t\tthis.rawData[4] = -d*(m21*(m33*m44 - m43*m34) - m31*(m23*m44 - m43*m24) + m41*(m23*m34 - m33*m24));\n\t\t\tthis.rawData[5] = d*(m11*(m33*m44 - m43*m34) - m31*(m13*m44 - m43*m14) + m41*(m13*m34 - m33*m14));\n\t\t\tthis.rawData[6] = -d*(m11*(m23*m44 - m43*m24) - m21*(m13*m44 - m43*m14) + m41*(m13*m24 - m23*m14));\n\t\t\tthis.rawData[7] = d*(m11*(m23*m34 - m33*m24) - m21*(m13*m34 - m33*m14) + m31*(m13*m24 - m23*m14));\n\t\t\tthis.rawData[8] = d*(m21*(m32*m44 - m42*m34) - m31*(m22*m44 - m42*m24) + m41*(m22*m34 - m32*m24));\n\t\t\tthis.rawData[9] = -d*(m11*(m32*m44 - m42*m34) - m31*(m12*m44 - m42*m14) + m41*(m12*m34 - m32*m14));\n\t\t\tthis.rawData[10] = d*(m11*(m22*m44 - m42*m24) - m21*(m12*m44 - m42*m14) + m41*(m12*m24 - m22*m14));\n\t\t\tthis.rawData[11] = -d*(m11*(m22*m34 - m32*m24) - m21*(m12*m34 - m32*m14) + m31*(m12*m24 - m22*m14));\n\t\t\tthis.rawData[12] = -d*(m21*(m32*m43 - m42*m33) - m31*(m22*m43 - m42*m23) + m41*(m22*m33 - m32*m23));\n\t\t\tthis.rawData[13] = d*(m11*(m32*m43 - m42*m33) - m31*(m12*m43 - m42*m13) + m41*(m12*m33 - m32*m13));\n\t\t\tthis.rawData[14] = -d*(m11*(m22*m43 - m42*m23) - m21*(m12*m43 - m42*m13) + m41*(m12*m23 - m22*m13));\n\t\t\tthis.rawData[15] = d*(m11*(m22*m33 - m32*m23) - m21*(m12*m33 - m32*m13) + m31*(m12*m23 - m22*m13));\n\t\t}\n\t\treturn invertable;\n\t}\n\n\t/* TODO implement pointAt\n\t public pointAt( pos:Vector3D, at:Vector3D = null, up:Vector3D = null )\n\t {\n\t }\n\t */\n\n\t/**\n\t * Prepends a matrix by multiplying the current Matrix3D object by another Matrix3D object.\n\t */\n\tpublic prepend(rhs:Matrix3D)\n\t{\n\t\tvar m111:number = rhs.rawData[0], m121:number = rhs.rawData[4], m131:number = rhs.rawData[8], m141:number = rhs.rawData[12], m112:number = rhs.rawData[1], m122:number = rhs.rawData[5], m132:number = rhs.rawData[9], m142:number = rhs.rawData[13], m113:number = rhs.rawData[2], m123:number = rhs.rawData[6], m133:number = rhs.rawData[10], m143:number = rhs.rawData[14], m114:number = rhs.rawData[3], m124:number = rhs.rawData[7], m134:number = rhs.rawData[11], m144:number = rhs.rawData[15], m211:number = this.rawData[0], m221:number = this.rawData[4], m231:number = this.rawData[8], m241:number = this.rawData[12], m212:number = this.rawData[1], m222:number = this.rawData[5], m232:number = this.rawData[9], m242:number = this.rawData[13], m213:number = this.rawData[2], m223:number = this.rawData[6], m233:number = this.rawData[10], m243:number = this.rawData[14], m214:number = this.rawData[3], m224:number = this.rawData[7], m234:number = this.rawData[11], m244:number = this.rawData[15];\n\n\t\tthis.rawData[0] = m111*m211 + m112*m221 + m113*m231 + m114*m241;\n\t\tthis.rawData[1] = m111*m212 + m112*m222 + m113*m232 + m114*m242;\n\t\tthis.rawData[2] = m111*m213 + m112*m223 + m113*m233 + m114*m243;\n\t\tthis.rawData[3] = m111*m214 + m112*m224 + m113*m234 + m114*m244;\n\n\t\tthis.rawData[4] = m121*m211 + m122*m221 + m123*m231 + m124*m241;\n\t\tthis.rawData[5] = m121*m212 + m122*m222 + m123*m232 + m124*m242;\n\t\tthis.rawData[6] = m121*m213 + m122*m223 + m123*m233 + m124*m243;\n\t\tthis.rawData[7] = m121*m214 + m122*m224 + m123*m234 + m124*m244;\n\n\t\tthis.rawData[8] = m131*m211 + m132*m221 + m133*m231 + m134*m241;\n\t\tthis.rawData[9] = m131*m212 + m132*m222 + m133*m232 + m134*m242;\n\t\tthis.rawData[10] = m131*m213 + m132*m223 + m133*m233 + m134*m243;\n\t\tthis.rawData[11] = m131*m214 + m132*m224 + m133*m234 + m134*m244;\n\n\t\tthis.rawData[12] = m141*m211 + m142*m221 + m143*m231 + m144*m241;\n\t\tthis.rawData[13] = m141*m212 + m142*m222 + m143*m232 + m144*m242;\n\t\tthis.rawData[14] = m141*m213 + m142*m223 + m143*m233 + m144*m243;\n\t\tthis.rawData[15] = m141*m214 + m142*m224 + m143*m234 + m144*m244;\n\t}\n\n\t/**\n\t * Prepends an incremental rotation to a Matrix3D object.\n\t */\n\tpublic prependRotation(degrees:number, axis:Vector3D) //, pivot:Vector3D = null )\n\t{\n\t\tvar m:Matrix3D = Matrix3D.getAxisRotation(axis.x, axis.y, axis.z, degrees);\n\n\t\t/*\n\t\t if ( pivot != null )\n\t\t {\n\t\t var p:Vector3D = pivot;\n\t\t m.appendTranslation( p.x, p.y, p.z );\n\t\t }\n\t\t */\n\t\tthis.prepend(m);\n\t}\n\n\t/**\n\t * Prepends an incremental scale change along the x, y, and z axes to a Matrix3D object.\n\t */\n\tpublic prependScale(xScale:number, yScale:number, zScale:number)\n\t{\n\n\t\t// Initial Tests - OK\n\n\t\tthis.prepend(new Matrix3D([ xScale, 0, 0, 0, 0, yScale, 0, 0, 0, 0, zScale, 0, 0, 0, 0, 1 ]));\n\t}\n\n\t/**\n\t * Prepends an incremental translation, a repositioning along the x, y, and z axes, to a Matrix3D object.\n\t */\n\tpublic prependTranslation(x:number, y:number, z:number)\n\t{\n\n\t\t// Initial Tests - OK\n\n\t\tvar m = new Matrix3D();\n\t\tm.position = new Vector3D(x, y, z);\n\t\tthis.prepend(m);\n\t}\n\n\t// TODO orientationStyle\n\t/**\n\t * Sets the transformation matrix's translation, rotation, and scale settings.\n\t */\n\tpublic recompose(components:Vector3D[]):boolean\n\t{\n\n\t\t// Initial Tests - OK\n\n\t\tif (components.length < 3) return false\n\n\t\t//components[2].x == 0 || components[2].y == 0 || components[2].z == 0) return false;\n\n\t\tthis.identity();\n\t\tthis.appendScale(components[2].x, components[2].y, components[2].z);\n\n\t\tvar angle:number;\n\t\tangle = -components[1].x;\n\t\tthis.append(new Matrix3D([1, 0, 0, 0, 0, Math.cos(angle), -Math.sin(angle), 0, 0, Math.sin(angle), Math.cos(angle), 0, 0, 0, 0 , 0]));\n\t\tangle = -components[1].y;\n\t\tthis.append(new Matrix3D([Math.cos(angle), 0, Math.sin(angle), 0, 0, 1, 0, 0, -Math.sin(angle), 0, Math.cos(angle), 0, 0, 0, 0, 0]));\n\t\tangle = -components[1].z;\n\t\tthis.append(new Matrix3D([Math.cos(angle), -Math.sin(angle), 0, 0, Math.sin(angle), Math.cos(angle), 0, 0, 0, 0, 1, 0, 0, 0, 0, 0]));\n\n\t\tthis.position = components[0];\n\t\tthis.rawData[15] = 1;\n\n\t\treturn true;\n\t}\n\n\tpublic transformVector(v:Vector3D):Vector3D\n\t{\n\t\tif (v == null)\n\t\t\treturn new Vector3D();\n\n\t\tvar x:number = v.x;\n\t\tvar y:number = v.y;\n\t\tvar z:number = v.z;\n\n\t\treturn new Vector3D((x*this.rawData[0] + y*this.rawData[4] + z*this.rawData[8] + this.rawData[12]), (x*this.rawData[1] + y*this.rawData[5] + z*this.rawData[9] + this.rawData[13]), (x*this.rawData[2] + y*this.rawData[6] + z*this.rawData[10] + this.rawData[14]), (x*this.rawData[3] + y*this.rawData[7] + z*this.rawData[11] + this.rawData[15]));\n\t}\n\n\t/**\n\t * Uses the transformation matrix to transform a Vector of Numbers from one coordinate space to another.\n\t */\n\tpublic transformVectors(vin:number[], vout:number[])\n\t{\n\n\t\t// Initial Tests - OK\n\n\t\tvar i:number = 0;\n\t\tvar x:number = 0, y:number = 0, z:number = 0;\n\n\t\twhile (i + 3 <= vin.length) {\n\t\t\tx = vin[i];\n\t\t\ty = vin[i + 1];\n\t\t\tz = vin[i + 2];\n\t\t\tvout[i] = x*this.rawData[0] + y*this.rawData[4] + z*this.rawData[8] + this.rawData[12];\n\t\t\tvout[i + 1] = x*this.rawData[1] + y*this.rawData[5] + z*this.rawData[9] + this.rawData[13];\n\t\t\tvout[i + 2] = x*this.rawData[2] + y*this.rawData[6] + z*this.rawData[10] + this.rawData[14];\n\t\t\ti += 3;\n\t\t}\n\t}\n\n\t/**\n\t * Converts the current Matrix3D object to a matrix where the rows and columns are swapped.\n\t */\n\tpublic transpose()\n\t{\n\n\t\t// Initial Tests - OK\n\n\t\tvar oRawData:number[] = this.rawData.slice(0);\n\n\t\tthis.rawData[1] = oRawData[4];\n\t\tthis.rawData[2] = oRawData[8];\n\t\tthis.rawData[3] = oRawData[12];\n\t\tthis.rawData[4] = oRawData[1];\n\t\tthis.rawData[6] = oRawData[9];\n\t\tthis.rawData[7] = oRawData[13];\n\t\tthis.rawData[8] = oRawData[2];\n\t\tthis.rawData[9] = oRawData[6];\n\t\tthis.rawData[11] = oRawData[14];\n\t\tthis.rawData[12] = oRawData[3];\n\t\tthis.rawData[13] = oRawData[7];\n\t\tthis.rawData[14] = oRawData[11];\n\t}\n\n\tstatic getAxisRotation(x:number, y:number, z:number, degrees:number):Matrix3D\n\t{\n\n\t\t// internal class use by rotations which have been tested\n\n\t\tvar m:Matrix3D = new Matrix3D();\n\n\t\tvar rad = degrees*( Math.PI/180 );\n\t\tvar c:number = Math.cos(rad);\n\t\tvar s:number = Math.sin(rad);\n\t\tvar t:number = 1 - c;\n\t\tvar tmp1:number, tmp2:number;\n\n\t\tm.rawData[0] = c + x*x*t;\n\t\tm.rawData[5] = c + y*y*t;\n\t\tm.rawData[10] = c + z*z*t;\n\n\t\ttmp1 = x*y*t;\n\t\ttmp2 = z*s;\n\t\tm.rawData[1] = tmp1 + tmp2;\n\t\tm.rawData[4] = tmp1 - tmp2;\n\t\ttmp1 = x*z*t;\n\t\ttmp2 = y*s;\n\t\tm.rawData[8] = tmp1 + tmp2;\n\t\tm.rawData[2] = tmp1 - tmp2;\n\t\ttmp1 = y*z*t;\n\t\ttmp2 = x*s;\n\t\tm.rawData[9] = tmp1 - tmp2;\n\t\tm.rawData[6] = tmp1 + tmp2;\n\n\t\treturn m;\n\t}\n\n\t/**\n\t * [read-only] A Number that determines whether a matrix is invertible.\n\t */\n\tpublic get determinant():number\n\t{\n\t\treturn    ((this.rawData[0]*this.rawData[5] - this.rawData[4]*this.rawData[1])*(this.rawData[10]*this.rawData[15] - this.rawData[14]*this.rawData[11]) - (this.rawData[0]*this.rawData[9] - this.rawData[8]*this.rawData[1])*(this.rawData[6]*this.rawData[15] - this.rawData[14]*this.rawData[7]) + (this.rawData[0]*this.rawData[13] - this.rawData[12]*this.rawData[1])*(this.rawData[6]*this.rawData[11] - this.rawData[10]*this.rawData[7]) + (this.rawData[4]*this.rawData[9] - this.rawData[8]*this.rawData[5])*(this.rawData[2]*this.rawData[15] - this.rawData[14]*this.rawData[3]) - (this.rawData[4]*this.rawData[13] - this.rawData[12]*this.rawData[5])*(this.rawData[2]*this.rawData[11] - this.rawData[10]*this.rawData[3]) + (this.rawData[8]*this.rawData[13] - this.rawData[12]*this.rawData[9])*(this.rawData[2]*this.rawData[7] - this.rawData[6]*this.rawData[3]));\n\t}\n\n\t/**\n\t * A Vector3D object that holds the position, the 3D coordinate (x,y,z) of a display object within the\n\t * transformation's frame of reference.\n\t */\n\tpublic get position():Vector3D\n\t{\n\t\treturn new Vector3D(this.rawData[12], this.rawData[13], this.rawData[14]);\n\t}\n\n\tpublic set position(value:Vector3D)\n\t{\n\t\tthis.rawData[12] = value.x;\n\t\tthis.rawData[13] = value.y;\n\t\tthis.rawData[14] = value.z;\n\t}\n\n\tpublic toFixed(decimalPlace:number):string\n\t{\n\t\tvar magnitude:number = Math.pow(10, decimalPlace);\n\t\treturn \"matrix3d(\" + Math.round(this.rawData[0]*magnitude)/magnitude + \",\" + Math.round(this.rawData[1]*magnitude)/magnitude + \",\" + Math.round(this.rawData[2]*magnitude)/magnitude + \",\" + Math.round(this.rawData[3]*magnitude)/magnitude + \",\" + Math.round(this.rawData[4]*magnitude)/magnitude + \",\" + Math.round(this.rawData[5]*magnitude)/magnitude + \",\" + Math.round(this.rawData[6]*magnitude)/magnitude + \",\" + Math.round(this.rawData[7]*magnitude)/magnitude + \",\" + Math.round(this.rawData[8]*magnitude)/magnitude + \",\" + Math.round(this.rawData[9]*magnitude)/magnitude + \",\" + Math.round(this.rawData[10]*magnitude)/magnitude + \",\" + Math.round(this.rawData[11]*magnitude)/magnitude + \",\" + Math.round(this.rawData[12]*magnitude)/magnitude + \",\" + Math.round(this.rawData[13]*magnitude)/magnitude + \",\" + Math.round(this.rawData[14]*magnitude)/magnitude + \",\" + Math.round(this.rawData[15]*magnitude)/magnitude + \")\";\n\t}\n\n\tpublic toString():string\n\t{\n\t\treturn \"matrix3d(\" + Math.round(this.rawData[0]*1000)/1000 + \",\" + Math.round(this.rawData[1]*1000)/1000 + \",\" + Math.round(this.rawData[2]*1000)/1000 + \",\" + Math.round(this.rawData[3]*1000)/1000 + \",\" + Math.round(this.rawData[4]*1000)/1000 + \",\" + Math.round(this.rawData[5]*1000)/1000 + \",\" + Math.round(this.rawData[6]*1000)/1000 + \",\" + Math.round(this.rawData[7]*1000)/1000 + \",\" + Math.round(this.rawData[8]*1000)/1000 + \",\" + Math.round(this.rawData[9]*1000)/1000 + \",\" + Math.round(this.rawData[10]*1000)/1000 + \",\" + Math.round(this.rawData[11]*1000)/1000 + \",\" + Math.round(this.rawData[12]*1000)/1000 + \",\" + Math.round(this.rawData[13]*1000)/1000 + \",\" + Math.round(this.rawData[14]*1000)/1000 + \",\" + Math.round(this.rawData[15]*1000)/1000 + \")\";\n\t}\n}\n\nexport = Matrix3D;",
    "import Point\t\t\t\t\t= require(\"awayjs-core/lib/geom/Point\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport ArgumentError\t\t\t= require(\"awayjs-core/lib/errors/ArgumentError\");\n\n/**\n * The Matrix class represents a transformation matrix that determines how to\n * map points from one coordinate space to another. You can perform various\n * graphical transformations on a display object by setting the properties of\n * a Matrix object, applying that Matrix object to the <code>matrix</code>\n * property of a Transform object, and then applying that Transform object as\n * the <code>transform</code> property of the display object. These\n * transformation functions include translation(<i>x</i> and <i>y</i>\n * repositioning), rotation, scaling, and skewing.\n *\n * <p>Together these types of transformations are known as <i>affine\n * transformations</i>. Affine transformations preserve the straightness of\n * lines while transforming, so that parallel lines stay parallel.</p>\n *\n * <p>To apply a transformation matrix to a display object, you create a\n * Transform object, set its <code>matrix</code> property to the\n * transformation matrix, and then set the <code>transform</code> property of\n * the display object to the Transform object. Matrix objects are also used as\n * parameters of some methods, such as the following:</p>\n *\n * <ul>\n *   <li>The <code>draw()</code> method of a BitmapData object</li>\n *   <li>The <code>beginBitmapFill()</code> method,\n * <code>beginGradientFill()</code> method, or\n * <code>lineGradientStyle()</code> method of a Graphics object</li>\n * </ul>\n *\n * <p>A transformation matrix object is a 3 x 3 matrix with the following\n * contents:</p>\n *\n * <p>In traditional transformation matrixes, the <code>u</code>,\n * <code>v</code>, and <code>w</code> properties provide extra capabilities.\n * The Matrix class can only operate in two-dimensional space, so it always\n * assumes that the property values <code>u</code> and <code>v</code> are 0.0,\n * and that the property value <code>w</code> is 1.0. The effective values of\n * the matrix are as follows:</p>\n *\n * <p>You can get and set the values of all six of the other properties in a\n * Matrix object: <code>a</code>, <code>b</code>, <code>c</code>,\n * <code>d</code>, <code>tx</code>, and <code>ty</code>.</p>\n *\n * <p>The Matrix class supports the four major types of transformations:\n * translation, scaling, rotation, and skewing. You can set three of these\n * transformations by using specialized methods, as described in the following\n * table: </p>\n *\n * <p>Each transformation function alters the current matrix properties so\n * that you can effectively combine multiple transformations. To do this, you\n * call more than one transformation function before applying the matrix to\n * its display object target(by using the <code>transform</code> property of\n * that display object).</p>\n *\n * <p>Use the <code>new Matrix()</code> constructor to create a Matrix object\n * before you can call the methods of the Matrix object.</p>\n */\nclass Matrix\n{\n\t/**\n\t * The value that affects the positioning of pixels along the <i>x</i> axis\n\t * when scaling or rotating an image.\n\t */\n\tpublic a:number;\n\n\t/**\n\t * The value that affects the positioning of pixels along the <i>y</i> axis\n\t * when rotating or skewing an image.\n\t */\n\tpublic b:number;\n\n\t/**\n\t * The value that affects the positioning of pixels along the <i>x</i> axis\n\t * when rotating or skewing an image.\n\t */\n\tpublic c:number;\n\n\t/**\n\t * The value that affects the positioning of pixels along the <i>y</i> axis\n\t * when scaling or rotating an image.\n\t */\n\tpublic d:number;\n\n\t/**\n\t * The distance by which to translate each point along the <i>x</i> axis.\n\t */\n\tpublic tx:number;\n\n\t/**\n\t * The distance by which to translate each point along the <i>y</i> axis.\n\t */\n\tpublic ty:number;\n\n\t/**\n\t * Creates a new Matrix object with the specified parameters. In matrix\n\t * notation, the properties are organized like this:\n\t *\n\t * <p>If you do not provide any parameters to the <code>new Matrix()</code>\n\t * constructor, it creates an <i>identity matrix</i> with the following\n\t * values:</p>\n\t *\n\t * <p>In matrix notation, the identity matrix looks like this:</p>\n\t *\n\t * @param a  The value that affects the positioning of pixels along the\n\t *           <i>x</i> axis when scaling or rotating an image.\n\t * @param b  The value that affects the positioning of pixels along the\n\t *           <i>y</i> axis when rotating or skewing an image.\n\t * @param c  The value that affects the positioning of pixels along the\n\t *           <i>x</i> axis when rotating or skewing an image.\n\t * @param d  The value that affects the positioning of pixels along the\n\t *           <i>y</i> axis when scaling or rotating an image..\n\t * @param tx The distance by which to translate each point along the <i>x</i>\n\t *           axis.\n\t * @param ty The distance by which to translate each point along the <i>y</i>\n\t *           axis.\n\t */\n\tconstructor(a:number = 1, b:number = 0, c:number = 0, d:number = 1, tx:number = 0, ty:number = 0)\n\t{\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\t\tthis.d = d;\n\t\tthis.tx = tx;\n\t\tthis.ty = ty;\n\t}\n\n\t/**\n\t * Returns a new Matrix object that is a clone of this matrix, with an exact\n\t * copy of the contained object.\n\t *\n\t * @return A Matrix object.\n\t */\n\tpublic clone():Matrix\n\t{\n\t\treturn new Matrix(this.a, this.b, this.c, this.d, this.tx, this.ty);\n\t}\n\n\t/**\n\t * Concatenates a matrix with the current matrix, effectively combining the\n\t * geometric effects of the two. In mathematical terms, concatenating two\n\t * matrixes is the same as combining them using matrix multiplication.\n\t *\n\t * <p>For example, if matrix <code>m1</code> scales an object by a factor of\n\t * four, and matrix <code>m2</code> rotates an object by 1.5707963267949\n\t * radians(<code>Math.PI/2</code>), then <code>m1.concat(m2)</code>\n\t * transforms <code>m1</code> into a matrix that scales an object by a factor\n\t * of four and rotates the object by <code>Math.PI/2</code> radians. </p>\n\t *\n\t * <p>This method replaces the source matrix with the concatenated matrix. If\n\t * you want to concatenate two matrixes without altering either of the two\n\t * source matrixes, first copy the source matrix by using the\n\t * <code>clone()</code> method, as shown in the Class Examples section.</p>\n\t *\n\t * @param matrix The matrix to be concatenated to the source matrix.\n\t */\n\tpublic concat(matrix:Matrix):void\n\t{\n\t\tvar a1 = this.a*matrix.a + this.b*matrix.c;\n\t\tthis.b = this.a*matrix.b + this.b*matrix.d;\n\t\tthis.a = a1;\n\n\t\tvar c1 = this.c*matrix.a + this.d*matrix.c;\n\t\tthis.d = this.c*matrix.b + this.d*matrix.d;\n\n\t\tthis.c = c1;\n\n\t\tvar tx1 = this.tx*matrix.a + this.ty*matrix.c + matrix.tx;\n\t\tthis.ty = this.tx*matrix.b + this.ty*matrix.d + matrix.ty;\n\t\tthis.tx = tx1;\n\t}\n\n\t/**\n\t * Copies a Vector3D object into specific column of the calling Matrix3D\n\t * object.\n\t *\n\t * @param column   The column from which to copy the data from.\n\t * @param vector3D The Vector3D object from which to copy the data.\n\t */\n\tpublic copyColumnFrom(column:number, vector3D:Vector3D):void\n\t{\n\t\tif (column > 2) {\n\t\t\tthrow \"Column \" + column + \" out of bounds (2)\";\n\t\t} else if (column == 0) {\n\t\t\tthis.a = vector3D.x;\n\t\t\tthis.c = vector3D.y;\n\t\t} else if (column == 1) {\n\t\t\tthis.b = vector3D.x;\n\t\t\tthis.d = vector3D.y;\n\t\t} else {\n\t\t\tthis.tx = vector3D.x;\n\t\t\tthis.ty = vector3D.y;\n\t\t}\n\t}\n\n\t/**\n\t * Copies specific column of the calling Matrix object into the Vector3D\n\t * object. The w element of the Vector3D object will not be changed.\n\t *\n\t * @param column   The column from which to copy the data from.\n\t * @param vector3D The Vector3D object from which to copy the data.\n\t */\n\tpublic copyColumnTo(column:number, vector3D:Vector3D):void\n\t{\n\t\tif (column > 2) {\n\t\t\tthrow new ArgumentError(\"ArgumentError, Column \" + column + \" out of bounds [0, ..., 2]\");\n\t\t} else if (column == 0) {\n\t\t\tvector3D.x = this.a;\n\t\t\tvector3D.y = this.c;\n\t\t\tvector3D.z = 0;\n\t\t} else if (column == 1) {\n\t\t\tvector3D.x = this.b;\n\t\t\tvector3D.y = this.d;\n\t\t\tvector3D.z = 0;\n\t\t} else {\n\t\t\tvector3D.x = this.tx;\n\t\t\tvector3D.y = this.ty;\n\t\t\tvector3D.z = 1;\n\t\t}\n\t}\n\n\t/**\n\t * Copies all of the matrix data from the source Point object into the\n\t * calling Matrix object.\n\t *\n\t * @param sourceMatrix The Matrix object from which to copy the data.\n\t */\n\tpublic copyFrom(sourceMatrix:Matrix):void\n\t{\n\t\tthis.a = sourceMatrix.a;\n\t\tthis.b = sourceMatrix.b;\n\t\tthis.c = sourceMatrix.c;\n\t\tthis.d = sourceMatrix.d;\n\t\tthis.tx = sourceMatrix.tx;\n\t\tthis.ty = sourceMatrix.ty;\n\t}\n\n\t/**\n\t * Copies a Vector3D object into specific row of the calling Matrix object.\n\t *\n\t * @param row      The row from which to copy the data from.\n\t * @param vector3D The Vector3D object from which to copy the data.\n\t */\n\tpublic copyRowFrom(row:number, vector3D:Vector3D):void\n\t{\n\t\tif (row > 2) {\n\t\t\tthrow new ArgumentError(\"ArgumentError, Row \" + row + \" out of bounds [0, ..., 2]\");\n\t\t} else if (row == 0) {\n\t\t\tthis.a = vector3D.x;\n\t\t\tthis.c = vector3D.y;\n\t\t} else if (row == 1) {\n\t\t\tthis.b = vector3D.x;\n\t\t\tthis.d = vector3D.y;\n\t\t} else {\n\t\t\tthis.tx = vector3D.x;\n\t\t\tthis.ty = vector3D.y;\n\t\t}\n\t}\n\n\t/**\n\t * Copies specific row of the calling Matrix object into the Vector3D object.\n\t * The w element of the Vector3D object will not be changed.\n\t *\n\t * @param row      The row from which to copy the data from.\n\t * @param vector3D The Vector3D object from which to copy the data.\n\t */\n\tpublic copyRowTo(row:number, vector3D:Vector3D):void\n\t{\n\t\tif (row > 2) {\n\t\t\tthrow new ArgumentError(\"ArgumentError, Row \" + row + \" out of bounds [0, ..., 2]\");\n\t\t} else if (row == 0) {\n\t\t\tvector3D.x = this.a;\n\t\t\tvector3D.y = this.b;\n\t\t\tvector3D.z = this.tx;\n\t\t} else if (row == 1) {\n\t\t\tvector3D.x = this.c;\n\t\t\tvector3D.y = this.d;\n\t\t\tvector3D.z = this.ty;\n\t\t} else {\n\t\t\tvector3D.setTo(0, 0, 1);\n\t\t}\n\t}\n\n\t/**\n\t * Includes parameters for scaling, rotation, and translation. When applied\n\t * to a matrix it sets the matrix's values based on those parameters.\n\t *\n\t * <p>Using the <code>createBox()</code> method lets you obtain the same\n\t * matrix as you would if you applied the <code>identity()</code>,\n\t * <code>rotate()</code>, <code>scale()</code>, and <code>translate()</code>\n\t * methods in succession. For example, <code>mat1.createBox(2,2,Math.PI/4,\n\t * 100, 100)</code> has the same effect as the following:</p>\n\t *\n\t * @param scaleX   The factor by which to scale horizontally.\n\t * @param scaleY   The factor by which scale vertically.\n\t * @param rotation The amount to rotate, in radians.\n\t * @param tx       The number of pixels to translate(move) to the right\n\t *                 along the <i>x</i> axis.\n\t * @param ty       The number of pixels to translate(move) down along the\n\t *                 <i>y</i> axis.\n\t */\n\tpublic createBox(scaleX:number, scaleY:number, rotation:number = 0, tx:number = 0, ty:number = 0):void\n\t{\n\t\tthis.a = scaleX;\n\t\tthis.d = scaleY;\n\t\tthis.b = rotation;\n\t\tthis.tx = tx;\n\t\tthis.ty = ty;\n\t}\n\n\t/**\n\t * Creates the specific style of matrix expected by the\n\t * <code>beginGradientFill()</code> and <code>lineGradientStyle()</code>\n\t * methods of the Graphics class. Width and height are scaled to a\n\t * <code>scaleX</code>/<code>scaleY</code> pair and the\n\t * <code>tx</code>/<code>ty</code> values are offset by half the width and\n\t * height.\n\t *\n\t * <p>For example, consider a gradient with the following\n\t * characteristics:</p>\n\t *\n\t * <ul>\n\t *   <li><code>GradientType.LINEAR</code></li>\n\t *   <li>Two colors, green and blue, with the ratios array set to <code>[0,\n\t * 255]</code></li>\n\t *   <li><code>SpreadMethod.PAD</code></li>\n\t *   <li><code>InterpolationMethod.LINEAR_RGB</code></li>\n\t * </ul>\n\t *\n\t * <p>The following illustrations show gradients in which the matrix was\n\t * defined using the <code>createGradientBox()</code> method with different\n\t * parameter settings:</p>\n\t *\n\t * @param width    The width of the gradient box.\n\t * @param height   The height of the gradient box.\n\t * @param rotation The amount to rotate, in radians.\n\t * @param tx       The distance, in pixels, to translate to the right along\n\t *                 the <i>x</i> axis. This value is offset by half of the\n\t *                 <code>width</code> parameter.\n\t * @param ty       The distance, in pixels, to translate down along the\n\t *                 <i>y</i> axis. This value is offset by half of the\n\t *                 <code>height</code> parameter.\n\t */\n\tpublic createGradientBox(width:number, height:number, rotation:number = 0, tx:number = 0, ty:number = 0):void\n\t{\n\t\tthis.a = width/1638.4;\n\t\tthis.d = height/1638.4;\n\n\t\tif (rotation != 0.0) {\n\t\t\tvar cos = Math.cos(rotation);\n\t\t\tvar sin = Math.sin(rotation);\n\n\t\t\tthis.b = sin*this.d;\n\t\t\tthis.c = -sin*this.a;\n\t\t\tthis.a *= cos;\n\t\t\tthis.d *= cos;\n\t\t} else {\n\t\t\tthis.b = this.c = 0;\n\t\t}\n\n\t\tthis.tx = tx + width/2;\n\t\tthis.ty = ty + height/2;\n\t}\n\n\t/**\n\t * Given a point in the pretransform coordinate space, returns the\n\t * coordinates of that point after the transformation occurs. Unlike the\n\t * standard transformation applied using the <code>transformPoint()</code>\n\t * method, the <code>deltaTransformPoint()</code> method's transformation\n\t * does not consider the translation parameters <code>tx</code> and\n\t * <code>ty</code>.\n\t *\n\t * @param point The point for which you want to get the result of the matrix\n\t *              transformation.\n\t * @return The point resulting from applying the matrix transformation.\n\t */\n\tpublic deltaTransformPoint(point:Point):Point\n\t{\n\t\treturn new Point(point.x*this.a + point.y*this.c, point.x*this.b + point.y*this.d);\n\t}\n\n\t/**\n\t * Sets each matrix property to a value that causes a null transformation. An\n\t * object transformed by applying an identity matrix will be identical to the\n\t * original.\n\t *\n\t * <p>After calling the <code>identity()</code> method, the resulting matrix\n\t * has the following properties: <code>a</code>=1, <code>b</code>=0,\n\t * <code>c</code>=0, <code>d</code>=1, <code>tx</code>=0,\n\t * <code>ty</code>=0.</p>\n\t *\n\t * <p>In matrix notation, the identity matrix looks like this:</p>\n\t *\n\t */\n\tpublic identity():void\n\t{\n\t\tthis.a = 1;\n\t\tthis.b = 0;\n\t\tthis.c = 0;\n\t\tthis.d = 1;\n\t\tthis.tx = 0;\n\t\tthis.ty = 0;\n\t}\n\n\t/**\n\t * Performs the opposite transformation of the original matrix. You can apply\n\t * an inverted matrix to an object to undo the transformation performed when\n\t * applying the original matrix.\n\t */\n\tpublic invert():void\n\t{\n\t\tvar norm = this.a*this.d - this.b*this.c;\n\n\t\tif (norm == 0) {\n\t\t\tthis.a = this.b = this.c = this.d = 0;\n\t\t\tthis.tx = -this.tx;\n\t\t\tthis.ty = -this.ty;\n\t\t} else {\n\t\t\tnorm = 1.0/norm;\n\t\t\tvar a1 = this.d*norm;\n\t\t\tthis.d = this.a*norm;\n\t\t\tthis.a = a1;\n\t\t\tthis.b *= -norm;\n\t\t\tthis.c *= -norm;\n\n\t\t\tvar tx1 = -this.a*this.tx - this.c*this.ty;\n\t\t\tthis.ty = -this.b*this.tx - this.d*this.ty;\n\t\t\tthis.tx = tx1;\n\t\t}\n\t}\n\n\n\t/**\n\t * Returns a new Matrix object that is a clone of this matrix, with an exact\n\t * copy of the contained object.\n\t *\n\t * @param matrix The matrix for which you want to get the result of the matrix\n\t *               transformation.\n\t * @return A Matrix object.\n\t */\n\tpublic multiply(matrix:Matrix):Matrix\n\t{\n\t\tvar result = new Matrix();\n\n\t\tresult.a = this.a*matrix.a + this.b*matrix.c;\n\t\tresult.b = this.a*matrix.b + this.b*matrix.d;\n\t\tresult.c = this.c*matrix.a + this.d*matrix.c;\n\t\tresult.d = this.c*matrix.b + this.d*matrix.d;\n\n\t\tresult.tx = this.tx*matrix.a + this.ty*matrix.c + matrix.tx;\n\t\tresult.ty = this.tx*matrix.b + this.ty*matrix.d + matrix.ty;\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Applies a rotation transformation to the Matrix object.\n\t *\n\t * <p>The <code>rotate()</code> method alters the <code>a</code>,\n\t * <code>b</code>, <code>c</code>, and <code>d</code> properties of the\n\t * Matrix object. In matrix notation, this is the same as concatenating the\n\t * current matrix with the following:</p>\n\t *\n\t * @param angle The rotation angle in radians.\n\t */\n\tpublic rotate(angle:number):void\n\t{\n\t\tvar cos = Math.cos(angle);\n\t\tvar sin = Math.sin(angle);\n\n\t\tvar a1 = this.a*cos - this.b*sin;\n\t\tthis.b = this.a*sin + this.b*cos;\n\t\tthis.a = a1;\n\n\t\tvar c1 = this.c*cos - this.d*sin;\n\t\tthis.d = this.c*sin + this.d*cos;\n\t\tthis.c = c1;\n\n\t\tvar tx1 = this.tx*cos - this.ty*sin;\n\t\tthis.ty = this.tx*sin + this.ty*cos;\n\t\tthis.tx = tx1;\n\t}\n\n\t/**\n\t * Applies a scaling transformation to the matrix. The <i>x</i> axis is\n\t * multiplied by <code>sx</code>, and the <i>y</i> axis it is multiplied by\n\t * <code>sy</code>.\n\t *\n\t * <p>The <code>scale()</code> method alters the <code>a</code> and\n\t * <code>d</code> properties of the Matrix object. In matrix notation, this\n\t * is the same as concatenating the current matrix with the following\n\t * matrix:</p>\n\t *\n\t * @param sx A multiplier used to scale the object along the <i>x</i> axis.\n\t * @param sy A multiplier used to scale the object along the <i>y</i> axis.\n\t */\n\tpublic scale(sx:number, sy:number):void\n\t{\n\t\tthis.a *= sx;\n\t\tthis.b *= sy;\n\n\t\tthis.c *= sx;\n\t\tthis.d *= sy;\n\n\t\tthis.tx *= sx;\n\t\tthis.ty *= sy;\n\t}\n\n\t/**\n\t * Sets the members of Matrix to the specified values.\n\t *\n\t * @param a  The value that affects the positioning of pixels along the\n\t *           <i>x</i> axis when scaling or rotating an image.\n\t * @param b  The value that affects the positioning of pixels along the\n\t *           <i>y</i> axis when rotating or skewing an image.\n\t * @param c  The value that affects the positioning of pixels along the\n\t *           <i>x</i> axis when rotating or skewing an image.\n\t * @param d  The value that affects the positioning of pixels along the\n\t *           <i>y</i> axis when scaling or rotating an image..\n\t * @param tx The distance by which to translate each point along the <i>x</i>\n\t *           axis.\n\t * @param ty The distance by which to translate each point along the <i>y</i>\n\t *           axis.\n\t */\n\tpublic setTo(a:number, b:number, c:number, d:number, tx:number, ty:number):void\n\t{\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\t\tthis.d = d;\n\t\tthis.tx = tx;\n\t\tthis.ty = ty;\n\t}\n\n\t/**\n\t * Returns a text value listing the properties of the Matrix object.\n\t *\n\t * @return A string containing the values of the properties of the Matrix\n\t *         object: <code>a</code>, <code>b</code>, <code>c</code>,\n\t *         <code>d</code>, <code>tx</code>, and <code>ty</code>.\n\t */\n\tpublic toString():string\n\t{\n\t\treturn \"[Matrix] (a=\" + this.a + \", b=\" + this.b + \", c=\" + this.c + \", d=\" + this.d + \", tx=\" + this.tx + \", ty=\" + this.ty + \")\";\n\t}\n\n\t/**\n\t * Returns the result of applying the geometric transformation represented by\n\t * the Matrix object to the specified point.\n\t *\n\t * @param point The point for which you want to get the result of the Matrix\n\t *              transformation.\n\t * @return The point resulting from applying the Matrix transformation.\n\t */\n\tpublic transformPoint(point:Point):Point\n\t{\n\t\treturn new Point(point.x*this.a + point.y*this.c + this.tx, point.x*this.b + point.y*this.d + this.ty);\n\t}\n\n\t/**\n\t * Translates the matrix along the <i>x</i> and <i>y</i> axes, as specified\n\t * by the <code>dx</code> and <code>dy</code> parameters.\n\t *\n\t * @param dx The amount of movement along the <i>x</i> axis to the right, in\n\t *           pixels.\n\t * @param dy The amount of movement down along the <i>y</i> axis, in pixels.\n\t */\n\tpublic translate(dx:number, dy:number):void\n\t{\n\t\tthis.tx += dx;\n\t\tthis.ty += dy;\n\t}\n}\n\nexport = Matrix;",
    "/**\n * A Quaternion object which can be used to represent rotations.\n */\nclass Orientation3D\n{\n\t/**\n\t * The axis angle orientation uses a combination of an axis and an angle to determine the orientation.\n\t * @type {string}\n\t */\n\tpublic static AXIS_ANGLE:string = \"axisAngle\";\n\n\t/**\n\t * The default orientation for decompose() and recompose() methods, defines the orientation with three separate angles of rotation for each axis.\n\t * @type {string}\n\t */\n\tpublic static EULER_ANGLES:string = \"eulerAngles\";\n\n\t/**\n\t * The quaternion orientation uses complex numbers.\n\t * @type {string}\n\t */\n\tpublic static QUATERNION:string = \"quaternion\";\n}\n\nexport = Orientation3D;",
    "import Matrix3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Point\t\t\t\t\t= require(\"awayjs-core/lib/geom/Point\");\n\n/**\n * <p>The PerspectiveProjection class provides an easy way to assign or modify\n * the perspective transformations of a display object and all of its\n * children. For more complex or custom perspective transformations, use the\n * Matrix3D class. While the PerspectiveProjection class provides basic\n * three-dimensional presentation properties, the Matrix3D class provides more\n * detailed control over the three-dimensional presentation of display objects.\n * </p>\n *\n * <p>Projection is a way of representing a three-dimensional object in a\n * two-dimensional space, like a cube projected onto a computer screen.\n * Perspective projection uses a viewing frustum (a rectangular pyramid) to\n * model and project a three-dimensional world and its objects on the screen.\n * The viewing frustum becomes increasingly wider as it moves further from the\n * origin of the viewpoint. The origin of the viewpoint could be a camera or\n * the eyes of an observer facing the screen. The projected perspective\n * produces the illusion of three dimensions with depth and distance, where\n * the objects closer to the screen appear larger than the objects farther\n * from the screen.</p>\n *\n * <p>A default PerspectiveProjection object is a framework defined for\n * perspective transformation of the root object, based on the field of view\n * and aspect ratio (dimensions) of the stage. The projection center, the\n * vanishing point, is set to the center of the stage, which means the\n * three-dimensional display objects disappear toward the center of the stage\n * as they move back in the z axis. The default viewpoint is at point (0,0)\n * looking down the positive z axis. The y-axis points down toward the bottom\n * of the screen. You can gain access to the root display object's perspective\n * projection settings and change the field of view and projection center\n * properties of the perspectiveProjection property through the root object's\n * <code>DisplayObject.transform</code> property.</p>\n *\n * <p>You can also set a different perspective projection setting for a\n * display object through the parent's perspective projection. First, create a\n * PerspectiveProjection object and set its <code>fieldOfView</code> and\n * <code>projectionCenter</code> properties. Next, assign the\n * PerspectiveProjection object to the parent display object using the\n * <code>DisplayObject.transform</code> property. The specified projection\n * matrix and transformation will then apply to all the display object's\n * three-dimensional children.</p>\n *\n * <p>To modify a perspective projection of the stage or root object: use the\n * <code>transform.matrix</code> property of the root display object to gain\n * access to the PerspectiveProjection object. Or, apply different perspective\n * projection properties to a display object by setting the perspective\n * projection properties of the display object's parent. The child display\n * object inherits the new properties. Specifically, create a\n * PerspectiveProjection object and set its properties, then assign the\n * PerspectiveProjection object to the <code>perspectiveProjection</code>\n * property of the parent display object's <code>transform</code> property.\n * The specified projection transformation then applies to all the display\n * object's three-dimensional children.</p>\n *\n * <p>Since both PerspectiveProjection and Matrix3D objects perform\n * perspective transformations, do not assign both to a display object at the\n * same time. Use the PerspectiveProjection object for focal length and\n * projection center changes. For more control over the perspective\n * transformation, create a perspective projection Matrix3D object.</p>\n */\nclass PerspectiveProjection\n{\n\tprivate _matrix3D:Matrix3D;\n\n\t/**\n\t * Specifies an angle, as a degree between 0 and 180, for the field of\n\t * view in three dimensions. This value determines how strong the\n\t * perspective transformation and distortion apply to a\n\t * three-dimensional display object with a non-zero z-coordinate.\n\t *\n\t * <p>A degree close to 0 means that the screen's two-dimensional x-\n\t * and y-coordinates are roughly the same as the three-dimensional x-,\n\t * y-, and z-coordinates with little or no distortion. In other words,\n\t * for a small angle, a display object moving down the z axis appears\n\t * to stay near the same size and moves little.</p>\n\t *\n\t * <p>A value close to 180 degrees results in a fisheye projection effect:\n\t * positions with a z value smaller than 0 are magnified, while\n\t * positions with a z value larger than 0 are minimized. With a large\n\t * angle, a display object moving down the z axis appears to change\n\t * size quickly and moves a great distance. If the field of view is\n\t * set to 0 or 180, nothing is seen on the screen.</p>\n\t */\n\tpublic fieldOfView:number;\n\n\t/**\n\t * The distance between the eye or the viewpoint's origin (0,0,0) and\n\t * the display object located in the z axis. During the perspective\n\t * transformation, the <code>focalLength</code> is calculated\n\t * dynamically using the angle of the field of view and the stage's\n\t * aspect ratio (stage width divided by stage height).\n\t *\n\t * @see away.geom.PerspectiveProjection#fieldOfView\n\t */\n\tpublic focalLength:number;\n\n\t/**\n\t * A two-dimensional point representing the center of the projection,\n\t * the vanishing point for the display object.\n\t *\n\t * <p>The <code>projectionCenter</code> property is an offset to the\n\t * default registration point that is the upper left of the stage,\n\t * point (0,0). The default projection transformation center is in the\n\t * middle of the stage, which means the three-dimensional display\n\t * objects disappear toward the center of the stage as they move\n\t * backwards in the z axis.</p>\n\t */\n\tpublic projectionCenter:Point;\n\n\t/**\n\t * Creates an instance of a PerspectiveProjection object.\n\t */\n\tconstructor()\n\t{\n\n\t}\n\t/**\n\t * Returns the underlying Matrix3D object of the display object.\n\t *\n\t * <p>A display object, like the root object, can have a\n\t * PerspectiveProjection object without needing a Matrix3D property\n\t * defined for its transformations. In fact, use either a\n\t * PerspectiveProjection or a Matrix3D object to specify the\n\t * perspective transformation. If when using the PerspectiveProjection\n\t * object, a Matrix3D object was needed, the <code>toMatrix3D()</code>\n\t * method can retrieve the underlying Matrix3D object of the display\n\t * object. For example, the <code>toMatrix3D()</code> method can be\n\t * used with the <code>Utils3D.projectVectors()</code> method.</p>\n\t *\n\t * @see away.geom.Matrix3D\n\t */\n\tpublic toMatrix3D():Matrix3D\n\t{\n\t\treturn this._matrix3D;\n\t}\n}\n\nexport = PerspectiveProjection;",
    "import PlaneClassification\t= require(\"awayjs-core/lib/geom/PlaneClassification\");\nimport Vector3D\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\n\nclass Plane3D\n{\n\t/**\n\t * The A coefficient of this plane. (Also the x dimension of the plane normal)\n\t */\n\tpublic a:number;\n\n\t/**\n\t * The B coefficient of this plane. (Also the y dimension of the plane normal)\n\t */\n\tpublic b:number;\n\n\t/**\n\t * The C coefficient of this plane. (Also the z dimension of the plane normal)\n\t */\n\tpublic c:number;\n\n\t/**\n\t * The D coefficient of this plane. (Also the inverse dot product between normal and point)\n\t */\n\tpublic d:number;\n\n\tpublic _iAlignment:number;\n\n\t// indicates the alignment of the plane\n\tpublic static ALIGN_ANY:number = 0;\n\tpublic static ALIGN_XY_AXIS:number = 1;\n\tpublic static ALIGN_YZ_AXIS:number = 2;\n\tpublic static ALIGN_XZ_AXIS:number = 3;\n\n\t/**\n\t * Create a Plane3D with ABCD coefficients\n\t */\n\tconstructor(a:number = 0, b:number = 0, c:number = 0, d:number = 0)\n\t{\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\t\tthis.d = d;\n\n\t\tif (a == 0 && b == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_XY_AXIS;\n\n\t\t} else if (b == 0 && c == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_YZ_AXIS;\n\n\t\t} else if (a == 0 && c == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_XZ_AXIS;\n\n\t\t} else {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_ANY;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Fills this Plane3D with the coefficients from 3 points in 3d space.\n\t * @param p0 Vector3D\n\t * @param p1 Vector3D\n\t * @param p2 Vector3D\n\t */\n\tpublic fromPoints(p0:Vector3D, p1:Vector3D, p2:Vector3D)\n\t{\n\t\tvar d1x:number = p1.x - p0.x;\n\t\tvar d1y:number = p1.y - p0.y;\n\t\tvar d1z:number = p1.z - p0.z;\n\n\t\tvar d2x:number = p2.x - p0.x;\n\t\tvar d2y:number = p2.y - p0.y;\n\t\tvar d2z:number = p2.z - p0.z;\n\n\t\tthis.a = d1y*d2z - d1z*d2y;\n\t\tthis.b = d1z*d2x - d1x*d2z;\n\t\tthis.c = d1x*d2y - d1y*d2x;\n\t\tthis.d = this.a*p0.x + this.b*p0.y + this.c*p0.z;\n\n\t\t// not using epsilon, since a plane is infinite and a small incorrection can grow very large\n\t\tif (this.a == 0 && this.b == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_XY_AXIS;\n\n\t\t} else if (this.b == 0 && this.c == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_YZ_AXIS;\n\n\t\t} else if (this.a == 0 && this.c == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_XZ_AXIS;\n\n\t\t} else {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_ANY;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Fills this Plane3D with the coefficients from the plane's normal and a point in 3d space.\n\t * @param normal Vector3D\n\t * @param point  Vector3D\n\t */\n\tpublic fromNormalAndPoint(normal:Vector3D, point:Vector3D)\n\t{\n\t\tthis.a = normal.x;\n\t\tthis.b = normal.y;\n\t\tthis.c = normal.z;\n\t\tthis.d = this.a*point.x + this.b*point.y + this.c*point.z;\n\t\tif (this.a == 0 && this.b == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_XY_AXIS;\n\n\t\t} else if (this.b == 0 && this.c == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_YZ_AXIS;\n\n\t\t} else if (this.a == 0 && this.c == 0) {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_XZ_AXIS;\n\n\t\t} else {\n\n\t\t\tthis._iAlignment = Plane3D.ALIGN_ANY;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Normalize this Plane3D\n\t * @return Plane3D This Plane3D.\n\t */\n\tpublic normalize():Plane3D\n\t{\n\t\tvar len:number = 1/Math.sqrt(this.a*this.a + this.b*this.b + this.c*this.c);\n\t\tthis.a *= len;\n\t\tthis.b *= len;\n\t\tthis.c *= len;\n\t\tthis.d *= len;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns the signed distance between this Plane3D and the point p.\n\t * @param p Vector3D\n\t * @returns Number\n\t */\n\tpublic distance(p:Vector3D):number\n\t{\n\n\t\tif (this._iAlignment == Plane3D.ALIGN_YZ_AXIS) {\n\n\t\t\treturn this.a*p.x - this.d;\n\n\t\t} else if (this._iAlignment == Plane3D.ALIGN_XZ_AXIS) {\n\t\t\treturn this.b*p.y - this.d;\n\t\t}\n\n\t\telse if (this._iAlignment == Plane3D.ALIGN_XY_AXIS) {\n\n\t\t\treturn this.c*p.z - this.d;\n\n\t\t} else {\n\n\t\t\treturn this.a*p.x + this.b*p.y + this.c*p.z - this.d;\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Classify a point against this Plane3D. (in front, back or intersecting)\n\t * @param p Vector3D\n\t * @return int Plane3.FRONT or Plane3D.BACK or Plane3D.INTERSECT\n\t */\n\tpublic classifyPoint(p:Vector3D, epsilon:number = 0.01):number\n\t{\n\t\t// check NaN\n\t\tif (this.d != this.d)\n\t\t\treturn PlaneClassification.FRONT;\n\n\t\tvar len:number;\n\t\tif (this._iAlignment == Plane3D.ALIGN_YZ_AXIS)\n\t\t\tlen = this.a*p.x - this.d; else if (this._iAlignment == Plane3D.ALIGN_XZ_AXIS)\n\t\t\tlen = this.b*p.y - this.d; else if (this._iAlignment == Plane3D.ALIGN_XY_AXIS)\n\t\t\tlen = this.c*p.z - this.d; else\n\t\t\tlen = this.a*p.x + this.b*p.y + this.c*p.z - this.d;\n\n\t\tif (len < -epsilon)\n\t\t\treturn PlaneClassification.BACK; else if (len > epsilon)\n\t\t\treturn PlaneClassification.FRONT; else\n\t\t\treturn PlaneClassification.INTERSECT;\n\t}\n\n\tpublic toString():string\n\t{\n\t\treturn \"Plane3D [a:\" + this.a + \", b:\" + this.b + \", c:\" + this.c + \", d:\" + this.d + \"]\";\n\t}\n}\n\nexport = Plane3D;",
    "class PlaneClassification\n{\n\t// \"back\" is synonymous with \"in\", but used for planes (back of plane is \"inside\" a solid volume walled by a plane)\n\tpublic static BACK:number = 0;\n\tpublic static FRONT:number = 1;\n\n\tpublic static IN:number = 0;\n\tpublic static OUT:number = 1;\n\tpublic static INTERSECT:number = 2;\n\n}\n\nexport = PlaneClassification;",
    "/**\n * The Point object represents a location in a two-dimensional coordinate\n * system, where <i>x</i> represents the horizontal axis and <i>y</i>\n * represents the vertical axis.\n *\n * <p>The following code creates a point at(0,0):</p>\n *\n * <p>Methods and properties of the following classes use Point objects:</p>\n *\n * <ul>\n *   <li>BitmapData</li>\n *   <li>DisplayObject</li>\n *   <li>DisplayObjectContainer</li>\n *   <li>DisplacementMapFilter</li>\n *   <li>NativeWindow</li>\n *   <li>Matrix</li>\n *   <li>Rectangle</li>\n * </ul>\n *\n * <p>You can use the <code>new Point()</code> constructor to create a Point\n * object.</p>\n */\nclass Point\n{\n\t/**\n\t * The horizontal coordinate of the point. The default value is 0.\n\t */\n\tpublic x:number;\n\n\t/**\n\t * The vertical coordinate of the point. The default value is 0.\n\t */\n\tpublic y:number;\n\n\t/**\n\t * The length of the line segment from(0,0) to this point.\n\t */\n\tpublic get length():number\n\t{\n\t\treturn Math.sqrt(this.x*this.x + this.y*this.y);\n\t}\n\n\t/**\n\t * Creates a new point. If you pass no parameters to this method, a point is\n\t * created at(0,0).\n\t *\n\t * @param x The horizontal coordinate.\n\t * @param y The vertical coordinate.\n\t */\n\tconstructor(x:number = 0, y:number = 0)\n\t{\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\t/**\n\t * Adds the coordinates of another point to the coordinates of this point to\n\t * create a new point.\n\t *\n\t * @param v The point to be added.\n\t * @return The new point.\n\t */\n\tpublic add(v:Point):Point\n\t{\n\t\treturn new Point(this.x + v.x, this.y + v.y);\n\t}\n\n\t/**\n\t * Creates a copy of this Point object.\n\t *\n\t * @return The new Point object.\n\t */\n\tpublic clone():Point\n\t{\n\t\treturn new Point(this.x, this.y);\n\t}\n\n\tpublic copyFrom(sourcePoint:Point)\n\t{\n\n\t}\n\n\t/**\n\t * Determines whether two points are equal. Two points are equal if they have\n\t * the same <i>x</i> and <i>y</i> values.\n\t *\n\t * @param toCompare The point to be compared.\n\t * @return A value of <code>true</code> if the object is equal to this Point\n\t *         object; <code>false</code> if it is not equal.\n\t */\n\tpublic equals(toCompare:Point):boolean\n\t{\n\t\treturn (this.x == toCompare.x && this.y == toCompare.y);\n\t}\n\n\t/**\n\t * Scales the line segment between(0,0) and the current point to a set\n\t * length.\n\t *\n\t * @param thickness The scaling value. For example, if the current point is\n\t *                 (0,5), and you normalize it to 1, the point returned is\n\t *                  at(0,1).\n\t */\n\tpublic normalize(thickness:number = 1)\n\t{\n\t\tif (this.length != 0) {\n\t\t\tvar invLength = thickness/this.length;\n\t\t\tthis.x *= invLength;\n\t\t\tthis.y *= invLength;\n\t\t\treturn;\n\t\t}\n\t\tthrow \"Cannot divide by zero length.\";\n\t}\n\n\t/**\n\t * Offsets the Point object by the specified amount. The value of\n\t * <code>dx</code> is added to the original value of <i>x</i> to create the\n\t * new <i>x</i> value. The value of <code>dy</code> is added to the original\n\t * value of <i>y</i> to create the new <i>y</i> value.\n\t *\n\t * @param dx The amount by which to offset the horizontal coordinate,\n\t *           <i>x</i>.\n\t * @param dy The amount by which to offset the vertical coordinate, <i>y</i>.\n\t */\n\tpublic offset(dx:number, dy:number)\n\t{\n\t\tthis.x += dx;\n\t\tthis.y += dy;\n\t}\n\n\tpublic setTo(xa:number, ya:number)\n\t{\n\n\t}\n\n\t/**\n\t * Subtracts the coordinates of another point from the coordinates of this\n\t * point to create a new point.\n\t *\n\t * @param v The point to be subtracted.\n\t * @return The new point.\n\t */\n\tpublic subtract(v:Point):Point\n\t{\n\t\treturn new Point(this.x - v.x, this.y - v.y);\n\t}\n\n\t/**\n\t * Returns a string that contains the values of the <i>x</i> and <i>y</i>\n\t * coordinates. The string has the form <code>\"(x=<i>x</i>,\n\t * y=<i>y</i>)\"</code>, so calling the <code>toString()</code> method for a\n\t * point at 23,17 would return <code>\"(x=23, y=17)\"</code>.\n\t *\n\t * @return The string representation of the coordinates.\n\t */\n\tpublic toString():string\n\t{\n\t\treturn \"[Point] (x=\" + this.x + \", y=\" + this.y + \")\";\n\t}\n\n\t/**\n\t * Returns the distance between <code>pt1</code> and <code>pt2</code>.\n\t *\n\t * @param pt1 The first point.\n\t * @param pt2 The second point.\n\t * @return The distance between the first and second points.\n\t */\n\tpublic static distance(pt1:Point, pt2:Point):number\n\t{\n\t\tvar dx:number = pt2.x - pt1.x;\n\t\tvar dy:number = pt2.y - pt1.y;\n\n\t\treturn Math.sqrt(dx*dx + dy*dy);\n\t}\n\n\t/**\n\t * Determines a point between two specified points. The parameter\n\t * <code>f</code> determines where the new interpolated point is located\n\t * relative to the two end points specified by parameters <code>pt1</code>\n\t * and <code>pt2</code>. The closer the value of the parameter <code>f</code>\n\t * is to <code>1.0</code>, the closer the interpolated point is to the first\n\t * point(parameter <code>pt1</code>). The closer the value of the parameter\n\t * <code>f</code> is to 0, the closer the interpolated point is to the second\n\t * point(parameter <code>pt2</code>).\n\t *\n\t * @param pt1 The first point.\n\t * @param pt2 The second point.\n\t * @param f   The level of interpolation between the two points. Indicates\n\t *            where the new point will be, along the line between\n\t *            <code>pt1</code> and <code>pt2</code>. If <code>f</code>=1,\n\t *            <code>pt1</code> is returned; if <code>f</code>=0,\n\t *            <code>pt2</code> is returned.\n\t * @return The new, interpolated point.\n\t */\n\tpublic static interpolate(pt1:Point, pt2:Point, f:number):Point\n\t{\n\t\treturn new Point(pt2.x + (pt1.x - pt2.x)*f, pt2.y + (pt1.y - pt2.y)*f);\n\t}\n\n\t/**\n\t * Converts a pair of polar coordinates to a Cartesian point coordinate.\n\t *\n\t * @param len   The length coordinate of the polar pair.\n\t * @param angle The angle, in radians, of the polar pair.\n\t * @return The Cartesian point.\n\t */\n\tpublic static polar(len:number, angle:number):Point\n\t{\n\t\treturn new Point(len*Math.cos(angle), len*Math.sin(angle));\n\t}\n}\n\nexport = Point;\n",
    "class PoissonLookup\n{\n\tpublic static _distributions:Array<Array<number>>;\n\n\tpublic static initDistributions():void\n\t{\n\t\t// precalculated for best control\n\t\tthis._distributions = new Array<Array<number>>();\n\t\tthis._distributions[0] = new Array<number>(0.3082841, 0.4320919);\n\t\tthis._distributions[1] = new Array<number>(0.3082841, 0.4320919, -0.2274942, -0.6640266);\n\t\tthis._distributions[2] = new Array<number>(0.8742689, 0.0009265686, -0.6864116, -0.5536607, -0.2325206, 0.7678371);\n\t\tthis._distributions[3] = new Array<number>(0.3913446, -0.7084417, -0.7511101, -0.5935929, -0.2323436, 0.5320091, 0.8435315, 0.5035911);\n\t\tthis._distributions[4] = new Array<number>(0.2122471, -0.5771395, -0.8543506, -0.1763534, 0.5189021, 0.8323698, -0.3616908, 0.5865368, 0.9523004, -0.04948437);\n\t\tthis._distributions[5] = new Array<number>(0.5791035, 0.3496495, 0.2959551, -0.6006749, -0.2419119, -0.06879545, -0.7403072, 0.6110353, -0.04555973, 0.8059174, -0.5275017, -0.737129);\n\t\tthis._distributions[6] = new Array<number>(0.06941478, 0.8519508, -0.7441907, 0.2426432, 0.6439992, -0.2405252, -0.1007523, -0.2327587, -0.6427067, -0.7248485, 0.8050759, 0.5492936, 0.3573822, -0.8824506);\n\t\tthis._distributions[7] = new Array<number>(0.8509863, 0.4452587, -0.09507271, 0.2073005, 0.1706571, -0.6434793, 0.8029777, -0.2718274, -0.4401725, 0.8196304, 0.2715359, 0.8598521, -0.8121575, -0.006447683, -0.6486837, -0.7237598);\n\t\tthis._distributions[8] = new Array<number>(0.6951686, -0.2680728, -0.04933243, 0.3710589, 0.6592212, 0.3661054, -0.01579228, -0.6909603, -0.3275101, -0.1756866, 0.3811549, 0.9218544, -0.216032, 0.9755028, -0.7065172, 0.3355389, -0.6579109, -0.6798355);\n\t\tthis._distributions[9] = new Array<number>(0.6181276, -0.09790418, -0.2537868, -0.5570995, -0.1964931, 0.3459414, 0.3474613, -0.8885581, 0.5135743, 0.5753114, -0.9549091, 0.1480672, -0.8711916, -0.4293123, -0.6928071, 0.6190156, -0.13369, 0.8892705, 0.0548224, -0.1246777);\n\t\tthis._distributions[10] = new Array<number>(0.4853027, -0.5080479, -0.1331675, -0.506597, 0.139575, 0.01316885, 0.803486, -0.07568797, 0.5240274, 0.4883182, -0.4334005, 0.1207938, -0.7794577, -0.3985141, 0.1576432, -0.9861221, -0.3712867, 0.6959021, 0.1517378, 0.9847429, -0.9762396, 0.1661073);\n\t\tthis._distributions[11] = new Array<number>(-0.2790166, -0.01252619, 0.3389016, 0.3921154, 0.2408341, -0.313211, -0.8151779, -0.3898362, -0.6347761, 0.3486495, 0.09471484, -0.7722448, -0.1385674, 0.6364574, 0.2456331, 0.9295807, -0.3864306, -0.8247881, 0.6111673, -0.7164014, 0.8287669, 0.05466961, 0.837706, 0.5415626);\n\t\tthis._distributions[12] = new Array<number>(0.056417, 0.3185693, -0.8245888, 0.1882799, 0.8575996, 0.1136829, 0.1070375, 0.875332, 0.4076743, -0.06000621, -0.4311306, 0.7239349, 0.2677574, -0.538472, -0.08486642, -0.2083647, -0.888989, -0.3906443, -0.4768958, -0.6664082, 0.09334993, -0.9861541, 0.808736, -0.455949, 0.5889823, 0.7660807);\n\t\tthis._distributions[13] = new Array<number>(-0.2681346, -0.3955857, -0.1315102, -0.8852947, -0.5143692, 0.09551838, 0.4344836, -0.546945, -0.8620899, -0.3813288, 0.1650431, 0.02034803, -0.1543657, 0.3842218, -0.828457, 0.5376903, -0.6145, -0.7818927, -0.2639062, 0.8784655, 0.1912684, 0.9720125, 0.3135219, 0.5224229, 0.7850655, 0.4592297, 0.7465045, -0.1368916);\n\t\tthis._distributions[14] = new Array<number>(0.4241029, 0.695281, 0.150511, -0.02304107, -0.2482675, 0.9120338, 0.8057325, 0.2622084, -0.2445909, 0.2765962, 0.8588713, -0.1772072, 0.3117845, -0.4385471, -0.3923851, -0.3298936, -0.1751254, -0.7405846, 0.6926506, -0.684163, -0.9304563, -0.3254691, -0.8533293, 0.1523024, 0.2510415, -0.917345, -0.6239773, -0.7105472, -0.6104624, 0.6041355);\n\t\tthis._distributions[15] = new Array<number>(0.5844554, 0.06651045, 0.1343258, 0.6756578, 0.3799674, -0.6301104, 0.5590436, 0.7940555, 0.09574714, 0.02262517, 0.8697868, 0.393301, 0.003945862, -0.421735, 0.9043913, -0.2432393, -0.4844007, 0.7190998, -0.3201078, 0.2972371, -0.3852352, -0.6341155, -0.5413069, -0.09223081, -0.8468984, -0.5126905, 0.004156174, -0.8633173, -0.9681889, -0.03305046, -0.846509, 0.4414353);\n\t\tthis._distributions[16] = new Array<number>(0.4506488, 0.657668, 0.4621297, 0.07441051, -0.2782125, 0.6201044, 0.9750003, 0.09110117, 0.1019436, 0.2986514, 0.03457398, 0.9631706, 0.542098, -0.5505635, 0.8675668, 0.4938077, -0.5414361, 0.2655292, -0.7941836, 0.6003053, -0.09847672, -0.1001604, -0.9316511, -0.08572888, 0.07286467, -0.611899, -0.5232627, -0.4082253, -0.5481608, -0.827938, -0.1551939, -0.9621193, 0.9220031, -0.3315949);\n\t\tthis._distributions[17] = new Array<number>(0.197908, -0.4697656, -0.4474689, -0.3428435, 0.8529873, -0.2228634, 0.6022478, -0.5469642, 0.2545276, -0.931133, -0.1507547, -0.7855865, -0.07606658, 0.1011628, 0.3046715, 0.2785755, 0.4698432, -0.1064076, 0.6831254, 0.4152522, 0.1374381, 0.8363233, -0.2166121, 0.6682042, 0.5511393, 0.7996449, -0.4278994, 0.28836, -0.8875198, 0.2181732, -0.8772842, -0.2818254, -0.7000262, 0.5762185, -0.6062385, -0.7439126);\n\t\tthis._distributions[18] = new Array<number>(0.6645703, -0.05678739, 0.5720971, 0.4533803, -0.07660709, 0.08802763, 0.5163431, -0.4426552, 0.1163455, -0.3404382, -0.4004807, -0.5046007, 0.2932099, -0.8201418, -0.5322125, 0.03834766, -0.1490209, -0.8817304, -0.8000439, -0.3509448, 0.5260983, 0.8421043, 0.1197811, 0.6963812, 0.9498612, 0.3122156, -0.9285746, 0.02120355, -0.6670724, 0.7217396, 0.9155889, -0.3510147, -0.271941, 0.4727852, 0.318879, 0.1634057, -0.2686755, 0.9253026);\n\t\tthis._distributions[19] = new Array<number>(0.5064292, 0.422527, 0.8935515, -0.06610427, 0.1199719, 0.175568, 0.403388, -0.2003276, 0.1657927, 0.8154403, 0.9301245, 0.2929218, -0.1644068, 0.6201534, 0.7113559, -0.6589743, -0.3364046, -0.1799502, 0.02109996, -0.392765, -0.382213, 0.3219992, -0.9201946, 0.1207967, -0.726185, 0.4291916, -0.7443482, -0.2480059, -0.5147594, 0.7418784, 0.1935272, -0.7406143, -0.3643523, -0.5559214, -0.7147766, -0.6326278, -0.2524151, -0.9096627, 0.5161405, 0.7908453);\n\t\tthis._distributions[20] = new Array<number>(0.7921003, -0.3032096, 0.5992879, -0.009052323, 0.2538549, -0.1872749, 0.7053444, 0.3677175, 0.5417761, -0.8170255, 0.9749611, 0.1210478, 0.1969143, -0.6117041, -0.1824499, -0.4634196, -0.1181338, -0.8668742, -0.3050112, -0.1352596, -0.4409327, -0.7082354, -0.03225285, 0.1171548, 0.3113096, 0.3250439, -0.8166144, -0.463995, -0.01014475, 0.4715334, -0.6868284, 0.05091889, -0.4011163, 0.2717285, -0.06756835, 0.8307694, -0.7938535, 0.4352129, -0.4663842, 0.7165329, 0.559729, 0.8093995);\n\t\tthis._distributions[21] = new Array<number>(0.07832243, 0.426151, -0.3856795, 0.5799953, 0.01970797, 0.06706189, 0.4822682, 0.3014512, -0.1532982, 0.87485, -0.4959527, 0.07888043, 0.260601, -0.2304784, 0.4996209, 0.7167382, 0.585986, -0.04265174, -0.7679967, 0.5509416, -0.9041753, 0.1802134, -0.8407655, -0.4442826, -0.2058258, -0.2636995, -0.4984115, -0.5928579, 0.2926032, -0.7886473, -0.06933882, -0.621177, 0.578115, -0.4813387, 0.8981777, -0.3291056, 0.1942733, 0.9255584, 0.8084362, 0.5066984, 0.9920095, 0.03103104, -0.2403206, -0.9389018);\n\t\tthis._distributions[22] = new Array<number>(-0.5691095, 0.1014316, -0.7788262, 0.384012, -0.8253665, -0.1645582, -0.1830993, 0.002997211, -0.2555013, -0.4177977, -0.6640869, -0.4794711, -0.2351242, 0.5850121, 0.02436554, 0.2825883, 0.006061143, -0.8200245, 0.1618791, -0.3063331, -0.3765897, -0.7249815, 0.6092919, -0.6769328, -0.5956934, 0.6957655, 0.5383642, 0.4522677, -0.1489165, 0.9125596, 0.4167473, 0.1335986, 0.1898309, 0.5874342, 0.2288171, 0.9624356, 0.7540846, -0.07672304, 0.8986252, 0.2788797, 0.3555991, -0.9262139, 0.8454325, -0.4027667, 0.4945236, -0.2935512);\n\t\tthis._distributions[23] = new Array<number>(-0.4481403, -0.3758374, -0.8877251, 0.08739938, 0.05015831, -0.1339983, -0.4070427, -0.8534173, 0.1019274, -0.5503222, -0.445998, 0.1997541, -0.8686263, -0.2788867, -0.7695944, -0.6033704, -0.05515742, -0.885711, -0.7714347, 0.5790485, 0.3466263, -0.8799297, 0.4487582, -0.5321087, -0.2461368, 0.6053771, -0.05568117, 0.2457351, -0.4668669, 0.8523816, 0.8103387, -0.4255538, 0.4054182, -0.175663, -0.2802011, -0.08920153, 0.2665959, 0.382935, 0.555679, 0.1621837, 0.105246, 0.8420411, 0.6921161, 0.6902903, 0.880946, 0.2483067, 0.9699264, -0.1021767);\n\t\tthis._distributions[24] = new Array<number>(-0.1703323, -0.3119385, 0.2916039, -0.2988263, -0.008472982, -0.9277695, -0.7730271, -0.3277904, 0.3440474, -0.6815342, -0.2910278, 0.03461745, -0.6764899, -0.657078, -0.3505501, -0.7311988, -0.03478927, 0.3258755, -0.6048835, 0.159423, 0.2035525, 0.02212214, 0.5116573, 0.2226856, 0.6664805, -0.2500189, 0.7147882, -0.6609634, 0.03030632, -0.5763278, -0.2516585, 0.6116219, -0.9434413, -0.0116792, 0.9061816, 0.2491155, 0.182867, 0.6076167, 0.286593, 0.9485695, -0.5992439, 0.6970096, -0.2082874, 0.9416641, 0.9880044, -0.1541709, -0.9122881, 0.331555, 0.7324886, 0.6725098);\n\t\tthis._distributions[25] = new Array<number>(0.3869598, -0.04974834, 0.7168844, -0.0693711, -0.07166742, 0.1725325, 0.4599592, 0.3232779, 0.5872094, -0.4198674, 0.2442266, -0.625667, 0.1254557, 0.4500048, -0.2290154, -0.1803567, 0.890583, 0.3373493, 0.1256081, 0.7853789, -0.2676466, 0.5305805, -0.7063224, 0.252168, -0.3989835, 0.1189921, 0.09617215, -0.2451447, 0.6302541, 0.6085876, 0.9380925, -0.3234899, 0.5086241, -0.8573482, 0.03576187, -0.9876697, -0.0876712, -0.6365195, -0.5276513, 0.823456, -0.6935764, -0.2240411, -0.5212318, -0.5383121, -0.2116208, 0.9639363, -0.9840096, 0.02743555, -0.3991577, -0.8994547, -0.7830126, 0.614068);\n\t\tthis._distributions[26] = new Array<number>(-0.8366601, 0.4464895, -0.5917366, -0.02073906, -0.9845258, 0.1635625, -0.3097973, 0.4379579, -0.5478154, 0.7173221, -0.1685888, 0.9261969, 0.01503595, 0.6046097, 0.4452421, 0.5449086, 0.0315687, 0.1944619, 0.3753404, 0.8688548, 0.4143643, 0.1396648, 0.8711032, 0.4304703, 0.7328773, 0.1461501, 0.6374492, -0.3521495, 0.145613, -0.1341466, 0.9040975, -0.135123, -0.7839059, -0.5450199, -0.516019, -0.3320859, -0.206158, -0.4431106, -0.9703014, -0.2368356, -0.2473119, -0.0864351, 0.2130725, -0.4604077, -0.003726701, -0.7122303, -0.4072131, -0.6833169, 0.1632999, -0.9776646, 0.4686888, -0.680495, -0.2293511, -0.9509777);\n\t\tthis._distributions[27] = new Array<number>(0.107311, -0.1311369, -0.4194764, -0.3148777, 0.6171439, -0.2745973, 0.2796618, 0.1937153, -0.09106886, 0.4180236, 0.6044006, 0.05577846, 0.02927299, -0.6738263, -0.2580845, 0.1179939, -0.09023564, -0.3830024, 0.3570953, -0.5000587, 0.81591, -0.5518309, 0.9300217, -0.1257987, 0.4904627, -0.8381903, -0.3163182, -0.8632009, 0.1137595, -0.9875998, 0.8390043, 0.3538185, 0.2149114, 0.4993694, 0.5191584, 0.3833552, 0.5002763, 0.7061465, -0.2567276, 0.9068756, -0.5197366, 0.3467845, 0.03668867, 0.9734009, -0.5347553, 0.66747, -0.9028882, 0.1023768, -0.8967977, 0.412834, -0.5821944, 0.0426479, -0.8032165, -0.2397038, -0.5597343, -0.6358021);\n\t\tthis._distributions[28] = new Array<number>(-0.6562496, -0.1781036, -0.9301494, 0.1185208, -0.3861143, -0.4153562, -0.1560799, -0.1099607, -0.5587025, 0.395218, -0.5322112, -0.699701, -0.5008639, 0.08726846, -0.970524, -0.1963461, -0.813577, -0.5185111, -0.1644458, 0.298, -0.3216791, 0.639982, 0.3315373, 0.3339162, 0.2383235, -0.00105722, 0.1137828, 0.5450742, -0.01899921, 0.8798413, 0.2849685, 0.8255596, 0.6974412, 0.2123175, 0.7588523, 0.5470437, 0.5102502, -0.1687844, 0.5853448, 0.8033476, 0.2590716, -0.5262504, 0.5607718, -0.6342825, 0.8666443, -0.1491841, 0.8341052, -0.4935003, -0.1568441, -0.6634066, 0.2512113, -0.8769391, -0.2559827, -0.9572457, -0.01928852, -0.3966542, -0.750667, 0.6409678);\n\t\tthis._distributions[29] = new Array<number>(0.3454786, -0.04837726, 0.2649553, 0.2406852, 0.5599093, -0.3839145, -0.1111814, -0.05502108, 0.7586042, -0.05818377, 0.2519488, -0.4665135, -0.1264972, 0.2602723, -0.08766216, -0.3671907, 0.6428129, 0.3999204, -0.6105871, -0.1246869, -0.4589451, -0.7646643, -0.03021116, -0.7899352, -0.6036922, -0.4293956, -0.2481938, 0.6534185, 0.102798, 0.6784465, -0.6392644, 0.4821358, -0.6789002, 0.1779133, -0.9140783, -0.1989647, -0.9262617, 0.3381507, 0.4794891, -0.8093274, 0.3959447, 0.668478, 0.9602883, 0.2272305, -0.123672, 0.9210883, 0.2375148, 0.9523395, -0.52898, 0.7973378, -0.382433, 0.1228794, 0.695015, 0.6948439, 0.7530277, -0.6458191, 0.8777987, -0.3272956, 0.2318525, -0.962768);\n\t\tthis._distributions[30] = new Array<number>(0.4518921, -0.1146195, 0.4720805, -0.4238748, 0.3655423, 0.1806341, 0.1589939, -0.23568, 0.7673324, -0.5149941, 0.01163658, 0.09045836, 0.7010971, 0.1245747, 0.7518286, -0.1855433, 0.4960719, 0.4601022, 0.2566979, -0.6308268, -0.0654714, -0.5126389, -0.1823319, -0.1343282, -0.1464312, 0.4883236, -0.3858738, 0.203523, 0.1484799, 0.4432284, -0.477109, -0.116241, 0.2719092, 0.7208626, 0.9104174, 0.3578536, -0.5956199, 0.7662588, -0.6996251, 0.3678654, -0.2514512, 0.9251933, 0.1275825, -0.9478135, -0.204608, -0.8611552, 0.4264838, -0.877443, 0.9854161, 0.05521112, 0.5912951, 0.7997434, 0.1140349, 0.982093, -0.9324368, -0.2094094, -0.42436, -0.6441524, -0.6722705, -0.3554261, -0.7844236, 0.08587621);\n\t\tthis._distributions[31] = new Array<number>(-0.4206714, -0.5613642, -0.8733016, -0.3373051, -0.1046226, -0.2902999, -0.1318562, -0.8434365, 0.1145093, -0.5962623, -0.4965627, -0.1873259, -0.5011808, -0.8546229, -0.7165636, -0.5743566, 0.1090901, 0.2017643, 0.3404809, -0.220455, -0.1989015, 0.2372122, -0.4538706, 0.0979171, 0.4514146, -0.572846, 0.2314168, -0.8514503, -0.4247236, 0.5650803, -0.943347, 0.04514639, -0.1309718, 0.5221877, -0.7004157, 0.4561877, 0.6306441, 0.04448673, 0.4301621, 0.5766876, 0.1078042, 0.7245752, 0.3875354, 0.2794483, 0.702876, -0.2924213, 0.7360667, -0.6210318, 0.7486517, 0.6531103, 0.4898235, 0.8591025, 0.6549174, 0.3854057, -0.2596106, 0.7916998, 0.9251194, -0.05296265, -0.5620695, 0.820877, -0.01228026, 0.9937211, 0.9612103, 0.2628758);\n\t}\n\n\tpublic static getDistribution(n:number /*int*/):Array<number>\n\t{\n\t\tif (!this._distributions)\n\t\t\tthis.initDistributions();\n\n\t\tif (n < 2 || n > 32)\n\t\t\treturn null;\n\n\t\treturn this._distributions[n - 1];\n\t}\n}\n\nexport = PoissonLookup;",
    "import Matrix3DUtils\t\t= require(\"awayjs-core/lib/geom/Matrix3DUtils\");\nimport Orientation3D\t\t= require(\"awayjs-core/lib/geom/Orientation3D\");\nimport Matrix3D\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Vector3D\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\n\n/**\n * A Quaternion object which can be used to represent rotations.\n */\nclass Quaternion\n{\n\t/**\n\t * The x value of the quaternion.\n\t */\n\tpublic x:number = 0;\n\n\t/**\n\t * The y value of the quaternion.\n\t */\n\tpublic y:number = 0;\n\n\t/**\n\t * The z value of the quaternion.\n\t */\n\tpublic z:number = 0;\n\n\t/**\n\t * The w value of the quaternion.\n\t */\n\tpublic w:number = 1;\n\n\t/**\n\t * Creates a new Quaternion object.\n\t * @param x The x value of the quaternion.\n\t * @param y The y value of the quaternion.\n\t * @param z The z value of the quaternion.\n\t * @param w The w value of the quaternion.\n\t */\n\tconstructor(x:number = 0, y:number = 0, z:number = 0, w:number = 1)\n\t{\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\t}\n\n\t/**\n\t * Returns the magnitude of the quaternion object.\n\t */\n\tpublic get magnitude():number\n\t{\n\t\treturn Math.sqrt(this.w*this.w + this.x*this.x + this.y*this.y + this.z*this.z);\n\t}\n\n\t/**\n\t * Fills the quaternion object with the result from a multiplication of two quaternion objects.\n\t *\n\t * @param    qa    The first quaternion in the multiplication.\n\t * @param    qb    The second quaternion in the multiplication.\n\t */\n\tpublic multiply(qa:Quaternion, qb:Quaternion)\n\t{\n\t\tvar w1:number = qa.w, x1:number = qa.x, y1:number = qa.y, z1:number = qa.z;\n\t\tvar w2:number = qb.w, x2:number = qb.x, y2:number = qb.y, z2:number = qb.z;\n\n\t\tthis.w = w1*w2 - x1*x2 - y1*y2 - z1*z2;\n\t\tthis.x = w1*x2 + x1*w2 + y1*z2 - z1*y2;\n\t\tthis.y = w1*y2 - x1*z2 + y1*w2 + z1*x2;\n\t\tthis.z = w1*z2 + x1*y2 - y1*x2 + z1*w2;\n\t}\n\n\tpublic multiplyVector(vector:Vector3D, target:Quaternion = null):Quaternion\n\t{\n\t\t//target ||= new Quaternion();\n\t\tif (target === null) {\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\n\t\tvar x2:number = vector.x;\n\t\tvar y2:number = vector.y;\n\t\tvar z2:number = vector.z;\n\n\t\ttarget.w = -this.x*x2 - this.y*y2 - this.z*z2;\n\t\ttarget.x = this.w*x2 + this.y*z2 - this.z*y2;\n\t\ttarget.y = this.w*y2 - this.x*z2 + this.z*x2;\n\t\ttarget.z = this.w*z2 + this.x*y2 - this.y*x2;\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Fills the quaternion object with values representing the given rotation around a vector.\n\t *\n\t * @param    axis    The axis around which to rotate\n\t * @param    angle    The angle in radians of the rotation.\n\t */\n\tpublic fromAxisAngle(axis:Vector3D, angle:number)\n\t{\n\t\tvar sin_a:number = Math.sin(angle/2);\n\t\tvar cos_a:number = Math.cos(angle/2);\n\n\t\tthis.x = axis.x*sin_a;\n\t\tthis.y = axis.y*sin_a;\n\t\tthis.z = axis.z*sin_a;\n\t\tthis.w = cos_a;\n\n\t\tthis.normalize();\n\t}\n\n\t/**\n\t * Spherically interpolates between two quaternions, providing an interpolation between rotations with constant angle change rate.\n\t * @param qa The first quaternion to interpolate.\n\t * @param qb The second quaternion to interpolate.\n\t * @param t The interpolation weight, a value between 0 and 1.\n\t */\n\tpublic slerp(qa:Quaternion, qb:Quaternion, t:number)\n\t{\n\t\tvar w1:number = qa.w, x1:number = qa.x, y1:number = qa.y, z1:number = qa.z;\n\t\tvar w2:number = qb.w, x2:number = qb.x, y2:number = qb.y, z2:number = qb.z;\n\t\tvar dot:number = w1*w2 + x1*x2 + y1*y2 + z1*z2;\n\n\t\t// shortest direction\n\t\tif (dot < 0) {\n\t\t\tdot = -dot;\n\t\t\tw2 = -w2;\n\t\t\tx2 = -x2;\n\t\t\ty2 = -y2;\n\t\t\tz2 = -z2;\n\t\t}\n\n\t\tif (dot < 0.95) {\n\t\t\t// interpolate angle linearly\n\t\t\tvar angle:number = Math.acos(dot);\n\t\t\tvar s:number = 1/Math.sin(angle);\n\t\t\tvar s1:number = Math.sin(angle*(1 - t))*s;\n\t\t\tvar s2:number = Math.sin(angle*t)*s;\n\t\t\tthis.w = w1*s1 + w2*s2;\n\t\t\tthis.x = x1*s1 + x2*s2;\n\t\t\tthis.y = y1*s1 + y2*s2;\n\t\t\tthis.z = z1*s1 + z2*s2;\n\t\t} else {\n\t\t\t// nearly identical angle, interpolate linearly\n\t\t\tthis.w = w1 + t*(w2 - w1);\n\t\t\tthis.x = x1 + t*(x2 - x1);\n\t\t\tthis.y = y1 + t*(y2 - y1);\n\t\t\tthis.z = z1 + t*(z2 - z1);\n\t\t\tvar len:number = 1.0/Math.sqrt(this.w*this.w + this.x*this.x + this.y*this.y + this.z*this.z);\n\t\t\tthis.w *= len;\n\t\t\tthis.x *= len;\n\t\t\tthis.y *= len;\n\t\t\tthis.z *= len;\n\t\t}\n\t}\n\n\t/**\n\t * Linearly interpolates between two quaternions.\n\t * @param qa The first quaternion to interpolate.\n\t * @param qb The second quaternion to interpolate.\n\t * @param t The interpolation weight, a value between 0 and 1.\n\t */\n\tpublic lerp(qa:Quaternion, qb:Quaternion, t:number)\n\t{\n\t\tvar w1:number = qa.w, x1:number = qa.x, y1:number = qa.y, z1:number = qa.z;\n\t\tvar w2:number = qb.w, x2:number = qb.x, y2:number = qb.y, z2:number = qb.z;\n\t\tvar len:number;\n\n\t\t// shortest direction\n\t\tif (w1*w2 + x1*x2 + y1*y2 + z1*z2 < 0) {\n\t\t\tw2 = -w2;\n\t\t\tx2 = -x2;\n\t\t\ty2 = -y2;\n\t\t\tz2 = -z2;\n\t\t}\n\n\t\tthis.w = w1 + t*(w2 - w1);\n\t\tthis.x = x1 + t*(x2 - x1);\n\t\tthis.y = y1 + t*(y2 - y1);\n\t\tthis.z = z1 + t*(z2 - z1);\n\n\t\tlen = 1.0/Math.sqrt(this.w*this.w + this.x*this.x + this.y*this.y + this.z*this.z);\n\t\tthis.w *= len;\n\t\tthis.x *= len;\n\t\tthis.y *= len;\n\t\tthis.z *= len;\n\t}\n\n\t/**\n\t * Fills the quaternion object with values representing the given euler rotation.\n\t *\n\t * @param    ax        The angle in radians of the rotation around the ax axis.\n\t * @param    ay        The angle in radians of the rotation around the ay axis.\n\t * @param    az        The angle in radians of the rotation around the az axis.\n\t */\n\tpublic fromEulerAngles(ax:number, ay:number, az:number)\n\t{\n\t\tvar halfX:number = ax*.5, halfY:number = ay*.5, halfZ:number = az*.5;\n\t\tvar cosX:number = Math.cos(halfX), sinX:number = Math.sin(halfX);\n\t\tvar cosY:number = Math.cos(halfY), sinY:number = Math.sin(halfY);\n\t\tvar cosZ:number = Math.cos(halfZ), sinZ:number = Math.sin(halfZ);\n\n\t\tthis.w = cosX*cosY*cosZ + sinX*sinY*sinZ;\n\t\tthis.x = sinX*cosY*cosZ - cosX*sinY*sinZ;\n\t\tthis.y = cosX*sinY*cosZ + sinX*cosY*sinZ;\n\t\tthis.z = cosX*cosY*sinZ - sinX*sinY*cosZ;\n\t}\n\n\t/**\n\t * Fills a target Vector3D object with the Euler angles that form the rotation represented by this quaternion.\n\t * @param target An optional Vector3D object to contain the Euler angles. If not provided, a new object is created.\n\t * @return The Vector3D containing the Euler angles.\n\t */\n\tpublic toEulerAngles(target:Vector3D = null):Vector3D\n\t{\n\n\t\t//target ||= new Vector3D();\n\t\tif (target === null) {\n\n\t\t\ttarget = new Vector3D();\n\n\t\t}\n\n\t\ttarget.x = Math.atan2(2*(this.w*this.x + this.y*this.z), 1 - 2*(this.x*this.x + this.y*this.y));\n\t\ttarget.y = Math.asin(2*(this.w*this.y - this.z*this.x));\n\t\ttarget.z = Math.atan2(2*(this.w*this.z + this.x*this.y), 1 - 2*(this.y*this.y + this.z*this.z));\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Normalises the quaternion object.\n\t */\n\tpublic normalize(val:number = 1)\n\t{\n\t\tvar mag:number = val/Math.sqrt(this.x*this.x + this.y*this.y + this.z*this.z + this.w*this.w);\n\n\t\tthis.x *= mag;\n\t\tthis.y *= mag;\n\t\tthis.z *= mag;\n\t\tthis.w *= mag;\n\t}\n\n\t/**\n\t * Used to trace the values of a quaternion.\n\t *\n\t * @return A string representation of the quaternion object.\n\t */\n\tpublic toString():string\n\t{\n\t\treturn \"{x:\" + this.x + \" y:\" + this.y + \" z:\" + this.z + \" w:\" + this.w + \"}\";\n\t}\n\n\t/**\n\t * Converts the quaternion to a Matrix3D object representing an equivalent rotation.\n\t * @param target An optional Matrix3D container to store the transformation in. If not provided, a new object is created.\n\t * @return A Matrix3D object representing an equivalent rotation.\n\t */\n\tpublic toMatrix3D(target:Matrix3D = null):Matrix3D\n\t{\n\t\tvar rawData:number[] = Matrix3DUtils.RAW_DATA_CONTAINER;\n\t\tvar xy2:number = 2.0*this.x*this.y, xz2:number = 2.0*this.x*this.z, xw2:number = 2.0*this.x*this.w;\n\t\tvar yz2:number = 2.0*this.y*this.z, yw2:number = 2.0*this.y*this.w, zw2:number = 2.0*this.z*this.w;\n\t\tvar xx:number = this.x*this.x, yy:number = this.y*this.y, zz:number = this.z*this.z, ww:number = this.w*this.w;\n\n\t\trawData[0] = xx - yy - zz + ww;\n\t\trawData[4] = xy2 - zw2;\n\t\trawData[8] = xz2 + yw2;\n\t\trawData[12] = 0;\n\t\trawData[1] = xy2 + zw2;\n\t\trawData[5] = -xx + yy - zz + ww;\n\t\trawData[9] = yz2 - xw2;\n\t\trawData[13] = 0;\n\t\trawData[2] = xz2 - yw2;\n\t\trawData[6] = yz2 + xw2;\n\t\trawData[10] = -xx - yy + zz + ww;\n\t\trawData[14] = 0;\n\t\trawData[3] = 0.0;\n\t\trawData[7] = 0.0;\n\t\trawData[11] = 0;\n\t\trawData[15] = 1;\n\n\t\tif (!target)\n\t\t\treturn new Matrix3D(rawData);\n\n\t\ttarget.copyRawDataFrom(rawData);\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Extracts a quaternion rotation matrix out of a given Matrix3D object.\n\t * @param matrix The Matrix3D out of which the rotation will be extracted.\n\t */\n\tpublic fromMatrix(matrix:Matrix3D)\n\t{\n\t\tvar v:Vector3D = matrix.decompose(Orientation3D.QUATERNION)[1];\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = v.w;\n\t}\n\n\t/**\n\t * Converts the quaternion to a Vector.&lt;Number&gt; matrix representation of a rotation equivalent to this quaternion.\n\t * @param target The Vector.&lt;Number&gt; to contain the raw matrix data.\n\t * @param exclude4thRow If true, the last row will be omitted, and a 4x3 matrix will be generated instead of a 4x4.\n\t */\n\tpublic toRawData(target:number[], exclude4thRow:boolean = false)\n\t{\n\t\tvar xy2:number = 2.0*this.x*this.y, xz2:number = 2.0*this.x*this.z, xw2:number = 2.0*this.x*this.w;\n\t\tvar yz2:number = 2.0*this.y*this.z, yw2:number = 2.0*this.y*this.w, zw2:number = 2.0*this.z*this.w;\n\t\tvar xx:number = this.x*this.x, yy:number = this.y*this.y, zz:number = this.z*this.z, ww:number = this.w*this.w;\n\n\t\ttarget[0] = xx - yy - zz + ww;\n\t\ttarget[1] = xy2 - zw2;\n\t\ttarget[2] = xz2 + yw2;\n\t\ttarget[4] = xy2 + zw2;\n\t\ttarget[5] = -xx + yy - zz + ww;\n\t\ttarget[6] = yz2 - xw2;\n\t\ttarget[8] = xz2 - yw2;\n\t\ttarget[9] = yz2 + xw2;\n\t\ttarget[10] = -xx - yy + zz + ww;\n\t\ttarget[3] = target[7] = target[11] = 0;\n\n\t\tif (!exclude4thRow) {\n\t\t\ttarget[12] = target[13] = target[14] = 0;\n\t\t\ttarget[15] = 1;\n\t\t}\n\t}\n\n\t/**\n\t * Clones the quaternion.\n\t * @return An exact duplicate of the current Quaternion.\n\t */\n\tpublic clone():Quaternion\n\t{\n\t\treturn new Quaternion(this.x, this.y, this.z, this.w);\n\t}\n\n\t/**\n\t * Rotates a point.\n\t * @param vector The Vector3D object to be rotated.\n\t * @param target An optional Vector3D object that will contain the rotated coordinates. If not provided, a new object will be created.\n\t * @return A Vector3D object containing the rotated point.\n\t */\n\tpublic rotatePoint(vector:Vector3D, target:Vector3D = null):Vector3D\n\t{\n\t\tvar x1:number, y1:number, z1:number, w1:number;\n\t\tvar x2:number = vector.x, y2:number = vector.y, z2:number = vector.z;\n\n\t\t//target ||= new Vector3D();\n\t\tif (target === null) {\n\n\t\t\ttarget = new Vector3D();\n\n\t\t}\n\n\t\t// p*q'\n\t\tw1 = -this.x*x2 - this.y*y2 - this.z*z2;\n\t\tx1 = this.w*x2 + this.y*z2 - this.z*y2;\n\t\ty1 = this.w*y2 - this.x*z2 + this.z*x2;\n\t\tz1 = this.w*z2 + this.x*y2 - this.y*x2;\n\n\t\ttarget.x = -w1*this.x + x1*this.w - y1*this.z + z1*this.y;\n\t\ttarget.y = -w1*this.y + x1*this.z + y1*this.w - z1*this.x;\n\t\ttarget.z = -w1*this.z - x1*this.y + y1*this.x + z1*this.w;\n\n\t\treturn target;\n\t}\n\n\t/**\n\t * Copies the data from a quaternion into this instance.\n\t * @param q The quaternion to copy from.\n\t */\n\tpublic copyFrom(q:Quaternion)\n\t{\n\t\tthis.x = q.x;\n\t\tthis.y = q.y;\n\t\tthis.z = q.z;\n\t\tthis.w = q.w;\n\t}\n}\n\nexport = Quaternion;",
    "import Point\t\t\t\t\t= require(\"awayjs-core/lib/geom/Point\");\n\n/**\n * A Rectangle object is an area defined by its position, as indicated by its\n * top-left corner point(<i>x</i>, <i>y</i>) and by its width and its height.\n *\n *\n * <p>The <code>x</code>, <code>y</code>, <code>width</code>, and\n * <code>height</code> properties of the Rectangle class are independent of\n * each other; changing the value of one property has no effect on the others.\n * However, the <code>right</code> and <code>bottom</code> properties are\n * integrally related to those four properties. For example, if you change the\n * value of the <code>right</code> property, the value of the\n * <code>width</code> property changes; if you change the <code>bottom</code>\n * property, the value of the <code>height</code> property changes. </p>\n *\n * <p>The following methods and properties use Rectangle objects:</p>\n *\n * <ul>\n *   <li>The <code>applyFilter()</code>, <code>colorTransform()</code>,\n * <code>copyChannel()</code>, <code>copyPixels()</code>, <code>draw()</code>,\n * <code>fillRect()</code>, <code>generateFilterRect()</code>,\n * <code>getColorBoundsRect()</code>, <code>getPixels()</code>,\n * <code>merge()</code>, <code>paletteMap()</code>,\n * <code>pixelDisolve()</code>, <code>setPixels()</code>, and\n * <code>threshold()</code> methods, and the <code>rect</code> property of the\n * BitmapData class</li>\n *   <li>The <code>getBounds()</code> and <code>getRect()</code> methods, and\n * the <code>scrollRect</code> and <code>scale9Grid</code> properties of the\n * DisplayObject class</li>\n *   <li>The <code>getCharBoundaries()</code> method of the TextField\n * class</li>\n *   <li>The <code>pixelBounds</code> property of the Transform class</li>\n *   <li>The <code>bounds</code> parameter for the <code>startDrag()</code>\n * method of the Sprite class</li>\n *   <li>The <code>printArea</code> parameter of the <code>addPage()</code>\n * method of the PrintJob class</li>\n * </ul>\n *\n * <p>You can use the <code>new Rectangle()</code> constructor to create a\n * Rectangle object.</p>\n *\n * <p><b>Note:</b> The Rectangle class does not define a rectangular Shape\n * display object. To draw a rectangular Shape object onscreen, use the\n * <code>drawRect()</code> method of the Graphics class.</p>\n */\nclass Rectangle\n{\n\tprivate _size:Point;\n\tprivate _bottomRight:Point;\n\tprivate _topLeft:Point;\n\n\t/**\n\t * The height of the rectangle, in pixels. Changing the <code>height</code>\n\t * value of a Rectangle object has no effect on the <code>x</code>,\n\t * <code>y</code>, and <code>width</code> properties.\n\t */\n\tpublic height:number;\n\n\t/**\n\t * The width of the rectangle, in pixels. Changing the <code>width</code>\n\t * value of a Rectangle object has no effect on the <code>x</code>,\n\t * <code>y</code>, and <code>height</code> properties.\n\t */\n\tpublic width:number;\n\n\t/**\n\t * The <i>x</i> coordinate of the top-left corner of the rectangle. Changing\n\t * the value of the <code>x</code> property of a Rectangle object has no\n\t * effect on the <code>y</code>, <code>width</code>, and <code>height</code>\n\t * properties.\n\t *\n\t * <p>The value of the <code>x</code> property is equal to the value of the\n\t * <code>left</code> property.</p>\n\t */\n\tpublic x:number;\n\n\t/**\n\t * The <i>y</i> coordinate of the top-left corner of the rectangle. Changing\n\t * the value of the <code>y</code> property of a Rectangle object has no\n\t * effect on the <code>x</code>, <code>width</code>, and <code>height</code>\n\t * properties.\n\t *\n\t * <p>The value of the <code>y</code> property is equal to the value of the\n\t * <code>top</code> property.</p>\n\t */\n\tpublic y:number;\n\n\t/**\n\t * The sum of the <code>y</code> and <code>height</code> properties.\n\t */\n\tpublic get bottom():number\n\t{\n\t\treturn this.y + this.height;\n\t}\n\n\t/**\n\t * The location of the Rectangle object's bottom-right corner, determined by\n\t * the values of the <code>right</code> and <code>bottom</code> properties.\n\t */\n\tpublic get bottomRight():Point\n\t{\n\t\tif (this._bottomRight == null)\n\t\t\tthis._bottomRight = new Point();\n\n\t\tthis._bottomRight.x = this.x + this.width;\n\t\tthis._bottomRight.y = this.y + this.height;\n\n\t\treturn this._bottomRight;\n\t}\n\n\t/**\n\t * The <i>x</i> coordinate of the top-left corner of the rectangle. Changing\n\t * the <code>left</code> property of a Rectangle object has no effect on the\n\t * <code>y</code> and <code>height</code> properties. However it does affect\n\t * the <code>width</code> property, whereas changing the <code>x</code> value\n\t * does <i>not</i> affect the <code>width</code> property.\n\t *\n\t * <p>The value of the <code>left</code> property is equal to the value of\n\t * the <code>x</code> property.</p>\n\t */\n\tpublic get left():number\n\t{\n\t\treturn this.x;\n\t}\n\n\t/**\n\t * The sum of the <code>x</code> and <code>width</code> properties.\n\t */\n\tpublic get right():number\n\t{\n\t\treturn this.x + this.width;\n\t}\n\n\t/**\n\t * The size of the Rectangle object, expressed as a Point object with the\n\t * values of the <code>width</code> and <code>height</code> properties.\n\t */\n\tpublic get size():Point\n\t{\n\t\tif (this._size == null)\n\t\t\tthis._size = new Point();\n\n\t\tthis._size.x = this.width;\n\t\tthis._size.y = this.height;\n\n\t\treturn this._size;\n\t}\n\n\t/**\n\t * The <i>y</i> coordinate of the top-left corner of the rectangle. Changing\n\t * the <code>top</code> property of a Rectangle object has no effect on the\n\t * <code>x</code> and <code>width</code> properties. However it does affect\n\t * the <code>height</code> property, whereas changing the <code>y</code>\n\t * value does <i>not</i> affect the <code>height</code> property.\n\t *\n\t * <p>The value of the <code>top</code> property is equal to the value of the\n\t * <code>y</code> property.</p>\n\t */\n\tpublic get top():number\n\t{\n\t\treturn this.y;\n\t}\n\n\t/**\n\t * The location of the Rectangle object's top-left corner, determined by the\n\t * <i>x</i> and <i>y</i> coordinates of the point.\n\t */\n\tpublic get topLeft():Point\n\t{\n\t\tif (this._topLeft == null)\n\t\t\tthis._topLeft = new Point();\n\n\t\tthis._topLeft.x = this.x;\n\t\tthis._topLeft.y = this.y;\n\n\t\treturn this._topLeft;\n\t}\n\n\t/**\n\t * Creates a new Rectangle object with the top-left corner specified by the\n\t * <code>x</code> and <code>y</code> parameters and with the specified\n\t * <code>width</code> and <code>height</code> parameters. If you call this\n\t * public without parameters, a rectangle with <code>x</code>,\n\t * <code>y</code>, <code>width</code>, and <code>height</code> properties set\n\t * to 0 is created.\n\t *\n\t * @param x      The <i>x</i> coordinate of the top-left corner of the\n\t *               rectangle.\n\t * @param y      The <i>y</i> coordinate of the top-left corner of the\n\t *               rectangle.\n\t * @param width  The width of the rectangle, in pixels.\n\t * @param height The height of the rectangle, in pixels.\n\t */\n\tconstructor(x:number = 0, y:number = 0, width:number = 0, height:number = 0)\n\t{\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t}\n\n\t/**\n\t * Returns a new Rectangle object with the same values for the\n\t * <code>x</code>, <code>y</code>, <code>width</code>, and\n\t * <code>height</code> properties as the original Rectangle object.\n\t *\n\t * @return A new Rectangle object with the same values for the\n\t *         <code>x</code>, <code>y</code>, <code>width</code>, and\n\t *         <code>height</code> properties as the original Rectangle object.\n\t */\n\tpublic clone():Rectangle\n\t{\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t}\n\n\t/**\n\t * Determines whether the specified point is contained within the rectangular\n\t * region defined by this Rectangle object.\n\t *\n\t * @param x The <i>x</i> coordinate(horizontal position) of the point.\n\t * @param y The <i>y</i> coordinate(vertical position) of the point.\n\t * @return A value of <code>true</code> if the Rectangle object contains the\n\t *         specified point; otherwise <code>false</code>.\n\t */\n\tpublic contains(x:number, y:number):boolean\n\t{\n\t\treturn (this.x <= x && this.x + this.width >= x && this.y <= y && this.y + this.height >= y);\n\t}\n\n\t/**\n\t * Determines whether the specified point is contained within the rectangular\n\t * region defined by this Rectangle object. This method is similar to the\n\t * <code>Rectangle.contains()</code> method, except that it takes a Point\n\t * object as a parameter.\n\t *\n\t * @param point The point, as represented by its <i>x</i> and <i>y</i>\n\t *              coordinates.\n\t * @return A value of <code>true</code> if the Rectangle object contains the\n\t *         specified point; otherwise <code>false</code>.\n\t */\n\tpublic containsPoint(point:Point):boolean\n\t{\n\t\treturn (this.x <= point.x && this.x + this.width >= point.x && this.y <= point.y && this.y + this.height >= point.y);\n\t}\n\n\t/**\n\t * Determines whether the Rectangle object specified by the <code>rect</code>\n\t * parameter is contained within this Rectangle object. A Rectangle object is\n\t * said to contain another if the second Rectangle object falls entirely\n\t * within the boundaries of the first.\n\t *\n\t * @param rect The Rectangle object being checked.\n\t * @return A value of <code>true</code> if the Rectangle object that you\n\t *         specify is contained by this Rectangle object; otherwise\n\t *         <code>false</code>.\n\t */\n\tpublic containsRect(rect:Rectangle):boolean\n\t{\n\t\treturn (this.x <= rect.x && this.x + this.width >= rect.x + rect.width && this.y <= rect.y && this.y + this.height >= rect.y + rect.height)\n\t}\n\n\t/**\n\t * Copies all of rectangle data from the source Rectangle object into the\n\t * calling Rectangle object.\n\t *\n\t * @param sourceRect The Rectangle object from which to copy the data.\n\t */\n\tpublic copyFrom(sourceRect:Rectangle)\n\t{\n\n\t}\n\n\t/**\n\t * Determines whether the object specified in the <code>toCompare</code>\n\t * parameter is equal to this Rectangle object. This method compares the\n\t * <code>x</code>, <code>y</code>, <code>width</code>, and\n\t * <code>height</code> properties of an object against the same properties of\n\t * this Rectangle object.\n\t *\n\t * @param toCompare The rectangle to compare to this Rectangle object.\n\t * @return A value of <code>true</code> if the object has exactly the same\n\t *         values for the <code>x</code>, <code>y</code>, <code>width</code>,\n\t *         and <code>height</code> properties as this Rectangle object;\n\t *         otherwise <code>false</code>.\n\t */\n\tpublic equals(toCompare:Rectangle):boolean\n\t{\n\t\treturn (this.x == toCompare.x && this.y == toCompare.y && this.width == toCompare.width && this.height == toCompare.height)\n\t}\n\n\t/**\n\t * Increases the size of the Rectangle object by the specified amounts, in\n\t * pixels. The center point of the Rectangle object stays the same, and its\n\t * size increases to the left and right by the <code>dx</code> value, and to\n\t * the top and the bottom by the <code>dy</code> value.\n\t *\n\t * @param dx The value to be added to the left and the right of the Rectangle\n\t *           object. The following equation is used to calculate the new\n\t *           width and position of the rectangle:\n\t * @param dy The value to be added to the top and the bottom of the\n\t *           Rectangle. The following equation is used to calculate the new\n\t *           height and position of the rectangle:\n\t */\n\tpublic inflate(dx:number, dy:number)\n\t{\n\t\tthis.x -= dx/2;\n\t\tthis.y -= dy/2;\n\t\tthis.width += dx/2;\n\t\tthis.height += dy/2;\n\t}\n\n\t/**\n\t * Increases the size of the Rectangle object. This method is similar to the\n\t * <code>Rectangle.inflate()</code> method except it takes a Point object as\n\t * a parameter.\n\t *\n\t * <p>The following two code examples give the same result:</p>\n\t *\n\t * @param point The <code>x</code> property of this Point object is used to\n\t *              increase the horizontal dimension of the Rectangle object.\n\t *              The <code>y</code> property is used to increase the vertical\n\t *              dimension of the Rectangle object.\n\t */\n\tpublic inflatePoint(point:Point)\n\t{\n\t\tthis.x -= point.x/2;\n\t\tthis.y -= point.y/2;\n\t\tthis.width += point.x/2;\n\t\tthis.height += point.y/2;\n\t}\n\n\t/**\n\t * If the Rectangle object specified in the <code>toIntersect</code>\n\t * parameter intersects with this Rectangle object, returns the area of\n\t * intersection as a Rectangle object. If the rectangles do not intersect,\n\t * this method returns an empty Rectangle object with its properties set to\n\t * 0.\n\t *\n\t * @param toIntersect The Rectangle object to compare against to see if it\n\t *                    intersects with this Rectangle object.\n\t * @return A Rectangle object that equals the area of intersection. If the\n\t *         rectangles do not intersect, this method returns an empty\n\t *         Rectangle object; that is, a rectangle with its <code>x</code>,\n\t *         <code>y</code>, <code>width</code>, and <code>height</code>\n\t *         properties set to 0.\n\t */\n\tpublic intersection(toIntersect:Rectangle):Rectangle\n\t{\n\t\tif (this.intersects(toIntersect)) {\n\t\t\tvar i:Rectangle = new Rectangle();\n\n\t\t\tif (this.x > toIntersect.x) {\n\t\t\t\ti.x = this.x;\n\t\t\t\ti.width = toIntersect.x - this.x + toIntersect.width;\n\n\t\t\t\tif (i.width > this.width)\n\t\t\t\t\ti.width = this.width;\n\t\t\t} else {\n\t\t\t\ti.x = toIntersect.x;\n\t\t\t\ti.width = this.x - toIntersect.x + this.width;\n\n\t\t\t\tif (i.width > toIntersect.width)\n\t\t\t\t\ti.width = toIntersect.width;\n\t\t\t}\n\n\t\t\tif (this.y > toIntersect.y) {\n\t\t\t\ti.y = this.y;\n\t\t\t\ti.height = toIntersect.y - this.y + toIntersect.height;\n\n\t\t\t\tif (i.height > this.height)\n\t\t\t\t\ti.height = this.height;\n\t\t\t} else {\n\t\t\t\ti.y = toIntersect.y;\n\t\t\t\ti.height = this.y - toIntersect.y + this.height;\n\n\t\t\t\tif (i.height > toIntersect.height)\n\t\t\t\t\ti.height = toIntersect.height;\n\t\t\t}\n\n\t\t\treturn i;\n\t\t}\n\n\t\treturn new Rectangle();\n\t}\n\n\t/**\n\t * Determines whether the object specified in the <code>toIntersect</code>\n\t * parameter intersects with this Rectangle object. This method checks the\n\t * <code>x</code>, <code>y</code>, <code>width</code>, and\n\t * <code>height</code> properties of the specified Rectangle object to see if\n\t * it intersects with this Rectangle object.\n\t *\n\t * @param toIntersect The Rectangle object to compare against this Rectangle\n\t *                    object.\n\t * @return A value of <code>true</code> if the specified object intersects\n\t *         with this Rectangle object; otherwise <code>false</code>.\n\t */\n\tpublic intersects(toIntersect:Rectangle):boolean\n\t{\n\t\treturn (this.x + this.width > toIntersect.x && this.x < toIntersect.x + toIntersect.width && this.y + this.height > toIntersect.y && this.y < toIntersect.y + toIntersect.height);\n\t}\n\n\t/**\n\t * Determines whether or not this Rectangle object is empty.\n\t *\n\t * @return A value of <code>true</code> if the Rectangle object's width or\n\t *         height is less than or equal to 0; otherwise <code>false</code>.\n\t */\n\tpublic isEmpty():boolean\n\t{\n\t\treturn (this.x == 0 && this.y == 0 && this.width == 0 && this.height == 0);\n\t}\n\n\t/**\n\t * Adjusts the location of the Rectangle object, as determined by its\n\t * top-left corner, by the specified amounts.\n\t *\n\t * @param dx Moves the <i>x</i> value of the Rectangle object by this amount.\n\t * @param dy Moves the <i>y</i> value of the Rectangle object by this amount.\n\t */\n\tpublic offset(dx:number, dy:number)\n\t{\n\t\tthis.x += dx;\n\t\tthis.y += dy;\n\t}\n\n\t/**\n\t * Adjusts the location of the Rectangle object using a Point object as a\n\t * parameter. This method is similar to the <code>Rectangle.offset()</code>\n\t * method, except that it takes a Point object as a parameter.\n\t *\n\t * @param point A Point object to use to offset this Rectangle object.\n\t */\n\tpublic offsetPoint(point:Point)\n\t{\n\t\tthis.x += point.x;\n\t\tthis.y += point.y;\n\t}\n\n\t/**\n\t * Sets all of the Rectangle object's properties to 0. A Rectangle object is\n\t * empty if its width or height is less than or equal to 0.\n\t *\n\t * <p> This method sets the values of the <code>x</code>, <code>y</code>,\n\t * <code>width</code>, and <code>height</code> properties to 0.</p>\n\t *\n\t */\n\tpublic setEmpty()\n\t{\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\tthis.width = 0;\n\t\tthis.height = 0;\n\t}\n\n\t/**\n\t * Sets the members of Rectangle to the specified values\n\t *\n\t * @param xa      The <i>x</i> coordinate of the top-left corner of the\n\t *                rectangle.\n\t * @param ya      The <i>y</i> coordinate of the top-left corner of the\n\t *                rectangle.\n\t * @param widtha  The width of the rectangle, in pixels.\n\t * @param heighta The height of the rectangle, in pixels.\n\t */\n\tpublic setTo(xa:number, ya:number, widtha:number, heighta:number)\n\t{\n\t\tthis.x = xa;\n\t\tthis.y = ya;\n\t\tthis.width = widtha;\n\t\tthis.height = heighta;\n\t}\n\n\t/**\n\t * Builds and returns a string that lists the horizontal and vertical\n\t * positions and the width and height of the Rectangle object.\n\t *\n\t * @return A string listing the value of each of the following properties of\n\t *         the Rectangle object: <code>x</code>, <code>y</code>,\n\t *         <code>width</code>, and <code>height</code>.\n\t */\n\tpublic toString():string\n\t{\n\t\treturn \"[Rectangle] (x=\" + this.x + \", y=\" + this.y + \", width=\" + this.width + \", height=\" + this.height + \")\";\n\t}\n\n\t/**\n\t * Adds two rectangles together to create a new Rectangle object, by filling\n\t * in the horizontal and vertical space between the two rectangles.\n\t *\n\t * <p><b>Note:</b> The <code>union()</code> method ignores rectangles with\n\t * <code>0</code> as the height or width value, such as: <code>var\n\t * rect2:Rectangle = new Rectangle(300,300,50,0);</code></p>\n\t *\n\t * @param toUnion A Rectangle object to add to this Rectangle object.\n\t * @return A new Rectangle object that is the union of the two rectangles.\n\t */\n\tpublic union(toUnion:Rectangle):Rectangle\n\t{\n\t\tvar u:Rectangle = new Rectangle();\n\n\t\tif (this.x < toUnion.x) {\n\t\t\tu.x = this.x;\n\t\t\tu.width = toUnion.x - this.x + toUnion.width;\n\n\t\t\tif (u.width < this.width)\n\t\t\t\tu.width = this.width;\n\t\t} else {\n\t\t\tu.x = toUnion.x;\n\t\t\tu.width = this.x - toUnion.x + this.width;\n\n\t\t\tif (u.width < toUnion.width)\n\t\t\t\tu.width = toUnion.width;\n\t\t}\n\n\t\tif (this.y < toUnion.y) {\n\t\t\tu.y = this.y;\n\t\t\tu.height = toUnion.y - this.y + toUnion.height;\n\n\t\t\tif (u.height < this.height)\n\t\t\t\tu.height = this.height;\n\t\t} else {\n\t\t\tu.y = toUnion.y;\n\t\t\tu.height = this.y - toUnion.y + this.height;\n\n\t\t\tif (u.height < toUnion.height)\n\t\t\t\tu.height = toUnion.height;\n\t\t}\n\n\t\treturn u;\n\t}\n}\n\nexport = Rectangle;",
    "import PlaneClassification\t= require(\"awayjs-core/lib/geom/PlaneClassification\");\nimport Vector3D\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\n\nclass Sphere\n{\n\t/**\n\t *\n\t */\n\tpublic x:number;\n\n\t/**\n\t *\n\t */\n\tpublic y:number;\n\n\t/**\n\t *\n\t */\n\tpublic z:number;\n\n\t/**\n\t *\n\t */\n\tpublic radius:number;\n\n\t/**\n\t * Create a Sphere with ABCD coefficients\n\t */\n\tconstructor(x:number = 0, y:number = 0, z:number = 0, radius:number = 0)\n\t{\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.radius = radius;\n\n\t}\n\n\tpublic rayIntersection(position:Vector3D, direction:Vector3D, targetNormal:Vector3D):number\n\t{\n\t\tif (this.containsPoint(position))\n\t\t\treturn 0;\n\n\t\tvar px:number = position.x - this.x, py:number = position.y - this.y, pz:number = position.z - this.z;\n\t\tvar vx:number = direction.x, vy:number = direction.y, vz:number = direction.z;\n\t\tvar rayEntryDistance:number;\n\n\t\tvar a:number = vx*vx + vy*vy + vz*vz;\n\t\tvar b:number = 2*( px*vx + py*vy + pz*vz );\n\t\tvar c:number = px*px + py*py + pz*pz - this.radius*this.radius;\n\t\tvar det:number = b*b - 4*a*c;\n\n\t\tif (det >= 0) { // ray goes through sphere\n\t\t\tvar sqrtDet:number = Math.sqrt(det);\n\t\t\trayEntryDistance = ( -b - sqrtDet )/( 2*a );\n\t\t\tif (rayEntryDistance >= 0) {\n\t\t\t\ttargetNormal.x = px + rayEntryDistance*vx;\n\t\t\t\ttargetNormal.y = py + rayEntryDistance*vy;\n\t\t\t\ttargetNormal.z = pz + rayEntryDistance*vz;\n\t\t\t\ttargetNormal.normalize();\n\n\t\t\t\treturn rayEntryDistance;\n\t\t\t}\n\t\t}\n\n\t\t// ray misses sphere\n\t\treturn -1;\n\t}\n\n\tpublic containsPoint(position:Vector3D):boolean\n\t{\n\t\tvar px:number = position.x - this.x;\n\t\tvar py:number = position.y - this.y;\n\t\tvar pz:number = position.z - this.z;\n\t\tvar distance:number = Math.sqrt(px*px + py*py + pz*pz);\n\t\treturn distance <= this.radius;\n\t}\n\n\tpublic toString():string\n\t{\n\t\treturn \"Sphere [x:\" + this.x + \", y:\" + this.y + \", z:\" + this.z + \", radius:\" + this.radius + \"]\";\n\t}\n}\n\nexport = Sphere;",
    "import Matrix\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix\");\n\nclass UVTransform\n{\n\tprivate _uvMatrix:Matrix = new Matrix();\n\tprivate _uvMatrixDirty:boolean;\n\n\tprivate _rotation:number = 0;\n\tprivate _scaleU:number = 1;\n\tprivate _scaleV:number = 1;\n\tprivate _offsetU:number = 0;\n\tprivate _offsetV:number = 0;\n\n\t/**\n\t *\n\t */\n\tpublic get offsetU():number\n\t{\n\t\treturn this._offsetU;\n\t}\n\n\tpublic set offsetU(value:number)\n\t{\n\t\tif (value == this._offsetU)\n\t\t\treturn;\n\n\t\tthis._offsetU = value;\n\t\tthis._uvMatrixDirty = true;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get offsetV():number\n\t{\n\t\treturn this._offsetV;\n\t}\n\n\tpublic set offsetV(value:number)\n\t{\n\t\tif (value == this._offsetV)\n\t\t\treturn;\n\n\t\tthis._offsetV = value;\n\t\tthis._uvMatrixDirty = true;\n\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get rotation():number\n\t{\n\t\treturn this._rotation;\n\t}\n\n\tpublic set rotation(value:number)\n\t{\n\t\tif (value == this._rotation)\n\t\t\treturn;\n\n\t\tthis._rotation = value;\n\n\t\tthis._uvMatrixDirty = true;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get scaleU():number\n\t{\n\t\treturn this._scaleU;\n\t}\n\n\tpublic set scaleU(value:number)\n\t{\n\t\tif (value == this._scaleU)\n\t\t\treturn;\n\n\t\tthis._scaleU = value;\n\n\t\tthis._uvMatrixDirty = true;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get scaleV():number\n\t{\n\t\treturn this._scaleV;\n\t}\n\n\tpublic set scaleV(value:number)\n\t{\n\t\tif (value == this._scaleV)\n\t\t\treturn;\n\n\t\tthis._scaleV = value;\n\n\t\tthis._uvMatrixDirty = true;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get matrix():Matrix\n\t{\n\t\tif (this._uvMatrixDirty)\n\t\t\tthis.updateUVMatrix();\n\n\t\treturn this._uvMatrix;\n\t}\n\n\tconstructor()\n\t{\n\t}\n\n\n\t/**\n\t * @private\n\t */\n\tprivate updateUVMatrix()\n\t{\n\t\tthis._uvMatrix.identity();\n\n\t\tif (this._rotation != 0)\n\t\t\tthis._uvMatrix.rotate(this._rotation);\n\n\t\tif (this._scaleU != 1 || this._scaleV != 1)\n\t\t\tthis._uvMatrix.scale(this._scaleU, this._scaleV);\n\n\t\tthis._uvMatrix.translate(this._offsetU, this._offsetV);\n\n\t\tthis._uvMatrixDirty = false;\n\t}\n}\n\nexport = UVTransform;",
    "/**\n * The Vector3D class represents a point or a location in the three-dimensional\n * space using the Cartesian coordinates x, y, and z. As in a two-dimensional\n * space, the x property represents the horizontal axis and the y property\n * represents the vertical axis. In three-dimensional space, the z property\n * represents depth. The value of the x property increases as the object moves\n * to the right. The value of the y property increases as the object moves\n * down. The z property increases as the object moves farther from the point\n * of view. Using perspective projection and scaling, the object is seen to be\n * bigger when near and smaller when farther away from the screen. As in a\n * right-handed three-dimensional coordinate system, the positive z-axis points\n * away from the viewer and the value of the z property increases as the object\n * moves away from the viewer's eye. The origin point (0,0,0) of the global\n * space is the upper-left corner of the stage.\n *\n * <p>The Vector3D class can also represent a direction, an arrow pointing from\n * the origin of the coordinates, such as (0,0,0), to an endpoint; or a\n * floating-point component of an RGB (Red, Green, Blue) color model.</p>\n *\n * <p>Quaternion notation introduces a fourth element, the w property, which\n * provides additional orientation information. For example, the w property can\n * define an angle of rotation of a Vector3D object. The combination of the\n * angle of rotation and the coordinates x, y, and z can determine the display\n * object's orientation. Here is a representation of Vector3D elements in\n * matrix notation:</p>\n */\nclass Vector3D\n{\n\t/**\n\t * The x axis defined as a Vector3D object with coordinates (1,0,0).\n\t */\n\tpublic static X_AXIS:Vector3D = new Vector3D(1, 0, 0);\n\n\t/**\n\t * The y axis defined as a Vector3D object with coordinates (0,1,0).\n\t */\n\tpublic static Y_AXIS:Vector3D = new Vector3D(0, 1, 0);\n\n\t/**\n\t * The z axis defined as a Vector3D object with coordinates (0,0,1).\n\t */\n\tpublic static Z_AXIS:Vector3D = new Vector3D(0, 0, 1);\n\n\t/**\n\t * The first element of a Vector3D object, such as the x coordinate of\n\t * a point in the three-dimensional space. The default value is 0.\n\t */\n\tpublic x:number;\n\n\t/*\n\t *The second element of a Vector3D object, such as the y coordinate of\n\t * a point in the three-dimensional space. The default value is 0.\n\t */\n\tpublic y:number;\n\n\t/**\n\t * The third element of a Vector3D object, such as the y coordinate of\n\t * a point in the three-dimensional space. The default value is 0.\n\t */\n\tpublic z:number;\n\n\t/**\n\t * TThe fourth element of a Vector3D object (in addition to the x, y,\n\t * and z properties) can hold data such as the angle of rotation. The\n\t * default value is 0.\n\t *\n\t * <p>Quaternion notation employs an angle as the fourth element in\n\t * its calculation of three-dimensional rotation. The w property can\n\t * be used to define the angle of rotation about the Vector3D object.\n\t * The combination of the rotation angle and the coordinates (x,y,z)\n\t * determines the display object's orientation.</p>\n\t *\n\t * <p>In addition, the w property can be used as a perspective warp\n\t * factor for a projected three-dimensional position or as a projection\n\t * transform value in representing a three-dimensional coordinate\n\t * projected into the two-dimensional space. For example, you can\n\t * create a projection matrix using the <code>Matrix3D.rawData</code>\n\t * property, that, when applied to a Vector3D object, produces a\n\t * transform value in the Vector3D object's fourth element (the w\n\t * property). Dividing the Vector3D object's other elements by the\n\t * transform value then produces a projected Vector3D object. You can\n\t * use the <code>Vector3D.project()</code> method to divide the first\n\t * three elements of a Vector3D object by its fourth element.</p>\n\t */\n\tpublic w:number;\n\n\t/**\n\t * The length, magnitude, of the current Vector3D object from the\n\t * origin (0,0,0) to the object's x, y, and z coordinates. The w\n\t * property is ignored. A unit vector has a length or magnitude of\n\t * one.\n\t */\n\tpublic get length():number\n\t{\n\t\treturn Math.sqrt(this.lengthSquared);\n\t}\n\n\t/**\n\t * The square of the length of the current Vector3D object, calculated\n\t * using the x, y, and z properties. The w property is ignored. Use the\n\t * <code>lengthSquared()</code> method whenever possible instead of the\n\t * slower <code>Math.sqrt()</code> method call of the\n\t * <code>Vector3D.length()</code> method.\n\t */\n\tpublic get lengthSquared():number\n\t{\n\t\treturn this.x*this.x + this.y*this.y + this.z*this.z;\n\t}\n\n\t/**\n\t * Creates an instance of a Vector3D object. If you do not specify a\n\t * parameter for the constructor, a Vector3D object is created with\n\t * the elements (0,0,0,0).\n\t *\n\t * @param x The first element, such as the x coordinate.\n\t * @param y The second element, such as the y coordinate.\n\t * @param z The third element, such as the z coordinate.\n\t * @param w An optional element for additional data such as the angle\n\t *          of rotation.\n\t */\n\tconstructor(x:number = 0, y:number = 0, z:number = 0, w:number = 0)\n\t{\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\t}\n\n\t/**\n\t * Adds the value of the x, y, and z elements of the current Vector3D\n\t * object to the values of the x, y, and z elements of another Vector3D\n\t * object. The <code>add()</code> method does not change the current\n\t * Vector3D object. Instead, it returns a new Vector3D object with\n\t * the new values.\n\t *\n\t * <p>The result of adding two vectors together is a resultant vector.\n\t * One way to visualize the result is by drawing a vector from the\n\t * origin or tail of the first vector to the end or head of the second\n\t * vector. The resultant vector is the distance between the origin\n\t * point of the first vector and the end point of the second vector.\n\t * </p>\n\t */\n\tpublic add(a:Vector3D):Vector3D\n\t{\n\t\treturn new Vector3D(this.x + a.x, this.y + a.y, this.z + a.z, this.w + a.w)\n\t}\n\n\t/**\n\t * Returns the angle in radians between two vectors. The returned angle\n\t * is the smallest radian the first Vector3D object rotates until it\n\t * aligns with the second Vector3D object.\n\t *\n\t * <p>The <code>angleBetween()</code> method is a static method. You\n\t * can use it directly as a method of the Vector3D class.</p>\n\t *\n\t * <p>To convert a degree to a radian, you can use the following\n\t * formula:</p>\n\t *\n\t * <p><code>radian = Math.PI/180 * degree</code></p>\n\t *\n\t * @param a The first Vector3D object.\n\t * @param b The second Vector3D object.\n\t * @returns The angle between two Vector3D objects.\n\t */\n\tpublic static angleBetween(a:Vector3D, b:Vector3D):number\n\t{\n\t\treturn Math.acos(a.dotProduct(b)/(a.length*b.length));\n\t}\n\n\t/**\n\t * Returns a new Vector3D object that is an exact copy of the current\n\t * Vector3D object.\n\t *\n\t * @returns A new Vector3D object that is a copy of the current\n\t * Vector3D object.\n\t */\n\tpublic clone():Vector3D\n\t{\n\t\treturn new Vector3D(this.x, this.y, this.z, this.w);\n\t}\n\n\t/**\n\t * Copies all of vector data from the source Vector3D object into the\n\t * calling Vector3D object.\n\t *\n\t * @param src The Vector3D object from which to copy the data.\n\t */\n\tpublic copyFrom(src:Vector3D):void\n\t{\n\t\tthis.x = src.x;\n\t\tthis.y = src.y;\n\t\tthis.z = src.z;\n\t\tthis.w = src.w;\n\t}\n\n\t/**\n\t * Returns a new Vector3D object that is perpendicular (at a right\n\t * angle) to the current Vector3D and another Vector3D object. If the\n\t * returned Vector3D object's coordinates are (0,0,0), then the two\n\t * Vector3D objects are parallel to each other.\n\t *\n\t * <p>You can use the normalized cross product of two vertices of a\n\t * polygon surface with the normalized vector of the camera or eye\n\t * viewpoint to get a dot product. The value of the dot product can\n\t * identify whether a surface of a three-dimensional object is hidden\n\t * from the viewpoint.</p>\n\t *\n\t * @param a A second Vector3D object.\n\t * @returns A new Vector3D object that is perpendicular to the current\n\t *          Vector3D object and the Vector3D object specified as the\n\t *          parameter.\n\t */\n\tpublic crossProduct(a:Vector3D):Vector3D\n\t{\n\t\treturn new Vector3D(this.y*a.z - this.z*a.y, this.z*a.x - this.x*a.z, this.x*a.y - this.y*a.x, 1);\n\t}\n\n\t/**\n\t * Decrements the value of the x, y, and z elements of the current\n\t * Vector3D object by the values of the x, y, and z elements of\n\t * specified Vector3D object. Unlike the\n\t * <code>Vector3D.subtract()</code> method, the\n\t * <code>decrementBy()</code> method changes the current Vector3D\n\t * object and does not return a new Vector3D object.\n\t *\n\t * @param a The Vector3D object containing the values to subtract from\n\t *          the current Vector3D object.\n\t */\n\tpublic decrementBy(a:Vector3D)\n\t{\n\t\tthis.x -= a.x;\n\t\tthis.y -= a.y;\n\t\tthis.z -= a.z;\n\t}\n\n\t/**\n\t * Returns the distance between two Vector3D objects. The\n\t * <code>distance()</code> method is a static method. You can use it\n\t * directly as a method of the Vector3D class to get the Euclidean\n\t * distance between two three-dimensional points.\n\t *\n\t * @param pt1 A Vector3D object as the first three-dimensional point.\n\t * @param pt2 A Vector3D object as the second three-dimensional point.\n\t * @returns The distance between two Vector3D objects.\n\t */\n\tstatic distance(pt1:Vector3D, pt2:Vector3D):number\n\t{\n\t\tvar x:number = (pt1.x - pt2.x);\n\t\tvar y:number = (pt1.y - pt2.y);\n\t\tvar z:number = (pt1.z - pt2.z);\n\t\treturn Math.sqrt(x*x + y*y + z*z);\n\t}\n\n\t/**\n\t * If the current Vector3D object and the one specified as the\n\t * parameter are unit vertices, this method returns the cosine of the\n\t * angle between the two vertices. Unit vertices are vertices that\n\t * point to the same direction but their length is one. They remove the\n\t * length of the vector as a factor in the result. You can use the\n\t * <code>normalize()</code> method to convert a vector to a unit\n\t * vector.\n\t *\n\t * <p>The <code>dotProduct()</code> method finds the angle between two\n\t * vertices. It is also used in backface culling or lighting\n\t * calculations. Backface culling is a procedure for determining which\n\t * surfaces are hidden from the viewpoint. You can use the normalized\n\t * vertices from the camera, or eye, viewpoint and the cross product of\n\t * the vertices of a polygon surface to get the dot product. If the dot\n\t * product is less than zero, then the surface is facing the camera or\n\t * the viewer. If the two unit vertices are perpendicular to each\n\t * other, they are orthogonal and the dot product is zero. If the two\n\t * vertices are parallel to each other, the dot product is one.</p>\n\t *\n\t * @param a The second Vector3D object.\n\t * @returns A scalar which is the dot product of the current Vector3D\n\t *          object and the specified Vector3D object.\n\t *\n\t * @see away.geom.Vector3D#crossProduct()\n\t * @see away.geom.Vector3D#normalize()\n\t */\n\tpublic dotProduct(a:Vector3D):number\n\t{\n\t\treturn this.x*a.x + this.y*a.y + this.z*a.z;\n\t}\n\n\t/**\n\t * Determines whether two Vector3D objects are equal by comparing the\n\t * x, y, and z elements of the current Vector3D object with a\n\t * specified Vector3D object. If the values of these elements are the\n\t * same, the two Vector3D objects are equal. If the second optional\n\t * parameter is set to true, all four elements of the Vector3D objects,\n\t * including the w property, are compared.\n\t */\n\n\t/**\n\t *\n\t * @param toCompare The Vector3D object to be compared with the current\n\t *                  Vector3D object.\n\t * @param allFour   An optional parameter that specifies whether the w\n\t *                  property of the Vector3D objects is used in the\n\t *                  comparison.\n\t * @returns A value of true if the specified Vector3D object is equal\n\t *          to the current Vector3D object; false if it is not equal.\n\t */\n\tpublic equals(toCompare:Vector3D, allFour:boolean = false):boolean\n\t{\n\t\treturn (this.x == toCompare.x && this.y == toCompare.y && this.z == toCompare.z && (!allFour || this.w == toCompare.w ));\n\t}\n\n\t/**\n\t * Increments the value of the x, y, and z elements of the current\n\t * Vector3D object by the values of the x, y, and z elements of a\n\t * specified Vector3D object. Unlike the <code>Vector3D.add()</code>\n\t * method, the <code>incrementBy()</code> method changes the current\n\t * Vector3D object and does not return a new Vector3D object.\n\t *\n\t * @param a The Vector3D object to be added to the current Vector3D\n\t *          object.\n\t */\n\tpublic incrementBy(a:Vector3D)\n\t{\n\t\tthis.x += a.x;\n\t\tthis.y += a.y;\n\t\tthis.z += a.z;\n\t}\n\n\t/**\n\t * Compares the elements of the current Vector3D object with the\n\t * elements of a specified Vector3D object to determine whether they\n\t * are nearly equal. The two Vector3D objects are nearly equal if the\n\t * value of all the elements of the two vertices are equal, or the\n\t * result of the comparison is within the tolerance range. The\n\t * difference between two elements must be less than the number\n\t * specified as the tolerance parameter. If the third optional\n\t * parameter is set to <code>true</code>, all four elements of the\n\t * Vector3D objects, including the <code>w</code> property, are\n\t * compared. Otherwise, only the x, y, and z elements are included in\n\t * the comparison.\n\t */\n\n\t/**\n\t *\n\t * @param toCompare The Vector3D object to be compared with the current\n\t *                  Vector3D object.\n\t * @param tolerance A number determining the tolerance factor. If the\n\t *                  difference between the values of the Vector3D\n\t *                  element specified in the toCompare parameter and\n\t *                  the current Vector3D element is less than the\n\t *                  tolerance number, the two values are considered\n\t *                  nearly equal.\n\t * @param allFour   An optional parameter that specifies whether the w\n\t *                  property of the Vector3D objects is used in the\n\t *                  comparison.\n\t * @returns A value of true if the specified Vector3D object is nearly\n\t *          equal to the current Vector3D object; false if it is not\n\t *          equal.\n\t *\n\t * @see away.geom.Vector3D#equals()\n\t */\n\tpublic nearEquals(toCompare:Vector3D, tolerance:number, allFour:boolean = true):boolean\n\t{\n\t\treturn ((Math.abs(this.x - toCompare.x) < tolerance) && (Math.abs(this.y - toCompare.y) < tolerance) && (Math.abs(this.z - toCompare.z) < tolerance) && (!allFour || Math.abs(this.w - toCompare.w) < tolerance));\n\t}\n\n\t/**\n\t * Sets the current Vector3D object to its inverse. The inverse object\n\t * is also considered the opposite of the original object. The value of\n\t * the x, y, and z properties of the current Vector3D object is changed\n\t * to -x, -y, and -z.\n\t */\n\tpublic negate():void\n\t{\n\t\tthis.x = -this.x;\n\t\tthis.y = -this.y;\n\t\tthis.z = -this.z;\n\t}\n\n\t/**\n\t * Converts a Vector3D object to a unit vector by dividing the first\n\t * three elements (x, y, z) by the length of the vector. Unit vertices\n\t * are vertices that have a direction but their length is one. They\n\t * simplify vector calculations by removing length as a factor.\n\t */\n\t/**\n\t * Scales the line segment between(0,0) and the current point to a set\n\t * length.\n\t *\n\t * @param thickness The scaling value. For example, if the current\n\t *                  Vector3D object is (0,3,4), and you normalize it to\n\t *                  1, the point returned is at(0,0.6,0.8).\n\t */\n\tpublic normalize(thickness:number = 1)\n\t{\n\t\tif (this.length != 0) {\n\t\t\tvar invLength = thickness/this.length;\n\t\t\tthis.x *= invLength;\n\t\t\tthis.y *= invLength;\n\t\t\tthis.z *= invLength;\n\t\t\treturn;\n\t\t}\n\t}\n\n\t/**\n\t * Divides the value of the <code>x</code>, <code>y</code>, and\n\t * <code>z</code> properties of the current Vector3D object by the\n\t * value of its <code>w</code> property.\n\t *\n\t * <p>If the current Vector3D object is the result of multiplying a\n\t * Vector3D object by a projection Matrix3D object, the w property can\n\t * hold the transform value. The <code>project()</code> method then can\n\t * complete the projection by dividing the elements by the\n\t * <code>w</code> property. Use the <code>Matrix3D.rawData</code>\n\t * property to create a projection Matrix3D object.</p>\n\t */\n\tpublic project():void\n\t{\n\t\tthis.x /= this.w;\n\t\tthis.y /= this.w;\n\t\tthis.z /= this.w;\n\t}\n\n\t/**\n\t * Scales the current Vector3D object by a scalar, a magnitude. The\n\t * Vector3D object's x, y, and z elements are multiplied by the scalar\n\t * number specified in the parameter. For example, if the vector is\n\t * scaled by ten, the result is a vector that is ten times longer. The\n\t * scalar can also change the direction of the vector. Multiplying the\n\t * vector by a negative number reverses its direction.\n\t *\n\t * @param s A multiplier (scalar) used to scale a Vector3D object.\n\n\t */\n\tpublic scaleBy(s:number):void\n\t{\n\t\tthis.x *= s;\n\t\tthis.y *= s;\n\t\tthis.z *= s;\n\t}\n\n\t/**\n\t * Sets the members of Vector3D to the specified values\n\t *\n\t * @param xa The first element, such as the x coordinate.\n\t * @param ya The second element, such as the y coordinate.\n\t * @param za The third element, such as the z coordinate.\n\t */\n\tpublic setTo(xa:number, ya:number, za:number):void\n\t{\n\t\tthis.x = xa;\n\t\tthis.y = ya;\n\t\tthis.z = za;\n\t}\n\n\t/**\n\t * Subtracts the value of the x, y, and z elements of the current\n\t * Vector3D object from the values of the x, y, and z elements of\n\t * another Vector3D object. The <code>subtract()</code> method does not\n\t * change the current Vector3D object. Instead, this method returns a\n\t * new Vector3D object with the new values.\n\t *\n\t * @param a The Vector3D object to be subtracted from the current\n\t *          Vector3D object.\n\t * @returns A new Vector3D object that is the difference between the\n\t *          current Vector3D and the specified Vector3D object.\n\t *\n\t * @see away.geom.Vector3D#decrementBy()\n\t */\n\tpublic subtract(a:Vector3D):Vector3D\n\t{\n\t\treturn new Vector3D(this.x - a.x, this.y - a.y, this.z - a.z);\n\t}\n\n\t/**\n\t * Returns a string representation of the current Vector3D object. The\n\t * string contains the values of the x, y, and z properties.\n\t */\n\tpublic toString():string\n\t{\n\t\treturn \"[Vector3D] (x:\" + this.x + \" ,y:\" + this.y + \", z\" + this.z + \", w:\" + this.w + \")\";\n\t}\n}\n\nexport = Vector3D;",
    "import URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport AssetLibrary\t\t\t\t= require(\"awayjs-core/lib/library/AssetLibrary\");\nimport AssetLibraryIterator\t\t= require(\"awayjs-core/lib/library/AssetLibraryIterator\");\nimport AssetLoader\t\t\t\t= require(\"awayjs-core/lib/library/AssetLoader\");\nimport AssetLoaderToken\t\t\t= require(\"awayjs-core/lib/library/AssetLoaderToken\");\nimport AssetLoaderContext\t\t= require(\"awayjs-core/lib/library/AssetLoaderContext\");\nimport ConflictPrecedence\t\t= require(\"awayjs-core/lib/library/ConflictPrecedence\");\nimport ConflictStrategy\t\t\t= require(\"awayjs-core/lib/library/ConflictStrategy\");\nimport ConflictStrategyBase\t\t= require(\"awayjs-core/lib/library/ConflictStrategyBase\");\nimport NamedAssetBase\t\t\t= require(\"awayjs-core/lib/library/NamedAssetBase\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\nimport AssetEvent\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\nimport IOErrorEvent\t\t\t\t= require(\"awayjs-core/lib/events/IOErrorEvent\");\nimport LoaderEvent\t\t\t\t= require(\"awayjs-core/lib/events/LoaderEvent\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport ParserEvent\t\t\t\t= require(\"awayjs-core/lib/events/ParserEvent\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\n\n/**\n * AssetLibraryBundle enforces a multiton pattern and is not intended to be instanced directly.\n * Its purpose is to create a container for 3D data management, both before and after parsing.\n * If you are interested in creating multiple library bundles, please use the <code>getInstance()</code> method.\n */\nclass AssetLibraryBundle extends EventDispatcher\n{\n\tpublic static _iInstances:Object = new Object();\n\n\tprivate _loadingSessions:Array<AssetLoader>;\n\tprivate _strategy:ConflictStrategyBase;\n\tprivate _strategyPreference:string;\n\tprivate _assets:Array<IAsset>;\n\tprivate _assetDictionary:Object;\n\tprivate _assetDictDirty:boolean;\n\tprivate _loadingSessionsGarbage:Array<AssetLoader> = new Array<AssetLoader>();\n\tprivate _gcTimeoutIID:number;\n\n\tprivate _onAssetRenameDelegate:(event:AssetEvent) => void;\n\tprivate _onAssetConflictResolvedDelegate:(event:AssetEvent) => void;\n\tprivate _onResourceCompleteDelegate:(event:LoaderEvent) => void;\n\tprivate _onTextureSizeErrorDelegate:(event:AssetEvent) => void;\n\tprivate _onAssetCompleteDelegate:(event:AssetEvent) => void;\n\tprivate _onLoadErrorDelegate:(event:IOErrorEvent) => boolean;\n\tprivate _onParseErrorDelegate:(event:ParserEvent) => boolean;\n\n\t/**\n\t * Creates a new <code>AssetLibraryBundle</code> object.\n\t *\n\t * @param me A multiton enforcer for the AssetLibraryBundle ensuring it cannnot be instanced.\n\t */\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\tthis._assets = new Array<IAsset>();//new Vector.<IAsset>;\n\t\tthis._assetDictionary = new Object();\n\t\tthis._loadingSessions = new Array<AssetLoader>();\n\n\t\tthis.conflictStrategy = ConflictStrategy.IGNORE.create();\n\t\tthis.conflictPrecedence = ConflictPrecedence.FAVOR_NEW;\n\n\t\tthis._onAssetRenameDelegate = (event:AssetEvent) => this.onAssetRename(event);\n\t\tthis._onAssetConflictResolvedDelegate = (event:AssetEvent) => this.onAssetConflictResolved(event);\n\t\tthis._onResourceCompleteDelegate = (event:LoaderEvent) => this.onResourceComplete(event);\n\t\tthis._onTextureSizeErrorDelegate = (event:AssetEvent) => this.onTextureSizeError(event);\n\t\tthis._onAssetCompleteDelegate = (event:AssetEvent) => this.onAssetComplete(event);\n\t\tthis._onLoadErrorDelegate = (event:IOErrorEvent) => this.onLoadError(event);\n\t\tthis._onParseErrorDelegate = (event:ParserEvent) => this.onParseError(event);\n\t}\n\n\t/**\n\t * Returns an AssetLibraryBundle instance. If no key is given, returns the default bundle instance (which is\n\t * similar to using the AssetLibraryBundle as a singleton.) To keep several separated library bundles,\n\t * pass a string key to this method to define which bundle should be returned. This is\n\t * referred to as using the AssetLibrary as a multiton.\n\t *\n\t * @param key Defines which multiton instance should be returned.\n\t * @return An instance of the asset library\n\t */\n\tpublic static getInstance(key:string = 'default'):AssetLibraryBundle\n\t{\n\t\tif (!key)\n\t\t\tkey = 'default';\n\n\t\tif (!AssetLibraryBundle._iInstances.hasOwnProperty(key))\n\t\t\tAssetLibraryBundle._iInstances[key] = new AssetLibraryBundle();\n\n\t\treturn AssetLibraryBundle._iInstances[key];\n\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic enableParser(parserClass:Object)\n\t{\n\t\tAssetLoader.enableParser(parserClass);\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic enableParsers(parserClasses:Object[])\n\t{\n\t\tAssetLoader.enableParsers(parserClasses);\n\t}\n\n\t/**\n\t * Defines which strategy should be used for resolving naming conflicts, when two library\n\t * assets are given the same name. By default, <code>ConflictStrategy.APPEND_NUM_SUFFIX</code>\n\t * is used which means that a numeric suffix is appended to one of the assets. The\n\t * <code>conflictPrecedence</code> property defines which of the two conflicting assets will\n\t * be renamed.\n\t *\n\t * @see naming.ConflictStrategy\n\t * @see AssetLibrary.conflictPrecedence\n\t */\n\tpublic get conflictStrategy():ConflictStrategyBase\n\t{\n\t\treturn this._strategy;\n\t}\n\n\tpublic set conflictStrategy(val:ConflictStrategyBase)\n\t{\n\n\t\tif (!val)\n\t\t\tthrow new Error('namingStrategy must not be null. To ignore naming, use AssetLibrary.IGNORE');\n\n\t\tthis._strategy = val.create();\n\n\t}\n\n\t/**\n\t * Defines which asset should have precedence when resolving a naming conflict between\n\t * two assets of which one has just been renamed by the user or by a parser. By default\n\t * <code>ConflictPrecedence.FAVOR_NEW</code> is used, meaning that the newly renamed\n\t * asset will keep it's new name while the older asset gets renamed to not conflict.\n\t *\n\t * This property is ignored for conflict strategies that do not actually rename an\n\t * asset automatically, such as ConflictStrategy.IGNORE and ConflictStrategy.THROW_ERROR.\n\t *\n\t * @see away.library.ConflictPrecedence\n\t * @see away.library.ConflictStrategy\n\t */\n\tpublic get conflictPrecedence():string\n\t{\n\t\treturn this._strategyPreference;\n\t}\n\n\tpublic set conflictPrecedence(val:string)\n\t{\n\t\tthis._strategyPreference = val;\n\t}\n\n\t/**\n\t * Create an AssetLibraryIterator instance that can be used to iterate over the assets\n\t * in this asset library instance. The iterator can filter assets on asset type and/or\n\t * namespace. A \"null\" filter value means no filter of that type is used.\n\t *\n\t * @param assetTypeFilter Asset type to filter on (from the AssetType enum class.) Use\n\t * null to not filter on asset type.\n\t * @param namespaceFilter Namespace to filter on. Use null to not filter on namespace.\n\t * @param filterFunc Callback function to use when deciding whether an asset should be\n\t * included in the iteration or not. This needs to be a function that takes a single\n\t * parameter of type IAsset and returns a boolean where true means it should be included.\n\t *\n\t * @see away.library.AssetType\n\t */\n\tpublic createIterator(assetTypeFilter:string = null, namespaceFilter:string = null, filterFunc = null):AssetLibraryIterator\n\t{\n\t\treturn new AssetLibraryIterator(this._assets, assetTypeFilter, namespaceFilter, filterFunc);\n\t}\n\n\t/**\n\t * Loads a file and (optionally) all of its dependencies.\n\t *\n\t * @param req The URLRequest object containing the URL of the file to be loaded.\n\t * @param context An optional context object providing additional parameters for loading\n\t * @param ns An optional namespace string under which the file is to be loaded, allowing the differentiation of two resources with identical assets\n\t * @param parser An optional parser object for translating the loaded data into a usable resource. If not provided, AssetLoader will attempt to auto-detect the file type.\n\t * @return A handle to the retrieved resource.\n\t */\n\tpublic load(req:URLRequest, context:AssetLoaderContext = null, ns:string = null, parser:ParserBase = null):AssetLoaderToken\n\t{\n\t\tvar loader:AssetLoader = new AssetLoader();\n\n\t\tif (!this._loadingSessions)\n\t\t\tthis._loadingSessions = new Array<AssetLoader>();\n\n\t\tthis._loadingSessions.push(loader);\n\n\t\tloader.addEventListener(LoaderEvent.RESOURCE_COMPLETE, this._onResourceCompleteDelegate);\n\t\tloader.addEventListener(AssetEvent.TEXTURE_SIZE_ERROR, this._onTextureSizeErrorDelegate);\n\t\tloader.addEventListener(AssetEvent.ASSET_COMPLETE, this._onAssetCompleteDelegate);\n\n\t\t// Error are handled separately (see documentation for addErrorHandler)\n\t\tloader._iAddErrorHandler(this._onLoadErrorDelegate);\n\t\tloader._iAddParseErrorHandler(this._onParseErrorDelegate);\n\n\t\treturn loader.load(req, context, ns, parser);\n\t}\n\n\t/**\n\t * Loads a resource from existing data in memory.\n\t *\n\t * @param data The data object containing all resource information.\n\t * @param context An optional context object providing additional parameters for loading\n\t * @param ns An optional namespace string under which the file is to be loaded, allowing the differentiation of two resources with identical assets\n\t * @param parser An optional parser object for translating the loaded data into a usable resource. If not provided, AssetLoader will attempt to auto-detect the file type.\n\t * @return A handle to the retrieved resource.\n\t */\n\tpublic loadData(data:any, context:AssetLoaderContext = null, ns:string = null, parser:ParserBase = null):AssetLoaderToken\n\t{\n\t\tvar loader:AssetLoader = new AssetLoader();\n\n\t\tif (!this._loadingSessions)\n\t\t\tthis._loadingSessions = new Array<AssetLoader>();\n\n\t\tthis._loadingSessions.push(loader);\n\n\t\tloader.addEventListener(LoaderEvent.RESOURCE_COMPLETE, this._onResourceCompleteDelegate);\n\t\tloader.addEventListener(AssetEvent.TEXTURE_SIZE_ERROR, this._onTextureSizeErrorDelegate);\n\t\tloader.addEventListener(AssetEvent.ASSET_COMPLETE, this._onAssetCompleteDelegate);\n\n\t\t// Error are handled separately (see documentation for addErrorHandler)\n\t\tloader._iAddErrorHandler(this._onLoadErrorDelegate);\n\t\tloader._iAddParseErrorHandler(this._onParseErrorDelegate);\n\n\t\treturn loader.loadData(data, '', context, ns, parser);\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic getAsset(name:string, ns:string = null):IAsset\n\t{\n\t\t//var asset : IAsset;\n\n\t\tif (this._assetDictDirty)\n\t\t\tthis.rehashAssetDict();\n\n\t\tif (ns == null)\n\t\t\tns = NamedAssetBase.DEFAULT_NAMESPACE;\n\n\t\tif (!this._assetDictionary.hasOwnProperty(ns))\n\t\t\treturn null;\n\n\t\treturn this._assetDictionary[ns][name];\n\n\t}\n\n\t/**\n\t * Adds an asset to the asset library, first making sure that it's name is unique\n\t * using the method defined by the <code>conflictStrategy</code> and\n\t * <code>conflictPrecedence</code> properties.\n\t */\n\tpublic addAsset(asset:IAsset)\n\t{\n\t\tvar ns:string;\n\t\tvar old:IAsset;\n\n\t\t// Bail if asset has already been added.\n\t\tif (this._assets.indexOf(asset) >= 0)\n\t\t\treturn;\n\n\t\told = this.getAsset(asset.name, asset.assetNamespace);\n\t\tns = asset.assetNamespace || NamedAssetBase.DEFAULT_NAMESPACE;\n\n\t\tif (old != null)\n\t\t\tthis._strategy.resolveConflict(asset, old, this._assetDictionary[ns], this._strategyPreference);\n\n\t\t//create unique-id (for now this is used in AwayBuilder only\n\t\t//asset.id = IDUtil.createUID();\n\n\t\t// Add it\n\t\tthis._assets.push(asset);\n\n\t\tif (!this._assetDictionary.hasOwnProperty(ns))\n\t\t\tthis._assetDictionary[ns] = new Object();\n\n\t\tthis._assetDictionary[ns][asset.name] = asset;\n\n\t\tasset.addEventListener(AssetEvent.ASSET_RENAME, this._onAssetRenameDelegate);\n\t\tasset.addEventListener(AssetEvent.ASSET_CONFLICT_RESOLVED, this._onAssetConflictResolvedDelegate);\n\t}\n\n\t/**\n\t * Removes an asset from the library, and optionally disposes that asset by calling\n\t * it's disposeAsset() method (which for most assets is implemented as a default\n\t * version of that type's dispose() method.\n\t *\n\t * @param asset The asset which should be removed from this library.\n\t * @param dispose Defines whether the assets should also be disposed.\n\t */\n\tpublic removeAsset(asset:IAsset, dispose:boolean = true)\n\t{\n\t\tvar idx:number;\n\n\t\tthis.removeAssetFromDict(asset);\n\n\t\tasset.removeEventListener(AssetEvent.ASSET_RENAME, this._onAssetRenameDelegate);\n\t\tasset.removeEventListener(AssetEvent.ASSET_CONFLICT_RESOLVED, this._onAssetConflictResolvedDelegate);\n\n\t\tidx = this._assets.indexOf(asset);\n\n\t\tif (idx >= 0)\n\t\t\tthis._assets.splice(idx, 1);\n\n\t\tif (dispose)\n\t\t\tasset.dispose();\n\t}\n\n\t/**\n\t * Removes an asset which is specified using name and namespace.\n\t *\n\t * @param name The name of the asset to be removed.\n\t * @param ns The namespace to which the desired asset belongs.\n\t * @param dispose Defines whether the assets should also be disposed.\n\t *\n\t * @see away.library.AssetLibrary.removeAsset()\n\t */\n\tpublic removeAssetByName(name:string, ns:string = null, dispose:boolean = true):IAsset\n\t{\n\n\t\tvar asset:IAsset = this.getAsset(name, ns);\n\n\t\tif (asset)\n\t\t\tthis.removeAsset(asset, dispose);\n\n\t\treturn asset;\n\t}\n\n\t/**\n\t * Removes all assets from the asset library, optionally disposing them as they\n\t * are removed.\n\t *\n\t * @param dispose Defines whether the assets should also be disposed.\n\t */\n\tpublic removeAllAssets(dispose:boolean = true)\n\t{\n\t\tif (dispose) {\n\t\t\tvar asset:IAsset;\n\n\t\t\tfor (var c:number = 0; c < this._assets.length; c++) {\n\t\t\t\tasset = this._assets[ c ];\n\t\t\t\tasset.dispose();\n\t\t\t}\n\t\t\t/*\n\t\t\t for each (asset in _assets)\n\t\t\t asset.dispose();\n\t\t\t */\n\t\t}\n\n\t\tthis._assets.length = 0;\n\t\tthis.rehashAssetDict();\n\t}\n\n\t/**\n\t * Removes all assets belonging to a particular namespace (null for default)\n\t * from the asset library, and optionall disposes them by calling their\n\t * disposeAsset() method.\n\t *\n\t * @param ns The namespace from which all assets should be removed.\n\t * @param dispose Defines whether the assets should also be disposed.\n\t *\n\t * @see away.library.AssetLibrary.removeAsset()\n\t */\n\tpublic removeNamespaceAssets(ns:string = null, dispose:boolean = true)\n\t{\n\t\tvar idx:number = 0;\n\t\tvar asset:IAsset;\n\t\tvar old_assets:IAsset[];\n\n\t\t// Empty the assets vector after having stored a copy of it.\n\t\t// The copy will be filled with all assets which weren't removed.\n\t\told_assets = this._assets.concat();\n\t\tthis._assets.length = 0;\n\n\t\tif (ns == null)\n\t\t\tns = NamedAssetBase.DEFAULT_NAMESPACE;\n\n\t\tfor (var d:number = 0; d < old_assets.length; d++) {\n\t\t\tasset = old_assets[d];\n\n\t\t\t// Remove from dict if in the supplied namespace. If not,\n\t\t\t// transfer over to the new vector.\n\t\t\tif (asset.assetNamespace == ns) {\n\t\t\t\tif (dispose)\n\t\t\t\t\tasset.dispose();\n\n\t\t\t\t// Remove asset from dictionary, but don't try to auto-remove\n\t\t\t\t// the namespace, which will trigger an unnecessarily expensive\n\t\t\t\t// test that is not needed since we know that the namespace\n\t\t\t\t// will be empty when loop finishes.\n\t\t\t\tthis.removeAssetFromDict(asset, false);\n\t\t\t} else {\n\t\t\t\tthis._assets[idx++] = asset;\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t for each (asset in old_assets) {\n\t\t // Remove from dict if in the supplied namespace. If not,\n\t\t // transfer over to the new vector.\n\t\t if (asset.assetNamespace == ns) {\n\t\t if (dispose)\n\t\t asset.dispose();\n\n\t\t // Remove asset from dictionary, but don't try to auto-remove\n\t\t // the namespace, which will trigger an unnecessarily expensive\n\t\t // test that is not needed since we know that the namespace\n\t\t // will be empty when loop finishes.\n\t\t removeAssetFromDict(asset, false);\n\t\t } else\n\t\t _assets[idx++] = asset;\n\n\t\t }\n\t\t */\n\n\t\t// Remove empty namespace\n\t\tif (this._assetDictionary.hasOwnProperty(ns))\n\t\t\tdelete this._assetDictionary[ns];\n\t}\n\n\tprivate removeAssetFromDict(asset:IAsset, autoRemoveEmptyNamespace:boolean = true)\n\t{\n\t\tif (this._assetDictDirty)\n\t\t\tthis.rehashAssetDict();\n\n\t\tif (this._assetDictionary.hasOwnProperty(asset.assetNamespace)) {\n\t\t\tif (this._assetDictionary[asset.assetNamespace].hasOwnProperty(asset.name))\n\t\t\t\tdelete this._assetDictionary[asset.assetNamespace][asset.name];\n\n\t\t\tif (autoRemoveEmptyNamespace) {\n\n\t\t\t\tvar key:string;\n\t\t\t\tvar empty:boolean = true;\n\n\t\t\t\tfor (key in this._assetDictionary[asset.assetNamespace]) {\n\t\t\t\t\tempty = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (empty)\n\t\t\t\t\tdelete this._assetDictionary[asset.assetNamespace];\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic stopAllLoadingSessions()\n\t{\n\t\tvar i:number;\n\n\t\tif (!this._loadingSessions)\n\t\t\tthis._loadingSessions = new Array<AssetLoader>();\n\n\t\tvar length:number = this._loadingSessions.length;\n\n\t\tfor (i = 0; i < length; i++)\n\t\t\tthis.killLoadingSession(this._loadingSessions[i]);\n\n\t\tthis._loadingSessions = null;\n\t}\n\n\tprivate rehashAssetDict()\n\t{\n\t\tvar asset:IAsset;\n\n\t\tthis._assetDictionary = {};\n\n\t\tvar l:number = this._assets.length;\n\n\t\tfor (var c:number = 0; c < l; c++) {\n\t\t\tasset = this._assets[c];\n\n\t\t\tif (!this._assetDictionary.hasOwnProperty(asset.assetNamespace))\n\t\t\t\tthis._assetDictionary[asset.assetNamespace] = {};\n\n\t\t\tthis._assetDictionary[asset.assetNamespace][asset.name] = asset;\n\n\t\t}\n\n\t\tthis._assetDictDirty = false;\n\n\t}\n\n\t/**\n\t * Called when a an error occurs during loading.\n\t */\n\tprivate onLoadError(event:IOErrorEvent):boolean\n\t{\n\t\tif (this.hasEventListener(IOErrorEvent.IO_ERROR)) {\n\t\t\tthis.dispatchEvent(event);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Called when a an error occurs during parsing.\n\t */\n\tprivate onParseError(event:ParserEvent):boolean\n\t{\n\t\tif (this.hasEventListener(ParserEvent.PARSE_ERROR)) {\n\t\t\tthis.dispatchEvent(event);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tprivate onAssetComplete(event:AssetEvent)\n\t{\n\t\t// Only add asset to library the first time.\n\t\tif (event.type == AssetEvent.ASSET_COMPLETE)\n\t\t\tthis.addAsset(event.asset);\n\n\t\tthis.dispatchEvent(event);\n\n\t}\n\n\tprivate onTextureSizeError(event:AssetEvent)\n\t{\n\t\tthis.dispatchEvent(event);\n\t}\n\n\t/**\n\t * Called when the resource and all of its dependencies was retrieved.\n\t */\n\tprivate onResourceComplete(event:LoaderEvent)\n\t{\n\t\tvar loader:AssetLoader = <AssetLoader> event.target;\n\n\t\tthis.dispatchEvent(event);\n\n\t\tvar index:number = this._loadingSessions.indexOf(loader);\n\t\tthis._loadingSessions.splice(index, 1);\n\n\t\t// Add loader to a garbage array - for a collection sweep and kill\n\t\tthis._loadingSessionsGarbage.push(loader);\n\t\tthis._gcTimeoutIID = setTimeout(() => {this.loadingSessionGC()}, 100);\n\t}\n\n\tprivate loadingSessionGC():void\n\t{\n\t\tvar loader:AssetLoader;\n\n\t\twhile (this._loadingSessionsGarbage.length > 0) {\n\t\t\tloader = this._loadingSessionsGarbage.pop();\n\t\t\tthis.killLoadingSession(loader);\n\t\t}\n\n\t\tclearTimeout(this._gcTimeoutIID);\n\t\tthis._gcTimeoutIID = null;\n\n\t}\n\n\tprivate killLoadingSession(loader:AssetLoader)\n\t{\n\t\tloader.removeEventListener(LoaderEvent.RESOURCE_COMPLETE, this._onResourceCompleteDelegate);\n\t\tloader.removeEventListener(AssetEvent.TEXTURE_SIZE_ERROR, this._onTextureSizeErrorDelegate);\n\t\tloader.removeEventListener(AssetEvent.ASSET_COMPLETE, this._onAssetCompleteDelegate);\n\t\tloader.stop();\n\t}\n\n\t/**\n\t * Called when unespected error occurs\n\t */\n\t/*\n\t private onResourceError() : void\n\t {\n\t var msg:string = \"Unexpected parser error\";\n\t if(hasEventListener(LoaderEvent.DEPENDENCY_ERROR)){\n\t var re:LoaderEvent = new LoaderEvent(LoaderEvent.DEPENDENCY_ERROR, \"\");\n\t dispatchEvent(re);\n\t } else{\n\t throw new Error(msg);\n\t }\n\t }\n\t */\n\n\tprivate onAssetRename(event:AssetEvent)\n\t{\n\t\tvar asset:IAsset = <IAsset > event.target;// TODO: was ev.currentTarget - watch this var\n\t\tvar old:IAsset = this.getAsset(asset.assetNamespace, asset.name);\n\n\t\tif (old != null) {\n\t\t\tthis._strategy.resolveConflict(asset, old, this._assetDictionary[asset.assetNamespace], this._strategyPreference);\n\t\t} else {\n\t\t\tvar dict:Object = this._assetDictionary[event.asset.assetNamespace];\n\n\t\t\tif (dict == null)\n\t\t\t\treturn;\n\n\t\t\tdict[event.assetPrevName] = null;\n\t\t\tdict[event.asset.name] = event.asset;\n\t\t}\n\t}\n\n\tprivate onAssetConflictResolved(event:AssetEvent)\n\t{\n\t\tthis.dispatchEvent(event.clone());\n\t}\n}\n\nexport = AssetLibraryBundle;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\n\nclass AssetLibraryIterator\n{\n\n\tprivate  _assets:Array<IAsset>;\n\tprivate _filtered:Array<IAsset>;\n\n\tprivate _idx:number;\n\n\tconstructor(assets:Array<IAsset>, assetTypeFilter:string, namespaceFilter:string, filterFunc)\n\t{\n\t\tthis._assets = assets;\n\t\tthis.filter(assetTypeFilter, namespaceFilter, filterFunc);\n\t}\n\n\tpublic get currentAsset():IAsset\n\t{\n\t\t// Return current, or null if no current\n\t\treturn ( this._idx < this._filtered.length )? this._filtered[ this._idx ] : null;\n\t}\n\n\tpublic get numAssets():number\n\t{\n\t\treturn this._filtered.length;\n\t}\n\n\tpublic next():IAsset\n\t{\n\t\tvar next:IAsset = null;\n\n\t\tif (this._idx < this._filtered.length)\n\t\t\tnext = this._filtered[this._idx];\n\n\t\tthis._idx++;\n\n\t\treturn next;\n\t}\n\n\tpublic reset()\n\t{\n\t\tthis._idx = 0;\n\t}\n\n\tpublic setIndex(index:number)\n\t{\n\t\tthis._idx = index;\n\t}\n\n\tprivate filter(assetTypeFilter:string, namespaceFilter:string, filterFunc)\n\t{\n\t\tif (assetTypeFilter || namespaceFilter) {\n\n\t\t\tvar idx:number;\n\t\t\tvar asset:IAsset;\n\n\n\t\t\tidx = 0;\n\t\t\tthis._filtered = new Array<IAsset>();//new Vector.<IAsset>;\n\n\t\t\tvar l:number = this._assets.length;\n\n\t\t\tfor (var c:number = 0; c < l; c++) {\n\n\t\t\t\tasset = <IAsset> this._assets[c];\n\n\t\t\t\t// Skip this assets if filtering on type and this is wrong type\n\t\t\t\tif (assetTypeFilter && asset.assetType != assetTypeFilter)\n\t\t\t\t\tcontinue;\n\n\t\t\t\t// Skip this asset if filtering on namespace and this is wrong namespace\n\t\t\t\tif (namespaceFilter && asset.assetNamespace != namespaceFilter)\n\t\t\t\t\tcontinue;\n\n\t\t\t\t// Skip this asset if a filter func has been provided and it returns false\n\t\t\t\tif (filterFunc != null && !filterFunc(asset))\n\t\t\t\t\tcontinue;\n\n\t\t\t\tthis._filtered[idx++] = asset;\n\n\t\t\t}\n\n\t\t\t/*\n\t\t\t for each (asset in _assets) {\n\t\t\t // Skip this assets if filtering on type and this is wrong type\n\t\t\t if (assetTypeFilter && asset.assetType != assetTypeFilter)\n\t\t\t continue;\n\n\t\t\t // Skip this asset if filtering on namespace and this is wrong namespace\n\t\t\t if (namespaceFilter && asset.assetNamespace != namespaceFilter)\n\t\t\t continue;\n\n\t\t\t // Skip this asset if a filter func has been provided and it returns false\n\t\t\t if (filterFunc != null && !filterFunc(asset))\n\t\t\t continue;\n\n\t\t\t _filtered[idx++] = asset;\n\t\t\t }\n\t\t\t */\n\n\t\t} else {\n\t\t\tthis._filtered = this._assets;\n\t\t}\n\t}\n}\n\nexport = AssetLibraryIterator;",
    "import URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport AssetLibraryBundle\t\t= require(\"awayjs-core/lib/library/AssetLibraryBundle\");\nimport AssetLibraryIterator\t\t= require(\"awayjs-core/lib/library/AssetLibraryIterator\");\nimport AssetLoader\t\t\t\t= require(\"awayjs-core/lib/library/AssetLoader\");\nimport AssetLoaderContext\t\t= require(\"awayjs-core/lib/library/AssetLoaderContext\");\nimport AssetLoaderToken\t\t\t= require(\"awayjs-core/lib/library/AssetLoaderToken\");\nimport ConflictStrategyBase\t\t= require(\"awayjs-core/lib/library/ConflictStrategyBase\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\n\n/**\n * AssetLibrary enforces a singleton pattern and is not intended to be instanced.\n * It's purpose is to allow access to the default library bundle through a set of static shortcut methods.\n * If you are interested in creating multiple library bundles, please use the <code>getBundle()</code> method.\n */\nclass AssetLibrary\n{\n\t/**\n\t * Creates a new <code>AssetLibrary</code> object.\n\t *\n\t */\n\tconstructor()\n\t{\n\t}\n\n\t//*/\n\t/**\n\t * Returns an AssetLibrary bundle instance. If no key is given, returns the default bundle (which is\n\t * similar to using the AssetLibraryBundle as a singleton). To keep several separated library bundles,\n\t * pass a string key to this method to define which bundle should be returned. This is\n\t * referred to as using the AssetLibraryBundle as a multiton.\n\t *\n\t * @param key Defines which multiton instance should be returned.\n\t * @return An instance of the asset library\n\t */\n\tpublic static getBundle(key:string = 'default'):AssetLibraryBundle\n\t{\n\t\treturn AssetLibraryBundle.getInstance(key);\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic static enableParser(parserClass)\n\t{\n\t\tAssetLoader.enableParser(parserClass);\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic static enableParsers(parserClasses:Array<Object>)\n\t{\n\t\tAssetLoader.enableParsers(parserClasses);\n\t}\n\n\t/**\n\t * Short-hand for conflictStrategy property on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.conflictStrategy\n\t */\n\tpublic static get conflictStrategy():ConflictStrategyBase\n\t{\n\t\treturn AssetLibrary.getBundle().conflictStrategy;\n\t}\n\n\tpublic static set conflictStrategy(val:ConflictStrategyBase)\n\t{\n\t\tAssetLibrary.getBundle().conflictStrategy = val;\n\t}\n\n\t/**\n\t * Short-hand for conflictPrecedence property on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.conflictPrecedence\n\t */\n\tpublic static get conflictPrecedence():string\n\t{\n\t\treturn AssetLibrary.getBundle().conflictPrecedence;\n\t}\n\n\tpublic static set conflictPrecedence(val:string)\n\t{\n\t\tAssetLibrary.getBundle().conflictPrecedence = val;\n\t}\n\n\t/**\n\t * Short-hand for createIterator() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.createIterator()\n\t */\n\tpublic static createIterator(assetTypeFilter:string = null, namespaceFilter:string = null, filterFunc = null):AssetLibraryIterator\n\t{\n\t\treturn AssetLibrary.getBundle().createIterator(assetTypeFilter, namespaceFilter, filterFunc);\n\t}\n\n\t/**\n\t * Short-hand for load() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.load()\n\t */\n\tpublic static load(req:URLRequest, context:AssetLoaderContext = null, ns:string = null, parser:ParserBase = null):AssetLoaderToken\n\t{\n\t\treturn AssetLibrary.getBundle().load(req, context, ns, parser);\n\t}\n\n\t/**\n\t * Short-hand for loadData() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.loadData()\n\t */\n\tpublic static loadData(data:any, context:AssetLoaderContext = null, ns:string = null, parser:ParserBase = null):AssetLoaderToken\n\t{\n\t\treturn AssetLibrary.getBundle().loadData(data, context, ns, parser);\n\t}\n\n\tpublic static stopLoad()\n\t{\n\t\tAssetLibrary.getBundle().stopAllLoadingSessions();\n\t}\n\n\t/**\n\t * Short-hand for getAsset() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.getAsset()\n\t */\n\tpublic static getAsset(name:string, ns:string = null):IAsset\n\t{\n\t\treturn AssetLibrary.getBundle().getAsset(name, ns);\n\t}\n\n\t/**\n\t * Short-hand for addEventListener() method on default asset library bundle.\n\t */\n\tpublic static addEventListener(type:string, listener:Function)\n\t{\n\t\tAssetLibrary.getBundle().addEventListener(type, listener);\n\t}\n\n\t/**\n\t * Short-hand for removeEventListener() method on default asset library bundle.\n\t */\n\tpublic static removeEventListener(type:string, listener:Function)\n\t{\n\t\tAssetLibrary.getBundle().removeEventListener(type, listener);\n\t}\n\n\t/**\n\t * Short-hand for hasEventListener() method on default asset library bundle.\n\n\t public static hasEventListener(type:string):boolean\n\t {\n\t\treturn AssetLibrary.getBundle().hasEventListener(type);\n\t}\n\n\t public static willTrigger(type:string):boolean\n\t {\n\t\treturn getBundle().willTrigger(type);\n\t}\n\t */\n\n\t/**\n\t * Short-hand for addAsset() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.addAsset()\n\t */\n\tpublic static addAsset(asset:IAsset)\n\t{\n\t\tAssetLibrary.getBundle().addAsset(asset);\n\t}\n\n\t/**\n\t * Short-hand for removeAsset() method on default asset library bundle.\n\t *\n\t * @param asset The asset which should be removed from the library.\n\t * @param dispose Defines whether the assets should also be disposed.\n\t *\n\t * @see AssetLibraryBundle.removeAsset()\n\t */\n\tpublic static removeAsset(asset:IAsset, dispose:boolean = true)\n\t{\n\t\tAssetLibrary.getBundle().removeAsset(asset, dispose);\n\t}\n\n\t/**\n\t * Short-hand for removeAssetByName() method on default asset library bundle.\n\t *\n\t * @param name The name of the asset to be removed.\n\t * @param ns The namespace to which the desired asset belongs.\n\t * @param dispose Defines whether the assets should also be disposed.\n\t *\n\t * @see AssetLibraryBundle.removeAssetByName()\n\t */\n\tpublic static removeAssetByName(name:string, ns:string = null, dispose:boolean = true):IAsset\n\t{\n\t\treturn AssetLibrary.getBundle().removeAssetByName(name, ns, dispose);\n\t}\n\n\t/**\n\t * Short-hand for removeAllAssets() method on default asset library bundle.\n\t *\n\t * @param dispose Defines whether the assets should also be disposed.\n\t *\n\t * @see AssetLibraryBundle.removeAllAssets()\n\t */\n\tpublic static removeAllAssets(dispose:boolean = true)\n\t{\n\t\tAssetLibrary.getBundle().removeAllAssets(dispose);\n\t}\n\n\t/**\n\t * Short-hand for removeNamespaceAssets() method on default asset library bundle.\n\t *\n\t * @see AssetLibraryBundle.removeNamespaceAssets()\n\t */\n\tpublic static removeNamespaceAssets(ns:string = null, dispose:boolean = true)\n\t{\n\t\tAssetLibrary.getBundle().removeNamespaceAssets(ns, dispose);\n\t}\n}\n\nexport = AssetLibrary;",
    "class AssetLoaderContext\n{\n\tpublic static UNDEFINED:number = 0;\n\tpublic static SINGLEPASS_MATERIALS:number = 1;\n\tpublic static MULTIPASS_MATERIALS:number = 2;\n\n\tprivate _includeDependencies:boolean;\n\tprivate _dependencyBaseUrl:string;\n\tprivate _embeddedDataByUrl:Object;\n\tprivate _remappedUrls:Object;\n\tprivate _materialMode:number;\n\n\tprivate _overrideAbsPath:boolean;\n\tprivate _overrideFullUrls:boolean;\n\n\t/**\n\t * AssetLoaderContext provides configuration for the AssetLoader load() and parse() operations.\n\t * Use it to configure how (and if) dependencies are loaded, or to map dependency URLs to\n\t * embedded data.\n\t *\n\t * @see away.loading.AssetLoader\n\t */\n\tconstructor(includeDependencies:boolean = true, dependencyBaseUrl:string = null)\n\t{\n\t\tthis._includeDependencies = includeDependencies;\n\t\tthis._dependencyBaseUrl = dependencyBaseUrl || '';\n\t\tthis._embeddedDataByUrl = {};\n\t\tthis._remappedUrls = {};\n\t\tthis._materialMode = AssetLoaderContext.UNDEFINED;\n\t}\n\n\t/**\n\t * Defines whether dependencies (all files except the one at the URL given to the load() or\n\t * parseData() operations) should be automatically loaded. Defaults to true.\n\t */\n\tpublic get includeDependencies():boolean\n\t{\n\t\treturn this._includeDependencies;\n\t}\n\n\tpublic set includeDependencies(val:boolean)\n\t{\n\t\tthis._includeDependencies = val;\n\t}\n\n\t/**\n\t * MaterialMode defines, if the Parser should create SinglePass or MultiPass Materials\n\t * Options:\n\t * 0 (Default / undefined) - All Parsers will create SinglePassMaterials, but the AWD2.1parser will create Materials as they are defined in the file\n\t * 1 (Force SinglePass) - All Parsers create SinglePassMaterials\n\t * 2 (Force MultiPass) - All Parsers will create MultiPassMaterials\n\t *\n\t */\n\tpublic get materialMode():number\n\t{\n\t\treturn this._materialMode;\n\t}\n\n\tpublic set materialMode(materialMode:number)\n\t{\n\t\tthis._materialMode = materialMode;\n\t}\n\n\t/**\n\t * A base URL that will be prepended to all relative dependency URLs found in a loaded resource.\n\t * Absolute paths will not be affected by the value of this property.\n\t */\n\tpublic get dependencyBaseUrl():string\n\t{\n\t\treturn this._dependencyBaseUrl;\n\t}\n\n\tpublic set dependencyBaseUrl(val:string)\n\t{\n\t\tthis._dependencyBaseUrl = val;\n\t}\n\n\t/**\n\t * Defines whether absolute paths (defined as paths that begin with a \"/\") should be overridden\n\t * with the dependencyBaseUrl defined in this context. If this is true, and the base path is\n\t * \"base\", /path/to/asset.jpg will be resolved as base/path/to/asset.jpg.\n\t */\n\tpublic get overrideAbsolutePaths():boolean\n\t{\n\t\treturn this._overrideAbsPath;\n\t}\n\n\tpublic set overrideAbsolutePaths(val:boolean)\n\t{\n\t\tthis._overrideAbsPath = val;\n\t}\n\n\t/**\n\t * Defines whether \"full\" URLs (defined as a URL that includes a scheme, e.g. http://) should be\n\t * overridden with the dependencyBaseUrl defined in this context. If this is true, and the base\n\t * path is \"base\", http://example.com/path/to/asset.jpg will be resolved as base/path/to/asset.jpg.\n\t */\n\tpublic get overrideFullURLs():boolean\n\t{\n\t\treturn this._overrideFullUrls;\n\t}\n\n\tpublic set overrideFullURLs(val:boolean)\n\t{\n\t\tthis._overrideFullUrls = val;\n\t}\n\n\t/**\n\t * Map a URL to another URL, so that files that are referred to by the original URL will instead\n\t * be loaded from the new URL. Use this when your file structure does not match the one that is\n\t * expected by the loaded file.\n\t *\n\t * @param originalUrl The original URL which is referenced in the loaded resource.\n\t * @param newUrl The URL from which away.should load the resource instead.\n\t *\n\t * @see mapUrlToData()\n\t */\n\tpublic mapUrl(originalUrl:string, newUrl:string)\n\t{\n\t\tthis._remappedUrls[originalUrl] = newUrl;\n\t}\n\n\t/**\n\t * Map a URL to embedded data, so that instead of trying to load a dependency from the URL at\n\t * which it's referenced, the dependency data will be retrieved straight from the memory instead.\n\t *\n\t * @param originalUrl The original URL which is referenced in the loaded resource.\n\t * @param data The embedded data. Can be ByteArray or a class which can be used to create a bytearray.\n\t */\n\tpublic mapUrlToData(originalUrl:string, data:any)\n\t{\n\t\tthis._embeddedDataByUrl[originalUrl] = data;\n\t}\n\n\t/**\n\t * @private\n\t * Defines whether embedded data has been mapped to a particular URL.\n\t */\n\tpublic _iHasDataForUrl(url:string):boolean\n\t{\n\t\treturn this._embeddedDataByUrl.hasOwnProperty(url);\n\t}\n\n\t/**\n\t * @private\n\t * Returns embedded data for a particular URL.\n\t */\n\tpublic _iGetDataForUrl(url:string):any\n\t{\n\t\treturn this._embeddedDataByUrl[url];\n\t}\n\n\t/**\n\t * @private\n\t * Defines whether a replacement URL has been mapped to a particular URL.\n\t */\n\tpublic _iHasMappingForUrl(url:string):boolean\n\t{\n\t\treturn this._remappedUrls.hasOwnProperty(url);\n\t}\n\n\t/**\n\t * @private\n\t * Returns new (replacement) URL for a particular original URL.\n\t */\n\tpublic _iGetRemappedUrl(originalUrl:string):string\n\t{\n\t\treturn this._remappedUrls[originalUrl];\n\t}\n}\n\nexport = AssetLoaderContext;",
    "import AssetLoader\t\t\t\t= require(\"awayjs-core/lib/library/AssetLoader\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\n\n/**\n * Dispatched when any asset finishes parsing. Also see specific events for each\n * individual asset type (meshes, materials et c.)\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"assetComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when a full resource (including dependencies) finishes loading.\n *\n * @eventType away.events.LoaderEvent\n */\n//[Event(name=\"resourceComplete\", type=\"away3d.events.LoaderEvent\")]\n\n\n/**\n * Dispatched when a single dependency (which may be the main file of a resource)\n * finishes loading.\n *\n * @eventType away.events.LoaderEvent\n */\n//[Event(name=\"dependencyComplete\", type=\"away3d.events.LoaderEvent\")]\n\n\n/**\n * Dispatched when an error occurs during loading. I\n *\n * @eventType away.events.LoaderEvent\n */\n//[Event(name=\"loadError\", type=\"away3d.events.LoaderEvent\")]\n\n\n/**\n * Dispatched when an error occurs during parsing.\n *\n * @eventType away.events.ParserEvent\n */\n//[Event(name=\"parseError\", type=\"away3d.events.ParserEvent\")]\n\n\n/**\n * Dispatched when a skybox asset has been costructed from a ressource.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"skyboxComplete\", type=\"away3d.events.AssetEvent\")]\n\n/**\n * Dispatched when a camera3d asset has been costructed from a ressource.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"cameraComplete\", type=\"away3d.events.AssetEvent\")]\n\n/**\n * Dispatched when a mesh asset has been costructed from a ressource.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"meshComplete\", type=\"away3d.events.AssetEvent\")]\n\n/**\n * Dispatched when a geometry asset has been constructed from a resource.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"geometryComplete\", type=\"away3d.events.AssetEvent\")]\n\n/**\n * Dispatched when a skeleton asset has been constructed from a resource.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"skeletonComplete\", type=\"away3d.events.AssetEvent\")]\n\n/**\n * Dispatched when a skeleton pose asset has been constructed from a resource.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"skeletonPoseComplete\", type=\"away3d.events.AssetEvent\")]\n\n/**\n * Dispatched when a container asset has been constructed from a resource.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"containerComplete\", type=\"away3d.events.AssetEvent\")]\n\n/**\n * Dispatched when a texture asset has been constructed from a resource.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"textureComplete\", type=\"away3d.events.AssetEvent\")]\n\n/**\n * Dispatched when a texture projector asset has been constructed from a resource.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"textureProjectorComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when a material asset has been constructed from a resource.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"materialComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when a animator asset has been constructed from a resource.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"animatorComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when an animation set has been constructed from a group of animation state resources.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"animationSetComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when an animation state has been constructed from a group of animation node resources.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"animationStateComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when an animation node has been constructed from a resource.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"animationNodeComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when an animation state transition has been constructed from a group of animation node resources.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"stateTransitionComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when an light asset has been constructed from a resources.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"lightComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when an light picker asset has been constructed from a resources.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"lightPickerComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when an effect method asset has been constructed from a resources.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"effectMethodComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when an shadow map method asset has been constructed from a resources.\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"shadowMapMethodComplete\", type=\"away3d.events.AssetEvent\")]\n\n/**\n * Instances of this class are returned as tokens by loading operations\n * to provide an object on which events can be listened for in cases where\n * the actual asset loader is not directly available (e.g. when using the\n * AssetLibrary to perform the load.)\n *\n * By listening for events on this class instead of directly on the\n * AssetLibrary, one can distinguish different loads from each other.\n *\n * The token will dispatch all events that the original AssetLoader dispatches,\n * while not providing an interface to obstruct the load and is as such a\n * safer return value for loader wrappers than the loader itself.\n */\nclass AssetLoaderToken extends EventDispatcher\n{\n\tpublic _iLoader:AssetLoader;\n\n\tconstructor(loader:AssetLoader)\n\t{\n\t\tsuper();\n\n\t\tthis._iLoader = loader;\n\t}\n\n\tpublic addEventListener(type:string, listener:Function)\n\t{\n\t\tthis._iLoader.addEventListener(type, listener);\n\t}\n\n\n\tpublic removeEventListener(type:string, listener:Function)\n\t{\n\t\tthis._iLoader.removeEventListener(type, listener);\n\t}\n\n\tpublic hasEventListener(type:string, listener:Function = null):boolean\n\t{\n\t\treturn this._iLoader.hasEventListener(type, listener);\n\t}\n\n\t/*\n\t public willTrigger(type:string):boolean\n\t {\n\t return this._iLoader.willTrigger(type);\n\t }\n\t */\n}\n\nexport = AssetLoaderToken;",
    "import AssetLoaderContext\t\t= require(\"awayjs-core/lib/library/AssetLoaderContext\");\nimport AssetLoaderToken\t\t\t= require(\"awayjs-core/lib/library/AssetLoaderToken\");\nimport URLLoader\t\t\t\t= require(\"awayjs-core/lib/net/URLLoader\");\nimport URLLoaderDataFormat\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\nimport AssetEvent\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\nimport Event\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport IOErrorEvent\t\t\t\t= require(\"awayjs-core/lib/events/IOErrorEvent\");\nimport LoaderEvent\t\t\t\t= require(\"awayjs-core/lib/events/LoaderEvent\");\nimport ParserEvent\t\t\t\t= require(\"awayjs-core/lib/events/ParserEvent\");\nimport CubeTextureParser\t\t= require(\"awayjs-core/lib/parsers/CubeTextureParser\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\nimport ResourceDependency\t\t= require(\"awayjs-core/lib/parsers/ResourceDependency\");\nimport Texture2DParser\t\t\t= require(\"awayjs-core/lib/parsers/Texture2DParser\");\n\n/**\n * Dispatched when any asset finishes parsing. Also see specific events for each\n * individual asset type (meshes, materials et c.)\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"assetComplete\", type=\"away3d.events.AssetEvent\")]\n\n\n/**\n * Dispatched when a full resource (including dependencies) finishes loading.\n *\n * @eventType away.events.LoaderEvent\n */\n//[Event(name=\"resourceComplete\", type=\"away3d.events.LoaderEvent\")]\n\n\n/**\n * Dispatched when a single dependency (which may be the main file of a resource)\n * finishes loading.\n *\n * @eventType away.events.LoaderEvent\n */\n//[Event(name=\"dependencyComplete\", type=\"away3d.events.LoaderEvent\")]\n\n\n/**\n * Dispatched when an error occurs during loading. I\n *\n * @eventType away.events.LoaderEvent\n */\n//[Event(name=\"loadError\", type=\"away3d.events.LoaderEvent\")]\n\n\n/**\n * Dispatched when an error occurs during parsing.\n *\n * @eventType away.events.ParserEvent\n */\n//[Event(name=\"parseError\", type=\"away3d.events.ParserEvent\")]\n\n/**\n * Dispatched when an image asset dimensions are not a power of 2\n *\n * @eventType away.events.AssetEvent\n */\n//[Event(name=\"textureSizeError\", type=\"away3d.events.AssetEvent\")]\n\n/**\n * AssetLoader can load any file format that away.supports (or for which a third-party parser\n * has been plugged in) and it's dependencies. Events are dispatched when assets are encountered\n * and for when the resource (or it's dependencies) have been loaded.\n *\n * The AssetLoader will not make assets available in any other way than through the dispatched\n * events. To store assets and make them available at any point from any module in an application,\n * use the AssetLibrary to load and manage assets.\n *\n * @see away.library.AssetLibrary\n */\nclass AssetLoader extends EventDispatcher\n{\n\tprivate _context:AssetLoaderContext;\n\tprivate _token:AssetLoaderToken;\n\tprivate _uri:string;\n\tprivate _materialMode:number;\n\n\tprivate _errorHandlers:Array<Function>;\n\tprivate _parseErrorHandlers:Array<Function>;\n\n\tprivate _stack:Array<ResourceDependency>;\n\tprivate _baseDependency:ResourceDependency;\n\tprivate _currentDependency:ResourceDependency;\n\tprivate _namespace:string;\n\n\tprivate _onReadyForDependenciesDelegate:(event:ParserEvent) => void;\n\tprivate _onParseCompleteDelegate:(event:ParserEvent) => void;\n\tprivate _onParseErrorDelegate:(event:ParserEvent) => void;\n\tprivate _onLoadCompleteDelegate:(event:Event) => void;\n\tprivate _onLoadErrorDelegate:(event:IOErrorEvent) => void;\n\tprivate _onTextureSizeErrorDelegate:(event:AssetEvent) => void;\n\tprivate _onAssetCompleteDelegate:(event:AssetEvent) => void;\n\n\t// Image parser only parser that is added by default, to save file size.\n\tprivate static _parsers:Array<any> = new Array<any>(Texture2DParser, CubeTextureParser);\n\n\t/**\n\t * Enables a specific parser.\n\t * When no specific parser is set for a loading/parsing opperation,\n\t * loader3d can autoselect the correct parser to use.\n\t * A parser must have been enabled, to be considered when autoselecting the parser.\n\t *\n\t * @param parser The parser class to enable.\n\t *\n\t * @see away.parsers.Parsers\n\t */\n\tpublic static enableParser(parser)\n\t{\n\t\tif (AssetLoader._parsers.indexOf(parser) < 0)\n\t\t\tAssetLoader._parsers.push(parser);\n\t}\n\n\t/**\n\t * Enables a list of parsers.\n\t * When no specific parser is set for a loading/parsing opperation,\n\t * AssetLoader can autoselect the correct parser to use.\n\t * A parser must have been enabled, to be considered when autoselecting the parser.\n\t *\n\t * @param parsers A Vector of parser classes to enable.\n\t * @see away.parsers.Parsers\n\t */\n\tpublic static enableParsers(parsers:Array<Object>)\n\t{\n\t\tfor (var c:number = 0; c < parsers.length; c++)\n\t\t\tAssetLoader.enableParser(parsers[ c ]);\n\t}\n\n\t/**\n\t * Returns the base dependency of the loader\n\t */\n\tpublic get baseDependency():ResourceDependency\n\t{\n\t\treturn this._baseDependency;\n\t}\n\n\t/**\n\t * Create a new ResourceLoadSession object.\n\t */\n\tconstructor(materialMode:number = 0)\n\t{\n\t\tsuper();\n\n\t\tthis._materialMode = materialMode;\n\n\t\tthis._stack = new Array<ResourceDependency>();\n\t\tthis._errorHandlers = new Array<Function>();\n\t\tthis._parseErrorHandlers = new Array<Function>();\n\n\t\tthis._onReadyForDependenciesDelegate = (event:ParserEvent) => this.onReadyForDependencies(event);\n\t\tthis._onParseCompleteDelegate = (event:ParserEvent) => this.onParseComplete(event);\n\t\tthis._onParseErrorDelegate = (event:ParserEvent) => this.onParseError(event);\n\t\tthis._onLoadCompleteDelegate = (event:Event) => this.onLoadComplete(event);\n\t\tthis._onLoadErrorDelegate = (event:IOErrorEvent) => this.onLoadError(event);\n\t\tthis._onTextureSizeErrorDelegate = (event:AssetEvent) => this.onTextureSizeError(event);\n\t\tthis._onAssetCompleteDelegate = (event:AssetEvent) => this.onAssetComplete(event);\n\t}\n\n\t/**\n\t * Loads a file and (optionally) all of its dependencies.\n\t *\n\t * @param req The URLRequest object containing the URL of the file to be loaded.\n\t * @param context An optional context object providing additional parameters for loading\n\t * @param ns An optional namespace string under which the file is to be loaded, allowing the differentiation of two resources with identical assets\n\t * @param parser An optional parser object for translating the loaded data into a usable resource. If not provided, AssetLoader will attempt to auto-detect the file type.\n\t */\n\tpublic load(req:URLRequest, context:AssetLoaderContext = null, ns:string = null, parser:ParserBase = null):AssetLoaderToken\n\t{\n\t\tif (!this._token) {\n\t\t\tthis._token = new AssetLoaderToken(this);\n\n\t\t\tthis._uri = req.url = req.url.replace(/\\\\/g, \"/\");\n\t\t\tthis._context = context;\n\t\t\tthis._namespace = ns;\n\n\t\t\tthis._baseDependency = new ResourceDependency('', req, null, parser, null);\n\t\t\tthis.retrieveDependency(this._baseDependency);\n\n\t\t\treturn this._token;\n\t\t}\n\n\t\t// TODO: Throw error (already loading)\n\t\treturn null;\n\t}\n\n\t/**\n\t * Loads a resource from already loaded data.\n\t *\n\t * @param data The data object containing all resource information.\n\t * @param context An optional context object providing additional parameters for loading\n\t * @param ns An optional namespace string under which the file is to be loaded, allowing the differentiation of two resources with identical assets\n\t * @param parser An optional parser object for translating the loaded data into a usable resource. If not provided, AssetLoader will attempt to auto-detect the file type.\n\t */\n\tpublic loadData(data:any, id:string, context:AssetLoaderContext = null, ns:string = null, parser:ParserBase = null):AssetLoaderToken\n\t{\n\t\tif (!this._token) {\n\t\t\tthis._token = new AssetLoaderToken(this);\n\n\t\t\tthis._uri = id;\n\t\t\tthis._context = context;\n\t\t\tthis._namespace = ns;\n\n\t\t\tthis._baseDependency = new ResourceDependency(id, null, data, parser, null);\n\t\t\tthis.retrieveDependency(this._baseDependency);\n\n\t\t\treturn this._token;\n\t\t}\n\n\t\t// TODO: Throw error (already loading)\n\t\treturn null;\n\t}\n\n\t/**\n\t * Recursively retrieves the next to-be-loaded and parsed dependency on the stack, or pops the list off the\n\t * stack when complete and continues on the top set.\n\t * @param parser The parser that will translate the data into a usable resource.\n\t */\n\tprivate retrieveNext(parser:ParserBase = null)\n\t{\n\t\tif (this._currentDependency.dependencies.length) {\n\n\t\t\tvar next:ResourceDependency = this._currentDependency.dependencies.pop();\n\n\t\t\tthis._stack.push(this._currentDependency);\n\t\t\tthis.retrieveDependency(next);\n\n\t\t} else if (this._currentDependency.parser && this._currentDependency.parser.parsingPaused) {\n\n\t\t\tthis._currentDependency.parser._iResumeParsingAfterDependencies();\n\t\t\tthis._stack.pop();\n\n\t\t} else if (this._stack.length) {\n\n\t\t\tvar prev:ResourceDependency = this._currentDependency;\n\n\t\t\tthis._currentDependency = this._stack.pop();\n\n\t\t\tif (prev._iSuccess)\n\t\t\t\tprev.resolve();\n\n\t\t\tthis.retrieveNext(parser);\n\n\t\t} else {\n\t\t\tthis.dispatchEvent(new LoaderEvent(LoaderEvent.RESOURCE_COMPLETE, this._uri, this._baseDependency.parser.content, this._baseDependency.assets));\n\t\t}\n\t}\n\n\t/**\n\t * Retrieves a single dependency.\n\t * @param parser The parser that will translate the data into a usable resource.\n\t */\n\tprivate retrieveDependency(dependency:ResourceDependency)\n\t{\n\t\tvar data:any;\n\n\t\tif (this._context && this._context.materialMode != 0)\n\t\t\tthis._materialMode = this._context.materialMode;\n\n\t\tthis._currentDependency = dependency;\n\n\t\tdependency._iLoader = new URLLoader();\n\n\t\tthis.addEventListeners(dependency._iLoader);\n\n\t\t// Get already loaded (or mapped) data if available\n\t\tdata = dependency.data;\n\n\t\tif (this._context && dependency.request && this._context._iHasDataForUrl(dependency.request.url))\n\t\t\tdata = this._context._iGetDataForUrl(dependency.request.url);\n\n\t\tif (data) {\n\t\t\tif (data.constructor === Function)\n\t\t\t\tdata = new data();\n\n\t\t\tdependency._iSetData(data);\n\n\t\t\tif (dependency.retrieveAsRawData) {\n\t\t\t\t// No need to parse. The parent parser is expecting this\n\t\t\t\t// to be raw data so it can be passed directly.\n\t\t\t\tdependency.resolve();\n\n\t\t\t\t// Move on to next dependency\n\t\t\t\tthis.retrieveNext();\n\n\t\t\t} else {\n\t\t\t\tthis.parseDependency(dependency);\n\t\t\t}\n\n\t\t} else {\n\t\t\t// Resolve URL and start loading\n\t\t\tdependency.request.url = this.resolveDependencyUrl(dependency);\n\n\t\t\tif (dependency.retrieveAsRawData) {\n\t\t\t\t// Always use binary for raw data loading\n\t\t\t\tdependency._iLoader.dataFormat = URLLoaderDataFormat.BINARY;\n\t\t\t} else {\n\n\t\t\t\tif (!dependency.parser)\n\t\t\t\t\tdependency._iSetParser(this.getParserFromSuffix(dependency.request.url));\n\n\t\t\t\tif (dependency.parser) {\n\t\t\t\t\tdependency._iLoader.dataFormat = dependency.parser.dataFormat;\n\t\t\t\t} else {\n\t\t\t\t\t// Always use BINARY for unknown file formats. The thorough\n\t\t\t\t\t// file type check will determine format after load, and if\n\t\t\t\t\t// binary, a text load will have broken the file data.\n\t\t\t\t\tdependency._iLoader.dataFormat = URLLoaderDataFormat.BINARY;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdependency._iLoader.load(dependency.request);\n\t\t}\n\t}\n\n\tprivate joinUrl(base:string, end:string):string\n\t{\n\t\tif (end.charAt(0) == '/')\n\t\t\tend = end.substr(1);\n\n\t\tif (base.length == 0)\n\t\t\treturn end;\n\n\t\tif (base.charAt(base.length - 1) == '/')\n\t\t\tbase = base.substr(0, base.length - 1);\n\n\t\treturn base.concat('/', end);\n\n\t}\n\n\tprivate resolveDependencyUrl(dependency:ResourceDependency):string\n\t{\n\t\tvar scheme_re:RegExp;\n\t\tvar base:string;\n\t\tvar url:string = dependency.request.url;\n\n\t\t// Has the user re-mapped this URL?\n\t\tif (this._context && this._context._iHasMappingForUrl(url))\n\t\t\treturn this._context._iGetRemappedUrl(url);\n\n\t\t// This is the \"base\" dependency, i.e. the actual requested asset.\n\t\t// We will not try to resolve this since the user can probably be\n\t\t// thrusted to know this URL better than our automatic resolver. :)\n\t\tif (url == this._uri)\n\t\t\treturn url;\n\n\n\t\t// Absolute URL? Check if starts with slash or a URL\n\t\t// scheme definition (e.g. ftp://, http://, file://)\n\t\tscheme_re = new RegExp('/^[a-zA-Z]{3,4}:\\/\\//');\n\n\t\tif (url.charAt(0) == '/') {\n\t\t\tif (this._context && this._context.overrideAbsolutePaths)\n\t\t\t\treturn this.joinUrl(this._context.dependencyBaseUrl, url); else\n\t\t\t\treturn url;\n\t\t} else if (scheme_re.test(url)) {\n\t\t\t// If overriding full URLs, get rid of scheme (e.g. \"http://\")\n\t\t\t// and replace with the dependencyBaseUrl defined by user.\n\t\t\tif (this._context && this._context.overrideFullURLs) {\n\n\t\t\t\tvar noscheme_url : string  = url.replace( scheme_re , '' );//url['replace'](scheme_re);\n\t\t\t\treturn this.joinUrl(this._context.dependencyBaseUrl, <string> noscheme_url);\n\t\t\t}\n\t\t}\n\n\t\t// Since not absolute, just get rid of base file name to find it's\n\t\t// folder and then concatenate dynamic URL\n\t\tif (this._context && this._context.dependencyBaseUrl) {\n\t\t\tbase = this._context.dependencyBaseUrl;\n\t\t\treturn this.joinUrl(base, url);\n\t\t} else {\n\t\t\tbase = this._uri.substring(0, this._uri.lastIndexOf('/') + 1);\n\t\t\treturn this.joinUrl(base, url);\n\t\t}\n\t}\n\n\tprivate retrieveParserDependencies()\n\t{\n\t\tif (!this._currentDependency)\n\t\t\treturn;\n\n\t\tvar parserDependancies = this._currentDependency.parser.dependencies\n\t\tvar i:number, len:number = parserDependancies.length;\n\n\t\tfor (i = 0; i < len; i++)\n\t\t\tthis._currentDependency.dependencies[i] = parserDependancies[i];\n\n\n\t\t// Since more dependencies might be added eventually, empty this\n\t\t// list so that the same dependency isn't retrieved more than once.\n\t\tparserDependancies.length = 0;\n\n\t\tthis._stack.push(this._currentDependency);\n\n\t\tthis.retrieveNext();\n\t}\n\n\tprivate resolveParserDependencies()\n\t{\n\t\tthis._currentDependency._iSuccess = true;\n\n\t\t// Retrieve any last dependencies remaining on this parser, or\n\t\t// if none exists, just move on.\n\t\tif (this._currentDependency.parser && this._currentDependency.parser.dependencies.length && (!this._context || this._context.includeDependencies))//context may be null\n\t\t\tthis.retrieveParserDependencies();\n\t\telse\n\t\t\tthis.retrieveNext();\n\t}\n\n\t/**\n\t * Called when a single dependency loading failed, and pushes further dependencies onto the stack.\n\t * @param event\n\t */\n\tprivate onLoadError(event:IOErrorEvent)\n\t{\n\t\tvar handled:boolean;\n\t\tvar isDependency:boolean = (this._currentDependency != this._baseDependency);\n\t\tvar loader:URLLoader = <URLLoader> event.target;//TODO: keep on eye on this one\n\n\t\tthis.removeEventListeners(loader);\n\n\t\tif (this.hasEventListener(IOErrorEvent.IO_ERROR )) {\n\t\t\tthis.dispatchEvent(event);\n\t\t\thandled = true;\n\t\t} else {\n\t\t\t// TODO: Consider not doing this even when AssetLoader does have it's own LOAD_ERROR listener\n\t\t\tvar i:number, len:number = this._errorHandlers.length;\n\t\t\tfor (i = 0; i < len; i++)\n\t\t\t\tif (!handled)\n\t\t\t\t\thandled = <boolean> this._errorHandlers[i](event);\n\t\t}\n\n\t\tif (handled) {\n\n\t\t\t//if (isDependency && ! event.isDefaultPrevented()) {\n\t\t\tif (isDependency) { // TODO: JS / AS3 Change - we don't have isDefaultPrevented - so will this work\n\n\t\t\t\tthis._currentDependency.resolveFailure();\n\t\t\t\tthis.retrieveNext();\n\n\t\t\t} else {\n\t\t\t\t// Either this was the base file (last left in the stack) or\n\t\t\t\t// default behavior was prevented by the handlers, and hence\n\t\t\t\t// there is nothing more to do than clean up and bail.\n\t\t\t\tthis.dispose();\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\n\t\t\t// Error event was not handled by listeners directly on AssetLoader or\n\t\t\t// on any of the subscribed loaders (in the list of error handlers.)\n\t\t\tthrow new Error();\n\t\t}\n\t}\n\n\t/**\n\t * Called when a dependency parsing failed, and dispatches a <code>ParserEvent.PARSE_ERROR</code>\n\t * @param event\n\t */\n\tprivate onParseError(event:ParserEvent)\n\t{\n\t\tvar handled:boolean;\n\n\t\tvar isDependency:boolean = (this._currentDependency != this._baseDependency);\n\n\t\tvar loader:URLLoader = <URLLoader>event.target;\n\n\t\tthis.removeEventListeners(loader);\n\n\t\tif (this.hasEventListener(ParserEvent.PARSE_ERROR)) {\n\t\t\tthis.dispatchEvent(event);\n\t\t\thandled = true;\n\t\t} else {\n\t\t\t// TODO: Consider not doing this even when AssetLoader does\n\t\t\t// have it's own LOAD_ERROR listener\n\t\t\tvar i:number, len:number = this._parseErrorHandlers.length;\n\n\t\t\tfor (i = 0; i < len; i++)\n\t\t\t\tif (!handled)\n\t\t\t\t\thandled = <boolean> this._parseErrorHandlers[i](event);\n\t\t}\n\n\t\tif (handled) {\n\t\t\tthis.dispose();\n\t\t\treturn;\n\t\t} else {\n\t\t\t// Error event was not handled by listeners directly on AssetLoader or\n\t\t\t// on any of the subscribed loaders (in the list of error handlers.)\n\t\t\tthrow new Error(event.message);\n\t\t}\n\t}\n\n\tprivate onAssetComplete(event:AssetEvent)\n\t{\n\t\t// Add loaded asset to list of assets retrieved as part\n\t\t// of the current dependency. This list will be inspected\n\t\t// by the parent parser when dependency is resolved\n\t\tif (this._currentDependency)\n\t\t\tthis._currentDependency.assets.push(event.asset);\n\n\t\tevent.asset.resetAssetPath(event.asset.name, this._namespace);\n\n\t\tif (!this._currentDependency.suppresAssetEvents)\n\t\t\tthis.dispatchEvent(event);\n\t}\n\n\tprivate onReadyForDependencies(event:ParserEvent)\n\t{\n\t\tvar parser:ParserBase = <ParserBase> event.target;\n\n\t\tif (this._context && !this._context.includeDependencies)\n\t\t\tparser._iResumeParsingAfterDependencies();\n\t\telse\n\t\t\tthis.retrieveParserDependencies();\n\t}\n\n\t/**\n\t * Called when a single dependency was parsed, and pushes further dependencies onto the stack.\n\t * @param event\n\t */\n\tprivate onLoadComplete(event:Event)\n\t{\n\t\tvar loader:URLLoader = <URLLoader> event.target;\n\n\t\tthis.removeEventListeners(loader);\n\n\t\t// Resolve this dependency\n\t\tthis._currentDependency._iSetData(loader.data);\n\n\t\tif (this._currentDependency.retrieveAsRawData) {\n\t\t\t// No need to parse this data, which should be returned as is\n\t\t\tthis.resolveParserDependencies();\n\t\t} else {\n\t\t\tthis.parseDependency(this._currentDependency);\n\t\t}\n\t}\n\n\t/**\n\t * Called when parsing is complete.\n\t */\n\tprivate onParseComplete(event:ParserEvent):void\n\t{\n\t\tvar parser:ParserBase = <ParserBase> event.target;\n\n\t\tthis.resolveParserDependencies();//resolve in front of removing listeners to allow any remaining asset events to propagate\n\n\t\tparser.removeEventListener(ParserEvent.READY_FOR_DEPENDENCIES, this._onReadyForDependenciesDelegate);\n\t\tparser.removeEventListener(ParserEvent.PARSE_COMPLETE, this._onParseCompleteDelegate);\n\t\tparser.removeEventListener(ParserEvent.PARSE_ERROR, this._onParseErrorDelegate);\n\t\tparser.removeEventListener(AssetEvent.TEXTURE_SIZE_ERROR, this._onTextureSizeErrorDelegate);\n\t\tparser.removeEventListener(AssetEvent.ASSET_COMPLETE, this._onAssetCompleteDelegate);\n\t}\n\n\t/**\n\t * Called when an image is too large or it's dimensions are not a power of 2\n\t * @param event\n\t */\n\tprivate onTextureSizeError(event:AssetEvent)\n\t{\n\t\tevent.asset.name = this._currentDependency.resolveName(event.asset);\n\n\t\tthis.dispatchEvent(event);\n\t}\n\n\tprivate addEventListeners(loader:URLLoader)\n\t{\n\t\tloader.addEventListener(Event.COMPLETE, this._onLoadCompleteDelegate);\n\t\tloader.addEventListener(IOErrorEvent.IO_ERROR, this._onLoadErrorDelegate);\n\t}\n\n\tprivate removeEventListeners(loader:URLLoader)\n\t{\n\t\tloader.removeEventListener(Event.COMPLETE, this._onLoadCompleteDelegate);\n\t\tloader.removeEventListener(IOErrorEvent.IO_ERROR, this._onLoadErrorDelegate);\n\t}\n\n\tpublic stop()\n\t{\n\t\tthis.dispose();\n\t}\n\n\tprivate dispose()\n\t{\n\t\tthis._errorHandlers = null;\n\t\tthis._parseErrorHandlers = null;\n\t\tthis._context = null;\n\t\tthis._token = null;\n\t\tthis._stack = null;\n\n\t\tif (this._currentDependency && this._currentDependency._iLoader)\n\t\t\tthis.removeEventListeners(this._currentDependency._iLoader);\n\n\t\tthis._currentDependency = null;\n\n\t}\n\n\t/**\n\t * @private\n\t * This method is used by other loader classes (e.g. Loader3D and AssetLibraryBundle) to\n\t * add error event listeners to the AssetLoader instance. This system is used instead of\n\t * the regular EventDispatcher system so that the AssetLibrary error handler can be sure\n\t * that if hasEventListener() returns true, it's client code that's listening for the\n\t * event. Secondly, functions added as error handler through this custom method are\n\t * expected to return a boolean value indicating whether the event was handled (i.e.\n\t * whether they in turn had any client code listening for the event.) If no handlers\n\t * return true, the AssetLoader knows that the event wasn't handled and will throw an RTE.\n\t */\n\n\tpublic _iAddParseErrorHandler(handler)\n\t{\n\t\tif (this._parseErrorHandlers.indexOf(handler) < 0)\n\t\t\tthis._parseErrorHandlers.push(handler);\n\t}\n\n\tpublic _iAddErrorHandler(handler)\n\t{\n\t\tif (this._errorHandlers.indexOf(handler) < 0)\n\t\t\tthis._errorHandlers.push(handler);\n\t}\n\n\n\t/**\n\t * Guesses the parser to be used based on the file contents.\n\t * @param data The data to be parsed.\n\t * @param uri The url or id of the object to be parsed.\n\t * @return An instance of the guessed parser.\n\t */\n\tprivate getParserFromData(data:any):ParserBase\n\t{\n\t\tvar len:number = AssetLoader._parsers.length;\n\n\t\t// go in reverse order to allow application override of default parser added in away.proper\n\t\tfor (var i:number = len - 1; i >= 0; i--)\n\t\t\tif (AssetLoader._parsers[i].supportsData(data))\n\t\t\t\treturn new AssetLoader._parsers[i]();\n\n\t\treturn null;\n\t}\n\n\n\t/**\n\t * Initiates parsing of the loaded dependency.\n\t *\n\t * @param The dependency to be parsed.\n\t */\n\tprivate parseDependency(dependency:ResourceDependency):void\n\t{\n\t\tvar parser:ParserBase = dependency.parser;\n\n\t\t// If no parser has been defined, try to find one by letting\n\t\t// all plugged in parsers inspect the actual data.\n\t\tif (!parser)\n\t\t\tdependency._iSetParser(parser = this.getParserFromData(dependency.data));\n\n\t\tif (parser) {\n\t\t\tparser.addEventListener(ParserEvent.READY_FOR_DEPENDENCIES, this._onReadyForDependenciesDelegate);\n\t\t\tparser.addEventListener(ParserEvent.PARSE_COMPLETE, this._onParseCompleteDelegate);\n\t\t\tparser.addEventListener(ParserEvent.PARSE_ERROR, this._onParseErrorDelegate);\n\t\t\tparser.addEventListener(AssetEvent.TEXTURE_SIZE_ERROR, this._onTextureSizeErrorDelegate);\n\t\t\tparser.addEventListener(AssetEvent.ASSET_COMPLETE, this._onAssetCompleteDelegate);\n\n\t\t\tif (dependency.request && dependency.request.url)\n\t\t\t\tparser._iFileName = dependency.request.url;\n\n\t\t\tparser.materialMode = this._materialMode;\n\n\t\t\tparser.parseAsync(dependency.data);\n\n\t\t} else {\n\t\t\tvar message:string = \"No parser defined. To enable all parsers for auto-detection, use Parsers.enableAllBundled()\"\n\t\t\tif(this.hasEventListener(ParserEvent.PARSE_ERROR))\n\t\t\t\tthis.dispatchEvent(new ParserEvent(ParserEvent.PARSE_ERROR, message));\n\t\t\telse\n\t\t\t\tthrow new Error(message);\n\t\t}\n\t}\n\n\t/**\n\t * Guesses the parser to be used based on the file extension.\n\t * @return An instance of the guessed parser.\n\t */\n\tprivate getParserFromSuffix(url:string):ParserBase\n\t{\n\t\t// Get rid of query string if any and extract extension\n\t\tvar base:string = (url.indexOf('?') > 0)? url.split('?')[0] : url;\n\t\tvar fileExtension:string = base.substr(base.lastIndexOf('.') + 1).toLowerCase();\n\n\t\tvar len:number = AssetLoader._parsers.length;\n\n\t\t// go in reverse order to allow application override of default parser added in away.proper\n\t\tfor (var i:number = len - 1; i >= 0; i--) {\n\t\t\tvar parserClass:any = AssetLoader._parsers[i];\n\t\t\tif (parserClass.supportsType(fileExtension))\n\t\t\t\treturn new parserClass();\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport = AssetLoader;",
    "class AssetType\n{\n\tpublic static ANIMATION_NODE:string = 'animationNode';\n\tpublic static ANIMATION_SET:string = 'animationSet';\n\tpublic static ANIMATION_STATE:string = 'animationState';\n\tpublic static ANIMATOR:string = 'animator';\n\tpublic static BILLBOARD:string = 'billboard';\n\tpublic static CAMERA:string = 'camera';\n\tpublic static CONTAINER:string = 'container';\n\tpublic static EFFECTS_METHOD:string = 'effectsMethod';\n\tpublic static FONT:string = 'font';\n\tpublic static GEOMETRY:string = 'geometry';\n\tpublic static LINE_SEGMENT:string = 'lineSegment';\n\tpublic static LIGHT:string = 'light';\n\tpublic static LIGHT_PICKER:string = 'lightPicker';\n\tpublic static MATERIAL:string = 'material';\n\tpublic static MESH:string = 'mesh';\n\tpublic static TRIANGLE_SUB_MESH:string = 'triangleSubMesh';\n    public static CURVE_SUB_MESH:string = 'curveSubMesh';\n\tpublic static LINE_SUB_MESH:string = 'lineSubMesh';\n\tpublic static PRIMITIVE_PREFAB:string = 'primitivePrefab';\n\tpublic static SHADOW_MAP_METHOD:string = 'shadowMapMethod';\n\tpublic static SKELETON:string = 'skeleton';\n\tpublic static SKELETON_POSE:string = 'skeletonPose';\n\tpublic static SKYBOX:string = 'skybox';\n\tpublic static STATE_TRANSITION:string = 'stateTransition';\n\tpublic static TEXTFIELD:string = 'textfield';\n\tpublic static TEXTFORMAT:string = 'textformat';\n\tpublic static TEXTURE:string = 'texture';\n\tpublic static TEXTURE_PROJECTOR:string = 'textureProjector';\n\tpublic static TIMELINE:string = 'timeline';\n}\n\nexport = AssetType;",
    "/**\n * Enumaration class for precedence when resolving naming conflicts in the library.\n *\n * @see away.library.AssetLibrary.conflictPrecedence\n * @see away.library.AssetLibrary.conflictStrategy\n * @see away.library.naming.ConflictStrategy\n */\nclass ConflictPrecedence\n{\n\t/**\n\t * Signals that in a conflict, the previous owner of the conflicting name\n\t * should be favored (and keep it's name) and that the newly renamed asset\n\t * is reverted to a non-conflicting name.\n\t */\n\tpublic static FAVOR_OLD:string = 'favorOld';\n\n\t/**\n\t * Signales that in a conflict, the newly renamed asset is favored (and keeps\n\t * it's newly defined name) and that the previous owner of that name gets\n\t * renamed to a non-conflicting name.\n\t */\n\tpublic static FAVOR_NEW:string = 'favorNew';\n}\n\nexport = ConflictPrecedence;",
    "import ConflictPrecedence\t\t= require(\"awayjs-core/lib/library/ConflictPrecedence\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\nimport AssetEvent\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\n\n/**\n * Abstract base class for naming conflict resolution classes. Extend this to create a\n * strategy class which the asset library can use to resolve asset naming conflicts, or\n * use one of the bundled concrete strategy classes:\n *\n * <ul>\n *   <li>IgnoreConflictStrategy (ConflictStrategy.IGNORE)</li>\n *   <li>ErrorConflictStrategy (ConflictStrategy.THROW_ERROR)</li>\n *   <li>NumSuffixConflictStrategy (ConflictStrategy.APPEND_NUM_SUFFIX)</li>\n * </ul>\n *\n * @see away.library.AssetLibrary.conflictStrategy\n * @see away.library.ConflictStrategy\n * @see away.library.IgnoreConflictStrategy\n * @see away.library.ErrorConflictStrategy\n * @see away.library.NumSuffixConflictStrategy\n */\nclass ConflictStrategyBase\n{\n\n\tconstructor()\n\t{\n\t}\n\n\t/**\n\t * Resolve a naming conflict between two assets. Must be implemented by concrete strategy\n\t * classes.\n\t */\n\tpublic resolveConflict(changedAsset:IAsset, oldAsset:IAsset, assetsDictionary:Object, precedence:string)\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/**\n\t * Create instance of this conflict strategy. Used internally by the AssetLibrary to\n\t * make sure the same strategy instance is not used in all AssetLibrary instances, which\n\t * would break any state caching that happens inside the strategy class.\n\t */\n\tpublic create():ConflictStrategyBase\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/**\n\t * Provided as a convenience method for all conflict strategy classes, as a way to finalize\n\t * the conflict resolution by applying the new names and dispatching the correct events.\n\t */\n\tpublic _pUpdateNames(ns:string, nonConflictingName:string, oldAsset:IAsset, newAsset:IAsset, assetsDictionary:Object, precedence:string)\n\t{\n\t\tvar loser_prev_name:string;\n\t\tvar winner:IAsset;\n\t\tvar loser:IAsset;\n\n\t\twinner = (precedence === ConflictPrecedence.FAVOR_NEW)? newAsset : oldAsset;\n\t\tloser = (precedence === ConflictPrecedence.FAVOR_NEW)? oldAsset : newAsset;\n\n\t\tloser_prev_name = loser.name;\n\n\t\tassetsDictionary[winner.name] = winner;\n\t\tassetsDictionary[nonConflictingName] = loser;\n\t\tloser.resetAssetPath(nonConflictingName, ns, false);\n\n\t\tloser.dispatchEvent(new AssetEvent(AssetEvent.ASSET_CONFLICT_RESOLVED, loser, loser_prev_name));\n\t}\n}\n\nexport = ConflictStrategyBase;",
    "import ConflictStrategyBase\t\t\t= require(\"awayjs-core/lib/library/ConflictStrategyBase\");\nimport ErrorConflictStrategy\t\t= require(\"awayjs-core/lib/library/ErrorConflictStrategy\");\nimport IgnoreConflictStrategy\t\t= require(\"awayjs-core/lib/library/IgnoreConflictStrategy\");\nimport NumSuffixConflictStrategy\t= require(\"awayjs-core/lib/library/NumSuffixConflictStrategy\");\n\n/**\n * Enumeration class for bundled conflict strategies. Set one of these values (or an\n * instance of a self-defined sub-class of ConflictStrategyBase) to the conflictStrategy\n * property on an AssetLibrary to define how that library resolves naming conflicts.\n *\n * The value of the <code>AssetLibrary.conflictPrecedence</code> property defines which\n * of the conflicting assets will get to keep it's name, and which is renamed (if any.)\n *\n * @see away.library.AssetLibrary.conflictStrategy\n * @see away.library.naming.ConflictStrategyBase\n */\nclass ConflictStrategy\n{\n\t/**\n\t * Specifies that in case of a naming conflict, one of the assets will be renamed and\n\t * a numeric suffix appended to the base name.\n\t */\n\tpublic static APPEND_NUM_SUFFIX:ConflictStrategyBase = new NumSuffixConflictStrategy();\n\n\t/**\n\t * Specifies that naming conflicts should be ignored. This is not recommended in most\n\t * cases, unless it can be 100% guaranteed that the application does not cause naming\n\t * conflicts in the library (i.e. when an app-level system is in place to prevent this.)\n\t */\n\tpublic static IGNORE:ConflictStrategyBase = new IgnoreConflictStrategy();\n\n\t/**\n\t * Specifies that an error should be thrown if a naming conflict is discovered. Use this\n\t * to be 100% sure that naming conflicts never occur unnoticed, and when it's undesirable\n\t * to have the library automatically rename assets to avoid such conflicts.\n\t */\n\tpublic static THROW_ERROR:ConflictStrategyBase = new ErrorConflictStrategy();\n\n\tconstructor(include?:ConflictStrategyBase)\n\t{\n\t\t//TODO: find out why typescript d.ts files do not include this class\n\t}\n}\n\nexport = ConflictStrategy;",
    "import ConflictStrategyBase\t\t= require(\"awayjs-core/lib/library/ConflictStrategyBase\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\n\nclass ErrorConflictStrategy extends ConflictStrategyBase\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\tpublic resolveConflict(changedAsset:IAsset, oldAsset:IAsset, assetsDictionary:Object, precedence:string)\n\t{\n\t\tthrow new Error('Asset name collision while AssetLibrary.namingStrategy set to AssetLibrary.THROW_ERROR. Asset path: ' + changedAsset.assetFullPath);\n\t}\n\n\tpublic create():ConflictStrategyBase\n\t{\n\t\treturn new ErrorConflictStrategy();\n\t}\n}\n\nexport = ErrorConflictStrategy;",
    "class IDUtil\n{\n\t/**\n\t *  @private\n\t *  Char codes for 0123456789ABCDEF\n\t */\n\tprivate static ALPHA_CHAR_CODES = [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 65, 66, 67, 68, 69, 70];\n\n\t/**\n\t *  Generates a UID (unique identifier) based on ActionScript's\n\t *  pseudo-random number generator and the current time.\n\t *\n\t *  <p>The UID has the form\n\t *  <code>\"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\"</code>\n\t *  where X is a hexadecimal digit (0-9, A-F).</p>\n\t *\n\t *  <p>This UID will not be truly globally unique; but it is the best\n\t *  we can do without player support for UID generation.</p>\n\t *\n\t *  @return The newly-generated UID.\n\t *\n\t *  @langversion 3.0\n\t *  @playerversion Flash 9\n\t *  @playerversion AIR 1.1\n\t *  @productversion Flex 3\n\t */\n\tpublic static createUID():string\n\t{\n\t\tvar uid = new Array(36);\n\t\tvar index:number = 0;\n\n\t\tvar i:number;\n\t\tvar j:number;\n\n\t\tfor (i = 0; i < 8; i++)\n\t\t\tuid[index++] = IDUtil.ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];\n\n\t\tfor (i = 0; i < 3; i++) {\n\t\t\tuid[index++] = 45; // charCode for \"-\"\n\n\t\t\tfor (j = 0; j < 4; j++)\n\t\t\t\tuid[index++] = IDUtil.ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];\n\t\t}\n\n\t\tuid[index++] = 45; // charCode for \"-\"\n\n\t\tvar time:number = new Date().getTime();\n\t\t// Note: time is the number of milliseconds since 1970,\n\t\t// which is currently more than one trillion.\n\t\t// We use the low 8 hex digits of this number in the UID.\n\t\t// Just in case the system clock has been reset to\n\t\t// Jan 1-4, 1970 (in which case this number could have only\n\t\t// 1-7 hex digits), we pad on the left with 7 zeros\n\t\t// before taking the low digits.\n\t\tvar timeString:string = (\"0000000\" + time.toString(16).toUpperCase()).substr(-8);\n\n\t\tfor (i = 0; i < 8; i++)\n\t\t\tuid[index++] = timeString.charCodeAt(i);\n\n\t\tfor (i = 0; i < 4; i++)\n\t\t\tuid[index++] = IDUtil.ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];\n\n\t\treturn String.fromCharCode.apply(null, uid);\n\t}\n\n\t/**\n\t * Returns the decimal representation of a hex digit.\n\t * @private\n\n\t private static getDigit(hex:string):number\n\t {\n\t\tswitch (hex) {\n\t\t\tcase \"A\":\n\t\t\tcase \"a\":\n\t\t\t\treturn 10;\n\t\t\tcase \"B\":\n\t\t\tcase \"b\":\n\t\t\t\treturn 11;\n\t\t\tcase \"C\":\n\t\t\tcase \"c\":\n\t\t\t\treturn 12;\n\t\t\tcase \"D\":\n\t\t\tcase \"d\":\n\t\t\t\treturn 13;\n\t\t\tcase \"E\":\n\t\t\tcase \"e\":\n\t\t\t\treturn 14;\n\t\t\tcase \"F\":\n\t\t\tcase \"f\":\n\t\t\t\treturn 15;\n\t\t\tdefault:\n\t\t\t\treturn new uint(hex);\n\t\t}\n\t}\n\t */\n\n}\n\nexport = IDUtil;",
    "import ConflictStrategyBase\t\t= require(\"awayjs-core/lib/library/ConflictStrategyBase\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\n\nclass IgnoreConflictStrategy extends ConflictStrategyBase\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\tpublic resolveConflict(changedAsset:IAsset, oldAsset:IAsset, assetsDictionary:Object, precedence:string)\n\t{\n\t\t// Do nothing, ignore the fact that there is a conflict.\n\t\treturn;\n\t}\n\n\tpublic create():ConflictStrategyBase\n\t{\n\t\treturn new IgnoreConflictStrategy();\n\t}\n}\n\nexport = IgnoreConflictStrategy;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\nimport AssetEvent\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\n\nclass NamedAssetBase extends EventDispatcher\n{\n\tpublic static ID_COUNT:number = 0;\n\n\tprivate _originalName:string;\n\tprivate _namespace:string;\n\tprivate _name:string;\n\tprivate _id:number;\n\tprivate _full_path:Array<string>;\n\n\tpublic static DEFAULT_NAMESPACE:string = 'default';\n\n\tconstructor(name:string = null)\n\t{\n\t\tsuper();\n\n\t\tthis._id = NamedAssetBase.ID_COUNT++;\n\n\t\tif (name == null)\n\t\t\tname = 'null';\n\n\t\tthis._name = name;\n\t\tthis._originalName = name;\n\n\t\tthis.updateFullPath();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get assetType():string\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/**\n\t * The original name used for this asset in the resource (e.g. file) in which\n\t * it was found. This may not be the same as <code>name</code>, which may\n\t * have changed due to of a name conflict.\n\t */\n\tpublic get originalName():string\n\t{\n\t\treturn this._originalName;\n\t}\n\n\t/**\n\t * A unique id for the asset, used to identify assets in an associative array\n\t */\n\tpublic get id():number\n\t{\n\t\treturn this._id;\n\t}\n\n\tpublic get name():string\n\t{\n\t\treturn this._name;\n\t}\n\n\tpublic set name(val:string)\n\t{\n\t\tvar prev:string;\n\n\t\tprev = this._name;\n\t\tthis._name = val;\n\n\t\tif (this._name == null)\n\t\t\tthis._name = 'null';\n\n\t\tthis.updateFullPath();\n\n\t\t//if (hasEventListener(AssetEvent.ASSET_RENAME))\n\t\tthis.dispatchEvent(new AssetEvent(AssetEvent.ASSET_RENAME, <IAsset> this, prev));\n\n\t}\n\n\tpublic dispose()\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tpublic get assetNamespace():string\n\t{\n\t\treturn this._namespace;\n\t}\n\n\tpublic get assetFullPath():Array<string>\n\t{\n\t\treturn this._full_path;\n\t}\n\n\tpublic assetPathEquals(name:string, ns:string):boolean\n\t{\n\t\treturn (this._name == name && (!ns || this._namespace == ns));\n\t}\n\n\tpublic resetAssetPath(name:string, ns:string = null, overrideOriginal:boolean = true):void\n\t{\n\n\t\tthis._name = name? name : 'null';\n\t\tthis._namespace = ns? ns : NamedAssetBase.DEFAULT_NAMESPACE;\n\n\t\tif (overrideOriginal)\n\t\t\tthis._originalName = this._name;\n\n\t\tthis.updateFullPath();\n\t}\n\n\tprivate updateFullPath():void\n\t{\n\t\tthis._full_path = [ this._namespace, this._name ];\n\t}\n}\n\nexport = NamedAssetBase;",
    "import ConflictStrategyBase\t\t= require(\"awayjs-core/lib/library/ConflictStrategyBase\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\n\nclass NumSuffixConflictStrategy extends ConflictStrategyBase\n{\n\tprivate _separator:string;\n\tprivate _next_suffix:Object;\n\n\tconstructor(separator:string = '.')\n\t{\n\t\tsuper();\n\n\t\tthis._separator = separator;\n\t\tthis._next_suffix = {};\n\t}\n\n\tpublic resolveConflict(changedAsset:IAsset, oldAsset:IAsset, assetsDictionary:Object, precedence:string)\n\t{\n\t\tvar orig:string;\n\t\tvar new_name:string;\n\t\tvar base:string;\n\t\tvar suffix:number;\n\n\t\torig = changedAsset.name;\n\n\t\tif (orig.indexOf(this._separator) >= 0) {\n\t\t\t// Name has an ocurrence of the separator, so get base name and suffix,\n\t\t\t// unless suffix is non-numerical, in which case revert to zero and\n\t\t\t// use entire name as base\n\t\t\tbase = orig.substring(0, orig.lastIndexOf(this._separator));\n\t\t\tsuffix = parseInt(orig.substring(base.length - 1));\n\n\t\t\tif (isNaN(suffix)) {\n\t\t\t\tbase = orig;\n\t\t\t\tsuffix = 0;\n\t\t\t}\n\n\t\t} else {\n\t\t\tbase = orig;\n\t\t\tsuffix = 0;\n\t\t}\n\n\t\tif (suffix == 0 && this._next_suffix.hasOwnProperty(base)) {\n\n\t\t\tsuffix = this._next_suffix[base];\n\n\t\t}\n\n\t\t// Find the first suffixed name that does\n\t\t// not collide with other names.\n\t\tdo {\n\n\t\t\tsuffix++;\n\n\t\t\tnew_name = base.concat(this._separator, suffix.toString());\n\n\t\t} while (assetsDictionary.hasOwnProperty(new_name));\n\n\t\tthis._next_suffix[ base ] = suffix;\n\t\tthis._pUpdateNames(oldAsset.assetNamespace, new_name, oldAsset, changedAsset, assetsDictionary, precedence);\n\n\t}\n\n\tpublic create():ConflictStrategyBase\n\t{\n\t\treturn new NumSuffixConflictStrategy(this._separator);\n\t}\n}\n\nexport = NumSuffixConflictStrategy;",
    "class CrossDomainPolicy\n{\n\tpublic static ANONYMOUS:string = 'anonymous';\n\n\tpublic static USE_CREDENTIALS:string = 'use-credentials';\n}\n\nexport = CrossDomainPolicy;\n",
    "class URLLoaderDataFormat\n{\n\t/**\n\t * TEXT\n\t * @type {string}\n\t */\n\tpublic static TEXT:string = \"text\";\n\n\t/**\n\t * Variables / Value Pairs\n\t * @type {string}\n\t */\n\tpublic static VARIABLES:string = \"variables\";\n\n\t/**\n\t *\n\t * @type {string}\n\t */\n\tpublic static BLOB:string = \"blob\";\n\n\t/**\n\t *\n\t * @type {string}\n\t */\n\tpublic static ARRAY_BUFFER:string = \"arraybuffer\";\n\n\t/**\n\t *\n\t * @type {string}\n\t */\n\tpublic static BINARY:string = \"binary\";\n}\n\nexport = URLLoaderDataFormat;",
    "import URLLoaderDataFormat\t\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport URLRequest\t\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport URLRequestMethod\t\t\t\t= require(\"awayjs-core/lib/net/URLRequestMethod\");\nimport URLVariables\t\t\t\t\t= require(\"awayjs-core/lib/net/URLVariables\");\nimport AwayEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/Event\");\nimport EventDispatcher\t\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport HTTPStatusEvent\t\t\t\t= require(\"awayjs-core/lib/events/HTTPStatusEvent\");\nimport IOErrorEvent\t\t\t\t\t= require(\"awayjs-core/lib/events/IOErrorEvent\");\nimport AwayProgressEvent\t\t\t= require(\"awayjs-core/lib/events/ProgressEvent\");\n\n/**\n * The URLLoader is used to load a single file, as part of a resource.\n *\n * While URLLoader can be used directly, e.g. to create a third-party asset\n * management system, it's recommended to use any of the classes Loader3D, AssetLoader\n * and AssetLibrary instead in most cases.\n *\n * @see AssetLoader\n * @see away.library.AssetLibrary\n */\nclass URLLoader extends EventDispatcher\n{\n\tprivate _XHR:XMLHttpRequest;\n\tprivate _bytesLoaded:number = 0;\n\tprivate _bytesTotal:number = 0;\n\tprivate _dataFormat:string = URLLoaderDataFormat.TEXT;\n\tprivate _loadError:boolean = false;\n\n\tprivate _request:URLRequest;\n\tprivate _data:any;\n\n\tprivate _loadStartEvent:AwayEvent;\n\tprivate _loadErrorEvent:IOErrorEvent;\n\tprivate _loadCompleteEvent:AwayEvent;\n\tprivate _progressEvent:AwayProgressEvent;\n\n\t/**\n\t * Creates a new URLLoader object.\n\t */\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get url():string\n\t{\n\n\t\treturn this._request? this._request.url : '';\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get data():any\n\t{\n\t\treturn this._data;\n\t}\n\n\n\t/**\n\t *\n\t * URLLoaderDataFormat.BINARY\n\t * URLLoaderDataFormat.TEXT\n\t * URLLoaderDataFormat.VARIABLES\n\t *\n\t * @param format\n\t */\n\tpublic set dataFormat(format:string)\n\t{\n\t\tthis._dataFormat = format;\n\t}\n\n\tpublic get dataFormat():string\n\t{\n\t\treturn this._dataFormat;\n\t}\n\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tpublic get bytesLoaded():number\n\t{\n\t\treturn this._bytesLoaded;\n\t}\n\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tpublic get bytesTotal():number\n\t{\n\t\treturn this._bytesTotal;\n\t}\n\n\t/**\n\t * Load a resource from a file.\n\t *\n\t * @param request The URLRequest object containing the URL of the object to be loaded.\n\t */\n\tpublic load(request:URLRequest):void\n\t{\n\t\tthis._request = request;\n\n\t\tthis.initXHR();\n\n\t\tif (request.method === URLRequestMethod.POST)\n\t\t\tthis.postRequest(request);\n\t\telse\n\t\t\tthis.getRequest(request);\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic close():void\n\t{\n\t\tthis._XHR.abort();\n\t\tthis.disposeXHR();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic dispose():void\n\t{\n\t\tif (this._XHR)\n\t\t\tthis._XHR.abort();\n\n\t\tthis.disposeXHR();\n\n\t\tthis._data = null;\n\t\tthis._dataFormat = null;\n\t\tthis._bytesLoaded = null;\n\t\tthis._bytesTotal = null;\n\t}\n\n\t/**\n\t *\n\t * @param xhr\n\t * @param responseType\n\t */\n\tprivate setResponseType(xhr:XMLHttpRequest, responseType:string):void\n\t{\n\t\tswitch (responseType) {\n\t\t\tcase URLLoaderDataFormat.ARRAY_BUFFER:\n\t\t\tcase URLLoaderDataFormat.BLOB:\n\t\t\tcase URLLoaderDataFormat.TEXT:\n\t\t\t\txhr.responseType = responseType;\n\t\t\t\tbreak;\n\n\t\t\tcase URLLoaderDataFormat.VARIABLES:\n\t\t\t\txhr.responseType = URLLoaderDataFormat.TEXT;\n\t\t\t\tbreak;\n\n\t\t\tcase URLLoaderDataFormat.BINARY:\n\t\t\t\txhr.responseType = '';\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param request {URLRequest}\n\t */\n\tprivate getRequest(request:URLRequest):void\n\t{\n\t\ttry {\n\t\t\tthis._XHR.open(request.method, request.url, request.async);\n\t\t\tthis.setResponseType(this._XHR, this._dataFormat);\n\t\t\tthis._XHR.send(); // No data to send\n\t\t} catch (e /* <XMLHttpRequestException> */) {\n\t\t\tthis.handleXmlHttpRequestException(e);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param request {URLRequest}\n\t */\n\tprivate postRequest(request:URLRequest):void\n\t{\n\t\tthis._loadError = false;\n\n\t\tthis._XHR.open(request.method, request.url, request.async);\n\n\t\tif (request.data != null) {\n\t\t\tif (request.data instanceof URLVariables) {\n\t\t\t\tvar urlVars:URLVariables = <URLVariables> request.data;\n\n\t\t\t\ttry {\n\t\t\t\t\tthis._XHR.responseType = 'text';\n\t\t\t\t\tthis._XHR.send(urlVars.formData);\n\t\t\t\t} catch (e /* <XMLHttpRequestException> */) {\n\t\t\t\t\tthis.handleXmlHttpRequestException(e);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.setResponseType(this._XHR, this._dataFormat);\n\n\t\t\t\tif (request.data)\n\t\t\t\t\tthis._XHR.send(request.data); // TODO: Test\n\t\t\t\telse\n\t\t\t\t\tthis._XHR.send(); // no data to send\n\t\t\t}\n\t\t} else {\n\t\t\tthis._XHR.send(); // No data to send\n\t\t}\n\n\t}\n\n\t/**\n\t *\n\t * @param error {XMLHttpRequestException}\n\t */\n\tprivate handleXmlHttpRequestException(error:any /* <XMLHttpRequestException> */):void\n\t{\n\t\tswitch (error.code) {\n\n\t\t/******************************************************************************************************************************************************************************************************\n\t\t *\n\t\t *  XMLHttpRequestException { message: \"NETWORK_ERR: XMLHttpRequest Exception 101\", name: \"NETWORK_ERR\", code: 101, stack: \"Error: A network error occurred in synchronous req\",NETWORK_ERR: 101 }\n\t\t *  code: 101 , message: \"NETWORK_ERR: XMLHttpRequest Exception 101\" ,  name: \"NETWORK_ERR\"\n\t\t *\n\t\t ******************************************************************************************************************************************************************************************************/\n\n\t\t\tcase 101:\n\t\t\t\t// Note: onLoadError event throws IO_ERROR event - this case is already Covered\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate initXHR()\n\t{\n\t\tif (!this._XHR) {\n\t\t\tthis._XHR = new XMLHttpRequest();\n\n\t\t\tthis._XHR.onloadstart = (event:ProgressEvent) => this.onLoadStart(event);                 // loadstart\t        - When the request starts.\n\t\t\tthis._XHR.onprogress = (event:ProgressEvent) => this.onProgress(event);\t                // progress\t            - While loading and sending data.\n\t\t\tthis._XHR.onabort = (event:UIEvent) => this.onAbort(event);\t                        // abort\t            - When the request has been aborted, either by invoking the abort() method or navigating away from the page.\n\t\t\tthis._XHR.onerror = (event:ErrorEvent) => this.onLoadError(event);                     // error\t            - When the request has failed.\n\t\t\tthis._XHR.onload = (event:Event) => this.onLoadComplete(event);                   // load\t                - When the request has successfully completed.\n\t\t\tthis._XHR.ontimeout = (event:Event) => this.onTimeOut(event);                     // timeout\t            - When the author specified timeout has passed before the request could complete.\n\t\t\tthis._XHR.onloadend = (event:ProgressEvent) => this.onLoadEnd(event);                     // loadend\t            - When the request has completed, regardless of whether or not it was successful.\n\t\t\tthis._XHR.onreadystatechange = (event:Event) => this.onReadyStateChange(event);   // onreadystatechange   - When XHR state changes\n\t\t}\n\t}\n\n\t/**\n\t *\n\t */\n\tprivate disposeXHR()\n\t{\n\t\tif (this._XHR !== null) {\n\t\t\tthis._XHR.onloadstart = null;\n\t\t\tthis._XHR.onprogress = null;\n\t\t\tthis._XHR.onabort = null;\n\t\t\tthis._XHR.onerror = null;\n\t\t\tthis._XHR.onload = null;\n\t\t\tthis._XHR.ontimeout = null;\n\t\t\tthis._XHR.onloadend = null;\n\t\t\tthis._XHR = null;\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param source\n\t */\n\tpublic decodeURLVariables(source:string):Object\n\t{\n\t\tvar result:Object = new Object();\n\n\t\tsource = source.split(\"+\").join(\" \");\n\n\t\tvar tokens, re = /[?&]?([^=]+)=([^&]*)/g;\n\n\t\twhile (tokens = re.exec(source))\n\t\t\tresult[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\n\t\treturn result;\n\t}\n\n\t// XMLHttpRequest - Event Handlers\n\n\t/**\n\t * When XHR state changes\n\t * @param event\n\t */\n\tprivate onReadyStateChange(event:Event)\n\t{\n\t\tif (this._XHR.readyState == 4) {\n\t\t\tif (this._XHR.status == 404) {\n\t\t\t\tthis._loadError = true;\n\n\t\t\t\tif (!this._loadErrorEvent)\n\t\t\t\t\tthis._loadErrorEvent = new IOErrorEvent(IOErrorEvent.IO_ERROR);\n\n\t\t\t\tthis.dispatchEvent(this._loadErrorEvent);\n\t\t\t}\n\n\t\t\tthis.dispatchEvent(new HTTPStatusEvent(HTTPStatusEvent.HTTP_STATUS, this._XHR.status));\n\t\t}\n\t}\n\n\t/**\n\t * When the request has completed, regardless of whether or not it was successful.\n\t * @param event\n\t */\n\tprivate onLoadEnd(event:ProgressEvent)\n\t{\n\t\tif (this._loadError === true)\n\t\t\treturn;\n\t}\n\n\t/**\n\t * When the author specified timeout has passed before the request could complete.\n\t * @param event\n\t */\n\tprivate onTimeOut(event:Event)\n\t{\n\t\t//TODO: Timeout not currently implemented ( also not part of AS3 API )\n\t}\n\n\t/**\n\t * When the request has been aborted, either by invoking the abort() method or navigating away from the page.\n\t * @param event\n\t */\n\tprivate onAbort(event:UIEvent)\n\t{\n\t\t// TODO: investigate whether this needs to be an IOError\n\t}\n\n\t/**\n\t * While loading and sending data.\n\t * @param event\n\t */\n\tprivate onProgress(event:ProgressEvent)\n\t{\n\t\tif (!this._progressEvent)\n\t\t\tthis._progressEvent = new AwayProgressEvent(AwayProgressEvent.PROGRESS);\n\n\t\tthis._progressEvent.bytesTotal = event.total;\n\t\tthis._progressEvent.bytesLoaded = event.loaded;\n\n\t\tthis.dispatchEvent(this._progressEvent);\n\t}\n\n\t/**\n\t * When the request starts.\n\t * @param event\n\t */\n\tprivate onLoadStart(event:ProgressEvent)\n\t{\n\t\tif (!this._loadStartEvent)\n\t\t\tthis._loadStartEvent = new AwayEvent(AwayEvent.OPEN);\n\n\t\tthis.dispatchEvent(this._loadStartEvent);\n\t}\n\n\t/**\n\t * When the request has successfully completed.\n\t * @param event\n\t */\n\tprivate onLoadComplete(event:Event)\n\t{\n\t\tif (this._loadError === true)\n\t\t\treturn;\n\n\t\tswitch (this._dataFormat) {\n\t\t\tcase URLLoaderDataFormat.TEXT:\n\t\t\t\tthis._data = this._XHR.responseText;\n\t\t\t\tbreak;\n\n\t\t\tcase URLLoaderDataFormat.VARIABLES:\n\t\t\t\tthis._data = this.decodeURLVariables(this._XHR.responseText);\n\t\t\t\tbreak;\n\n\t\t\tcase URLLoaderDataFormat.BLOB:\n\t\t\tcase URLLoaderDataFormat.ARRAY_BUFFER:\n\t\t\tcase URLLoaderDataFormat.BINARY:\n\t\t\t\tthis._data = this._XHR.response;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthis._data = this._XHR.responseText;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (!this._loadCompleteEvent)\n\t\t\tthis._loadCompleteEvent = new AwayEvent(AwayEvent.COMPLETE);\n\n\t\tthis.dispatchEvent(this._loadCompleteEvent);\n\t}\n\n\t/**\n\t * When the request has failed. ( due to network issues ).\n\t * @param event\n\t */\n\tprivate onLoadError(event:Event)\n\t{\n\t\tthis._loadError = true;\n\n\t\tif (!this._loadErrorEvent)\n\t\t\tthis._loadErrorEvent = new IOErrorEvent(IOErrorEvent.IO_ERROR);\n\n\t\tthis.dispatchEvent(this._loadErrorEvent);\n\t}\n}\n\nexport = URLLoader;",
    "class URLRequestMethod\n{\n\t/**\n\t *\n\t * @type {string}\n\t */\n\tpublic static POST:string = 'POST';\n\t/**\n\t *\n\t * @type {string}\n\t */\n\tpublic static GET:string = 'GET';\n}\n\nexport = URLRequestMethod;",
    "import URLRequestMethod\t\t\t\t= require(\"awayjs-core/lib/net/URLRequestMethod\");\n\nclass URLRequest\n{\n\t/*\n\t * The MIME content type of the content in the the data property.\n\t * @type {string}\n\t */\n\t//public contentType      : string = 'application/x-www-form-urlencoded'; //Note: Not used for now.\n\n\t/**\n\t * Object containing data to be transmited with URL Request ( URL Variables / binary / string )\n\t *\n\t */\n\tpublic data:any;\n\n\t/**\n\t *\n\t * away.net.URLRequestMethod.GET\n\t * away.net.URLRequestMethod.POST\n\t *\n\t * @type {string}\n\t */\n\tpublic method:string = URLRequestMethod.GET;\n\n\t/**\n\t * Use asynchronous XMLHttpRequest\n\t * @type {boolean}\n\t */\n\tpublic async:boolean = true;\n\n\t/**\n\t *\n\t */\n\tprivate _url:string;\n\n\t/**\n\n\t * @param url\n\t */\n\tconstructor(url:string = null)\n\t{\n\t\tthis._url = url;\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get url():string\n\t{\n\t\treturn this._url;\n\t}\n\n\t/**\n\t *\n\t * @param value\n\t */\n\tpublic set url(value:string)\n\t{\n\t\tthis._url = value;\n\t}\n\n\t/**\n\t * dispose\n\t */\n\tpublic dispose():void\n\t{\n\t\tthis.data = null;\n\t\tthis._url = null;\n\t}\n}\n\nexport = URLRequest;",
    "class URLVariables\n{\n\tprivate _variables:Object = new Object();\n\n\t/**\n\t *\n\t * @param source\n\t */\n\tconstructor(source:string = null)\n\t{\n\t\tif (source !== null)\n\t\t\tthis.decode(source);\n\t}\n\n\t/**\n\t *\n\t * @param source\n\t */\n\tpublic decode(source:string):void\n\t{\n\t\tsource = source.split(\"+\").join(\" \");\n\n\t\tvar tokens, re = /[?&]?([^=]+)=([^&]*)/g;\n\n\t\twhile (tokens = re.exec(source))\n\t\t\tthis._variables[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic toString():string\n\t{\n\t\treturn '';\n\t}\n\n\t/**\n\t *\n\t * @returns {Object}\n\t */\n\tpublic get variables():Object\n\t{\n\t\treturn this._variables;\n\t}\n\n\t/**\n\t *\n\t * @returns {Object}\n\t */\n\tpublic get formData():FormData\n\t{\n\t\tvar fd:FormData = new FormData();\n\n\t\tfor (var s in this._variables)\n\t\t\tfd.append(s, this._variables[s]);\n\n\t\treturn fd;\n\t}\n\n\t/**\n\t *\n\t * @returns {Object}\n\t */\n\tpublic set variables(obj:Object)\n\t{\n\t\tthis._variables = obj;\n\t}\n}\n\nexport = URLVariables;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLLoaderDataFormat\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\nimport ResourceDependency\t\t= require(\"awayjs-core/lib/parsers/ResourceDependency\");\nimport ImageCubeTexture\t\t\t= require(\"awayjs-core/lib/textures/ImageCubeTexture\");\nimport ImageTexture\t\t\t\t= require(\"awayjs-core/lib/textures/ImageTexture\");\n\n/**\n * CubeTextureParser provides a \"parser\" for natively supported image types (jpg, png). While it simply loads bytes into\n * a loader object, it wraps it in a BitmapDataResource so resource management can happen consistently without\n * exception cases.\n */\nclass CubeTextureParser extends ParserBase\n{\n\tprivate static posX:string = 'posX';\n\tprivate static negX:string = 'negX';\n\tprivate static posY:string = 'posY';\n\tprivate static negY:string = 'negY';\n\tprivate static posZ:string = 'posZ';\n\tprivate static negZ:string = 'negZ';\n\n\tprivate _imgDependencyDictionary:Object;\n\n\t/**\n\t * Creates a new CubeTextureParser object.\n\t * @param uri The url or id of the data or file to be parsed.\n\t * @param extra The holder for extra contextual data that the parser might need.\n\t */\n\tconstructor()\n\t{\n\t\tsuper(URLLoaderDataFormat.TEXT);\n\t}\n\n\t/**\n\t * Indicates whether or not a given file extension is supported by the parser.\n\t * @param extension The file extension of a potential file to be parsed.\n\t * @return Whether or not the given file type is supported.\n\t */\n\n\tpublic static supportsType(extension:string):boolean\n\t{\n\t\textension = extension.toLowerCase();\n\t\treturn extension == \"cube\";\n\t}\n\n\t/**\n\t * Tests whether a data block can be parsed by the parser.\n\t * @param data The data block to potentially be parsed.\n\t * @return Whether or not the given data is supported.\n\t */\n\tpublic static supportsData(data:any):boolean\n\t{\n\t\ttry {\n\t\t\tvar obj = JSON.parse(data);\n\n\t\t\tif (obj) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic _iResolveDependency(resourceDependency:ResourceDependency)\n\t{\n\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic _iResolveDependencyFailure(resourceDependency:ResourceDependency)\n\t{\n\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic _pProceedParsing():boolean\n\t{\n\t\tif (this._imgDependencyDictionary != null) { //all images loaded\n\t\t\tvar asset:ImageCubeTexture = new ImageCubeTexture(\n\n\t\t\t\tthis._getHTMLImageElement(CubeTextureParser.posX), this._getHTMLImageElement(CubeTextureParser.negX), this._getHTMLImageElement(CubeTextureParser.posY), this._getHTMLImageElement(CubeTextureParser.negY), this._getHTMLImageElement(CubeTextureParser.posZ), this._getHTMLImageElement(CubeTextureParser.negZ));\n\n\t\t\t//clear dictionary\n\t\t\tthis._imgDependencyDictionary = null;\n\n\t\t\tasset.name = this._iFileName;\n\n\t\t\tthis._pFinalizeAsset(<IAsset> asset, this._iFileName);\n\n\t\t\treturn ParserBase.PARSING_DONE;\n\t\t}\n\n\t\ttry {\n\t\t\tvar json:any = JSON.parse(this.data);\n\t\t\tvar data:Array<Object> = <Array<Object>> json.data;\n\t\t\tvar rec:any;\n\n\t\t\tif (data.length != 6)\n\t\t\t\tthis._pDieWithError('CubeTextureParser: Error - cube texture should have exactly 6 images');\n\n\t\t\tif (json) {\n\t\t\t\tthis._imgDependencyDictionary = new Object();\n\n\t\t\t\tfor (var c:number = 0; c < data.length; c++) {\n\t\t\t\t\trec = data[c];\n\t\t\t\t\tthis._imgDependencyDictionary[rec.id] = this._pAddDependency(rec.id, new URLRequest(rec.image.toString()));\n\t\t\t\t}\n\n\t\t\t\tif (!this._validateCubeData()) {\n\n\t\t\t\t\tthis._pDieWithError(\"CubeTextureParser: JSON data error - cubes require id of:   \\n\" + CubeTextureParser.posX + ', ' + CubeTextureParser.negX + ',  \\n' + CubeTextureParser.posY + ', ' + CubeTextureParser.negY + ',  \\n' + CubeTextureParser.posZ + ', ' + CubeTextureParser.negZ);\n\n\t\t\t\t\treturn ParserBase.PARSING_DONE;\n\n\t\t\t\t}\n\n\t\t\t\tthis._pPauseAndRetrieveDependencies();\n\n\t\t\t\treturn ParserBase.MORE_TO_PARSE;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tthis._pDieWithError('CubeTexturePaser Error parsing JSON');\n\t\t}\n\n\t\treturn ParserBase.PARSING_DONE;\n\n\t}\n\n\tprivate _validateCubeData():boolean\n\t{\n\t\treturn  ( this._imgDependencyDictionary[ CubeTextureParser.posX ] != null && this._imgDependencyDictionary[ CubeTextureParser.negX ] != null && this._imgDependencyDictionary[ CubeTextureParser.posY ] != null && this._imgDependencyDictionary[ CubeTextureParser.negY ] != null && this._imgDependencyDictionary[ CubeTextureParser.posZ ] != null && this._imgDependencyDictionary[ CubeTextureParser.negZ ] != null );\n\t}\n\n\tprivate _getHTMLImageElement(name:string):HTMLImageElement\n\t{\n\t\tvar dependency:ResourceDependency = <ResourceDependency> this._imgDependencyDictionary[ name ];\n\n\t\tif (dependency) {\n\t\t\treturn <HTMLImageElement> (<ImageTexture> dependency.assets[0]).htmlImageElement;\n\t\t}\n\n\t\treturn null;\n\t}\n\n}\n\nexport = CubeTextureParser;",
    "import BitmapData\t\t\t\t= require(\"awayjs-core/lib/data/BitmapData\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\nimport AssetEvent\t\t\t\t= require(\"awayjs-core/lib/events/AssetEvent\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport ParserEvent\t\t\t\t= require(\"awayjs-core/lib/events/ParserEvent\");\nimport TimerEvent\t\t\t\t= require(\"awayjs-core/lib/events/TimerEvent\");\nimport ParserUtils\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserUtils\");\nimport ResourceDependency\t\t= require(\"awayjs-core/lib/parsers/ResourceDependency\");\nimport ByteArray\t\t\t\t= require(\"awayjs-core/lib/utils/ByteArray\");\nimport TextureUtils\t\t\t\t= require(\"awayjs-core/lib/utils/TextureUtils\");\nimport Timer\t\t\t\t\t= require(\"awayjs-core/lib/utils/Timer\");\nimport getTimer\t\t\t\t\t= require(\"awayjs-core/lib/utils/getTimer\");\n\n/**\n * <code>ParserBase</code> provides an abstract base class for objects that convert blocks of data to data structures\n * supported by away.\n *\n * If used by <code>AssetLoader</code> to automatically determine the parser type, two public static methods should\n * be implemented, with the following signatures:\n *\n * <code>public static supportsType(extension : string) : boolean</code>\n * Indicates whether or not a given file extension is supported by the parser.\n *\n * <code>public static supportsData(data : *) : boolean</code>\n * Tests whether a data block can be parsed by the parser.\n *\n * Furthermore, for any concrete subtype, the method <code>initHandle</code> should be overridden to immediately\n * create the object that will contain the parsed data. This allows <code>ResourceManager</code> to return an object\n * handle regardless of whether the object was loaded or not.\n *\n * @see AssetLoader\n */\nclass ParserBase extends EventDispatcher\n{\n\tpublic _iFileName:string;\n\tprivate _dataFormat:string;\n\tprivate _data:any;\n\tprivate _frameLimit:number;\n\tprivate _lastFrameTime:number;\n\tprivate _pOnIntervalDelegate:(event:TimerEvent) => void;\n\tpublic _pContent:IAsset;\n\n\t//----------------------------------------------------------------------------------------------------------------------------------------------------------------\n\t// TODO: add error checking for the following ( could cause a problem if this function is not implemented )\n\t//----------------------------------------------------------------------------------------------------------------------------------------------------------------\n\t// Needs to be implemented in all Parsers (\n\t//<code>public static supportsType(extension : string) : boolean</code>\n\t//* Indicates whether or not a given file extension is supported by the parser.\n\t//----------------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\tpublic static supportsType(extension:string):boolean\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/* TODO: Implement ParserUtils;\n\t public _pGetTextData():string\n\t {\n\t return ParserUtils.toString(_data);\n\t }\n\n\t public _pGetByteData():ByteArray\n\t {\n\t return ParserUtils.toByteArray(_data);\n\t }\n\t */\n\tprivate _dependencies:Array<ResourceDependency>;\n\tprivate _parsingPaused:boolean;\n\tprivate _parsingComplete:boolean;\n\tprivate _parsingFailure:boolean;\n\tprivate _timer:Timer;\n\tprivate _materialMode:number;\n\n\t/**\n\t * Returned by <code>proceedParsing</code> to indicate no more parsing is needed.\n\t */\n\tpublic static PARSING_DONE:boolean = true;\n\t/* Protected */\n\n\t/**\n\t * Returned by <code>proceedParsing</code> to indicate more parsing is needed, allowing asynchronous parsing.\n\t */\n\tpublic static MORE_TO_PARSE:boolean = false;\n\t/* Protected */\n\n\n\tpublic get content():IAsset\n\t{\n\t\treturn this._pContent;\n\t}\n\n\t/**\n\t * Creates a new ParserBase object\n\t * @param format The data format of the file data to be parsed. Can be either <code>ParserDataFormat.BINARY</code> or <code>ParserDataFormat.PLAIN_TEXT</code>, and should be provided by the concrete subtype.\n\t *\n\t * @see away.loading.parsers.ParserDataFormat\n\t */\n\tconstructor(format:string)\n\t{\n\t\tsuper();\n\n\t\tthis._materialMode = 0;\n\t\tthis._dataFormat = format;\n\t\tthis._dependencies = new Array<ResourceDependency>();\n\n\t\tthis._pOnIntervalDelegate = (event:TimerEvent) => this._pOnInterval(event);\n\t}\n\n\t/**\n\t * Validates a bitmapData loaded before assigning to a default BitmapMaterial\n\t */\n\n\tpublic isBitmapDataValid(bitmapData:BitmapData):boolean\n\t{\n\t\tvar isValid:boolean = TextureUtils.isBitmapDataValid(bitmapData);\n\n\t\tif (!isValid) {\n\n\t\t\tconsole.log(\">> Bitmap loaded is not having power of 2 dimensions or is higher than 2048\");\n\t\t}\n\n\t\treturn isValid;\n\t}\n\n\tpublic set parsingFailure(b:boolean)\n\t{\n\t\tthis._parsingFailure = b;\n\t}\n\n\tpublic get parsingFailure():boolean\n\t{\n\t\treturn this._parsingFailure;\n\t}\n\n\tpublic get parsingPaused():boolean\n\t{\n\t\treturn this._parsingPaused;\n\t}\n\n\tpublic get parsingComplete():boolean\n\t{\n\t\treturn this._parsingComplete;\n\t}\n\n\tpublic set materialMode(newMaterialMode:number)\n\t{\n\t\tthis._materialMode = newMaterialMode;\n\t}\n\n\tpublic get materialMode():number\n\t{\n\t\treturn this._materialMode;\n\t}\n\n\tpublic get data():any\n\t{\n\t\treturn this._data;\n\t}\n\n\t/**\n\t * The data format of the file data to be parsed. Options are <code>URLLoaderDataFormat.BINARY</code>, <code>URLLoaderDataFormat.ARRAY_BUFFER</code>, <code>URLLoaderDataFormat.BLOB</code>, <code>URLLoaderDataFormat.VARIABLES</code> or <code>URLLoaderDataFormat.TEXT</code>.\n\t */\n\tpublic get dataFormat():string\n\t{\n\t\treturn this._dataFormat;\n\t}\n\n\t/**\n\t * Parse data (possibly containing bytearry, plain text or BitmapAsset) asynchronously, meaning that\n\t * the parser will periodically stop parsing so that the AVM may proceed to the\n\t * next frame.\n\t *\n\t * @param data The untyped data object in which the loaded data resides.\n\t * @param frameLimit number of milliseconds of parsing allowed per frame. The\n\t * actual time spent on a frame can exceed this number since time-checks can\n\t * only be performed between logical sections of the parsing procedure.\n\t */\n\tpublic parseAsync(data:any, frameLimit:number = 30)\n\t{\n\t\tthis._data = data;\n\t\tthis._pStartParsing(frameLimit);\n\t}\n\n\t/**\n\t * A list of dependencies that need to be loaded and resolved for the object being parsed.\n\t */\n\tpublic get dependencies():Array<ResourceDependency>\n\t{\n\t\treturn this._dependencies;\n\t}\n\n\t/**\n\t * Resolve a dependency when it's loaded. For example, a dependency containing an ImageResource would be assigned\n\t * to a Mesh instance as a BitmapMaterial, a scene graph object would be added to its intended parent. The\n\t * dependency should be a member of the dependencies property.\n\t *\n\t * @param resourceDependency The dependency to be resolved.\n\t */\n\tpublic _iResolveDependency(resourceDependency:ResourceDependency)\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/**\n\t * Resolve a dependency loading failure. Used by parser to eventually provide a default map\n\t *\n\t * @param resourceDependency The dependency to be resolved.\n\t */\n\tpublic _iResolveDependencyFailure(resourceDependency:ResourceDependency)\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\t/**\n\t * Resolve a dependency name\n\t *\n\t * @param resourceDependency The dependency to be resolved.\n\t */\n\tpublic _iResolveDependencyName(resourceDependency:ResourceDependency, asset:IAsset):string\n\t{\n\t\treturn asset.name;\n\t}\n\n\tpublic _iResumeParsingAfterDependencies()\n\t{\n\t\tthis._parsingPaused = false;\n\n\t\tif (this._timer)\n\t\t\tthis._timer.start();\n\t}\n\n\tpublic _pFinalizeAsset(asset:IAsset, name:string = null)\n\t{\n\t\tvar type_event:string;\n\t\tvar type_name:string;\n\n\t\tif (name != null)\n\t\t\tasset.name = name;\n\n\t\t// If the asset has no name, give it\n\t\t// a per-type default name.\n\t\tif (!asset.name)\n\t\t\tasset.name = asset.assetType;\n\n\t\tthis.dispatchEvent(new AssetEvent(AssetEvent.ASSET_COMPLETE, asset));\n\t}\n\n\t/**\n\t * Parse the next block of data.\n\t * @return Whether or not more data needs to be parsed. Can be <code>ParserBase.ParserBase.PARSING_DONE</code> or\n\t * <code>ParserBase.ParserBase.MORE_TO_PARSE</code>.\n\t */\n\tpublic _pProceedParsing():boolean\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tpublic _pDieWithError(message:string = 'Unknown parsing error')\n\t{\n\t\tif (this._timer) {\n\t\t\tthis._timer.removeEventListener(TimerEvent.TIMER, this._pOnIntervalDelegate);\n\t\t\tthis._timer.stop();\n\t\t\tthis._timer = null;\n\t\t}\n\n\t\tthis.dispatchEvent(new ParserEvent(ParserEvent.PARSE_ERROR, message));\n\t}\n\n\tpublic _pAddDependency(id:string, req:URLRequest, retrieveAsRawData:boolean = false, data:any = null, suppressErrorEvents:boolean = false):ResourceDependency\n\t{\n\t\tvar dependency:ResourceDependency = new ResourceDependency(id, req, data, null, this, retrieveAsRawData, suppressErrorEvents);\n\t\tthis._dependencies.push(dependency);\n\n\t\treturn dependency;\n\t}\n\n\tpublic _pPauseAndRetrieveDependencies()\n\t{\n\t\tif (this._timer)\n\t\t\tthis._timer.stop();\n\n\t\tthis._parsingPaused = true;\n\t\tthis.dispatchEvent(new ParserEvent(ParserEvent.READY_FOR_DEPENDENCIES));\n\t}\n\n\t/**\n\t * Tests whether or not there is still time left for parsing within the maximum allowed time frame per session.\n\t * @return True if there is still time left, false if the maximum allotted time was exceeded and parsing should be interrupted.\n\t */\n\tpublic _pHasTime():boolean\n\t{\n\t\treturn ((getTimer() - this._lastFrameTime) < this._frameLimit);\n\t}\n\n\t/**\n\t * Called when the parsing pause interval has passed and parsing can proceed.\n\t */\n\tpublic _pOnInterval(event:TimerEvent = null)\n\t{\n\t\tthis._lastFrameTime = getTimer();\n\n\t\tif (this._pProceedParsing() && !this._parsingFailure)\n\t\t\tthis._pFinishParsing();\n\t}\n\n\t/**\n\t * Initializes the parsing of data.\n\t * @param frameLimit The maximum duration of a parsing session.\n\t */\n\tpublic _pStartParsing(frameLimit:number)\n\t{\n\t\tthis._frameLimit = frameLimit;\n\t\tthis._timer = new Timer(this._frameLimit, 0);\n\t\tthis._timer.addEventListener(TimerEvent.TIMER, this._pOnIntervalDelegate);\n\t\tthis._timer.start();\n\t}\n\n\t/**\n\t * Finish parsing the data.\n\t */\n\tpublic _pFinishParsing()\n\t{\n\t\tif (this._timer) {\n\t\t\tthis._timer.removeEventListener(TimerEvent.TIMER, this._pOnIntervalDelegate);\n\t\t\tthis._timer.stop();\n\t\t}\n\n\t\tthis._timer = null;\n\t\tthis._parsingComplete = true;\n\n\t\tthis.dispatchEvent(new ParserEvent(ParserEvent.PARSE_COMPLETE));\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t * @private\n\t */\n\tpublic _pGetTextData():string\n\t{\n\t\treturn ParserUtils.toString(this._data);\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t * @private\n\t */\n\tpublic _pGetByteData():ByteArray\n\t{\n\t\treturn ParserUtils.toByteArray(this._data);\n\t}\n}\n\nexport = ParserBase;",
    "/**\n * An enumeration providing values to describe the data format of parsed data.\n */\nclass ParserDataFormat\n{\n\t/**\n\t * Describes the format of a binary file.\n\t */\n\tpublic static BINARY:string = \"binary\";\n\n\t/**\n\t * Describes the format of a plain text file.\n\t */\n\tpublic static PLAIN_TEXT:string = \"plainText\";\n\n\t/**\n\t * Describes the format of an image file\n\t */\n\tpublic static IMAGE:string = \"image\";\n\n}\n\nexport = ParserDataFormat;",
    "import ByteArray\t\t\t\t= require(\"awayjs-core/lib/utils/ByteArray\");\n\nclass ParserUtils\n{\n\n\t/**\n\t * Converts an ArrayBuffer to a base64 string\n\t *\n\t * @param image data as a ByteArray\n\t *\n\t * @return HTMLImageElement\n\t *\n\t */\n\tpublic static arrayBufferToImage(data:ArrayBuffer):HTMLImageElement\n\t{\n\t\tvar byteStr:string = '';\n\t\tvar bytes:Uint8Array = new Uint8Array(data);\n\t\tvar len:number = bytes.byteLength;\n\n\t\tfor (var i = 0; i < len; i++)\n\t\t\tbyteStr += String.fromCharCode(bytes[ i ])\n\n\t\tvar base64Image:string = window.btoa(byteStr);\n\t\tvar str:string = 'data:image/png;base64,' + base64Image;\n\t\tvar img:HTMLImageElement = <HTMLImageElement> new Image();\n\t\timg.src = str;\n\n\t\treturn img;\n\t}\n\n\t/**\n\t * Converts an ByteArray to an Image - returns an HTMLImageElement\n\t *\n\t * @param image data as a ByteArray\n\t *\n\t * @return HTMLImageElement\n\t *\n\t */\n\tpublic static byteArrayToImage(data:ByteArray):HTMLImageElement\n\t{\n\t\tvar byteStr:string = '';\n\t\tvar bytes:Uint8Array = new Uint8Array(data.arraybytes);\n\t\tvar len:number = bytes.byteLength;\n\n\t\tfor (var i = 0; i < len; i++)\n\t\t\tbyteStr += String.fromCharCode(bytes[ i ])\n\n\t\tvar base64Image:string = window.btoa(byteStr);\n\t\tvar str:string = 'data:image/png;base64,' + base64Image;\n\t\tvar img:HTMLImageElement = <HTMLImageElement> new Image();\n\t\timg.src = str;\n\n\t\treturn img;\n\t}\n\n\t/**\n\t * Converts an Blob to an Image - returns an HTMLImageElement\n\t *\n\t * @param image data as a Blob\n\t *\n\t * @return HTMLImageElement\n\t *\n\t */\n\tpublic static blobToImage(data:Blob):HTMLImageElement\n\t{\n\t\tvar URLObj:URL = window['URL'] || window['webkitURL'];\n\t\tvar src = URLObj.createObjectURL(data);\n\t\tvar img:HTMLImageElement = <HTMLImageElement> new Image();\n\t\timg.src = src;\n\n\t\treturn img;\n\t}\n\n\t/**\n\t * Returns a object as ByteArray, if possible.\n\t *\n\t * @param data The object to return as ByteArray\n\t *\n\t * @return The ByteArray or null\n\t *\n\t */\n\tpublic static toByteArray(data:any):ByteArray\n\t{\n\t\tvar b:ByteArray = new ByteArray();\n\t\tb.setArrayBuffer(data);\n\t\treturn b;\n\t}\n\n\t/**\n\t * Returns a object as String, if possible.\n\t *\n\t * @param data The object to return as String\n\t * @param length The length of the returned String\n\t *\n\t * @return The String or null\n\t *\n\t */\n\tpublic static toString(data:any, length:number = 0):string\n\t{\n\n\t\tif (typeof data === 'string') {\n\t\t\tvar s:string = <string> data;\n\n\t\t\tif (s['substr'] != null)\n\t\t\t\treturn s.substr(0, s.length);\n\t\t}\n\n\t\tif (data instanceof ByteArray) {\n\t\t\tvar ba:ByteArray = <ByteArray> data;\n\t\t\tba.position = 0;\n\t\t\treturn ba.readUTFBytes(Math.min(ba.getBytesAvailable(), length));\n\t\t}\n\n\t\treturn null;\n\n\t\t/*\n\t\t var ba:ByteArray;\n\n\t\t length ||= uint.MAX_VALUE;\n\n\t\t if (data is String)\n\t\t return String(data).substr(0, length);\n\n\t\t ba = toByteArray(data);\n\t\t if (ba) {\n\t\t ba.position = 0;\n\t\t return ba.readUTFBytes(Math.min(ba.bytesAvailable, length));\n\t\t }\n\n\t\t return null;\n\n\t\t */\n\n\t}\n}\n\nexport = ParserUtils;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLLoader\t\t\t\t= require(\"awayjs-core/lib/net/URLLoader\");\nimport URLRequest\t\t\t\t= require(\"awayjs-core/lib/net/URLRequest\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\n\n/**\n * ResourceDependency represents the data required to load, parse and resolve additional files (\"dependencies\")\n * required by a parser, used by ResourceLoadSession.\n *\n */\nclass ResourceDependency\n{\n\tprivate _id:string;\n\tprivate _request:URLRequest;\n\tprivate _assets:Array<IAsset>;\n\tprivate _parser:ParserBase;\n\tprivate _parentParser:ParserBase;\n\tprivate _data:any;\n\tprivate _retrieveAsRawData:boolean;\n\tprivate _suppressAssetEvents:boolean;\n\tprivate _dependencies:Array<ResourceDependency>;\n\n\tpublic _iLoader:URLLoader;\n\tpublic _iSuccess:boolean;\n\n\n\tconstructor(id:string, request:URLRequest, data:any, parser:ParserBase, parentParser:ParserBase, retrieveAsRawData:boolean = false, suppressAssetEvents:boolean = false)\n\t{\n\t\tthis._id = id;\n\t\tthis._request = request;\n\t\tthis._data = data;\n\t\tthis._parser = parser;\n\t\tthis._parentParser = parentParser;\n\t\tthis._retrieveAsRawData = retrieveAsRawData;\n\t\tthis._suppressAssetEvents = suppressAssetEvents;\n\n\t\tthis._assets = new Array<IAsset>();\n\t\tthis._dependencies = new Array<ResourceDependency>();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get id():string\n\t{\n\t\treturn this._id;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get request():URLRequest\n\t{\n\t\treturn this._request;\n\t}\n\n\t/**\n\t * The data containing the dependency to be parsed, if the resource was already loaded.\n\t */\n\tpublic get data():any\n\t{\n\t\treturn this._data;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get parser():ParserBase\n\t{\n\t\treturn this._parser;\n\t}\n\n\t/**\n\t * The parser which is dependent on this ResourceDependency object.\n\t */\n\tpublic get parentParser():ParserBase\n\t{\n\t\treturn this._parentParser;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get retrieveAsRawData():boolean\n\t{\n\t\treturn this._retrieveAsRawData;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get suppresAssetEvents():boolean\n\t{\n\t\treturn this._suppressAssetEvents;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get assets():Array<IAsset>\n\t{\n\t\treturn this._assets;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get dependencies():Array<ResourceDependency>\n\t{\n\t\treturn this._dependencies;\n\t}\n\n\t/**\n\t * @private\n\t * Method to set data after having already created the dependency object, e.g. after load.\n\t */\n\tpublic _iSetData(data:any):void\n\t{\n\t\tthis._data = data;\n\t}\n\n\t/**\n\t * @private\n\t *\n\t */\n\tpublic _iSetParser(parser:ParserBase):void\n\t{\n\t\tthis._parser = parser;\n\t}\n\n\t/**\n\t * Resolve the dependency when it's loaded with the parent parser. For example, a dependency containing an\n\t * ImageResource would be assigned to a Mesh instance as a BitmapMaterial, a scene graph object would be added\n\t * to its intended parent. The dependency should be a member of the dependencies property.\n\t */\n\tpublic resolve():void\n\t{\n\t\tif (this._parentParser)\n\t\t\tthis._parentParser._iResolveDependency(this);\n\t}\n\n\t/**\n\t * Resolve a dependency failure. For example, map loading failure from a 3d file\n\t */\n\tpublic resolveFailure():void\n\t{\n\t\tif (this._parentParser)\n\t\t\tthis._parentParser._iResolveDependencyFailure(this);\n\t}\n\n\t/**\n\t * Resolve the dependencies name\n\t */\n\tpublic resolveName(asset:IAsset):string\n\t{\n\t\tif (this._parentParser)\n\t\t\treturn this._parentParser._iResolveDependencyName(this, asset);\n\n\t\treturn asset.name;\n\t}\n}\n\nexport = ResourceDependency;",
    "import IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport URLLoaderDataFormat\t\t= require(\"awayjs-core/lib/net/URLLoaderDataFormat\");\nimport ParserBase\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserBase\");\nimport ParserUtils\t\t\t\t= require(\"awayjs-core/lib/parsers/ParserUtils\");\nimport ByteArray\t\t\t\t= require(\"awayjs-core/lib/utils/ByteArray\");\nimport TextureUtils\t\t\t\t= require(\"awayjs-core/lib/utils/TextureUtils\");\nimport ImageTexture\t\t\t\t= require(\"awayjs-core/lib/textures/ImageTexture\");\nimport Texture2DBase\t\t\t= require(\"awayjs-core/lib/textures/Texture2DBase\");\n\n/**\n * Texture2DParser provides a \"parser\" for natively supported image types (jpg, png). While it simply loads bytes into\n * a loader object, it wraps it in a BitmapDataResource so resource management can happen consistently without\n * exception cases.\n */\nclass Texture2DParser extends ParserBase\n{\n\tprivate _startedParsing:boolean;\n\tprivate _doneParsing:boolean;\n\tprivate _loadingImage:boolean;\n\tprivate _htmlImageElement:HTMLImageElement;\n\n\t/**\n\t * Creates a new Texture2DParser object.\n\t * @param uri The url or id of the data or file to be parsed.\n\t * @param extra The holder for extra contextual data that the parser might need.\n\t */\n\tconstructor()\n\t{\n\t\tsuper(URLLoaderDataFormat.BLOB);\n\t}\n\n\t/**\n\t * Indicates whether or not a given file extension is supported by the parser.\n\t * @param extension The file extension of a potential file to be parsed.\n\t * @return Whether or not the given file type is supported.\n\t */\n\tpublic static supportsType(extension:string):boolean\n\t{\n\n\t\textension = extension.toLowerCase();\n\t\treturn extension == \"jpg\" || extension == \"jpeg\" || extension == \"png\" || extension == \"gif\";//|| extension == \"bmp\";//|| extension == \"atf\";\n\n\t}\n\n\t/**\n\t * Tests whether a data block can be parsed by the parser.\n\t * @param data The data block to potentially be parsed.\n\t * @return Whether or not the given data is supported.\n\t */\n\tpublic static supportsData(data:any):boolean\n\t{\n\n\t\tif (data  instanceof HTMLImageElement)\n\t\t\treturn true;\n\n\t\tif (!(data instanceof ByteArray))\n\t\t\treturn false;\n\n\t\tvar ba:ByteArray = <ByteArray> data;\n\t\tba.position = 0;\n\n\t\tif (ba.readUnsignedShort() == 0xffd8)\n\t\t\treturn true; // JPEG, maybe check for \"JFIF\" as well?\n\n\t\tba.position = 0;\n\t\tif (ba.readShort() == 0x424D)\n\t\t\treturn true; // BMP\n\n\t\tba.position = 1;\n\t\tif (ba.readUTFBytes(3) == 'PNG')\n\t\t\treturn true;\n\n\t\tba.position = 0;\n\t\tif (ba.readUTFBytes(3) == 'GIF' && ba.readShort() == 0x3839 && ba.readByte() == 0x61)\n\t\t\treturn true;\n\n\t\tba.position = 0;\n\t\tif (ba.readUTFBytes(3) == 'ATF')\n\t\t\treturn true;\n\n\t\treturn false;\n\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic _pProceedParsing():boolean\n\t{\n\n\t\tvar asset:Texture2DBase;\n\t\tvar sizeError:boolean = false;\n\n\t\tif (this._loadingImage) {\n\t\t\treturn ParserBase.MORE_TO_PARSE;\n\t\t} else if (this._htmlImageElement) {\n\t\t\tif (TextureUtils.isHTMLImageElementValid(this._htmlImageElement)) {\n\t\t\t\tasset = new ImageTexture(this._htmlImageElement);\n\t\t\t\tthis._pFinalizeAsset(<IAsset> asset, this._iFileName);\n\t\t\t}\n\t\t} else if (this.data instanceof HTMLImageElement) {// Parse HTMLImageElement\n\n\t\t\tif (TextureUtils.isHTMLImageElementValid(<HTMLImageElement> this.data)) {\n\t\t\t\tasset = new ImageTexture(<HTMLImageElement> this.data);\n\t\t\t\tthis._pFinalizeAsset(<IAsset> asset, this._iFileName);\n\t\t\t} else {\n\t\t\t\tsizeError = true;\n\t\t\t}\n\n\t\t} else if (this.data instanceof ByteArray) { // Parse a ByteArray\n\n\t\t\tvar ba:ByteArray = this.data;\n\t\t\tba.position = 0;\n\t\t\tvar htmlImageElement:HTMLImageElement = ParserUtils.byteArrayToImage(this.data);\n\n\t\t\tif (TextureUtils.isHTMLImageElementValid(htmlImageElement)) {\n\t\t\t\tasset = new ImageTexture(htmlImageElement);\n\t\t\t\tthis._pFinalizeAsset(<IAsset> asset, this._iFileName);\n\t\t\t} else {\n\t\t\t\tsizeError = true;\n\t\t\t}\n\n\t\t} else if (this.data instanceof ArrayBuffer) {// Parse an ArrayBuffer\n\n\t\t\tthis._htmlImageElement = ParserUtils.arrayBufferToImage(this.data);\n\n\t\t\tasset = new ImageTexture(this._htmlImageElement);\n\t\t\tthis._pFinalizeAsset(<IAsset> asset, this._iFileName);\n\n\t\t} else if (this.data instanceof Blob) { // Parse a Blob\n\n\t\t\tthis._htmlImageElement = ParserUtils.blobToImage(this.data);\n\n\t\t\tthis._htmlImageElement.onload = (event) => this.onLoadComplete(event);\n\t\t\tthis._loadingImage = true;\n\n\t\t\treturn ParserBase.MORE_TO_PARSE;\n\t\t}\n\n\t\tif (sizeError == true) // Generate new Checkerboard texture material\n\t\t{\n//\t\t\t\tasset = new BitmapTexture(DefaultMaterialManager.createCheckeredBitmapData(), false);\n//\t\t\t\tthis._pFinalizeAsset(<IAsset> asset, this._iFileName);\n//\t\t\t\tthis.dispatchEvent(new away.events.AssetEvent(away.events.AssetEvent.TEXTURE_SIZE_ERROR, <IAsset> asset));\n\t\t}\n\n\t\tthis._pContent = asset;\n\n\t\treturn ParserBase.PARSING_DONE;\n\n\t}\n\n\tpublic onLoadComplete(event)\n\t{\n\t\tthis._loadingImage = false;\n\t}\n}\n\nexport = Texture2DParser;",
    "/**\n * Provides constant values for camera lens projection options use the the <code>coordinateSystem</code> property\n *\n * @see away.projections.PerspectiveLens#coordinateSystem\n */\nclass CoordinateSystem\n{\n\t/**\n\t * Default option, projects to a left-handed coordinate system\n\t */\n\tpublic static LEFT_HANDED:string = \"leftHanded\";\n\n\t/**\n\t * Projects to a right-handed coordinate system\n\t */\n\tpublic static RIGHT_HANDED:string = \"rightHanded\";\n}\n\nexport = CoordinateSystem;",
    "import PerspectiveProjection\t= require(\"awayjs-core/lib/projections/PerspectiveProjection\");\nimport ProjectionBase\t\t\t= require(\"awayjs-core/lib/projections/ProjectionBase\");\n\nclass FreeMatrixProjection extends ProjectionBase\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\n\t\tthis._pMatrix.copyFrom(new PerspectiveProjection().matrix);\n\t}\n\n\t//@override\n\tpublic set near(value:number)\n\t{\n\t\tthis._pNear = value;\n\t}\n\n\t//@override\n\tpublic set far(value:number)\n\t{\n\t\tthis._pFar = value;\n\t}\n\n\t//@override\n\tpublic set iAspectRatio(value:number)\n\t{\n\t\tthis._pAspectRatio = value;\n\t}\n\n\t//@override\n\tpublic clone():ProjectionBase\n\t{\n\t\tvar clone:FreeMatrixProjection = new FreeMatrixProjection();\n\t\tclone._pMatrix.copyFrom(this._pMatrix);\n\t\tclone._pNear = this._pNear;\n\t\tclone._pFar = this._pFar;\n\t\tclone._pAspectRatio = this._pAspectRatio;\n\t\tclone.pInvalidateMatrix();\n\t\treturn clone;\n\t}\n\n\t//@override\n\tpublic pUpdateMatrix()\n\t{\n\t\tthis._pMatrixInvalid = false;\n\t}\n}\n\nexport = FreeMatrixProjection;",
    "import Matrix3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Plane3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Plane3D\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport ProjectionEvent\t\t\t= require(\"awayjs-core/lib/events/ProjectionEvent\");\nimport IProjection\t\t\t\t= require(\"awayjs-core/lib/projections/IProjection\");\nimport ProjectionBase\t\t\t= require(\"awayjs-core/lib/projections/ProjectionBase\");\n\nclass ObliqueNearPlaneProjection extends ProjectionBase\n{\n\n\tprivate _baseProjection:IProjection;\n\tprivate _plane:Plane3D;\n\tprivate _onProjectionMatrixChangedDelegate:(event:ProjectionEvent) => void;\n\n\tconstructor(baseProjection:IProjection, plane:Plane3D)\n\t{\n\t\tsuper();\n\t\tthis.baseProjection = baseProjection;\n\t\tthis.plane = plane;\n\n\t\tthis._onProjectionMatrixChangedDelegate = (event:ProjectionEvent) => this.onProjectionMatrixChanged(event);\n\t}\n\n\t//@override\n\tpublic get frustumCorners():number[]\n\t{\n\t\treturn this._baseProjection.frustumCorners;\n\t}\n\n\t//@override\n\tpublic get near():number\n\t{\n\t\treturn this._baseProjection.near;\n\t}\n\n\t//@override\n\tpublic set near(value:number)\n\t{\n\t\tthis._baseProjection.near = value;\n\t}\n\n\t//@override\n\tpublic get far():number\n\t{\n\t\treturn this._baseProjection.far;\n\t}\n\n\t//@override\n\tpublic set far(value:number)\n\t{\n\t\tthis._baseProjection.far = value;\n\t}\n\n\t//@override\n\tpublic get iAspectRatio():number\n\t{\n\t\treturn this._baseProjection._iAspectRatio;\n\t}\n\n\t//@override\n\tpublic set iAspectRatio(value:number)\n\t{\n\t\tthis._baseProjection._iAspectRatio = value;\n\t}\n\n\tpublic get plane():Plane3D\n\t{\n\t\treturn this._plane;\n\t}\n\n\tpublic set plane(value:Plane3D)\n\t{\n\t\tthis._plane = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic set baseProjection(value:IProjection)\n\t{\n\t\tif (this._baseProjection) {\n\t\t\tthis._baseProjection.removeEventListener(ProjectionEvent.MATRIX_CHANGED, this._onProjectionMatrixChangedDelegate);\n\t\t}\n\t\tthis._baseProjection = value;\n\n\t\tif (this._baseProjection) {\n\t\t\tthis._baseProjection.addEventListener(ProjectionEvent.MATRIX_CHANGED, this._onProjectionMatrixChangedDelegate);\n\t\t}\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tprivate onProjectionMatrixChanged(event:ProjectionEvent)\n\t{\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t//@override\n\tpublic pUpdateMatrix()\n\t{\n\t\tthis._pMatrix.copyFrom(this._baseProjection.matrix);\n\n\t\tvar cx:number = this._plane.a;\n\t\tvar cy:number = this._plane.b;\n\t\tvar cz:number = this._plane.c;\n\t\tvar cw:number = -this._plane.d + .05;\n\t\tvar signX:number = cx >= 0? 1 : -1;\n\t\tvar signY:number = cy >= 0? 1 : -1;\n\t\tvar p:Vector3D = new Vector3D(signX, signY, 1, 1);\n\t\tvar inverse:Matrix3D = this._pMatrix.clone();\n\t\tinverse.invert();\n\t\tvar q:Vector3D = inverse.transformVector(p);\n\t\tthis._pMatrix.copyRowTo(3, p);\n\t\tvar a:number = (q.x*p.x + q.y*p.y + q.z*p.z + q.w*p.w)/(cx*q.x + cy*q.y + cz*q.z + cw*q.w);\n\t\tthis._pMatrix.copyRowFrom(2, new Vector3D(cx*a, cy*a, cz*a, cw*a));\n\t}\n}\n\nexport = ObliqueNearPlaneProjection;",
    "import Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport ProjectionBase\t\t\t= require(\"awayjs-core/lib/projections/ProjectionBase\");\n\nclass OrthographicOffCenterProjection extends ProjectionBase\n{\n\n\tprivate _minX:number;\n\tprivate _maxX:number;\n\tprivate _minY:number;\n\tprivate _maxY:number;\n\n\tconstructor(minX:number, maxX:number, minY:number, maxY:number)\n\t{\n\t\tsuper();\n\t\tthis._minX = minX;\n\t\tthis._maxX = maxX;\n\t\tthis._minY = minY;\n\t\tthis._maxY = maxY;\n\t}\n\n\tpublic get minX():number\n\t{\n\t\treturn this._minX;\n\t}\n\n\tpublic set minX(value:number)\n\t{\n\t\tthis._minX = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic get maxX():number\n\t{\n\t\treturn this._maxX;\n\t}\n\n\tpublic set maxX(value:number)\n\t{\n\t\tthis._maxX = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic get minY():number\n\t{\n\t\treturn this._minY;\n\t}\n\n\tpublic set minY(value:number)\n\t{\n\t\tthis._minY = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic get maxY():number\n\t{\n\t\treturn this._maxY;\n\t}\n\n\tpublic set maxY(value:number)\n\t{\n\t\tthis._maxY = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t//@override\n\tpublic unproject(nX:number, nY:number, sZ:number):Vector3D\n\t{\n\t\tvar v:Vector3D = new Vector3D(nX, -nY, sZ, 1.0);\n\t\tv = this.unprojectionMatrix.transformVector(v);\n\t\t//z is unaffected by transform\n\t\tv.z = sZ;\n\n\t\treturn v;\n\t}\n\n\t//@override\n\tpublic clone():ProjectionBase\n\t{\n\t\tvar clone:OrthographicOffCenterProjection = new OrthographicOffCenterProjection(this._minX, this._maxX, this._minY, this._maxY);\n\t\tclone._pNear = this._pNear;\n\t\tclone._pFar = this._pFar;\n\t\tclone._pAspectRatio = this._pAspectRatio;\n\t\treturn clone;\n\t}\n\n\t//@override\n\tpublic pUpdateMatrix()\n\t{\n\t\tvar raw:number[] = [];\n\t\tvar w:number = 1/(this._maxX - this._minX);\n\t\tvar h:number = 1/(this._maxY - this._minY);\n\t\tvar d:number = 1/(this._pFar - this._pNear);\n\n\t\traw[0] = 2*w;\n\t\traw[5] = 2*h;\n\t\traw[10] = d;\n\t\traw[12] = -(this._maxX + this._minX)*w;\n\t\traw[13] = -(this._maxY + this._minY)*h;\n\t\traw[14] = -this._pNear*d;\n\t\traw[15] = 1;\n\t\traw[1] = raw[2] = raw[3] = raw[4] = raw[6] = raw[7] = raw[8] = raw[9] = raw[11] = 0;\n\t\tthis._pMatrix.copyRawDataFrom(raw);\n\n\t\tthis._pFrustumCorners[0] = this._pFrustumCorners[9] = this._pFrustumCorners[12] = this._pFrustumCorners[21] = this._minX;\n\t\tthis._pFrustumCorners[3] = this._pFrustumCorners[6] = this._pFrustumCorners[15] = this._pFrustumCorners[18] = this._maxX;\n\t\tthis._pFrustumCorners[1] = this._pFrustumCorners[4] = this._pFrustumCorners[13] = this._pFrustumCorners[16] = this._minY;\n\t\tthis._pFrustumCorners[7] = this._pFrustumCorners[10] = this._pFrustumCorners[19] = this._pFrustumCorners[22] = this._maxY;\n\t\tthis._pFrustumCorners[2] = this._pFrustumCorners[5] = this._pFrustumCorners[8] = this._pFrustumCorners[11] = this._pNear;\n\t\tthis._pFrustumCorners[14] = this._pFrustumCorners[17] = this._pFrustumCorners[20] = this._pFrustumCorners[23] = this._pFar;\n\n\t\tthis._pMatrixInvalid = false;\n\t}\n}\n\nexport = OrthographicOffCenterProjection;",
    "import Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport ProjectionBase\t\t\t= require(\"awayjs-core/lib/projections/ProjectionBase\");\n\nclass OrthographicProjection extends ProjectionBase\n{\n\n\tprivate _projectionHeight:number;\n\tprivate _xMax:number;\n\tprivate _yMax:number;\n\n\tconstructor(projectionHeight:number = 500)\n\t{\n\t\tsuper();\n\t\tthis._projectionHeight = projectionHeight;\n\t}\n\n\tpublic get projectionHeight():number\n\t{\n\t\treturn this._projectionHeight;\n\t}\n\n\tpublic set projectionHeight(value:number)\n\t{\n\t\tif (value == this._projectionHeight) {\n\t\t\treturn;\n\t\t}\n\t\tthis._projectionHeight = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t//@override\n\tpublic unproject(nX:number, nY:number, sZ:number):Vector3D\n\t{\n\t\tvar v:Vector3D = new Vector3D(nX + this.matrix.rawData[12], -nY + this.matrix.rawData[13], sZ, 1.0);\n\t\tv = this.unprojectionMatrix.transformVector(v);\n\n\t\t//z is unaffected by transform\n\t\tv.z = sZ;\n\n\t\treturn v;\n\t}\n\n\t//@override\n\tpublic clone():ProjectionBase\n\t{\n\t\tvar clone:OrthographicProjection = new OrthographicProjection();\n\t\tclone._pNear = this._pNear;\n\t\tclone._pFar = this._pFar;\n\t\tclone._pAspectRatio = this._pAspectRatio;\n\t\tclone.projectionHeight = this._projectionHeight;\n\t\treturn clone;\n\t}\n\n\t//@override\n\tpublic pUpdateMatrix()\n\t{\n\t\tvar raw:number[] = [];\n\t\tthis._yMax = this._projectionHeight*.5;\n\t\tthis._xMax = this._yMax*this._pAspectRatio;\n\n\t\tvar left:number;\n\t\tvar right:number;\n\t\tvar top:number;\n\t\tvar bottom:number;\n\n\t\tif (this._pScissorRect.x == 0 && this._pScissorRect.y == 0 && this._pScissorRect.width == this._pViewPort.width && this._pScissorRect.height == this._pViewPort.height) {\n\t\t\t// assume symmetric frustum\n\n\t\t\tleft = -this._xMax;\n\t\t\tright = this._xMax;\n\t\t\ttop = -this._yMax;\n\t\t\tbottom = this._yMax;\n\n\t\t\traw[0] = 2/(this._projectionHeight*this._pAspectRatio);\n\t\t\traw[5] = 2/this._projectionHeight;\n\t\t\traw[10] = 1/(this._pFar - this._pNear);\n\t\t\traw[14] = this._pNear/(this._pNear - this._pFar);\n\t\t\traw[1] = raw[2] = raw[3] = raw[4] = raw[6] = raw[7] = raw[8] = raw[9] = raw[11] = raw[12] = raw[13] = 0;\n\t\t\traw[15] = 1;\n\n\t\t} else {\n\n\t\t\tvar xWidth:number = this._xMax*(this._pViewPort.width/this._pScissorRect.width);\n\t\t\tvar yHgt:number = this._yMax*(this._pViewPort.height/this._pScissorRect.height);\n\t\t\tvar center:number = this._xMax*(this._pScissorRect.x*2 - this._pViewPort.width)/this._pScissorRect.width + this._xMax;\n\t\t\tvar middle:number = -this._yMax*(this._pScissorRect.y*2 - this._pViewPort.height)/this._pScissorRect.height - this._yMax;\n\n\t\t\tleft = center - xWidth;\n\t\t\tright = center + xWidth;\n\t\t\ttop = middle - yHgt;\n\t\t\tbottom = middle + yHgt;\n\n\t\t\traw[0] = 2*1/(right - left);\n\t\t\traw[5] = -2*1/(top - bottom);\n\t\t\traw[10] = 1/(this._pFar - this._pNear);\n\n\t\t\traw[12] = (right + left)/(right - left);\n\t\t\traw[13] = (bottom + top)/(bottom - top);\n\t\t\traw[14] = this._pNear/(this.near - this.far);\n\n\t\t\traw[1] = raw[2] = raw[3] = raw[4] = raw[6] = raw[7] = raw[8] = raw[9] = raw[11] = 0;\n\t\t\traw[15] = 1;\n\t\t}\n\n\t\tthis._pFrustumCorners[0] = this._pFrustumCorners[9] = this._pFrustumCorners[12] = this._pFrustumCorners[21] = left;\n\t\tthis._pFrustumCorners[3] = this._pFrustumCorners[6] = this._pFrustumCorners[15] = this._pFrustumCorners[18] = right;\n\t\tthis._pFrustumCorners[1] = this._pFrustumCorners[4] = this._pFrustumCorners[13] = this._pFrustumCorners[16] = top;\n\t\tthis._pFrustumCorners[7] = this._pFrustumCorners[10] = this._pFrustumCorners[19] = this._pFrustumCorners[22] = bottom;\n\t\tthis._pFrustumCorners[2] = this._pFrustumCorners[5] = this._pFrustumCorners[8] = this._pFrustumCorners[11] = this._pNear;\n\t\tthis._pFrustumCorners[14] = this._pFrustumCorners[17] = this._pFrustumCorners[20] = this._pFrustumCorners[23] = this._pFar;\n\n\t\tthis._pMatrix.copyRawDataFrom(raw);\n\n\t\tthis._pMatrixInvalid = false;\n\t}\n}\n\nexport= OrthographicProjection;",
    "import Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport CoordinateSystem\t\t\t= require(\"awayjs-core/lib/projections/CoordinateSystem\");\nimport ProjectionBase\t\t\t= require(\"awayjs-core/lib/projections/ProjectionBase\");\n\nclass PerspectiveProjection extends ProjectionBase\n{\n\tprivate _fieldOfView:number = 60;\n\tprivate _focalLength:number = 1000;\n\tprivate _hFieldOfView:number = 60;\n\tprivate _hFocalLength:number = 1000;\n\tprivate _preserveAspectRatio:boolean = true;\n\tprivate _preserveFocalLength:boolean = false;\n\n\tconstructor(fieldOfView:number = 60, coordinateSystem:string = \"leftHanded\")\n\t{\n\t\tsuper(coordinateSystem);\n\t\tthis.fieldOfView = fieldOfView;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get preserveAspectRatio():boolean\n\t{\n\t\treturn this._preserveAspectRatio;\n\t}\n\n\tpublic set preserveAspectRatio(value:boolean)\n\t{\n\t\tif (this._preserveAspectRatio == value)\n\t\t\treturn;\n\n\t\tthis._preserveAspectRatio = value;\n\n\t\tif (this._preserveAspectRatio)\n\t\t\tthis.pInvalidateMatrix();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get preserveFocalLength():boolean\n\t{\n\t\treturn this._preserveFocalLength;\n\t}\n\n\tpublic set preserveFocalLength(value:boolean)\n\t{\n\t\tif (this._preserveFocalLength == value)\n\t\t\treturn;\n\n\t\tthis._preserveFocalLength = value;\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get fieldOfView():number\n\t{\n\t\treturn this._fieldOfView;\n\t}\n\n\tpublic set fieldOfView(value:number)\n\t{\n\t\tif (this._fieldOfView == value)\n\t\t\treturn;\n\n\t\tthis._fieldOfView = value;\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get focalLength():number\n\t{\n\t\treturn this._focalLength;\n\t}\n\n\tpublic set focalLength(value:number)\n\t{\n\t\tif (this._focalLength == value)\n\t\t\treturn;\n\n\t\tthis._focalLength = value;\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get hFieldOfView():number\n\t{\n\t\treturn this._hFieldOfView;\n\t}\n\n\tpublic set hFieldOfView(value:number)\n\t{\n\t\tif (this._hFieldOfView == value)\n\t\t\treturn;\n\n\t\tthis._hFieldOfView = value;\n\n\t\tthis._hFocalLength = 1/Math.tan(this._hFieldOfView*Math.PI/360);\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get hFocalLength():number\n\t{\n\t\treturn this._hFocalLength;\n\t}\n\n\tpublic set hFocalLength(value:number)\n\t{\n\t\tif (this._hFocalLength == value)\n\t\t\treturn;\n\n\t\tthis._hFocalLength = value;\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\n\t//@override\n\tpublic unproject(nX:number, nY:number, sZ:number):Vector3D\n\t{\n\t\tvar v:Vector3D = new Vector3D(nX, -nY, sZ, 1.0);\n\n\t\tv.x *= sZ;\n\t\tv.y *= sZ;\n\n\t\tv = this.unprojectionMatrix.transformVector(v);\n\n\t\t//z is unaffected by transform\n\t\tv.z = sZ;\n\n\t\treturn v;\n\t}\n\n\t//@override\n\tpublic clone():ProjectionBase\n\t{\n\t\tvar clone:PerspectiveProjection = new PerspectiveProjection(this._fieldOfView);\n\t\tclone._pNear = this._pNear;\n\t\tclone._pFar = this._pFar;\n\t\tclone._pAspectRatio = this._pAspectRatio;\n\t\tclone._pCoordinateSystem = this._pCoordinateSystem;\n\t\treturn clone;\n\t}\n\n\t//@override\n\tpublic pUpdateMatrix()\n\t{\n\t\tvar raw:number[] = [];\n\n\t\tif (this._preserveFocalLength) {\n\t\t\tif (this._preserveAspectRatio)\n\t\t\t\tthis._hFocalLength = this._focalLength;\n\n\t\t\tthis._fieldOfView = Math.atan(0.5*this._pScissorRect.height/this._focalLength)*360/Math.PI;\n\t\t\tthis._hFieldOfView = Math.atan(0.5*this._pScissorRect.width/this._hFocalLength)*360/Math.PI;\n\t\t} else {\n\t\t\tthis._focalLength = 0.5*this._pScissorRect.height/Math.tan(this._fieldOfView*Math.PI/360);\n\n\t\t\tif (this._preserveAspectRatio)\n\t\t\t\tthis._hFocalLength = this._focalLength;\n\t\t\telse\n\t\t\t\tthis._hFocalLength = 0.5*this._pScissorRect.width/Math.tan(this._hFieldOfView*Math.PI/360);\n\t\t}\n\n\t\tvar tanMinX = -this._pOriginX/this._hFocalLength;\n\t\tvar tanMaxX = (1 - this._pOriginX)/this._hFocalLength;\n\t\tvar tanMinY = -this._pOriginY/this._focalLength;\n\t\tvar tanMaxY = (1 - this._pOriginY)/this._focalLength;\n\n\t\tvar left:number;\n\t\tvar right:number;\n\t\tvar top:number;\n\t\tvar bottom:number;\n\n\t\t// assume scissored frustum\n\t\tvar center:number = -((tanMinX - tanMaxX)*this._pScissorRect.x + tanMinX*this._pScissorRect.width);\n\t\tvar middle:number = ((tanMinY - tanMaxY)*this._pScissorRect.y + tanMinY*this._pScissorRect.height);\n\n\t\tleft = center - (tanMaxX - tanMinX)*this._pViewPort.width;\n\t\tright = center;\n\t\ttop = middle;\n\t\tbottom = middle + (tanMaxY - tanMinY)*this._pViewPort.height;\n\n\t\traw[0] = 2/(right - left);\n\t\traw[5] = 2/(bottom - top);\n\t\traw[8] = (right + left)/(right - left);\n\t\traw[9] = (bottom + top)/(bottom - top);\n\t\traw[10] = (this._pFar + this._pNear)/(this._pFar - this._pNear);\n\t\traw[11] = 1;\n\t\traw[1] = raw[2] = raw[3] = raw[4] = raw[6] = raw[7] = raw[12] = raw[13] = raw[15] = 0;\n\t\traw[14] = -2*this._pFar*this._pNear/(this._pFar - this._pNear);\n\n\t\tif (this._pCoordinateSystem == CoordinateSystem.RIGHT_HANDED)\n\t\t\traw[5] = -raw[5];\n\n\t\tthis._pMatrix.copyRawDataFrom(raw);\n\n\t\tthis._pFrustumCorners[0] = this._pFrustumCorners[9] = this._pNear*left;\n\t\tthis._pFrustumCorners[3] = this._pFrustumCorners[6] = this._pNear*right;\n\t\tthis._pFrustumCorners[1] = this._pFrustumCorners[4] = this._pNear*top;\n\t\tthis._pFrustumCorners[7] = this._pFrustumCorners[10] = this._pNear*bottom;\n\n\t\tthis._pFrustumCorners[12] = this._pFrustumCorners[21] = this._pFar*left;\n\t\tthis._pFrustumCorners[15] = this._pFrustumCorners[18] = this._pFar*right;\n\t\tthis._pFrustumCorners[13] = this._pFrustumCorners[16] = this._pFar*top;\n\t\tthis._pFrustumCorners[19] = this._pFrustumCorners[22] = this._pFar*bottom;\n\n\t\tthis._pFrustumCorners[2] = this._pFrustumCorners[5] = this._pFrustumCorners[8] = this._pFrustumCorners[11] = this._pNear;\n\t\tthis._pFrustumCorners[14] = this._pFrustumCorners[17] = this._pFrustumCorners[20] = this._pFrustumCorners[23] = this._pFar;\n\n\t\tthis._pMatrixInvalid = false;\n\n\n\t}\n}\n\nexport = PerspectiveProjection;",
    "import Matrix3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix3D\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\nimport Vector3D\t\t\t\t\t= require(\"awayjs-core/lib/geom/Vector3D\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport ProjectionEvent\t\t\t= require(\"awayjs-core/lib/events/ProjectionEvent\");\nimport AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\nimport IProjection\t\t\t\t= require(\"awayjs-core/lib/projections/IProjection\");\n\nclass ProjectionBase extends EventDispatcher implements IProjection\n{\n\tpublic _pMatrix:Matrix3D = new Matrix3D();\n\tpublic _pScissorRect:Rectangle = new Rectangle();\n\tpublic _pViewPort:Rectangle = new Rectangle();\n\tpublic _pNear:number = 20;\n\tpublic _pFar:number = 3000;\n\tpublic _pAspectRatio:number = 1;\n\n\tpublic _pMatrixInvalid:boolean = true;\n\tpublic _pFrustumCorners:number[] = [];\n\tpublic _pCoordinateSystem:string;\n\tpublic _pOriginX:number = 0.5;\n\tpublic _pOriginY:number = 0.5;\n\n\tprivate _unprojection:Matrix3D;\n\tprivate _unprojectionInvalid:boolean = true;\n\n\tconstructor(coordinateSystem:string = \"leftHanded\")\n\t{\n\t\tsuper();\n\n\t\tthis.coordinateSystem = coordinateSystem;\n\t}\n\n\t/**\n\t * The handedness of the coordinate system projection. The default is LEFT_HANDED.\n\t */\n\tpublic get coordinateSystem():string\n\t{\n\t\treturn this._pCoordinateSystem;\n\t}\n\n\tpublic set coordinateSystem(value:string)\n\t{\n\t\tif (this._pCoordinateSystem == value)\n\t\t\treturn;\n\n\t\tthis._pCoordinateSystem = value;\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic get frustumCorners():number[]\n\t{\n\t\treturn this._pFrustumCorners;\n\t}\n\n\tpublic set frustumCorners(frustumCorners:number[])\n\t{\n\t\tthis._pFrustumCorners = frustumCorners;\n\t}\n\n\tpublic get matrix():Matrix3D\n\t{\n\t\tif (this._pMatrixInvalid) {\n\t\t\tthis.pUpdateMatrix();\n\t\t\tthis._pMatrixInvalid = false;\n\t\t}\n\t\treturn this._pMatrix;\n\t}\n\n\tpublic set matrix(value:Matrix3D)\n\t{\n\t\tthis._pMatrix = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic get near():number\n\t{\n\t\treturn this._pNear;\n\t}\n\n\tpublic set near(value:number)\n\t{\n\t\tif (value == this._pNear) {\n\t\t\treturn;\n\t\t}\n\t\tthis._pNear = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic get originX():number\n\t{\n\t\treturn this._pOriginX;\n\t}\n\n\tpublic set originX(value:number)\n\t{\n\t\tif (this._pOriginX == value)\n\t\t\treturn;\n\n\t\tthis._pOriginX = value;\n\t}\n\n\tpublic get originY():number\n\t{\n\t\treturn this._pOriginY;\n\t}\n\n\tpublic set originY(value:number)\n\t{\n\t\tif (this._pOriginY == value)\n\t\t\treturn;\n\n\t\tthis._pOriginY = value;\n\t}\n\n\tpublic get far():number\n\t{\n\t\treturn this._pFar;\n\t}\n\n\tpublic set far(value:number)\n\t{\n\t\tif (value == this._pFar) {\n\t\t\treturn;\n\t\t}\n\t\tthis._pFar = value;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic project(point3d:Vector3D):Vector3D\n\t{\n\t\tvar v:Vector3D = this.matrix.transformVector(point3d);\n\t\tv.x = v.x/v.w;\n\t\tv.y = -v.y/v.w;\n\n\t\t//z is unaffected by transform\n\t\tv.z = point3d.z;\n\n\t\treturn v;\n\t}\n\n\tpublic get unprojectionMatrix():Matrix3D\n\t{\n\t\tif (this._unprojectionInvalid) {\n\t\t\tif (!this._unprojection)\n\t\t\t\tthis._unprojection = new Matrix3D();\n\n\t\t\tthis._unprojection.copyFrom(this.matrix);\n\t\t\tthis._unprojection.invert();\n\t\t\tthis._unprojectionInvalid = false;\n\t\t}\n\t\treturn this._unprojection;\n\t}\n\n\tpublic unproject(nX:number, nY:number, sZ:number):Vector3D\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tpublic clone():ProjectionBase\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tpublic get _iAspectRatio():number\n\t{\n\t\treturn this._pAspectRatio;\n\t}\n\n\tpublic set _iAspectRatio(value:number)\n\t{\n\t\tif (this._pAspectRatio == value)\n\t\t\treturn;\n\n\t\tthis._pAspectRatio = value;\n\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic pInvalidateMatrix()\n\t{\n\t\tthis._pMatrixInvalid = true;\n\t\tthis._unprojectionInvalid = true;\n\t\tthis.dispatchEvent(new ProjectionEvent(ProjectionEvent.MATRIX_CHANGED, this));\n\t}\n\n\tpublic pUpdateMatrix()\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n\n\tpublic _iUpdateScissorRect(x:number, y:number, width:number, height:number)\n\t{\n\t\tthis._pScissorRect.x = x;\n\t\tthis._pScissorRect.y = y;\n\t\tthis._pScissorRect.width = width;\n\t\tthis._pScissorRect.height = height;\n\t\tthis.pInvalidateMatrix();\n\t}\n\n\tpublic _iUpdateViewport(x:number, y:number, width:number, height:number)\n\t{\n\t\tthis._pViewPort.x = x;\n\t\tthis._pViewPort.y = y;\n\t\tthis._pViewPort.width = width;\n\t\tthis._pViewPort.height = height;\n\t\tthis.pInvalidateMatrix();\n\t}\n}\n\nexport = ProjectionBase;",
    "import BitmapData\t\t\t\t= require(\"awayjs-core/lib/data/BitmapData\");\nimport Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\nimport CubeTextureBase\t\t\t= require(\"awayjs-core/lib/textures/CubeTextureBase\");\nimport TextureUtils\t\t\t\t= require(\"awayjs-core/lib/utils/TextureUtils\");\n\n\nclass BitmapCubeTexture extends CubeTextureBase\n{\n\tprivate _bitmapDatas:Array<BitmapData> = new Array<BitmapData>(6);\n\n\t/**\n\t * The texture on the cube's right face.\n\t */\n\tpublic get positiveX():BitmapData\n\t{\n\t\treturn this._bitmapDatas[0];\n\t}\n\n\tpublic set positiveX(value:BitmapData)\n\t{\n\t\tthis._testSize(value);\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width);\n\t\tthis._bitmapDatas[0] = value;\n\t}\n\n\t/**\n\t * The texture on the cube's left face.\n\t */\n\tpublic get negativeX():BitmapData\n\t{\n\t\treturn this._bitmapDatas[1];\n\t}\n\n\tpublic set negativeX(value:BitmapData)\n\t{\n\t\tthis._testSize(value);\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width);\n\t\tthis._bitmapDatas[1] = value;\n\t}\n\n\t/**\n\t * The texture on the cube's top face.\n\t */\n\tpublic get positiveY():BitmapData\n\t{\n\t\treturn this._bitmapDatas[2];\n\t}\n\n\tpublic set positiveY(value:BitmapData)\n\t{\n\t\tthis._testSize(value);\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width);\n\t\tthis._bitmapDatas[2] = value;\n\t}\n\n\t/**\n\t * The texture on the cube's bottom face.\n\t */\n\tpublic get negativeY():BitmapData\n\t{\n\t\treturn this._bitmapDatas[3];\n\t}\n\n\tpublic set negativeY(value:BitmapData)\n\t{\n\t\tthis._testSize(value);\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width);\n\t\tthis._bitmapDatas[3] = value;\n\t}\n\n\t/**\n\t * The texture on the cube's far face.\n\t */\n\tpublic get positiveZ():BitmapData\n\t{\n\t\treturn this._bitmapDatas[4];\n\t}\n\n\tpublic set positiveZ(value:BitmapData)\n\t{\n\t\tthis._testSize(value);\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width);\n\t\tthis._bitmapDatas[4] = value;\n\t}\n\n\t/**\n\t * The texture on the cube's near face.\n\t */\n\tpublic get negativeZ():BitmapData\n\t{\n\t\treturn this._bitmapDatas[5];\n\t}\n\n\tpublic set negativeZ(value:BitmapData)\n\t{\n\t\tthis._testSize(value);\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width);\n\t\tthis._bitmapDatas[5] = value;\n\t}\n\n\tconstructor(posX:BitmapData, negX:BitmapData, posY:BitmapData, negY:BitmapData, posZ:BitmapData, negZ:BitmapData)\n\t{\n\t\tsuper();\n\n\t\tthis._testSize(this._bitmapDatas[0] = posX);\n\t\tthis._testSize(this._bitmapDatas[1] = negX);\n\t\tthis._testSize(this._bitmapDatas[2] = posY);\n\t\tthis._testSize(this._bitmapDatas[3] = negY);\n\t\tthis._testSize(this._bitmapDatas[4] = posZ);\n\t\tthis._testSize(this._bitmapDatas[5] = negZ);\n\n\t\tthis.invalidateContent();\n\n\t\tthis._pSetSize(posX.width);\n\t}\n\n\t/**\n\t *\n\t * @param value\n\t * @private\n\t */\n\tprivate _testSize(value:BitmapData)\n\t{\n\t\tif (value.width != value.height)\n\t\t\tthrow new Error(\"BitmapData should have equal width and height!\");\n\t\tif (!TextureUtils.isBitmapDataValid(value))\n\t\t\tthrow new Error(\"Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048\");\n\t}\n\n\tpublic dispose()\n\t{\n\t\tsuper.dispose();\n\n\t\tvar len:number = this._bitmapDatas.length\n\t\tfor (var i:number = 0; i < len; i++) {\n\t\t\tthis._bitmapDatas[i].dispose();\n\t\t\tthis._bitmapDatas[i] = null;\n\t\t}\n\n\t\tthis._bitmapDatas = null;\n\t}\n\n\tpublic _iGetTextureData(side:number):BitmapData\n\t{\n\t\treturn this._bitmapDatas[side];\n\t}\n}\n\nexport = BitmapCubeTexture;",
    "import BitmapData\t\t\t\t= require(\"awayjs-core/lib/data/BitmapData\");\nimport Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\nimport Texture2DBase\t\t\t= require(\"awayjs-core/lib/textures/Texture2DBase\");\nimport TextureUtils\t\t\t\t= require(\"awayjs-core/lib/utils/TextureUtils\");\n\n\nclass BitmapTexture extends Texture2DBase\n{\n\tpublic _bitmapData:BitmapData;\n\n\t/**\n\t *\n\t * @returns {BitmapData}\n\t */\n\tpublic get bitmapData():BitmapData\n\t{\n\t\treturn this._bitmapData;\n\t}\n\n\tpublic set bitmapData(value:BitmapData)\n\t{\n\t\tif (this._bitmapData == value)\n\t\t\treturn;\n\n\t\tif (!TextureUtils.isBitmapDataValid(value))\n\t\t\tthrow new Error(\"Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048\");\n\n\t\tthis._bitmapData = value;\n\n\t\tthis.invalidateContent();\n\n\t\tthis._pSetSize(value.width, value.height);\n\t}\n\n\tconstructor(bitmapData:BitmapData)\n\t{\n\t\tsuper();\n\n\t\tthis.bitmapData = bitmapData;\n\t}\n\n\tpublic dispose()\n\t{\n\t\tsuper.dispose();\n\n\t\tthis._bitmapData.dispose();\n\t\tthis._bitmapData = null;\n\t}\n\n\tpublic _iGetTextureData():BitmapData\n\t{\n\t\treturn this._bitmapData;\n\t}\n}\n\nexport = BitmapTexture;",
    "import BitmapData\t\t\t\t= require(\"awayjs-core/lib/data/BitmapData\");\nimport AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\nimport MipmapGenerator\t\t\t= require(\"awayjs-core/lib/textures/MipmapGenerator\");\nimport TextureProxyBase\t\t\t= require(\"awayjs-core/lib/textures/TextureProxyBase\");\n\nclass CubeTextureBase extends TextureProxyBase\n{\n\tpublic _mipmapDataArray:Array<Array<BitmapData>> = new Array<Array<BitmapData>>(6);\n\tpublic _mipmapDataDirtyArray:Array<boolean> = new Array<boolean>(6);\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\t/**\n\t *\n\t * @param width\n\t * @param height\n\t * @private\n\t */\n\tpublic _pSetSize(size:number)\n\t{\n\t\tif (this._pSize != size)\n\t\t\tthis.invalidateSize();\n\n\t\tfor (var i:number = 0; i < 6; i++)\n\t\t\tthis._mipmapDataDirtyArray[i] = true;\n\n\t\tthis._pSize = size;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic dispose()\n\t{\n\t\tsuper.dispose();\n\n\t\tfor (var i:number = 0; i < 6; i++) {\n\t\t\tvar mipmapData:Array<BitmapData> = this._mipmapDataArray[i];\n\t\t\tvar len:number = mipmapData.length;\n\t\t\tfor (var j:number = 0; j < len; j++)\n\t\t\t\tMipmapGenerator.freeMipMapHolder(mipmapData[j]);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic invalidateContent():void\n\t{\n\t\tsuper.invalidateContent();\n\n\t\tfor (var i:number = 0; i < 6; i++)\n\t\t\tthis._mipmapDataDirtyArray[i] = true;\n\t}\n\n\tpublic _iGetMipmapData(side:number):Array<BitmapData>\n\t{\n\t\tif (this._mipmapDataDirtyArray[side]) {\n\t\t\tthis._mipmapDataDirtyArray[side] = false;\n\n\t\t\tvar mipmapData:Array<BitmapData> = this._mipmapDataArray[side] || (this._mipmapDataArray[side] = new Array<BitmapData>());\n\t\t\tMipmapGenerator.generateMipMaps(this._iGetTextureData(side), mipmapData, true);\n\t\t}\n\n\t\treturn this._mipmapDataArray[side];\n\t}\n\n\tpublic _iGetTextureData(side:number):any\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n}\n\nexport = CubeTextureBase;",
    "import Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\nimport CubeTextureBase\t\t\t= require(\"awayjs-core/lib/textures/CubeTextureBase\");\nimport TextureUtils\t\t\t\t= require(\"awayjs-core/lib/utils/TextureUtils\");\n\nclass ImageCubeTexture extends CubeTextureBase\n{\n\tprivate _htmlImageElements:Array<HTMLImageElement> = new Array<HTMLImageElement>(6);\n\n\t/**\n\t * The texture on the cube's right face.\n\t */\n\tpublic get positiveX():HTMLImageElement\n\t{\n\t\treturn this._htmlImageElements[0];\n\t}\n\n\tpublic set positiveX(value:HTMLImageElement)\n\t{\n\t\tthis._testSize(value);\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width);\n\t\tthis._htmlImageElements[0] = value;\n\t}\n\n\t/**\n\t * The texture on the cube's left face.\n\t */\n\tpublic get negativeX():HTMLImageElement\n\t{\n\t\treturn this._htmlImageElements[1];\n\t}\n\n\tpublic set negativeX(value:HTMLImageElement)\n\t{\n\t\tthis._testSize(value);\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width);\n\t\tthis._htmlImageElements[1] = value;\n\t}\n\n\t/**\n\t * The texture on the cube's top face.\n\t */\n\tpublic get positiveY():HTMLImageElement\n\t{\n\t\treturn this._htmlImageElements[2];\n\t}\n\n\tpublic set positiveY(value:HTMLImageElement)\n\t{\n\t\tthis._testSize(value);\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width);\n\t\tthis._htmlImageElements[2] = value;\n\t}\n\n\t/**\n\t * The texture on the cube's bottom face.\n\t */\n\tpublic get negativeY():HTMLImageElement\n\t{\n\t\treturn this._htmlImageElements[3];\n\t}\n\n\tpublic set negativeY(value:HTMLImageElement)\n\t{\n\t\tthis._testSize(value);\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width);\n\t\tthis._htmlImageElements[3] = value;\n\t}\n\n\t/**\n\t * The texture on the cube's far face.\n\t */\n\tpublic get positiveZ():HTMLImageElement\n\t{\n\t\treturn this._htmlImageElements[4];\n\t}\n\n\tpublic set positiveZ(value:HTMLImageElement)\n\t{\n\t\tthis._testSize(value);\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width);\n\t\tthis._htmlImageElements[4] = value;\n\t}\n\n\t/**\n\t * The texture on the cube's near face.\n\t */\n\tpublic get negativeZ():HTMLImageElement\n\t{\n\t\treturn this._htmlImageElements[5];\n\t}\n\n\tpublic set negativeZ(value:HTMLImageElement)\n\t{\n\t\tthis._testSize(value);\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width);\n\t\tthis._htmlImageElements[5] = value;\n\t}\n\n\tconstructor(posX:HTMLImageElement, negX:HTMLImageElement, posY:HTMLImageElement, negY:HTMLImageElement, posZ:HTMLImageElement, negZ:HTMLImageElement)\n\t{\n\t\tsuper();\n\n\t\tthis._testSize(this._htmlImageElements[0] = posX);\n\t\tthis._testSize(this._htmlImageElements[1] = negX);\n\t\tthis._testSize(this._htmlImageElements[2] = posY);\n\t\tthis._testSize(this._htmlImageElements[3] = negY);\n\t\tthis._testSize(this._htmlImageElements[4] = posZ);\n\t\tthis._testSize(this._htmlImageElements[5] = negZ);\n\n\t\tthis.invalidateContent();\n\n\t\tthis._pSetSize(posX.width);\n\t}\n\n\tprivate _testSize(value:HTMLImageElement)\n\t{\n\t\tif (value.width != value.height)\n\t\t\tthrow new Error(\"BitmapData should have equal width and height!\");\n\t\tif (!TextureUtils.isHTMLImageElementValid(value))\n\t\t\tthrow new Error(\"Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048\");\n\t}\n\n\tpublic _iGetTextureData(side:number):HTMLImageElement\n\t{\n\t\treturn this._htmlImageElements[side];\n\t}\n}\n\nexport = ImageCubeTexture;",
    "import Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\nimport Texture2DBase\t\t\t= require(\"awayjs-core/lib/textures/Texture2DBase\");\nimport TextureUtils\t\t\t\t= require(\"awayjs-core/lib/utils/TextureUtils\");\n\n\nclass ImageTexture extends Texture2DBase\n{\n\tprivate _htmlImageElement:HTMLImageElement;\n\n\t/**\n\t *\n\t * @param htmlImageElement\n\t * @param generateMipmaps\n\t */\n\tconstructor(htmlImageElement:HTMLImageElement)\n\t{\n\t\tsuper();\n\n\t\tthis.htmlImageElement = htmlImageElement;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic get htmlImageElement():HTMLImageElement\n\t{\n\t\treturn this._htmlImageElement;\n\t}\n\n\tpublic set htmlImageElement(value:HTMLImageElement)\n\t{\n\t\tif (this._htmlImageElement == value)\n\t\t\treturn;\n\n\t\tif (!TextureUtils.isHTMLImageElementValid(value))\n\t\t\tthrow new Error(\"Invalid bitmapData: Width and height must be power of 2 and cannot exceed 2048\");\n\n\t\tthis._htmlImageElement = value;\n\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(value.width, value.height);\n\t}\n\n\tpublic _iGetTextureData():HTMLImageElement\n\t{\n\t\treturn this._htmlImageElement;\n\t}\n}\n\nexport = ImageTexture;",
    "import BitmapData\t\t\t\t= require(\"awayjs-core/lib/data/BitmapData\");\nimport Matrix\t\t\t\t\t= require(\"awayjs-core/lib/geom/Matrix\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\n\n/**\n * MipmapGenerator is a helper class that uploads BitmapData to a Texture including mipmap levels.\n */\nclass MipmapGenerator\n{\n\tprivate static _mipMaps = [];\n\tprivate static _mipMapUses = [];\n\n\tprivate static _matrix:Matrix = new Matrix();\n\tprivate static _rect:Rectangle = new Rectangle();\n\tprivate static _source:BitmapData;\n\n\t/**\n\t * Uploads a BitmapData with mip maps to a target Texture object.\n\t * @param source The source to upload.\n\t * @param target The target Texture to upload to.\n\t * @param mipmap An optional mip map holder to avoids creating new instances for fe animated materials.\n\t * @param alpha Indicate whether or not the uploaded bitmapData is transparent.\n\t */\n\tpublic static generateMipMaps(source:HTMLImageElement, output?:Array<BitmapData>, alpha?:boolean);\n\tpublic static generateMipMaps(source:BitmapData, output?:Array<BitmapData>, alpha?:boolean);\n\tpublic static generateMipMaps(source:any, output?:Array<BitmapData>, alpha:boolean = false)\n\t{\n\t\tvar w:number = source.width;\n\t\tvar h:number = source.height;\n\t\tvar i:number = 0;\n\n\t\tvar mipmap:BitmapData;\n\n\t\tMipmapGenerator._rect.width = w;\n\t\tMipmapGenerator._rect.height = h;\n\n\t\t//use (OR) to create non-square texture mipmaps\n\t\twhile (w >= 1 || h >= 1) {\n\n\t\t\tmipmap = output[i] = MipmapGenerator._getMipmapHolder(output[i], MipmapGenerator._rect.width, MipmapGenerator._rect.height);\n\n\t\t\tif (alpha)\n\t\t\t\tmipmap.fillRect(MipmapGenerator._rect, 0);\n\n\t\t\tMipmapGenerator._matrix.a = MipmapGenerator._rect.width/source.width;\n\t\t\tMipmapGenerator._matrix.d = MipmapGenerator._rect.height/source.height;\n\n\t\t\tmipmap.draw(source, MipmapGenerator._matrix); //TODO: smoothing?\n\n\t\t\tw >>= 1;\n\t\t\th >>= 1;\n\n\t\t\tMipmapGenerator._rect.width = w > 1? w : 1;\n\t\t\tMipmapGenerator._rect.height = h > 1? h : 1;\n\n\t\t\ti++;\n\t\t}\n\t}\n\n\tprivate static _getMipmapHolder(mipMapHolder:BitmapData, newW:number, newH:number):BitmapData\n\t{\n\t\tif (mipMapHolder) {\n\t\t\tif (mipMapHolder.width == newW && mipMapHolder.height == newH)\n\t\t\t\treturn mipMapHolder;\n\n\t\t\tMipmapGenerator.freeMipMapHolder(mipMapHolder);\n\t\t}\n\n\t\tif (!MipmapGenerator._mipMaps[newW]) {\n\t\t\tMipmapGenerator._mipMaps[newW] = [];\n\t\t\tMipmapGenerator._mipMapUses[newW] = [];\n\t\t}\n\n\t\tif (!MipmapGenerator._mipMaps[newW][newH]) {\n\t\t\tmipMapHolder = MipmapGenerator._mipMaps[newW][newH] = new BitmapData(newW, newH, true);\n\t\t\tMipmapGenerator._mipMapUses[newW][newH] = 1;\n\t\t} else {\n\t\t\tMipmapGenerator._mipMapUses[newW][newH] = MipmapGenerator._mipMapUses[newW][newH] + 1;\n\t\t\tmipMapHolder = MipmapGenerator._mipMaps[newW][newH];\n\t\t}\n\n\t\treturn mipMapHolder;\n\t}\n\n\tpublic static freeMipMapHolder(mipMapHolder:BitmapData)\n\t{\n\t\tvar holderWidth:number = mipMapHolder.width;\n\t\tvar holderHeight:number = mipMapHolder.height;\n\n\t\tif (--MipmapGenerator._mipMapUses[holderWidth][holderHeight] == 0) {\n\t\t\tMipmapGenerator._mipMaps[holderWidth][holderHeight].dispose();\n\t\t\tMipmapGenerator._mipMaps[holderWidth][holderHeight] = null;\n\t\t}\n\t}\n}\n\nexport = MipmapGenerator;",
    "import Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\nimport Texture2DBase\t\t\t= require(\"awayjs-core/lib/textures/Texture2DBase\");\nimport TextureUtils\t\t\t\t= require(\"awayjs-core/lib/utils/TextureUtils\");\n\n\nclass RenderTexture extends Texture2DBase\n{\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tpublic get width():number\n\t{\n\t\treturn this._pWidth;\n\t}\n\n\tpublic set width(value:number)\n\t{\n\t\tif (value == this._pWidth)\n\t\t\treturn;\n\n\t\tif (!TextureUtils.isDimensionValid(value))\n\t\t\tthrow new Error(\"Invalid size: Width and height must be power of 2 and cannot exceed 2048\");\n\n\t\tthis.invalidateContent();\n\n\t\tthis._pSetSize(value, this._pHeight);\n\t}\n\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tpublic get height():number\n\t{\n\t\treturn this._pHeight;\n\t}\n\n\tpublic set height(value:number)\n\t{\n\t\tif (value == this._pHeight)\n\t\t\treturn;\n\n\t\tif (!TextureUtils.isDimensionValid(value))\n\t\t\tthrow new Error(\"Invalid size: Width and height must be power of 2 and cannot exceed 2048\");\n\n\t\tthis.invalidateContent();\n\t\tthis._pSetSize(this._pWidth, value);\n\t}\n\n\tconstructor(width:number, height:number)\n\t{\n\t\tsuper();\n\n\t\tthis._pSetSize(width, height);\n\t}\n}\n\nexport = RenderTexture;",
    "import BitmapData\t\t\t\t= require(\"awayjs-core/lib/data/BitmapData\");\nimport BitmapDataChannel\t\t= require(\"awayjs-core/lib/data/BitmapDataChannel\");\nimport Point\t\t\t\t\t= require(\"awayjs-core/lib/geom/Point\");\nimport Rectangle\t\t\t\t= require(\"awayjs-core/lib/geom/Rectangle\");\nimport BitmapTexture\t\t\t= require(\"awayjs-core/lib/textures/BitmapTexture\");\n\n/**\n * A convenience texture that encodes a specular map in the red channel, and the gloss map in the green channel, as expected by BasicSpecularMapMethod\n */\nclass SpecularBitmapTexture extends BitmapTexture\n{\n\tprivate _specularMap:BitmapData;\n\tprivate _glossMap:BitmapData;\n\t\n\tconstructor(specularMap:BitmapData = null, glossMap:BitmapData = null)\n\t{\n\t\tvar bmd:BitmapData = specularMap? specularMap : glossMap;\n\n\t\tbmd = bmd? new BitmapData(bmd.width, bmd.height, false, 0xffffff) : new BitmapData(1, 1, false, 0xffffff);\n\t\t\n\t\tsuper(bmd);\n\t\t\n\t\tthis.specularMap = specularMap;\n\t\tthis.glossMap = glossMap;\n\t}\n\t\n\tpublic get specularMap():BitmapData\n\t{\n\t\treturn this._specularMap;\n\t}\n\t\n\tpublic set specularMap(value:BitmapData)\n\t{\n\t\tthis._specularMap = value;\n\n\t\tthis.invalidateContent();\n\t\t\n\t\tthis._testSize();\n\t}\n\t\n\tpublic get glossMap():BitmapData\n\t{\n\t\treturn this._glossMap;\n\t}\n\t\n\tpublic set glossMap(value:BitmapData)\n\t{\n\t\tthis._glossMap = value;\n\t\tthis.invalidateContent();\n\t\t\n\t\tthis._testSize();\n\t}\n\t\n\tprivate _testSize()\n\t{\n\t\tvar w:Number, h:Number;\n\t\t\n\t\tif (this._specularMap) {\n\t\t\tw = this._specularMap.width;\n\t\t\th = this._specularMap.height;\n\t\t} else if (this._glossMap) {\n\t\t\tw = this._glossMap.width;\n\t\t\th = this._glossMap.height;\n\t\t} else {\n\t\t\tw = 1;\n\t\t\th = 1;\n\t\t}\n\t\t\n\t\tif (w != this._bitmapData.width && h != this._bitmapData.height) {\n\t\t\tvar oldBitmap:BitmapData = this._bitmapData;\n\t\t\tthis.bitmapData = new BitmapData(this._specularMap.width, this._specularMap.height, false, 0xffffff);\n\t\t\toldBitmap.dispose();\n\t\t}\n\t}\n\n\tpublic _iGetTextureData():BitmapData\n\t{\n\t\tvar rect:Rectangle = this._specularMap.rect;\n\t\tvar origin:Point = new Point();\n\n\t\tthis._bitmapData.fillRect(rect, 0xffffff);\n\n\t\tif (this._glossMap)\n\t\t\tthis._bitmapData.copyChannel(this._glossMap, rect, origin, BitmapDataChannel.GREEN, BitmapDataChannel.GREEN);\n\n\t\tif (this._specularMap)\n\t\t\tthis._bitmapData.copyChannel(this._specularMap, rect, origin, BitmapDataChannel.RED, BitmapDataChannel.RED);\n\n\t\treturn this._bitmapData;\n\t}\n}\n\nexport = SpecularBitmapTexture;",
    "import BitmapData\t\t\t\t= require(\"awayjs-core/lib/data/BitmapData\");\nimport AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\nimport MipmapGenerator\t\t\t= require(\"awayjs-core/lib/textures/MipmapGenerator\");\nimport TextureProxyBase\t\t\t= require(\"awayjs-core/lib/textures/TextureProxyBase\");\n\nclass Texture2DBase extends TextureProxyBase\n{\n\tprivate _mipmapData:Array<BitmapData>;\n\tprivate _mipmapDataDirty:boolean;\n\tpublic _pWidth:number;\n\tpublic _pHeight:number;\n\t\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tpublic get width():number\n\t{\n\t\treturn this._pWidth;\n\t}\n\n\t/**\n\t *\n\t * @returns {number}\n\t */\n\tpublic get height():number\n\t{\n\t\treturn this._pHeight;\n\t}\n\n\tpublic get size():number\n\t{\n\t\treturn this._pWidth;\n\t}\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic dispose()\n\t{\n\t\tsuper.dispose();\n\n\t\tif (this._mipmapData) {\n\t\t\tvar len:number = this._mipmapData.length;\n\t\t\tfor (var i:number = 0; i < len; i++)\n\t\t\t\tMipmapGenerator.freeMipMapHolder(this._mipmapData[i]);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic invalidateContent():void\n\t{\n\t\tsuper.invalidateContent();\n\n\t\tthis._mipmapDataDirty = true;\n\t}\n\n\t/**\n\t *\n\t * @param width\n\t * @param height\n\t * @private\n\t */\n\tpublic _pSetSize(width:number, height:number)\n\t{\n\t\tif (this._pWidth != width || this._pHeight != height)\n\t\t\tthis.invalidateSize();\n\n\t\tthis._mipmapDataDirty = true;\n\n\t\tthis._pWidth = width;\n\t\tthis._pHeight = height;\n\t}\n\n\tpublic _iGetMipmapData():Array<BitmapData>\n\t{\n\t\tif (this._mipmapDataDirty) {\n\t\t\tthis._mipmapDataDirty = false;\n\n\t\t\tif (!this._mipmapData)\n\t\t\t\tthis._mipmapData = new Array<BitmapData>();\n\n\t\t\tMipmapGenerator.generateMipMaps(this._iGetTextureData(), this._mipmapData, true);\n\t\t}\n\n\t\treturn this._mipmapData;\n\t}\n\n\tpublic _iGetTextureData():any\n\t{\n\t\tthrow new AbstractMethodError();\n\t}\n}\n\nexport = Texture2DBase;",
    "import AssetType\t\t\t\t= require(\"awayjs-core/lib/library/AssetType\");\nimport IAsset\t\t\t\t\t= require(\"awayjs-core/lib/library/IAsset\");\nimport NamedAssetBase\t\t\t= require(\"awayjs-core/lib/library/NamedAssetBase\");\nimport ITextureData\t\t\t\t= require(\"awayjs-core/lib/pool/ITextureData\");\n\n/**\n *\n */\nclass TextureProxyBase extends NamedAssetBase implements IAsset\n{\n\tpublic _pSize:number;\n\tpublic _pFormat:string = \"bgra\"\n\tprivate _textureData:Array<ITextureData> = new Array<ITextureData>();\n\t\n\t/**\n\t *\n\t */\n\tconstructor(generateMipmaps:boolean = false)\n\t{\n\t\tsuper();\n\t}\n\n\tpublic get size():number\n\t{\n\t\treturn this._pSize;\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get format():string\n\t{\n\t\treturn this._pFormat;\n\t}\n\n\t/**\n\t *\n\t * @returns {string}\n\t */\n\tpublic get assetType():string\n\t{\n\t\treturn AssetType.TEXTURE;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic invalidateContent():void\n\t{\n\t\tvar len:number = this._textureData.length\n\t\tfor (var i:number = 0; i < len; i++)\n\t\t\tthis._textureData[i].invalidate();\n\t}\n\n\t/**\n\t *\n\t * @private\n\t */\n\tpublic invalidateSize():void\n\t{\n\t\twhile (this._textureData.length)\n\t\t\tthis._textureData[0].dispose();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tpublic dispose()\n\t{\n\t\twhile (this._textureData.length)\n\t\t\tthis._textureData[0].dispose();\n\t}\n\n\n\tpublic _iAddTextureData(textureData:ITextureData):ITextureData\n\t{\n\t\tthis._textureData.push(textureData);\n\n\t\treturn textureData;\n\t}\n\n\tpublic _iRemoveTextureData(textureData:ITextureData):ITextureData\n\t{\n\t\tthis._textureData.splice(this._textureData.indexOf(textureData), 1);\n\n\t\treturn textureData;\n\t}\n}\n\nexport = TextureProxyBase;",
    "class Keyboard\n{\n\t/**\n\t * Constant associated with the key code value for the A key (65).\n\t */\n\tpublic static A:number /*uint*/ = 65;\n\n\t/**\n\t * Constant associated with the key code value for the Alternate (Option) key  (18).\n\t */\n\tpublic static ALTERNATE:number /*uint*/ = 18;\n\n\t/**\n\t * Select the audio mode\n\t */\n\tpublic static AUDIO:number /*uint*/ = 0x01000017;\n\n\t/**\n\t * Constant associated with the key code value for the B key (66).\n\t */\n\tpublic static B:number /*uint*/ = 66;\n\n\t/**\n\t * Return to previous page in application\n\t */\n\tpublic static BACK:number /*uint*/ = 0x01000016;\n\n\t/**\n\t * Constant associated with the key code value for the ` key (192).\n\t */\n\tpublic static BACKQUOTE:number /*uint*/ = 192;\n\n\t/**\n\t * Constant associated with the key code value for the \\ key (220).\n\t */\n\tpublic static BACKSLASH:number /*uint*/ = 220;\n\n\t/**\n\t * Constant associated with the key code value for the Backspace key (8).\n\t */\n\tpublic static BACKSPACE:number /*uint*/ = 8;\n\n\t/**\n\t * Blue function key button\n\t */\n\tpublic static BLUE:number /*uint*/ = 0x01000003;\n\n\t/**\n\t * Constant associated with the key code value for the C key (67).\n\t */\n\tpublic static C:number /*uint*/ = 67;\n\n\t/**\n\t * Constant associated with the key code value for the Caps Lock key (20).\n\t */\n\tpublic static CAPS_LOCK:number /*uint*/ = 20;\n\n\t/**\n\t * Channel down\n\t */\n\tpublic static CHANNEL_DOWN:number /*uint*/ = 0x01000005;\n\n\t/**\n\t * Channel up\n\t */\n\tpublic static CHANNEL_UP:number /*uint*/ = 0x01000005;\n\n\t/**\n\t * Constant associated with the key code value for the , key (188).\n\t */\n\tpublic static COMMA:number /*uint*/ = 188;\n\n\t/**\n\t * Constant associated with the Mac command key (15). This constant is\n\t * currently only used for setting menu key equivalents.\n\t */\n\tpublic static COMMAND:number /*uint*/ = 15;\n\n\t/**\n\t * Constant associated with the key code value for the Control key (17).\n\t */\n\tpublic static CONTROL:number /*uint*/ = 17;\n\n\t/**\n\t * An array containing all the defined key name constants.\n\t */\n\tpublic static CharCodeStrings:Array<any>;\n\n\t/**\n\t * Constant associated with the key code value for the D key (68).\n\t */\n\tpublic static D:number /*uint*/ = 68;\n\n\t/**\n\t * Constant associated with the key code value for the Delete key (46).\n\t */\n\tpublic static DELETE:number /*uint*/ = 46;\n\n\t/**\n\t * Constant associated with the key code value for the Down Arrow key (40).\n\t */\n\tpublic static DOWN:number /*uint*/ = 40;\n\n\t/**\n\t * Engage DVR application mode\n\t */\n\tpublic static DVR:number /*uint*/ = 0x01000019;\n\n\t/**\n\t * Constant associated with the key code value for the E key (69).\n\t */\n\tpublic static E:number /*uint*/ = 69;\n\n\t/**\n\t * Constant associated with the key code value for the End key (35).\n\t */\n\tpublic static END:number /*uint*/ = 35;\n\n\t/**\n\t * Constant associated with the key code value for the Enter key (13).\n\t */\n\tpublic static ENTER:number /*uint*/ = 13;\n\n\t/**\n\t * Constant associated with the key code value for the = key (187).\n\t */\n\tpublic static EQUAL:number /*uint*/ = 187;\n\n\t/**\n\t * Constant associated with the key code value for the Escape key (27).\n\t */\n\tpublic static ESCAPE:number /*uint*/ = 27;\n\n\t/**\n\t * Exits current application mode\n\t */\n\tpublic static EXIT:number /*uint*/ = 0x01000015;\n\n\t/**\n\t * Constant associated with the key code value for the F key (70).\n\t */\n\tpublic static F:number /*uint*/ = 70;\n\n\t/**\n\t * Constant associated with the key code value for the F1 key (112).\n\t */\n\tpublic static F1:number /*uint*/ = 112;\n\n\t/**\n\t * Constant associated with the key code value for the F10 key (121).\n\t */\n\tpublic static F10:number /*uint*/ = 121;\n\n\t/**\n\t * Constant associated with the key code value for the F11 key (122).\n\t */\n\tpublic static F11:number /*uint*/ = 122;\n\n\t/**\n\t * Constant associated with the key code value for the F12 key (123).\n\t */\n\tpublic static F12:number /*uint*/ = 123;\n\n\t/**\n\t * Constant associated with the key code value for the F13 key (124).\n\t */\n\tpublic static F13:number /*uint*/ = 124;\n\n\t/**\n\t * Constant associated with the key code value for the F14 key (125).\n\t */\n\tpublic static F14:number /*uint*/ = 125;\n\n\t/**\n\t * Constant associated with the key code value for the F15 key (126).\n\t */\n\tpublic static F15:number /*uint*/ = 126;\n\n\t/**\n\t * Constant associated with the key code value for the F2 key (113).\n\t */\n\tpublic static F2:number /*uint*/ = 113;\n\n\t/**\n\t * Constant associated with the key code value for the F3 key (114).\n\t */\n\tpublic static F3:number /*uint*/ = 114;\n\n\t/**\n\t * Constant associated with the key code value for the F4 key (115).\n\t */\n\tpublic static F4:number /*uint*/ = 115;\n\n\t/**\n\t * Constant associated with the key code value for the F5 key (116).\n\t */\n\tpublic static F5:number /*uint*/ = 116;\n\n\t/**\n\t * Constant associated with the key code value for the F6 key (117).\n\t */\n\tpublic static F6:number /*uint*/ = 117;\n\n\t/**\n\t * Constant associated with the key code value for the F7 key (118).\n\t */\n\tpublic static F7:number /*uint*/ = 118;\n\n\t/**\n\t * Constant associated with the key code value for the F8 key (119).\n\t */\n\tpublic static F8:number /*uint*/ = 119;\n\n\t/**\n\t * Constant associated with the key code value for the F9 key (120).\n\t */\n\tpublic static F9:number /*uint*/ = 120;\n\n\t/**\n\t * Engage fast-forward transport mode\n\t */\n\tpublic static FAST_FORWARD:number /*uint*/ = 0x0100000A;\n\n\t/**\n\t * Constant associated with the key code value for the G key (71).\n\t */\n\tpublic static G:number /*uint*/ = 71;\n\n\t/**\n\t * Green function key button\n\t */\n\tpublic static GREEN:number /*uint*/ = 0x01000001;\n\n\t/**\n\t * Engage program guide\n\t */\n\tpublic static GUIDE:number /*uint*/ = 0x01000014;\n\n\t/**\n\t * Constant associated with the key code value for the H key (72).\n\t */\n\tpublic static H:number /*uint*/ = 72;\n\n\t/**\n\t * Engage help application or context-sensitive help\n\t */\n\tpublic static HELP:number /*uint*/ = 0x0100001D;\n\n\t/**\n\t * Constant associated with the key code value for the Home key (36).\n\t */\n\tpublic static HOME:number /*uint*/ = 36;\n\n\t/**\n\t * Constant associated with the key code value for the I key (73).\n\t */\n\tpublic static I:number /*uint*/ = 73;\n\n\t/**\n\t * Info button\n\t */\n\tpublic static INFO:number /*uint*/ = 0x01000013;\n\n\t/**\n\t * Cycle input\n\t */\n\tpublic static INPUT:number /*uint*/ = 0x0100001B;\n\n\t/**\n\t * Constant associated with the key code value for the Insert key (45).\n\t */\n\tpublic static INSERT:number /*uint*/ = 45;\n\n\t/**\n\t * Constant associated with the key code value for the J key (74).\n\t */\n\tpublic static J:number /*uint*/ = 74;\n\n\t/**\n\t * Constant associated with the key code value for the K key (75).\n\t */\n\tpublic static K:number /*uint*/ = 75;\n\n\t/**\n\t * The Begin key\n\t */\n\tpublic static KEYNAME_BEGIN:string = \"Begin\";\n\n\t/**\n\t * The Break key\n\t */\n\tpublic static KEYNAME_BREAK:string = \"Break\";\n\n\t/**\n\t * The Clear Display key\n\t */\n\tpublic static KEYNAME_CLEARDISPLAY:string = \"ClrDsp\";\n\n\t/**\n\t * The Clear Line key\n\t */\n\tpublic static KEYNAME_CLEARLINE:string = \"ClrLn\";\n\n\t/**\n\t * The Delete key\n\t */\n\tpublic static KEYNAME_DELETE:string = \"Delete\";\n\n\t/**\n\t * The Delete Character key\n\t */\n\tpublic static KEYNAME_DELETECHAR:string = \"DelChr\";\n\n\t/**\n\t * The Delete Line key\n\t */\n\tpublic static KEYNAME_DELETELINE:string = \"DelLn\";\n\n\t/**\n\t * The down arrow\n\t */\n\tpublic static KEYNAME_DOWNARROW:string = \"Down\";\n\n\t/**\n\t * The End key\n\t */\n\tpublic static KEYNAME_END:string = \"End\";\n\n\t/**\n\t * The Execute key\n\t */\n\tpublic static KEYNAME_EXECUTE:string = \"Exec\";\n\n\t/**\n\t * The F1 key\n\t */\n\tpublic static KEYNAME_F1:string = \"F1\";\n\n\t/**\n\t * The F10 key\n\t */\n\tpublic static KEYNAME_F10:string = \"F10\";\n\n\t/**\n\t * The F11 key\n\t */\n\tpublic static KEYNAME_F11:string = \"F11\";\n\n\t/**\n\t * The F12 key\n\t */\n\tpublic static KEYNAME_F12:string = \"F12\";\n\n\t/**\n\t * The F13 key\n\t */\n\tpublic static KEYNAME_F13:string = \"F13\";\n\n\t/**\n\t * The F14 key\n\t */\n\tpublic static KEYNAME_F14:string = \"F14\";\n\n\t/**\n\t * The F15 key\n\t */\n\tpublic static KEYNAME_F15:string = \"F15\";\n\n\t/**\n\t * The F16 key\n\t */\n\tpublic static KEYNAME_F16:string = \"F16\";\n\n\t/**\n\t * The F17 key\n\t */\n\tpublic static KEYNAME_F17:string = \"F17\";\n\n\t/**\n\t * The F18 key\n\t */\n\tpublic static KEYNAME_F18:string = \"F18\";\n\n\t/**\n\t * The F19 key\n\t */\n\tpublic static KEYNAME_F19:string = \"F19\";\n\n\t/**\n\t * The F2 key\n\t */\n\tpublic static KEYNAME_F2:string = \"F2\";\n\n\t/**\n\t * The F20 key\n\t */\n\tpublic static KEYNAME_F20:string = \"F20\";\n\n\t/**\n\t * The F21 key\n\t */\n\tpublic static KEYNAME_F21:string = \"F21\";\n\n\t/**\n\t * The F22 key\n\t */\n\tpublic static KEYNAME_F22:string = \"F22\";\n\n\t/**\n\t * The F23 key\n\t */\n\tpublic static KEYNAME_F23:string = \"F23\";\n\n\t/**\n\t * The F24 key\n\t */\n\tpublic static KEYNAME_F24:string = \"F24\";\n\n\t/**\n\t * The F25 key\n\t */\n\tpublic static KEYNAME_F25:string = \"F25\";\n\n\t/**\n\t * The F26 key\n\t */\n\tpublic static KEYNAME_F26:string = \"F26\";\n\n\t/**\n\t * The F27 key\n\t */\n\tpublic static KEYNAME_F27:string = \"F27\";\n\n\t/**\n\t * The F28 key\n\t */\n\tpublic static KEYNAME_F28:string = \"F28\";\n\n\t/**\n\t * The F29 key\n\t */\n\tpublic static KEYNAME_F29:string = \"F29\";\n\n\t/**\n\t * The F3 key\n\t */\n\tpublic static KEYNAME_F3:string = \"F3\";\n\n\t/**\n\t * The F30 key\n\t */\n\tpublic static KEYNAME_F30:string = \"F30\";\n\n\t/**\n\t * The F31 key\n\t */\n\tpublic static KEYNAME_F31:string = \"F31\";\n\n\t/**\n\t * The F32 key\n\t */\n\tpublic static KEYNAME_F32:string = \"F32\";\n\n\t/**\n\t * The F33 key\n\t */\n\tpublic static KEYNAME_F33:string = \"F33\";\n\n\t/**\n\t * The F34 key\n\t */\n\tpublic static KEYNAME_F34:string = \"F34\";\n\n\t/**\n\t * The F35 key\n\t */\n\tpublic static KEYNAME_F35:string = \"F35\";\n\n\t/**\n\t * The F4 key\n\t */\n\tpublic static KEYNAME_F4:string = \"F4\";\n\n\t/**\n\t * The F5 key\n\t */\n\tpublic static KEYNAME_F5:string = \"F5\";\n\n\t/**\n\t * The F6 key\n\t */\n\tpublic static KEYNAME_F6:string = \"F6\";\n\n\t/**\n\t * The F7 key\n\t */\n\tpublic static KEYNAME_F7:string = \"F7\";\n\n\t/**\n\t * The F8 key\n\t */\n\tpublic static KEYNAME_F8:string = \"F8\";\n\n\t/**\n\t * The F9 key\n\t */\n\tpublic static KEYNAME_F9:string = \"F9\";\n\n\t/**\n\t * The Find key\n\t */\n\tpublic static KEYNAME_FIND:string = \"Find\";\n\n\t/**\n\t * The Help key\n\t */\n\tpublic static KEYNAME_HELP:string = \"Help\";\n\n\t/**\n\t * The Home key\n\t */\n\tpublic static KEYNAME_HOME:string = \"Home\";\n\n\t/**\n\t * The Insert key\n\t */\n\tpublic static KEYNAME_INSERT:string = \"Insert\";\n\n\t/**\n\t * The Insert Character key\n\t */\n\tpublic static KEYNAME_INSERTCHAR:string = \"InsChr\";\n\n\t/**\n\t * The Insert Line key\n\t */\n\tpublic static KEYNAME_INSERTLINE:string = \"LnsLn\";\n\n\t/**\n\t * The left arrow\n\t */\n\tpublic static KEYNAME_LEFTARROW:string = \"Left\";\n\n\t/**\n\t * The Menu key\n\t */\n\tpublic static KEYNAME_MENU:string = \"Menu\";\n\n\t/**\n\t * The Mode Switch key\n\t */\n\tpublic static KEYNAME_MODESWITCH:string = \"ModeSw\";\n\n\t/**\n\t * The Next key\n\t */\n\tpublic static KEYNAME_NEXT:string = \"Next\";\n\n\t/**\n\t * The Page Down key\n\t */\n\tpublic static KEYNAME_PAGEDOWN:string = \"PgDn\";\n\n\t/**\n\t * The Page Up key\n\t */\n\tpublic static KEYNAME_PAGEUP:string = \"PgUp\";\n\n\t/**\n\t * The Pause key\n\t */\n\tpublic static KEYNAME_PAUSE:string = \"Pause\";\n\n\t/**\n\t * The Previous key\n\t */\n\tpublic static KEYNAME_PREV:string = \"Prev\";\n\n\t/**\n\t * The PRINT key\n\t */\n\tpublic static KEYNAME_PRINT:string = \"Print\";\n\n\t/**\n\t * The PRINT Screen\n\t */\n\tpublic static KEYNAME_PRINTSCREEN:string = \"PrntScrn\";\n\n\t/**\n\t * The Redo key\n\t */\n\tpublic static KEYNAME_REDO:string = \"Redo\";\n\n\t/**\n\t * The Reset key\n\t */\n\tpublic static KEYNAME_RESET:string = \"Reset\";\n\n\t/**\n\t * The right arrow\n\t */\n\tpublic static KEYNAME_RIGHTARROW:string = \"Right\";\n\n\t/**\n\t * The Scroll Lock key\n\t */\n\tpublic static KEYNAME_SCROLLLOCK:string = \"ScrlLck\";\n\n\t/**\n\t * The Select key\n\t */\n\tpublic static KEYNAME_SELECT:string = \"Select\";\n\n\t/**\n\t * The Stop key\n\t */\n\tpublic static KEYNAME_STOP:string = \"Stop\";\n\n\t/**\n\t * The System Request key\n\t */\n\tpublic static KEYNAME_SYSREQ:string = \"SysReq\";\n\n\t/**\n\t * The System key\n\t */\n\tpublic static KEYNAME_SYSTEM:string = \"Sys\";\n\n\t/**\n\t * The Undo key\n\t */\n\tpublic static KEYNAME_UNDO:string = \"Undo\";\n\n\t/**\n\t * The up arrow\n\t */\n\tpublic static KEYNAME_UPARROW:string = \"Up\";\n\n\t/**\n\t * The User key\n\t */\n\tpublic static KEYNAME_USER:string = \"User\";\n\n\t/**\n\t * Constant associated with the key code value for the L key (76).\n\t */\n\tpublic static L:number /*uint*/ = 76;\n\n\t/**\n\t * Watch last channel or show watched\n\t */\n\tpublic static LAST:number /*uint*/ = 0x01000011;\n\n\t/**\n\t * Constant associated with the key code value for the Left Arrow key (37).\n\t */\n\tpublic static LEFT:number /*uint*/ = 37;\n\n\t/**\n\t * Constant associated with the key code value for the [ key (219).\n\t */\n\tpublic static LEFTBRACKET:number /*uint*/ = 219;\n\n\t/**\n\t * Return to live [position in broadcast]\n\t */\n\tpublic static LIVE:number /*uint*/ = 0x01000010;\n\n\t/**\n\t * Constant associated with the key code value for the M key (77).\n\t */\n\tpublic static M:number /*uint*/ = 77;\n\n\t/**\n\t * Engage \"Master Shell\" e.g. TiVo or other vendor button\n\t */\n\tpublic static MASTER_SHELL:number /*uint*/ = 0x0100001E;\n\n\t/**\n\t * Engage menu\n\t */\n\tpublic static MENU:number /*uint*/ = 0x01000012;\n\n\t/**\n\t * Constant associated with the key code value for the - key (189).\n\t */\n\tpublic static MINUS:number /*uint*/ = 189;\n\n\t/**\n\t * Constant associated with the key code value for the N key (78).\n\t */\n\tpublic static N:number /*uint*/ = 78;\n\n\t/**\n\t * Skip to next track or chapter\n\t */\n\tpublic static NEXT:number /*uint*/ = 0x0100000E;\n\n\t/**\n\t * Constant associated with the key code value for the 0 key (48).\n\t */\n\tpublic static NUMBER_0:number /*uint*/ = 48;\n\n\t/**\n\t * Constant associated with the key code value for the 1 key (49).\n\t */\n\tpublic static NUMBER_1:number /*uint*/ = 49;\n\n\t/**\n\t * Constant associated with the key code value for the 2 key (50).\n\t */\n\tpublic static NUMBER_2:number /*uint*/ = 50;\n\n\t/**\n\t * Constant associated with the key code value for the 3 key (51).\n\t */\n\tpublic static NUMBER_3:number /*uint*/ = 51;\n\n\t/**\n\t * Constant associated with the key code value for the 4 key (52).\n\t */\n\tpublic static NUMBER_4:number /*uint*/ = 52;\n\n\t/**\n\t * Constant associated with the key code value for the 5 key (53).\n\t */\n\tpublic static NUMBER_5:number /*uint*/ = 53;\n\n\t/**\n\t * Constant associated with the key code value for the 6 key (54).\n\t */\n\tpublic static NUMBER_6:number /*uint*/ = 54;\n\n\t/**\n\t * Constant associated with the key code value for the 7 key (55).\n\t */\n\tpublic static NUMBER_7:number /*uint*/ = 55;\n\n\t/**\n\t * Constant associated with the key code value for the 8 key (56).\n\t */\n\tpublic static NUMBER_8:number /*uint*/ = 56;\n\n\t/**\n\t * Constant associated with the key code value for the 9 key (57).\n\t */\n\tpublic static NUMBER_9:number /*uint*/ = 57;\n\n\t/**\n\t * Constant associated with the pseudo-key code for the the number pad (21). Use to set numpad modifier on key equivalents\n\t */\n\tpublic static NUMPAD:number /*uint*/ = 21;\n\n\t/**\n\t * Constant associated with the key code value for the number 0 key on the number pad (96).\n\t */\n\tpublic static NUMPAD_0:number /*uint*/ = 96;\n\n\t/**\n\t * Constant associated with the key code value for the number 1 key on the number pad (97).\n\t */\n\tpublic static NUMPAD_1:number /*uint*/ = 97;\n\n\t/**\n\t * Constant associated with the key code value for the number 2 key on the number pad (98).\n\t */\n\tpublic static NUMPAD_2:number /*uint*/ = 98;\n\n\t/**\n\t * Constant associated with the key code value for the number 3 key on the number pad (99).\n\t */\n\tpublic static NUMPAD_3:number /*uint*/ = 99;\n\n\t/**\n\t * Constant associated with the key code value for the number 4 key on the number pad (100).\n\t */\n\tpublic static NUMPAD_4:number /*uint*/ = 100;\n\n\t/**\n\t * Constant associated with the key code value for the number 5 key on the number pad (101).\n\t */\n\tpublic static NUMPAD_5:number /*uint*/ = 101;\n\n\t/**\n\t * Constant associated with the key code value for the number 6 key on the number pad (102).\n\t */\n\tpublic static NUMPAD_6:number /*uint*/ = 102;\n\n\t/**\n\t * Constant associated with the key code value for the number 7 key on the number pad (103).\n\t */\n\tpublic static NUMPAD_7:number /*uint*/ = 103;\n\n\t/**\n\t * Constant associated with the key code value for the number 8 key on the number pad (104).\n\t */\n\tpublic static NUMPAD_8:number /*uint*/ = 104;\n\n\t/**\n\t * Constant associated with the key code value for the number 9 key on the number pad (105).\n\t */\n\tpublic static NUMPAD_9:number /*uint*/ = 105;\n\n\t/**\n\t * Constant associated with the key code value for the addition key on the number pad (107).\n\t */\n\tpublic static NUMPAD_ADD:number /*uint*/ = 107;\n\n\t/**\n\t * Constant associated with the key code value for the decimal key on the number pad (110).\n\t */\n\tpublic static NUMPAD_DECIMAL:number /*uint*/ = 110;\n\n\t/**\n\t * Constant associated with the key code value for the division key on the number pad (111).\n\t */\n\tpublic static NUMPAD_DIVIDE:number /*uint*/ = 111;\n\n\t/**\n\t * Constant associated with the key code value for the Enter key on the number pad (108).\n\t */\n\tpublic static NUMPAD_ENTER:number /*uint*/ = 108;\n\n\t/**\n\t * Constant associated with the key code value for the multiplication key on the number pad (106).\n\t */\n\tpublic static NUMPAD_MULTIPLY:number /*uint*/ = 106;\n\n\t/**\n\t * Constant associated with the key code value for the subtraction key on the number pad (109).\n\t */\n\tpublic static NUMPAD_SUBTRACT:number /*uint*/ = 109;\n\n\t/**\n\t * Constant associated with the key code value for the O key (79).\n\t */\n\tpublic static O:number /*uint*/ = 79;\n\n\t/**\n\t * Constant associated with the key code value for the P key (80).\n\t */\n\tpublic static P:number /*uint*/ = 80;\n\n\t/**\n\t * Constant associated with the key code value for the Page Down key (34).\n\t */\n\tpublic static PAGE_DOWN:number /*uint*/ = 34;\n\n\t/**\n\t * Constant associated with the key code value for the Page Up key (33).\n\t */\n\tpublic static PAGE_UP:number /*uint*/ = 33;\n\n\t/**\n\t * Engage pause transport mode\n\t */\n\tpublic static PAUSE:number /*uint*/ = 0x01000008;\n\n\t/**\n\t * Constant associated with the key code value for the . key (190).\n\t */\n\tpublic static PERIOD:number /*uint*/ = 190;\n\n\t/**\n\t * Engage play transport mode\n\t */\n\tpublic static PLAY:number /*uint*/ = 0x01000007;\n\n\t/**\n\t * Skip to previous track or chapter\n\t */\n\tpublic static PREVIOUS:number /*uint*/ = 0x0100000F;\n\n\t/**\n\t * Constant associated with the key code value for the Q key (81).\n\t */\n\tpublic static Q:number /*uint*/ = 81;\n\n\t/**\n\t * Constant associated with the key code value for the ' key (222).\n\t */\n\tpublic static QUOTE:number /*uint*/ = 222;\n\n\t/**\n\t * Constant associated with the key code value for the R key (82).\n\t */\n\tpublic static R:number /*uint*/ = 82;\n\n\t/**\n\t * Record item or engage record transport mode\n\t */\n\tpublic static RECORD:number /*uint*/ = 0x01000006;\n\n\t/**\n\t * Red function key button\n\t */\n\tpublic static RED:number /*uint*/ = 0x01000000;\n\n\t/**\n\t * Engage rewind transport mode\n\t */\n\tpublic static REWIND:number /*uint*/ = 0x0100000B;\n\n\t/**\n\t * Constant associated with the key code value for the Right Arrow key (39).\n\t */\n\tpublic static RIGHT:number /*uint*/ = 39;\n\n\t/**\n\t * Constant associated with the key code value for the ] key (221).\n\t */\n\tpublic static RIGHTBRACKET:number /*uint*/ = 221;\n\n\t/**\n\t * Constant associated with the key code value for the S key (83).\n\t */\n\tpublic static S:number /*uint*/ = 83;\n\n\t/**\n\t * Search button\n\t */\n\tpublic static SEARCH:number /*uint*/ = 0x0100001F;\n\n\t/**\n\t * Constant associated with the key code value for the ; key (186).\n\t */\n\tpublic static SEMICOLON:number /*uint*/ = 186;\n\n\t/**\n\t * Engage setup application or menu\n\t */\n\tpublic static SETUP:number /*uint*/ = 0x0100001C;\n\n\t/**\n\t * Constant associated with the key code value for the Shift key (16).\n\t */\n\tpublic static SHIFT:number /*uint*/ = 16;\n\n\t/**\n\t * Quick skip backward (usually 7-10 seconds)\n\t */\n\tpublic static SKIP_BACKWARD:number /*uint*/ = 0x0100000D;\n\n\t/**\n\t * Quick skip ahead (usually 30 seconds)\n\t */\n\tpublic static SKIP_FORWARD:number /*uint*/ = 0x0100000C;\n\n\t/**\n\t * Constant associated with the key code value for the / key (191).\n\t */\n\tpublic static SLASH:number /*uint*/ = 191;\n\n\t/**\n\t * Constant associated with the key code value for the Spacebar (32).\n\t */\n\tpublic static SPACE:number /*uint*/ = 32;\n\n\t/**\n\t * Engage stop transport mode\n\t */\n\tpublic static STOP:number /*uint*/ = 0x01000009;\n\n\t/**\n\t * Toggle subtitles\n\t */\n\tpublic static SUBTITLE:number /*uint*/ = 0x01000018;\n\n\t/**\n\t * Constant associated with the key code value for the T key (84).\n\t */\n\tpublic static T:number /*uint*/ = 84;\n\n\t/**\n\t * Constant associated with the key code value for the Tab key (9).\n\t */\n\tpublic static TAB:number /*uint*/ = 9;\n\n\t/**\n\t * Constant associated with the key code value for the U key (85).\n\t */\n\tpublic static U:number /*uint*/ = 85;\n\n\t/**\n\t * Constant associated with the key code value for the Up Arrow key (38).\n\t */\n\tpublic static UP:number /*uint*/ = 38;\n\n\t/**\n\t * Constant associated with the key code value for the V key (86).\n\t */\n\tpublic static V:number /*uint*/ = 86;\n\n\t/**\n\t * Engage video-on-demand\n\t */\n\tpublic static VOD:number /*uint*/ = 0x0100001A;\n\n\t/**\n\t * Constant associated with the key code value for the W key (87).\n\t */\n\tpublic static W:number /*uint*/ = 87;\n\n\t/**\n\t * Constant associated with the key code value for the X key (88).\n\t */\n\tpublic static X:number /*uint*/ = 88;\n\n\t/**\n\t * Constant associated with the key code value for the Y key (89).\n\t */\n\tpublic static Y:number /*uint*/ = 89;\n\n\t/**\n\t * Yellow function key button\n\t */\n\tpublic static YELLOW:number /*uint*/ = 0x01000002;\n\n\t/**\n\t * Constant associated with the key code value for the Z key (90).\n\t */\n\tpublic static Z:number /*uint*/ = 90;\n\n}\n\nexport = Keyboard;",
    "import AbstractMethodError\t\t= require(\"awayjs-core/lib/errors/AbstractMethodError\");\n\nclass ByteArrayBase\n{\n\tpublic position:number = 0;\n\tpublic length:number = 0;\n\tpublic _mode:string = \"\";\n\n\tpublic static Base64Key = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n\n\tconstructor()\n\t{\n\t}\n\n\tpublic writeByte(b:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic readByte():number\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic writeUnsignedByte(b:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic readUnsignedByte():number\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic writeUnsignedShort(b:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic readUnsignedShort():number\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic writeUnsignedInt(b:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic readUnsignedInt():number\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic writeFloat(b:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic toFloatBits(x:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic readFloat(b:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic fromFloatBits(x:number)\n\t{\n\t\tthrow \"Virtual method\";\n\t}\n\n\tpublic getBytesAvailable():number\n\t{\n\t\tthrow new AbstractMethodError('ByteArrayBase, getBytesAvailable() not implemented ');\n\t}\n\n\tpublic toString():string\n\t{\n\t\treturn \"[ByteArray] ( \" + this._mode + \" ) position=\" + this.position + \" length=\" + this.length;\n\t}\n\n\tpublic compareEqual(other, count)\n\t{\n\t\tif (count == undefined || count > this.length - this.position)\n\t\t\tcount = this.length - this.position;\n\t\tif (count > other.length - other.position)\n\t\t\tcount = other.length - other.position;\n\t\tvar co0 = count;\n\t\tvar r = true;\n\t\twhile (r && count >= 4) {\n\t\t\tcount -= 4;\n\t\t\tif (this.readUnsignedInt() != other.readUnsignedInt()) r = false;\n\t\t}\n\t\twhile (r && count >= 1) {\n\t\t\tcount--;\n\t\t\tif (this.readUnsignedByte() != other.readUnsignedByte()) r = false;\n\t\t}\n\t\tvar c0;\n\t\tthis.position -= (c0 - count);\n\t\tother.position -= (c0 - count);\n\t\treturn r;\n\t}\n\n\tpublic writeBase64String(s:string)\n\t{\n\t\tfor (var i:number = 0; i < s.length; i++) {\n\t\t\tvar v = s.charAt(i);\n\t\t}\n\t}\n\n\tpublic dumpToConsole()\n\t{\n\t\tvar oldpos = this.position;\n\t\tthis.position = 0;\n\t\tvar nstep:number = 8;\n\n\t\tfunction asHexString(x, digits)\n\t\t{\n\t\t\tvar lut:Array<string> = [ \"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\" ];\n\t\t\tvar sh:string = \"\";\n\t\t\tfor (var d:number = 0; d < digits; d++) {\n\t\t\t\tsh = lut[(x >> (d << 2)) & 0xf] + sh;\n\t\t\t}\n\t\t\treturn sh;\n\t\t}\n\n\t\tfor (var i = 0; i < this.length; i += nstep) {\n\t\t\tvar s:string = asHexString(i, 4) + \":\";\n\t\t\tfor (var j:number = 0; j < nstep && i + j < this.length; j++) {\n\t\t\t\ts += \" \" + asHexString(this.readUnsignedByte(), 2);\n\t\t\t}\n\t\t\tconsole.log(s);\n\t\t}\n\t\tthis.position = oldpos;\n\t}\n\n\tpublic readBase64String(count:number)\n\t{\n\t\tif (count == undefined || count > this.length - this.position)\n\t\t\tcount = this.length - this.position;\n\t\tif (!(count > 0)) return \"\";\n\n\t\treturn ByteArrayBase.internalGetBase64String(count, this.readUnsignedByte, this);\n\t}\n\n\tpublic static internalGetBase64String(count, getUnsignedByteFunc, self)\n\t{ // return base64 string of the next count bytes\n\t\tvar r = \"\";\n\t\tvar b0, b1, b2, enc1, enc2, enc3, enc4;\n\t\tvar base64Key = ByteArrayBase.Base64Key;\n\t\twhile (count >= 3) {\n\t\t\tb0 = getUnsignedByteFunc.apply(self);\n\t\t\tb1 = getUnsignedByteFunc.apply(self);\n\t\t\tb2 = getUnsignedByteFunc.apply(self);\n\t\t\tenc1 = b0 >> 2;\n\t\t\tenc2 = ((b0 & 3) << 4) | (b1 >> 4);\n\t\t\tenc3 = ((b1 & 15) << 2) | (b2 >> 6);\n\t\t\tenc4 = b2 & 63;\n\t\t\tr += base64Key.charAt(enc1) + base64Key.charAt(enc2) + base64Key.charAt(enc3) + base64Key.charAt(enc4);\n\t\t\tcount -= 3;\n\t\t}\n\t\t// pad\n\t\tif (count == 2) {\n\t\t\tb0 = getUnsignedByteFunc.apply(self);\n\t\t\tb1 = getUnsignedByteFunc.apply(self);\n\t\t\tenc1 = b0 >> 2;\n\t\t\tenc2 = ((b0 & 3) << 4) | (b1 >> 4);\n\t\t\tenc3 = ((b1 & 15) << 2);\n\t\t\tr += base64Key.charAt(enc1) + base64Key.charAt(enc2) + base64Key.charAt(enc3) + \"=\";\n\t\t} else if (count == 1) {\n\t\t\tb0 = getUnsignedByteFunc.apply(self);\n\t\t\tenc1 = b0 >> 2;\n\t\t\tenc2 = ((b0 & 3) << 4);\n\t\t\tr += base64Key.charAt(enc1) + base64Key.charAt(enc2) + \"==\";\n\t\t}\n\t\treturn r;\n\t}\n}\n\nexport = ByteArrayBase;",
    "import ByteArrayBase\t\t\t= require(\"awayjs-core/lib/utils/ByteArrayBase\");\n\nclass ByteArrayBuffer extends ByteArrayBase\n{\n\n\t/*\n\t public maxlength:number = 0;\n\t public arraybytes; //ArrayBuffer\n\t public unalignedarraybytestemp; //ArrayBuffer\n\t */\n\n\tpublic _bytes:number[];\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis._bytes = [];\n\t\tthis._mode = \"Array\";\n\t}\n\n\tpublic writeByte(b:number)\n\t{\n\t\tvar bi:number = ~~b;\n\t\tthis._bytes[ this.position++ ] = bi;\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readByte():number\n\t{\n\t\tif (this.position >= this.length) {\n\t\t\tthrow \"ByteArray out of bounds read. Position=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\treturn this._bytes[ this.position++ ];\n\t}\n\n\tpublic writeUnsignedByte(b:number)\n\t{\n\t\tvar bi:number = ~~b;\n\t\tthis._bytes[this.position++] = bi & 0xff;\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readUnsignedByte():number\n\t{\n\t\tif (this.position >= this.length) {\n\t\t\tthrow \"ByteArray out of bounds read. Position=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\treturn this._bytes[ this.position++ ];\n\t}\n\n\tpublic writeUnsignedShort(b:number)\n\t{\n\t\tvar bi:number = ~~b;\n\t\tthis._bytes[ this.position++ ] = bi & 0xff;\n\t\tthis._bytes[ this.position++ ] = (bi >> 8) & 0xff;\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readUnsignedShort():number\n\t{\n\t\tif (this.position + 2 > this.length) {\n\t\t\tthrow \"ByteArray out of bounds read. Position=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\tvar r:number = this._bytes[ this.position ] | ( this._bytes[ this.position + 1 ] << 8 );\n\t\tthis.position += 2;\n\t\treturn r;\n\t}\n\n\tpublic writeUnsignedInt(b:number)\n\t{\n\t\tvar bi:number = ~~b;\n\t\tthis._bytes[ this.position++ ] = bi & 0xff;\n\t\tthis._bytes[ this.position++ ] = (bi >>> 8) & 0xff;\n\t\tthis._bytes[ this.position++ ] = (bi >>> 16) & 0xff;\n\t\tthis._bytes[ this.position++ ] = (bi >>> 24) & 0xff;\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readUnsignedInt():number\n\t{\n\t\tif (this.position + 4 > this.length) {\n\t\t\tthrow \"ByteArray out of bounds read. Position=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\tvar r:number = this._bytes[ this.position ] | ( this._bytes[this.position + 1] << 8 ) | ( this._bytes[this.position + 2] << 16 ) | ( this._bytes[this.position + 3] << 24 );\n\t\tthis.position += 4;\n\t\treturn r >>> 0;\n\t}\n\n\tpublic writeFloat(b:number)\n\t{\n\t\t// this is crazy slow and silly, but as a fallback...\n\n\t\tthis.writeUnsignedInt(this.toFloatBits(Number(b)));\n\t}\n\n\tpublic toFloatBits(x:number)\n\t{\n\t\t// don't handle inf/nan yet\n\t\t// special case zero\n\t\tif (x == 0) {\n\t\t\treturn 0;\n\t\t}\n\t\t// remove the sign, after this we only deal with positive numbers\n\t\tvar sign:number = 0;\n\t\tif (x < 0) {\n\t\t\tx = -x;\n\t\t\tsign = 1;\n\t\t} else {\n\t\t\tsign = 0;\n\t\t}\n\t\t// a float value is now defined as: x = (1+(mantissa*2^-23))*(2^(exponent-127))\n\t\tvar exponent:number = Math.log(x)/Math.log(2);  // rough exponent\n\t\texponent = Math.floor(exponent);\n\t\tx = x*Math.pow(2, 23 - exponent);             // normalize to 24 bits\n\t\tvar mantissa = Math.floor(x) - 0x800000;\n\t\texponent = exponent + 127;\n\t\treturn( ( sign << 31 ) >>> 0) | ( exponent << 23 ) | mantissa;\n\t}\n\n\tpublic readFloat(b:number)\n\t{\n\t\treturn this.fromFloatBits(this.readUnsignedInt());\n\t}\n\n\tpublic fromFloatBits(x:number)\n\t{\n\t\tif (x == 0) {\n\t\t\treturn 0;\n\t\t}\n\t\tvar exponent:number = ( x >>> 23 ) & 0xff;\n\t\tvar mantissa:number = ( x & 0x7fffff ) | 0x800000;\n\t\tvar y = Math.pow(2, ( exponent - 127 ) - 23)*mantissa;\n\t\tif (x >>> 31 != 0) {\n\t\t\ty = -y;\n\t\t}\n\t\treturn y;\n\t}\n\n\t/*\n\t public ensureWriteableSpace( n:number )\n\t {\n\t this.ensureSpace( n + this.position );\n\t }\n\n\t private ensureSpace( n:number )\n\t {\n\t if ( n > this.maxlength ) {\n\t var newmaxlength:number = (n+255)&(~255);\n\t var newarraybuffer = new ArrayBuffer(newmaxlength);\n\t var view = new Uint8Array(this.arraybytes, 0, this.length);\n\t var newview = new Uint8Array(newarraybuffer, 0, this.length);\n\t newview.set(view);      // memcpy\n\t this.arraybytes = newarraybuffer;\n\t this.maxlength = newmaxlength;\n\t }\n\t }\n\t */\n}\n\nexport = ByteArrayBuffer;",
    "import ByteArrayBase\t\t\t= require(\"awayjs-core/lib/utils/ByteArrayBase\");\n\nclass ByteArray extends ByteArrayBase\n{\n\tpublic maxlength:number = 0;\n\tpublic arraybytes; //ArrayBuffer\n\tpublic unalignedarraybytestemp; //ArrayBuffer\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis._mode = \"Typed array\";\n\t\tthis.maxlength = 4;\n\t\tthis.arraybytes = new ArrayBuffer(this.maxlength);\n\t\tthis.unalignedarraybytestemp = new ArrayBuffer(16);\n\t}\n\n\tpublic ensureWriteableSpace(n:number)\n\t{\n\t\tthis.ensureSpace(n + this.position);\n\t}\n\n\tpublic setArrayBuffer(aBuffer:ArrayBuffer):void\n\t{\n\n\t\tthis.ensureSpace(aBuffer.byteLength);\n\n\t\tthis.length = aBuffer.byteLength;\n\n\t\tvar inInt8AView:Int8Array = new Int8Array(aBuffer);\n\t\tvar localInt8View:Int8Array = new Int8Array(this.arraybytes, 0, this.length);\n\n\t\tlocalInt8View.set(inInt8AView);\n\n\t\tthis.position = 0;\n\n\t}\n\n\tpublic getBytesAvailable():number\n\t{\n\t\treturn ( this.length ) - ( this.position );\n\t}\n\n\tpublic ensureSpace(n:number)\n\t{\n\t\tif (n > this.maxlength) {\n\t\t\tvar newmaxlength:number = (n + 255) & (~255);\n\t\t\tvar newarraybuffer = new ArrayBuffer(newmaxlength);\n\t\t\tvar view = new Uint8Array(this.arraybytes, 0, this.length);\n\t\t\tvar newview = new Uint8Array(newarraybuffer, 0, this.length);\n\t\t\tnewview.set(view);      // memcpy\n\t\t\tthis.arraybytes = newarraybuffer;\n\t\t\tthis.maxlength = newmaxlength;\n\t\t}\n\t}\n\n\tpublic writeByte(b:number)\n\t{\n\t\tthis.ensureWriteableSpace(1);\n\t\tvar view = new Int8Array(this.arraybytes);\n\t\tview[ this.position++ ] = (~~b); // ~~ is cast to int in js...\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readByte()\n\t{\n\t\tif (this.position >= this.length) {\n\t\t\tthrow \"ByteArray out of bounds read. Positon=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\tvar view = new Int8Array(this.arraybytes);\n\n\t\treturn view[ this.position++ ];\n\t}\n\n\tpublic readBytes(bytes:ByteArray, offset:number = 0, length:number = 0)\n\t{\n\n\t\tif (length == null) {\n\t\t\tlength = bytes.length;\n\t\t}\n\n\t\tbytes.ensureWriteableSpace(offset + length);\n\n\t\tvar byteView:Int8Array = new Int8Array(bytes.arraybytes);\n\t\tvar localByteView:Int8Array = new Int8Array(this.arraybytes);\n\n\t\tbyteView.set(localByteView.subarray(this.position, this.position + length), offset);\n\n\t\tthis.position += length;\n\n\t\tif (length + offset > bytes.length) {\n\t\t\tbytes.length += ( length + offset ) - bytes.length;\n\t\t}\n\n\t}\n\n\tpublic writeUnsignedByte(b:number)\n\t{\n\t\tthis.ensureWriteableSpace(1);\n\t\tvar view = new Uint8Array(this.arraybytes);\n\t\tview[this.position++] = (~~b) & 0xff; // ~~ is cast to int in js...\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readUnsignedByte()\n\t{\n\t\tif (this.position >= this.length) {\n\t\t\tthrow \"ByteArray out of bounds read. Positon=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\tvar view = new Uint8Array(this.arraybytes);\n\t\treturn view[this.position++];\n\t}\n\n\tpublic writeUnsignedShort(b:number)\n\t{\n\t\tthis.ensureWriteableSpace(2);\n\t\tif (( this.position & 1 ) == 0) {\n\t\t\tvar view = new Uint16Array(this.arraybytes);\n\t\t\tview[ this.position >> 1 ] = (~~b) & 0xffff; // ~~ is cast to int in js...\n\t\t} else {\n\t\t\tvar view = new Uint16Array(this.unalignedarraybytestemp, 0, 1);\n\t\t\tview[0] = (~~b) & 0xffff;\n\t\t\tvar view2 = new Uint8Array(this.arraybytes, this.position, 2);\n\t\t\tvar view3 = new Uint8Array(this.unalignedarraybytestemp, 0, 2);\n\t\t\tview2.set(view3);\n\t\t}\n\t\tthis.position += 2;\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readUTFBytes(len:number):string\n\t{\n\n\t\tvar value:string = \"\";\n\t\tvar max:number = this.position + len;\n\t\tvar data:DataView = new DataView(this.arraybytes);\n\n\t\t// utf8-encode\n\t\twhile (this.position < max) {\n\n\t\t\tvar c:number = data.getUint8(this.position++);\n\n\t\t\tif (c < 0x80) {\n\n\t\t\t\tif (c == 0) break;\n\t\t\t\tvalue += String.fromCharCode(c);\n\n\t\t\t} else if (c < 0xE0) {\n\n\t\t\t\tvalue += String.fromCharCode(((c & 0x3F) << 6) | (data.getUint8(this.position++) & 0x7F));\n\n\t\t\t} else if (c < 0xF0) {\n\n\t\t\t\tvar c2 = data.getUint8(this.position++);\n\t\t\t\tvalue += String.fromCharCode(((c & 0x1F) << 12) | ((c2 & 0x7F) << 6) | (data.getUint8(this.position++) & 0x7F));\n\n\t\t\t} else {\n\n\t\t\t\tvar c2 = data.getUint8(this.position++);\n\t\t\t\tvar c3 = data.getUint8(this.position++);\n\n\t\t\t\tvalue += String.fromCharCode(((c & 0x0F) << 18) | ((c2 & 0x7F) << 12) | ((c3 << 6) & 0x7F) | (data.getUint8(this.position++) & 0x7F));\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn value;\n\n\t}\n\n\tpublic readInt():number\n\t{\n\n\t\tvar data:DataView = new DataView(this.arraybytes);\n\t\tvar int:number = data.getInt32(this.position, true);\n\n\t\tthis.position += 4;\n\n\t\treturn int;\n\n\t}\n\n\tpublic readShort():number\n\t{\n\n\t\tvar data:DataView = new DataView(this.arraybytes);\n\t\tvar short:number = data.getInt16(this.position, true);\n\n\t\tthis.position += 2;\n\t\treturn short;\n\n\t}\n\n\tpublic readDouble():number\n\t{\n\t\tvar data:DataView = new DataView(this.arraybytes);\n\t\tvar double:number = data.getFloat64(this.position, true);\n\n\t\tthis.position += 8;\n\t\treturn double;\n\n\t}\n\n\tpublic readUnsignedShort()\n\t{\n\t\tif (this.position > this.length + 2) {\n\t\t\tthrow \"ByteArray out of bounds read. Position=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\tif (( this.position & 1 ) == 0) {\n\t\t\tvar view = new Uint16Array(this.arraybytes);\n\t\t\tvar pa:number = this.position >> 1;\n\t\t\tthis.position += 2;\n\t\t\treturn view[ pa ];\n\t\t} else {\n\t\t\tvar view = new Uint16Array(this.unalignedarraybytestemp, 0, 1);\n\t\t\tvar view2 = new Uint8Array(this.arraybytes, this.position, 2);\n\t\t\tvar view3 = new Uint8Array(this.unalignedarraybytestemp, 0, 2);\n\t\t\tview3.set(view2);\n\t\t\tthis.position += 2;\n\t\t\treturn view[0];\n\t\t}\n\t}\n\n\tpublic writeUnsignedInt(b:number)\n\t{\n\t\tthis.ensureWriteableSpace(4);\n\t\tif (( this.position & 3 ) == 0) {\n\t\t\tvar view = new Uint32Array(this.arraybytes);\n\t\t\tview[ this.position >> 2 ] = (~~b) & 0xffffffff; // ~~ is cast to int in js...\n\t\t} else {\n\t\t\tvar view = new Uint32Array(this.unalignedarraybytestemp, 0, 1);\n\t\t\tview[0] = (~~b) & 0xffffffff;\n\t\t\tvar view2 = new Uint8Array(this.arraybytes, this.position, 4);\n\t\t\tvar view3 = new Uint8Array(this.unalignedarraybytestemp, 0, 4);\n\t\t\tview2.set(view3);\n\t\t}\n\t\tthis.position += 4;\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readUnsignedInt()\n\t{\n\n\t\tif (this.position > this.length + 4) {\n\t\t\tthrow \"ByteArray out of bounds read. Position=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\tif (( this.position & 3 ) == 0) {\n\t\t\tvar view = new Uint32Array(this.arraybytes);\n\t\t\tvar pa:number = this.position >> 2;\n\t\t\tthis.position += 4;\n\t\t\treturn view[ pa ];\n\t\t} else {\n\t\t\tvar view = new Uint32Array(this.unalignedarraybytestemp, 0, 1);\n\t\t\tvar view2 = new Uint8Array(this.arraybytes, this.position, 4);\n\t\t\tvar view3 = new Uint8Array(this.unalignedarraybytestemp, 0, 4);\n\t\t\tview3.set(view2);\n\t\t\tthis.position += 4;\n\t\t\treturn view[0];\n\t\t}\n\t}\n\n\tpublic writeFloat(b:number)\n\t{\n\t\tthis.ensureWriteableSpace(4);\n\t\tif (( this.position & 3 ) == 0) {\n\t\t\tvar view = new Float32Array(this.arraybytes);\n\t\t\tview[ this.position >> 2 ] = b;\n\t\t} else {\n\t\t\tvar view = new Float32Array(this.unalignedarraybytestemp, 0, 1);\n\t\t\tview[0] = b;\n\t\t\tvar view2 = new Uint8Array(this.arraybytes, this.position, 4);\n\t\t\tvar view3 = new Uint8Array(this.unalignedarraybytestemp, 0, 4);\n\t\t\tview2.set(view3);\n\t\t}\n\t\tthis.position += 4;\n\t\tif (this.position > this.length) {\n\t\t\tthis.length = this.position;\n\t\t}\n\t}\n\n\tpublic readFloat()\n\t{\n\t\tif (this.position > this.length + 4) {\n\t\t\tthrow \"ByteArray out of bounds read. Positon=\" + this.position + \", Length=\" + this.length;\n\t\t}\n\t\tif ((this.position & 3) == 0) {\n\t\t\tvar view = new Float32Array(this.arraybytes);\n\t\t\tvar pa = this.position >> 2;\n\t\t\tthis.position += 4;\n\t\t\treturn view[pa];\n\t\t} else {\n\t\t\tvar view = new Float32Array(this.unalignedarraybytestemp, 0, 1);\n\t\t\tvar view2 = new Uint8Array(this.arraybytes, this.position, 4);\n\t\t\tvar view3 = new Uint8Array(this.unalignedarraybytestemp, 0, 4);\n\t\t\tview3.set(view2);\n\t\t\tthis.position += 4;\n\t\t\treturn view[ 0 ];\n\t\t}\n\t}\n}\n\nexport = ByteArray;",
    "class CSS\n{\n\tpublic static setElementSize(element:HTMLElement, width:number, height:number)\n\t{\n\t\telement.style.width = width + \"px\";\n\t\telement.style.height = height + \"px\";\n\t\telement[\"width\"] = width;\n\t\telement[\"height\"] = height;\n\t}\n\n\tpublic static setElementWidth(element:HTMLElement, width:number)\n\t{\n\t\telement.style.width = width + \"px\";\n\t\telement[\"width\"] = width;\n\t}\n\n\tpublic static setElementHeight(element:HTMLElement, height:number)\n\t{\n\t\telement.style.height = height + \"px\";\n\t\telement[\"height\"] = height;\n\t}\n\n\tpublic static setElementX(element:HTMLElement, x:number)\n\t{\n\t\telement.style.position = 'absolute';\n\t\telement.style.left = x + \"px\";\n\t}\n\n\tpublic static setElementY(element:HTMLElement, y:number)\n\t{\n\t\telement.style.position = 'absolute';\n\t\telement.style.top = y + \"px\";\n\t}\n\n\tpublic static getElementVisibility(element:HTMLElement):boolean\n\t{\n\t\treturn element.style.visibility == 'visible';\n\t}\n\n\tpublic static setElementVisibility(element:HTMLElement, visible:boolean)\n\t{\n\t\tif (visible) {\n\t\t\telement.style.visibility = 'visible';\n\t\t} else {\n\t\t\telement.style.visibility = 'hidden';\n\t\t}\n\t}\n\n\tpublic static setElementAlpha(element:HTMLElement, alpha:number)\n\t{\n\t\tif (element instanceof HTMLCanvasElement) {\n\t\t\tvar context = (<HTMLCanvasElement> element).getContext(\"2d\");\n\t\t\tcontext.globalAlpha = alpha;\n\t\t}\n\t}\n\n\tpublic static setElementPosition(element:HTMLElement, x:number, y:number, absolute:boolean = false)\n\t{\n\t\tif (absolute) {\n\t\t\telement.style.position = \"absolute\";\n\t\t} else {\n\t\t\telement.style.position = \"relative\";\n\t\t}\n\n\t\telement.style.left = x + \"px\";\n\t\telement.style.top = y + \"px\";\n\t}\n}\n\nexport = CSS;",
    "/**\n *\n */\nclass ColorUtils\n{\n\tpublic static float32ColorToARGB(float32Color:number):number[]\n\t{\n\t\tvar a:number = ( float32Color & 0xff000000 ) >>> 24\n\t\tvar r:number = ( float32Color & 0xff0000 ) >>> 16;\n\t\tvar g:number = ( float32Color & 0xff00 ) >>> 8;\n\t\tvar b:number = float32Color & 0xff;\n\t\tvar result:number[] = [ a, r , g , b ];\n\n\t\treturn result;\n\t}\n\n\tprivate static componentToHex(c:number):string\n\t{\n\t\tvar hex = c.toString(16);\n\t\treturn hex.length == 1? \"0\" + hex : hex;\n\t}\n\n\tpublic static RGBToHexString(argb:number[]):string\n\t{\n\t\treturn \"#\" + ColorUtils.componentToHex(argb[1]) + ColorUtils.componentToHex(argb[2]) + ColorUtils.componentToHex(argb[3]);\n\t}\n\n\tpublic static ARGBToHexString(argb:number[]):string\n\t{\n\t\treturn \"#\" + ColorUtils.componentToHex(argb[0]) + ColorUtils.componentToHex(argb[1]) + ColorUtils.componentToHex(argb[2]) + ColorUtils.componentToHex(argb[3]);\n\t}\n}\n\nexport = ColorUtils;",
    "import PartialImplementationError\t= require(\"awayjs-core/lib/errors/PartialImplementationError\");\n\n/**\n *\n */\nclass Debug\n{\n\tpublic static THROW_ERRORS:boolean = true;\n\tpublic static ENABLE_LOG:boolean = true;\n\tpublic static LOG_PI_ERRORS:boolean = true;\n\n\tprivate static keyword:string = null;\n\n\tpublic static breakpoint():void\n\t{\n\t\tDebug['break']();\n\t}\n\n\tpublic static throwPIROnKeyWordOnly(str:string, enable:boolean = true)\n\t{\n\t\tif (!enable)\n\t\t\tDebug.keyword = null;\n\t\telse\n\t\t\tDebug.keyword = str;\n\t}\n\n\tpublic static throwPIR(clss:string, fnc:string, msg:string)\n\t{\n\t\tDebug.logPIR('PartialImplementationError ' + clss, fnc, msg);\n\n\t\tif (Debug.THROW_ERRORS) {\n\t\t\tif (Debug.keyword) {\n\t\t\t\tvar e:string = clss + fnc + msg;\n\n\t\t\t\tif (e.indexOf(Debug.keyword) == -1)\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthrow new PartialImplementationError(clss + '.' + fnc + ': ' + msg);\n\t\t}\n\t}\n\n\tprivate static logPIR(clss:string, fnc:string, msg:string = '')\n\t{\n\t\tif (Debug.LOG_PI_ERRORS)\n\t\t\tconsole.log(clss + '.' + fnc + ': ' + msg);\n\t}\n\n\tpublic static log(...args:any[])\n\t{\n\t\tif (Debug.ENABLE_LOG)\n\t\t\tconsole.log(args);\n\t}\n}\n\nexport = Debug;",
    "import getTimer\t\t\t\t\t= require(\"awayjs-core/lib/utils/getTimer\");\n\nclass RequestAnimationFrame\n{\n\tprivate _callback:Function;\n\tprivate _callbackContext:Object;\n\tprivate _active:boolean = false;\n\tprivate _rafUpdateFunction:any;\n\tprivate _prevTime:number;\n\tprivate _dt:number;\n\tprivate _currentTime:number;\n\tprivate _argsArray:Array<any> = new Array();\n\tprivate _getTimer:Function;\n\n\tconstructor(callback:Function, callbackContext:Object)\n\t{\n\t\tthis._getTimer = getTimer;\n\n\t\tthis.setCallback(callback, callbackContext);\n\n\t\tthis._rafUpdateFunction = () => {\n\t\t\tif (this._active)\n\t\t\t\tthis._tick();\n\t\t}\n\n\t\tthis._argsArray.push(this._dt);\n\t}\n\n\t// Public\n\n\t/**\n\t *\n\t * @param callback\n\t * @param callbackContext\n\t */\n\tpublic setCallback(callback:Function, callbackContext:Object)\n\t{\n\t\tthis._callback = callback;\n\t\tthis._callbackContext = callbackContext;\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic start()\n\t{\n\t\tthis._prevTime = this._getTimer();\n\t\tthis._active = true;\n\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(this._rafUpdateFunction);\n\t\t} else {\n\t\t\tif (window['mozRequestAnimationFrame'])\n\t\t\t\twindow.requestAnimationFrame = window['mozRequestAnimationFrame'];\n\t\t\telse if (window['webkitRequestAnimationFrame'])\n\t\t\t\twindow.requestAnimationFrame = window['webkitRequestAnimationFrame'];\n\t\t\telse if (window['oRequestAnimationFrame'])\n\t\t\t\twindow.requestAnimationFrame = window['oRequestAnimationFrame'];\n\t\t}\n\t}\n\n\t/**\n\t *\n\t */\n\tpublic stop()\n\t{\n\t\tthis._active = false;\n\t}\n\n\t// Get / Set\n\n\t/**\n\t *\n\t * @returns {boolean}\n\t */\n\tpublic get active():boolean\n\t{\n\t\treturn this._active;\n\t}\n\n\t// Private\n\n\t/**\n\t *\n\t * @private\n\t */\n\tprivate _tick():void\n\t{\n\t\tthis._currentTime = this._getTimer();\n\t\tthis._dt = this._currentTime - this._prevTime;\n\t\tthis._argsArray[0] = this._dt;\n\t\tthis._callback.apply(this._callbackContext, this._argsArray);\n\n\t\twindow.requestAnimationFrame(this._rafUpdateFunction);\n\n\t\tthis._prevTime = this._currentTime;\n\t}\n\n\n}\n\nexport = RequestAnimationFrame;",
    "import BitmapData\t\t\t\t= require(\"awayjs-core/lib/data/BitmapData\");\n\nclass TextureUtils\n{\n\tprivate static MAX_SIZE:number = 2048;\n\n\tpublic static isBitmapDataValid(bitmapData:BitmapData):boolean\n\t{\n\t\tif (bitmapData == null)\n\t\t\treturn true;\n\n\t\treturn TextureUtils.isDimensionValid(bitmapData.width) && TextureUtils.isDimensionValid(bitmapData.height);\n\t}\n\n\tpublic static isHTMLImageElementValid(image:HTMLImageElement):boolean\n\t{\n\t\tif (image == null)\n\t\t\treturn true;\n\n\t\treturn TextureUtils.isDimensionValid(image.width) && TextureUtils.isDimensionValid(image.height);\n\t}\n\n\tpublic static isDimensionValid(d:number):boolean\n\t{\n\t\treturn d >= 1 && d <= TextureUtils.MAX_SIZE && TextureUtils.isPowerOfTwo(d);\n\t}\n\n\tpublic static isPowerOfTwo(value:number):boolean\n\t{\n\t\treturn value? ((value & -value) == value) : false;\n\t}\n\n\tpublic static getBestPowerOf2(value:number):number\n\t{\n\t\tvar p:number = 1;\n\n\t\twhile (p < value)\n\t\t\tp <<= 1;\n\n\t\tif (p > TextureUtils.MAX_SIZE)\n\t\t\tp = TextureUtils.MAX_SIZE;\n\n\t\treturn p;\n\t}\n}\n\nexport = TextureUtils",
    "import Error\t\t\t\t\t= require(\"awayjs-core/lib/errors/Error\");\nimport EventDispatcher\t\t\t= require(\"awayjs-core/lib/events/EventDispatcher\");\nimport TimerEvent\t\t\t\t= require(\"awayjs-core/lib/events/TimerEvent\");\n\nclass Timer extends EventDispatcher\n{\n\tprivate _delay:number;\n\tprivate _repeatCount:number = 0;\n\tprivate _currentCount:number = 0;\n\tprivate _iid:number;\n\tprivate _running:boolean = false;\n\n\tconstructor(delay:number, repeatCount:number = 0)\n\t{\n\t\tsuper();\n\n\t\tthis._delay = delay;\n\t\tthis._repeatCount = repeatCount;\n\n\t\tif (isNaN(delay) || delay < 0)\n\t\t\tthrow new Error(\"Delay is negative or not a number\");\n\t}\n\n\tpublic get currentCount():number\n\t{\n\t\treturn this._currentCount;\n\t}\n\n\tpublic get delay():number\n\t{\n\t\treturn this._delay;\n\t}\n\n\tpublic set delay(value:number)\n\t{\n\t\tthis._delay = value;\n\n\t\tif (this._running) {\n\t\t\tthis.stop();\n\t\t\tthis.start();\n\t\t}\n\t}\n\n\tpublic get repeatCount():number\n\t{\n\t\treturn this._repeatCount;\n\t}\n\n\tpublic set repeatCount(value:number)\n\t{\n\t\tthis._repeatCount = value;\n\t}\n\n\tpublic reset():void\n\t{\n\t\tif (this._running)\n\t\t\tthis.stop();\n\n\t\tthis._currentCount = 0;\n\t}\n\n\tpublic get running():boolean\n\t{\n\t\treturn this._running;\n\t}\n\n\tpublic start():void\n\t{\n\t\tthis._running = true;\n\t\tclearInterval(this._iid);\n\t\tthis._iid = setInterval(() => this.tick(), this._delay);\n\t}\n\n\tpublic stop():void\n\t{\n\t\tthis._running = false;\n\t\tclearInterval(this._iid);\n\t}\n\n\tprivate tick():void\n\t{\n\t\tthis._currentCount++;\n\n\t\tif (( this._repeatCount > 0 ) && this._currentCount >= this._repeatCount) {\n\n\t\t\tthis.stop();\n\t\t\tthis.dispatchEvent(new TimerEvent(TimerEvent.TIMER));\n\t\t\tthis.dispatchEvent(new TimerEvent(TimerEvent.TIMER_COMPLETE));\n\n\t\t} else {\n\t\t\tthis.dispatchEvent(new TimerEvent(TimerEvent.TIMER));\n\t\t}\n\t}\n}\n\nexport = Timer;",
    "/**\n *\n *\n * @returns {number}\n */\nfunction getTimer():number\n{\n\t// number milliseconds of 1970/01/01\n\t// this different to AS3 implementation which gets the number of milliseconds\n\t// since instance of Flash player was initialised\n\treturn Date.now();\n}\n\nexport = getTimer;"
  ],
  "sourceRoot": ""
}